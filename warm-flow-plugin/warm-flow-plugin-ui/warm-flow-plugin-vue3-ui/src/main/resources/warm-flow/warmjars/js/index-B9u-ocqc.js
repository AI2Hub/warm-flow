var p2=Object.defineProperty;var d2=(r,a,u)=>a in r?p2(r,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[a]=u;var Np=(r,a,u)=>(d2(r,typeof a!="symbol"?a+"":a,u),u);import{i as qa,b as Yi,t as on,W as AO,a as wi,c as Gp,d as Ja,r as il,n as fx,e as gi,f as xi,g as Cn,s as h2,h as qi,j as t0,k as y2,l as Vp,m as bi,o as Hp,p as px,q as Ku,u as Xp,v as Co,w as dx,x as Za,y as hx,z as qu,A as Ju,B as Cy,C as pn,D as Yp,E as Uc,F as Rn,G as Ka,H as No,I as al,J as Kp,K as Ei,L as vr,M as en,N as ul,O as v2,P as Wc,Q as yx,R as _a,S as vx,T as gx,U as Rb,V as Mr,X as g2,Y as m2,Z as qp,_ as mx,$ as sl,a0 as bx,a1 as Qa,a2 as _x,a3 as n0,a4 as b2,a5 as $c,a6 as _2,a7 as Vu,a8 as Jp,a9 as Ox,aa as Ry,ab as Iy,ac as Lc,ad as r0,ae as o0,af as wx,ag as xx,ah as O2,ai as Ex,aj as Sx,ak as w2,al as jx,am as x2,an as E2,ao as S2,ap as j2,aq as my,ar as A2,as as Ax,at as P2,au as M2,av as Px,aw as Mx,ax as i0,ay as Tx,az as T2,aA as k2,aB as N2,aC as D2,aD as ol,aE as C2,aF as R2,aG as I2,aH as L2,aI as B2,aJ as z2,aK as F2,aL as U2,aM as W2,aN as $2,aO as G2,aP as V2,aQ as H2,aR as X2,aS as Y2,aT as K2,aU as q2,aV as J2,aW as Z2,aX as Q2,aY as eT,aZ as tT,a_ as nT,a$ as rT,b0 as oT,b1 as kx,b2 as Mn,b3 as hr,b4 as Wt,b5 as Ln,b6 as mi,b7 as Le,b8 as pt,b9 as Jn,ba as Te,bb as Hu,bc as eu,bd as iT,be as fb,bf as aT,bg as uT,bh as Ly,bi as Nx,bj as sT,bk as lT,bl as Xu,bm as pb,bn as PO,bo as ba,bp as MO,bq as Dx,br as By,bs as uo,bt as TO,bu as qr,bv as Cx,bw as cT,bx as fT,by as kO,bz as Rx,bA as Ix,bB as Lx,bC as pT,bD as dT}from"./index-BNXtZmpI.js";var hT=NaN;function NO(r){return typeof r=="number"?r:qa(r)?hT:+r}function zy(r,a){return function(u,l){var o;if(u===void 0&&l===void 0)return a;if(u!==void 0&&(o=u),l!==void 0){if(o===void 0)return l;typeof u=="string"||typeof l=="string"?(u=Yi(u),l=Yi(l)):(u=NO(u),l=NO(l)),o=r(u,l)}return o}}var yT=zy(function(r,a){return r+a},0),vT="Expected a function";function gT(r,a){if(typeof a!="function")throw new TypeError(vT);return r=on(r),function(){if(--r<1)return a.apply(this,arguments)}}var by=AO&&new AO,Bx=by?function(r,a){return by.set(r,a),r}:wi;function $p(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=Gp(r.prototype),l=r.apply(u,a);return Ja(l)?l:u}}var mT=1;function bT(r,a,u){var l=a&mT,o=$p(r);function d(){var h=this&&this!==il&&this instanceof d?o:r;return h.apply(l?u:this,arguments)}return d}var _T=Math.max;function zx(r,a,u,l){for(var o=-1,d=r.length,h=u.length,m=-1,v=a.length,x=_T(d-h,0),S=Array(v+x),j=!l;++m<v;)S[m]=a[m];for(;++o<h;)(j||o<d)&&(S[u[o]]=r[o]);for(;x--;)S[m++]=r[o++];return S}var OT=Math.max;function Fx(r,a,u,l){for(var o=-1,d=r.length,h=-1,m=u.length,v=-1,x=a.length,S=OT(d-m,0),j=Array(S+x),A=!l;++o<S;)j[o]=r[o];for(var M=o;++v<x;)j[M+v]=a[v];for(;++h<m;)(A||o<d)&&(j[M+u[h]]=r[o++]);return j}function wT(r,a){for(var u=r.length,l=0;u--;)r[u]===a&&++l;return l}function Fy(){}var xT=4294967295;function vn(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xT,this.__views__=[]}vn.prototype=Gp(Fy.prototype);vn.prototype.constructor=vn;var a0=by?function(r){return by.get(r)}:fx,Cc={},ET=Object.prototype,ST=ET.hasOwnProperty;function py(r){for(var a=r.name+"",u=Cc[a],l=ST.call(Cc,a)?u.length:0;l--;){var o=u[l],d=o.func;if(d==null||d==r)return o.name}return a}function _i(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}_i.prototype=Gp(Fy.prototype);_i.prototype.constructor=_i;function Ux(r){if(r instanceof vn)return r.clone();var a=new _i(r.__wrapped__,r.__chain__);return a.__actions__=gi(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}var jT=Object.prototype,AT=jT.hasOwnProperty;function W(r){if(xi(r)&&!Cn(r)&&!(r instanceof vn)){if(r instanceof _i)return r;if(AT.call(r,"__wrapped__"))return Ux(r)}return new _i(r)}W.prototype=Fy.prototype;W.prototype.constructor=W;function Ib(r){var a=py(r),u=W[a];if(typeof u!="function"||!(a in vn.prototype))return!1;if(r===u)return!0;var l=a0(u);return!!l&&r===l[0]}var Wx=h2(Bx),PT=/\{\n\/\* \[wrapped with (.+)\] \*/,MT=/,? & /;function TT(r){var a=r.match(PT);return a?a[1].split(MT):[]}var kT=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function NT(r,a){var u=a.length;if(!u)return r;var l=u-1;return a[l]=(u>1?"& ":"")+a[l],a=a.join(u>2?", ":" "),r.replace(kT,`{
/* [wrapped with `+a+`] */
`)}var DT=1,CT=2,RT=8,IT=16,LT=32,BT=64,zT=128,FT=256,UT=512,WT=[["ary",zT],["bind",DT],["bindKey",CT],["curry",RT],["curryRight",IT],["flip",UT],["partial",LT],["partialRight",BT],["rearg",FT]];function $T(r,a){return qi(WT,function(u){var l="_."+u[0];a&u[1]&&!t0(r,l)&&r.push(l)}),r.sort()}function $x(r,a,u){var l=a+"";return y2(r,NT(l,$T(TT(l),u)))}var GT=1,VT=2,HT=4,XT=8,DO=32,CO=64;function Gx(r,a,u,l,o,d,h,m,v,x){var S=a&XT,j=S?h:void 0,A=S?void 0:h,M=S?d:void 0,D=S?void 0:d;a|=S?DO:CO,a&=~(S?CO:DO),a&HT||(a&=~(GT|VT));var N=[r,a,o,M,j,D,A,m,v,x],I=u.apply(void 0,N);return Ib(r)&&Wx(I,N),I.placeholder=l,$x(I,r,a)}function Gc(r){var a=r;return a.placeholder}var YT=Math.min;function KT(r,a){for(var u=r.length,l=YT(a.length,u),o=gi(r);l--;){var d=a[l];r[l]=Vp(d,u)?o[d]:void 0}return r}var RO="__lodash_placeholder__";function Yu(r,a){for(var u=-1,l=r.length,o=0,d=[];++u<l;){var h=r[u];(h===a||h===RO)&&(r[u]=RO,d[o++]=u)}return d}var qT=1,JT=2,ZT=8,QT=16,ek=128,tk=512;function Uy(r,a,u,l,o,d,h,m,v,x){var S=a&ek,j=a&qT,A=a&JT,M=a&(ZT|QT),D=a&tk,N=A?void 0:$p(r);function I(){for(var U=arguments.length,$=Array(U),q=U;q--;)$[q]=arguments[q];if(M)var oe=Gc(I),J=wT($,oe);if(l&&($=zx($,l,o,M)),d&&($=Fx($,d,h,M)),U-=J,M&&U<x){var Q=Yu($,oe);return Gx(r,a,Uy,I.placeholder,u,$,Q,m,v,x-U)}var ee=j?u:this,G=A?ee[r]:r;return U=$.length,m?$=KT($,m):D&&U>1&&$.reverse(),S&&v<U&&($.length=v),this&&this!==il&&this instanceof I&&(G=N||$p(G)),G.apply(ee,$)}return I}function nk(r,a,u){var l=$p(r);function o(){for(var d=arguments.length,h=Array(d),m=d,v=Gc(o);m--;)h[m]=arguments[m];var x=d<3&&h[0]!==v&&h[d-1]!==v?[]:Yu(h,v);if(d-=x.length,d<u)return Gx(r,a,Uy,o.placeholder,void 0,h,x,void 0,void 0,u-d);var S=this&&this!==il&&this instanceof o?l:r;return bi(S,this,h)}return o}var rk=1;function ok(r,a,u,l){var o=a&rk,d=$p(r);function h(){for(var m=-1,v=arguments.length,x=-1,S=l.length,j=Array(S+v),A=this&&this!==il&&this instanceof h?d:r;++x<S;)j[x]=l[x];for(;v--;)j[x++]=arguments[++m];return bi(A,o?u:this,j)}return h}var IO="__lodash_placeholder__",db=1,ik=2,ak=4,LO=8,Dp=128,BO=256,uk=Math.min;function sk(r,a){var u=r[1],l=a[1],o=u|l,d=o<(db|ik|Dp),h=l==Dp&&u==LO||l==Dp&&u==BO&&r[7].length<=a[8]||l==(Dp|BO)&&a[7].length<=a[8]&&u==LO;if(!(d||h))return r;l&db&&(r[2]=a[2],o|=u&db?0:ak);var m=a[3];if(m){var v=r[3];r[3]=v?zx(v,m,a[4]):m,r[4]=v?Yu(r[3],IO):a[4]}return m=a[5],m&&(v=r[5],r[5]=v?Fx(v,m,a[6]):m,r[6]=v?Yu(r[5],IO):a[6]),m=a[7],m&&(r[7]=m),l&Dp&&(r[8]=r[8]==null?a[8]:uk(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=o,r}var lk="Expected a function",zO=1,ck=2,hb=8,yb=16,vb=32,FO=64,UO=Math.max;function tu(r,a,u,l,o,d,h,m){var v=a&ck;if(!v&&typeof r!="function")throw new TypeError(lk);var x=l?l.length:0;if(x||(a&=~(vb|FO),l=o=void 0),h=h===void 0?h:UO(on(h),0),m=m===void 0?m:on(m),x-=o?o.length:0,a&FO){var S=l,j=o;l=o=void 0}var A=v?void 0:a0(r),M=[r,a,u,l,o,S,j,d,h,m];if(A&&sk(M,A),r=M[0],a=M[1],u=M[2],l=M[3],o=M[4],m=M[9]=M[9]===void 0?v?0:r.length:UO(M[9]-x,0),!m&&a&(hb|yb)&&(a&=~(hb|yb)),!a||a==zO)var D=bT(r,a,u);else a==hb||a==yb?D=nk(r,a,m):(a==vb||a==(zO|vb))&&!o.length?D=ok(r,a,u,l):D=Uy.apply(void 0,M);var N=A?Bx:Wx;return $x(N(D,M),r,a)}var fk=128;function Vx(r,a,u){return a=u?void 0:a,a=r&&a==null?r.length:a,tu(r,fk,void 0,void 0,void 0,void 0,a)}var pk=Object.prototype,dk=pk.hasOwnProperty,hk=Hp(function(r,a){if(px(a)||Ku(a)){Xp(a,Co(a),r);return}for(var u in a)dk.call(a,u)&&dx(r,u,a[u])}),WO=Hp(function(r,a){Xp(a,Za(a),r)}),_y=Hp(function(r,a,u,l){Xp(a,Za(a),r,l)}),yk=Hp(function(r,a,u,l){Xp(a,Co(a),r,l)});function u0(r,a){for(var u=-1,l=a.length,o=Array(l),d=r==null;++u<l;)o[u]=d?void 0:hx(r,a[u]);return o}var vk=qu(u0),gk="[object DOMException]",mk="[object Error]";function s0(r){if(!xi(r))return!1;var a=Ju(r);return a==mk||a==gk||typeof r.message=="string"&&typeof r.name=="string"&&!Cy(r)}var Hx=pn(function(r,a){try{return bi(r,void 0,a)}catch(u){return s0(u)?u:new Error(u)}}),bk="Expected a function";function Xx(r,a){var u;if(typeof a!="function")throw new TypeError(bk);return r=on(r),function(){return--r>0&&(u=a.apply(this,arguments)),r<=1&&(a=void 0),u}}var _k=1,Ok=32,Wy=pn(function(r,a,u){var l=_k;if(u.length){var o=Yu(u,Gc(Wy));l|=Ok}return tu(r,l,a,u,o)});Wy.placeholder={};var wk=qu(function(r,a){return qi(a,function(u){u=Yp(u),Uc(r,u,Wy(r[u],r))}),r}),xk=1,Ek=2,Sk=32,l0=pn(function(r,a,u){var l=xk|Ek;if(u.length){var o=Yu(u,Gc(l0));l|=Sk}return tu(a,l,r,u,o)});l0.placeholder={};function Oi(r,a,u){var l=-1,o=r.length;a<0&&(a=-a>o?0:o+a),u=u>o?o:u,u<0&&(u+=o),o=a>u?0:u-a>>>0,a>>>=0;for(var d=Array(o);++l<o;)d[l]=r[l+a];return d}function Zu(r,a,u){var l=r.length;return u=u===void 0?l:u,!a&&u>=l?r:Oi(r,a,u)}var jk="\\ud800-\\udfff",Ak="\\u0300-\\u036f",Pk="\\ufe20-\\ufe2f",Mk="\\u20d0-\\u20ff",Tk=Ak+Pk+Mk,kk="\\ufe0e\\ufe0f",Nk="\\u200d",Dk=RegExp("["+Nk+jk+Tk+kk+"]");function Vc(r){return Dk.test(r)}function Ck(r){return r.split("")}var Yx="\\ud800-\\udfff",Rk="\\u0300-\\u036f",Ik="\\ufe20-\\ufe2f",Lk="\\u20d0-\\u20ff",Bk=Rk+Ik+Lk,zk="\\ufe0e\\ufe0f",Fk="["+Yx+"]",Lb="["+Bk+"]",Bb="\\ud83c[\\udffb-\\udfff]",Uk="(?:"+Lb+"|"+Bb+")",Kx="[^"+Yx+"]",qx="(?:\\ud83c[\\udde6-\\uddff]){2}",Jx="[\\ud800-\\udbff][\\udc00-\\udfff]",Wk="\\u200d",Zx=Uk+"?",Qx="["+zk+"]?",$k="(?:"+Wk+"(?:"+[Kx,qx,Jx].join("|")+")"+Qx+Zx+")*",Gk=Qx+Zx+$k,Vk="(?:"+[Kx+Lb+"?",Lb,qx,Jx,Fk].join("|")+")",Hk=RegExp(Bb+"(?="+Bb+")|"+Vk+Gk,"g");function Xk(r){return r.match(Hk)||[]}function Ki(r){return Vc(r)?Xk(r):Ck(r)}function eE(r){return function(a){a=Rn(a);var u=Vc(a)?Ki(a):void 0,l=u?u[0]:a.charAt(0),o=u?Zu(u,1).join(""):a.slice(1);return l[r]()+o}}var c0=eE("toUpperCase");function tE(r){return c0(Rn(r).toLowerCase())}function f0(r,a,u,l){var o=-1,d=r==null?0:r.length;for(l&&d&&(u=r[++o]);++o<d;)u=a(u,r[o],o,r);return u}function p0(r){return function(a){return r==null?void 0:r[a]}}var Yk={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Kk=p0(Yk),qk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jk="\\u0300-\\u036f",Zk="\\ufe20-\\ufe2f",Qk="\\u20d0-\\u20ff",eN=Jk+Zk+Qk,tN="["+eN+"]",nN=RegExp(tN,"g");function nE(r){return r=Rn(r),r&&r.replace(qk,Kk).replace(nN,"")}var rN=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function oN(r){return r.match(rN)||[]}var iN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function aN(r){return iN.test(r)}var rE="\\ud800-\\udfff",uN="\\u0300-\\u036f",sN="\\ufe20-\\ufe2f",lN="\\u20d0-\\u20ff",cN=uN+sN+lN,oE="\\u2700-\\u27bf",iE="a-z\\xdf-\\xf6\\xf8-\\xff",fN="\\xac\\xb1\\xd7\\xf7",pN="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dN="\\u2000-\\u206f",hN=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aE="A-Z\\xc0-\\xd6\\xd8-\\xde",yN="\\ufe0e\\ufe0f",uE=fN+pN+dN+hN,sE="['’]",$O="["+uE+"]",vN="["+cN+"]",lE="\\d+",gN="["+oE+"]",cE="["+iE+"]",fE="[^"+rE+uE+lE+oE+iE+aE+"]",mN="\\ud83c[\\udffb-\\udfff]",bN="(?:"+vN+"|"+mN+")",_N="[^"+rE+"]",pE="(?:\\ud83c[\\udde6-\\uddff]){2}",dE="[\\ud800-\\udbff][\\udc00-\\udfff]",kc="["+aE+"]",ON="\\u200d",GO="(?:"+cE+"|"+fE+")",wN="(?:"+kc+"|"+fE+")",VO="(?:"+sE+"(?:d|ll|m|re|s|t|ve))?",HO="(?:"+sE+"(?:D|LL|M|RE|S|T|VE))?",hE=bN+"?",yE="["+yN+"]?",xN="(?:"+ON+"(?:"+[_N,pE,dE].join("|")+")"+yE+hE+")*",EN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",SN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jN=yE+hE+xN,AN="(?:"+[gN,pE,dE].join("|")+")"+jN,PN=RegExp([kc+"?"+cE+"+"+VO+"(?="+[$O,kc,"$"].join("|")+")",wN+"+"+HO+"(?="+[$O,kc+GO,"$"].join("|")+")",kc+"?"+GO+"+"+VO,kc+"+"+HO,SN,EN,lE,AN].join("|"),"g");function MN(r){return r.match(PN)||[]}function vE(r,a,u){return r=Rn(r),a=u?void 0:a,a===void 0?aN(r)?MN(r):oN(r):r.match(a)||[]}var TN="['’]",kN=RegExp(TN,"g");function Hc(r){return function(a){return f0(vE(nE(a).replace(kN,"")),r,"")}}var NN=Hc(function(r,a,u){return a=a.toLowerCase(),r+(u?tE(a):a)}),DN=il.isFinite,CN=Math.min;function d0(r){var a=Math[r];return function(u,l){if(u=Ka(u),l=l==null?0:CN(on(l),292),l&&DN(u)){var o=(Rn(u)+"e").split("e"),d=a(o[0]+"e"+(+o[1]+l));return o=(Rn(d)+"e").split("e"),+(o[0]+"e"+(+o[1]-l))}return a(u)}}var RN=d0("ceil");function gE(r){var a=W(r);return a.__chain__=!0,a}var IN=Math.ceil,LN=Math.max;function BN(r,a,u){(u?No(r,a,u):a===void 0)?a=1:a=LN(on(a),0);var l=r==null?0:r.length;if(!l||a<1)return[];for(var o=0,d=0,h=Array(IN(l/a));o<l;)h[d++]=Oi(r,o,o+=a);return h}function ll(r,a,u){return r===r&&(u!==void 0&&(r=r<=u?r:u),a!==void 0&&(r=r>=a?r:a)),r}function zN(r,a,u){return u===void 0&&(u=a,a=void 0),u!==void 0&&(u=Ka(u),u=u===u?u:0),a!==void 0&&(a=Ka(a),a=a===a?a:0),ll(Ka(r),a,u)}var FN=1,UN=4;function WN(r,a){return a=typeof a=="function"?a:void 0,al(r,FN|UN,a)}var $N=4;function GN(r,a){return a=typeof a=="function"?a:void 0,al(r,$N,a)}function VN(){return new _i(this.value(),this.__chain__)}function HN(r){for(var a=-1,u=r==null?0:r.length,l=0,o=[];++a<u;){var d=r[a];d&&(o[l++]=d)}return o}function XN(){var r=arguments.length;if(!r)return[];for(var a=Array(r-1),u=arguments[0],l=r;l--;)a[l-1]=arguments[l];return Kp(Cn(u)?gi(u):[u],Ei(a,1))}var YN="Expected a function";function KN(r){var a=r==null?0:r.length,u=en;return r=a?vr(r,function(l){if(typeof l[1]!="function")throw new TypeError(YN);return[u(l[0]),l[1]]}):[],pn(function(l){for(var o=-1;++o<a;){var d=r[o];if(bi(d[0],this,l))return bi(d[1],this,l)}})}function mE(r,a,u){var l=u.length;if(r==null)return!l;for(r=Object(r);l--;){var o=u[l],d=a[o],h=r[o];if(h===void 0&&!(o in r)||!d(h))return!1}return!0}function qN(r){var a=Co(r);return function(u){return mE(u,r,a)}}var JN=1;function ZN(r){return qN(al(r,JN))}function QN(r,a){return a==null||mE(r,a,Co(a))}function eD(r,a,u,l){for(var o=-1,d=r==null?0:r.length;++o<d;){var h=r[o];a(l,h,u(h),r)}return l}function tD(r,a,u,l){return ul(r,function(o,d,h){a(l,o,u(o),h)}),l}function $y(r,a){return function(u,l){var o=Cn(u)?eD:tD,d=a?a():{};return o(u,r,en(l),d)}}var nD=Object.prototype,rD=nD.hasOwnProperty,oD=$y(function(r,a,u){rD.call(r,u)?++r[u]:Uc(r,u,1)});function iD(r,a){var u=Gp(r);return a==null?u:v2(u,a)}var aD=8;function h0(r,a,u){a=u?void 0:a;var l=tu(r,aD,void 0,void 0,void 0,void 0,void 0,a);return l.placeholder=h0.placeholder,l}h0.placeholder={};var uD=16;function y0(r,a,u){a=u?void 0:a;var l=tu(r,uD,void 0,void 0,void 0,void 0,void 0,a);return l.placeholder=y0.placeholder,l}y0.placeholder={};function sD(r,a){return r==null||r!==r?a:r}var bE=Object.prototype,lD=bE.hasOwnProperty,cD=pn(function(r,a){r=Object(r);var u=-1,l=a.length,o=l>2?a[2]:void 0;for(o&&No(a[0],a[1],o)&&(l=1);++u<l;)for(var d=a[u],h=Za(d),m=-1,v=h.length;++m<v;){var x=h[m],S=r[x];(S===void 0||Wc(S,bE[x])&&!lD.call(r,x))&&(r[x]=d[x])}return r});function _E(r,a,u,l,o,d){return Ja(r)&&Ja(a)&&(d.set(a,r),yx(r,a,void 0,_E,d),d.delete(a)),r}var OE=Hp(function(r,a,u,l){yx(r,a,u,l)}),fD=pn(function(r){return r.push(void 0,_E),bi(OE,void 0,r)}),pD="Expected a function";function wE(r,a,u){if(typeof r!="function")throw new TypeError(pD);return setTimeout(function(){r.apply(void 0,u)},a)}var dD=pn(function(r,a){return wE(r,1,a)}),hD=pn(function(r,a,u){return wE(r,Ka(a)||0,u)}),yD=200;function Zp(r,a,u,l){var o=-1,d=t0,h=!0,m=r.length,v=[],x=a.length;if(!m)return v;u&&(a=vr(a,_a(u))),l?(d=gx,h=!1):a.length>=yD&&(d=Rb,h=!1,a=new vx(a));e:for(;++o<m;){var S=r[o],j=u==null?S:u(S);if(S=l||S!==0?S:0,h&&j===j){for(var A=x;A--;)if(a[A]===j)continue e;v.push(S)}else d(a,j,l)||v.push(S)}return v}var vD=pn(function(r,a){return Mr(r)?Zp(r,Ei(a,1,Mr,!0)):[]});function Zo(r){var a=r==null?0:r.length;return a?r[a-1]:void 0}var gD=pn(function(r,a){var u=Zo(a);return Mr(u)&&(u=void 0),Mr(r)?Zp(r,Ei(a,1,Mr,!0),en(u)):[]}),mD=pn(function(r,a){var u=Zo(a);return Mr(u)&&(u=void 0),Mr(r)?Zp(r,Ei(a,1,Mr,!0),void 0,u):[]}),bD=zy(function(r,a){return r/a},1);function _D(r,a,u){var l=r==null?0:r.length;return l?(a=u||a===void 0?1:on(a),Oi(r,a<0?0:a,l)):[]}function OD(r,a,u){var l=r==null?0:r.length;return l?(a=u||a===void 0?1:on(a),a=l-a,Oi(r,0,a<0?0:a)):[]}function Gy(r,a,u,l){for(var o=r.length,d=l?o:-1;(l?d--:++d<o)&&a(r[d],d,r););return u?Oi(r,l?0:d,l?d+1:o):Oi(r,l?d+1:0,l?o:d)}function wD(r,a){return r&&r.length?Gy(r,en(a),!0,!0):[]}function xD(r,a){return r&&r.length?Gy(r,en(a),!0):[]}function wa(r){return typeof r=="function"?r:wi}function XO(r,a){var u=Cn(r)?qi:ul;return u(r,wa(a))}function ED(r,a){for(var u=r==null?0:r.length;u--&&a(r[u],u,r)!==!1;);return r}var xE=g2(!0);function v0(r,a){return r&&xE(r,a,Co)}var EE=m2(v0,!0);function YO(r,a){var u=Cn(r)?ED:EE;return u(r,wa(a))}function SD(r,a,u){r=Rn(r),a=Yi(a);var l=r.length;u=u===void 0?l:ll(on(u),0,l);var o=u;return u-=a.length,u>=0&&r.slice(u,o)==a}function jD(r,a){return vr(a,function(u){return[u,r[u]]})}function AD(r){var a=-1,u=Array(r.size);return r.forEach(function(l){u[++a]=[l,l]}),u}var PD="[object Map]",MD="[object Set]";function SE(r){return function(a){var u=qp(a);return u==PD?mx(a):u==MD?AD(a):jD(a,r(a))}}var KO=SE(Co),qO=SE(Za),TD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kD=p0(TD),jE=/[&<>"']/g,ND=RegExp(jE.source);function AE(r){return r=Rn(r),r&&ND.test(r)?r.replace(jE,kD):r}var PE=/[\\^$.*+?()[\]{}|]/g,DD=RegExp(PE.source);function CD(r){return r=Rn(r),r&&DD.test(r)?r.replace(PE,"\\$&"):r}function ME(r,a){for(var u=-1,l=r==null?0:r.length;++u<l;)if(!a(r[u],u,r))return!1;return!0}function RD(r,a){var u=!0;return ul(r,function(l,o,d){return u=!!a(l,o,d),u}),u}function ID(r,a,u){var l=Cn(r)?ME:RD;return u&&No(r,a,u)&&(a=void 0),l(r,en(a))}var LD=4294967295;function TE(r){return r?ll(on(r),0,LD):0}function BD(r,a,u,l){var o=r.length;for(u=on(u),u<0&&(u=-u>o?0:o+u),l=l===void 0||l>o?o:on(l),l<0&&(l+=o),l=u>l?0:TE(l);u<l;)r[u++]=a;return r}function zD(r,a,u,l){var o=r==null?0:r.length;return o?(u&&typeof u!="number"&&No(r,a,u)&&(u=0,l=o),BD(r,a,u,l)):[]}function kE(r,a){var u=[];return ul(r,function(l,o,d){a(l,o,d)&&u.push(l)}),u}function FD(r,a){var u=Cn(r)?sl:kE;return u(r,en(a))}function NE(r){return function(a,u,l){var o=Object(a);if(!Ku(a)){var d=en(u);a=Co(a),u=function(m){return d(o[m],m,o)}}var h=r(a,u,l);return h>-1?o[d?a[h]:h]:void 0}}var UD=Math.max;function DE(r,a,u){var l=r==null?0:r.length;if(!l)return-1;var o=u==null?0:on(u);return o<0&&(o=UD(l+o,0)),bx(r,en(a),o)}var WD=NE(DE);function CE(r,a,u){var l;return u(r,function(o,d,h){if(a(o,d,h))return l=d,!1}),l}function $D(r,a){return CE(r,en(a),Qa)}var GD=NE(_x);function VD(r,a){return CE(r,en(a),v0)}function JO(r){return r&&r.length?r[0]:void 0}var HD=1/0;function XD(r,a){return Ei(n0(r,a),HD)}function YD(r,a,u){return u=u===void 0?1:on(u),Ei(n0(r,a),u)}function KD(r,a){var u=r==null?0:r.length;return u?(a=a===void 0?1:on(a),Ei(r,a)):[]}var qD=512;function JD(r){return tu(r,qD)}var ZD=d0("floor"),QD="Expected a function",eC=8,tC=32,nC=128,rC=256;function RE(r){return qu(function(a){var u=a.length,l=u,o=_i.prototype.thru;for(r&&a.reverse();l--;){var d=a[l];if(typeof d!="function")throw new TypeError(QD);if(o&&!h&&py(d)=="wrapper")var h=new _i([],!0)}for(l=h?l:u;++l<u;){d=a[l];var m=py(d),v=m=="wrapper"?a0(d):void 0;v&&Ib(v[0])&&v[1]==(nC|eC|tC|rC)&&!v[4].length&&v[9]==1?h=h[py(v[0])].apply(h,v[3]):h=d.length==1&&Ib(d)?h[m]():h.thru(d)}return function(){var x=arguments,S=x[0];if(h&&x.length==1&&Cn(S))return h.plant(S).value();for(var j=0,A=u?a[j].apply(this,x):S;++j<u;)A=a[j].call(this,A);return A}})}var oC=RE(),iC=RE(!0);function aC(r,a){return r==null?r:b2(r,wa(a),Za)}function uC(r,a){return r==null?r:xE(r,wa(a),Za)}function sC(r,a){return r&&Qa(r,wa(a))}function lC(r,a){return r&&v0(r,wa(a))}function Vy(r,a){return sl(a,function(u){return $c(r[u])})}function cC(r){return r==null?[]:Vy(r,Co(r))}function fC(r){return r==null?[]:Vy(r,Za(r))}var pC=Object.prototype,dC=pC.hasOwnProperty,hC=$y(function(r,a,u){dC.call(r,u)?r[u].push(a):Uc(r,u,[a])});function g0(r,a){return r>a}function Hy(r){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=Ka(a),u=Ka(u)),r(a,u)}}var yC=Hy(g0),vC=Hy(function(r,a){return r>=a}),gC=Object.prototype,mC=gC.hasOwnProperty;function bC(r,a){return r!=null&&mC.call(r,a)}function _C(r,a){return r!=null&&_2(r,a,bC)}var OC=Math.max,wC=Math.min;function xC(r,a,u){return r>=wC(a,u)&&r<OC(a,u)}function EC(r,a,u){return a=Vu(a),u===void 0?(u=a,a=0):u=Vu(u),r=Ka(r),xC(r,a,u)}var SC="[object String]";function Xy(r){return typeof r=="string"||!Cn(r)&&xi(r)&&Ju(r)==SC}function m0(r,a){return vr(a,function(u){return r[u]})}function Xc(r){return r==null?[]:m0(r,Co(r))}var jC=Math.max;function AC(r,a,u,l){r=Ku(r)?r:Xc(r),u=u&&!l?on(u):0;var o=r.length;return u<0&&(u=jC(o+u,0)),Xy(r)?u<=o&&r.indexOf(a,u)>-1:!!o&&Jp(r,a,u)>-1}var PC=Math.max;function MC(r,a,u){var l=r==null?0:r.length;if(!l)return-1;var o=u==null?0:on(u);return o<0&&(o=PC(l+o,0)),Jp(r,a,o)}function TC(r){var a=r==null?0:r.length;return a?Oi(r,0,-1):[]}var kC=Math.min;function b0(r,a,u){for(var l=u?gx:t0,o=r[0].length,d=r.length,h=d,m=Array(d),v=1/0,x=[];h--;){var S=r[h];h&&a&&(S=vr(S,_a(a))),v=kC(S.length,v),m[h]=!u&&(a||o>=120&&S.length>=120)?new vx(h&&S):void 0}S=r[0];var j=-1,A=m[0];e:for(;++j<o&&x.length<v;){var M=S[j],D=a?a(M):M;if(M=u||M!==0?M:0,!(A?Rb(A,D):l(x,D,u))){for(h=d;--h;){var N=m[h];if(!(N?Rb(N,D):l(r[h],D,u)))continue e}A&&A.push(D),x.push(M)}}return x}function _0(r){return Mr(r)?r:[]}var NC=pn(function(r){var a=vr(r,_0);return a.length&&a[0]===r[0]?b0(a):[]}),DC=pn(function(r){var a=Zo(r),u=vr(r,_0);return a===Zo(u)?a=void 0:u.pop(),u.length&&u[0]===r[0]?b0(u,en(a)):[]}),CC=pn(function(r){var a=Zo(r),u=vr(r,_0);return a=typeof a=="function"?a:void 0,a&&u.pop(),u.length&&u[0]===r[0]?b0(u,void 0,a):[]});function RC(r,a,u,l){return Qa(r,function(o,d,h){a(l,u(o),d,h)}),l}function IE(r,a){return function(u,l){return RC(u,r,a(l),{})}}var IC=Object.prototype,LC=IC.toString,BC=IE(function(r,a,u){a!=null&&typeof a.toString!="function"&&(a=LC.call(a)),r[a]=u},Ox(wi)),LE=Object.prototype,zC=LE.hasOwnProperty,FC=LE.toString,UC=IE(function(r,a,u){a!=null&&typeof a.toString!="function"&&(a=FC.call(a)),zC.call(r,a)?r[a].push(u):r[a]=[u]},en);function BE(r,a){return a.length<2?r:Ry(r,Oi(a,0,-1))}function Qp(r,a,u){a=Iy(a,r),r=BE(r,a);var l=r==null?r:r[Yp(Zo(a))];return l==null?void 0:bi(l,r,u)}var WC=pn(Qp),$C=pn(function(r,a,u){var l=-1,o=typeof a=="function",d=Ku(r)?Array(r.length):[];return ul(r,function(h){d[++l]=o?bi(a,h,u):Qp(h,a,u)}),d}),GC="[object ArrayBuffer]";function VC(r){return xi(r)&&Ju(r)==GC}var ZO=Lc&&Lc.isArrayBuffer,HC=ZO?_a(ZO):VC,XC="[object Boolean]";function YC(r){return r===!0||r===!1||xi(r)&&Ju(r)==XC}var KC="[object Date]";function qC(r){return xi(r)&&Ju(r)==KC}var QO=Lc&&Lc.isDate,JC=QO?_a(QO):qC;function ZC(r){return xi(r)&&r.nodeType===1&&!Cy(r)}var QC="[object Map]",eR="[object Set]",tR=Object.prototype,nR=tR.hasOwnProperty;function rR(r){if(r==null)return!0;if(Ku(r)&&(Cn(r)||typeof r=="string"||typeof r.splice=="function"||r0(r)||o0(r)||wx(r)))return!r.length;var a=qp(r);if(a==QC||a==eR)return!r.size;if(px(r))return!xx(r).length;for(var u in r)if(nR.call(r,u))return!1;return!0}function oR(r,a,u){u=typeof u=="function"?u:void 0;var l=u?u(r,a):void 0;return l===void 0?O2(r,a,void 0,u):!!l}var iR=il.isFinite;function aR(r){return typeof r=="number"&&iR(r)}function zE(r){return typeof r=="number"&&r==on(r)}function uR(r,a){return r===a||Ex(r,a,Sx(a))}function sR(r,a,u){return u=typeof u=="function"?u:void 0,Ex(r,a,Sx(a),u)}var lR="[object Number]";function FE(r){return typeof r=="number"||xi(r)&&Ju(r)==lR}function cR(r){return FE(r)&&r!=+r}var fR=w2?$c:jx,pR="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function dR(r){if(fR(r))throw new Error(pR);return x2(r)}function hR(r){return r===null}var yR="[object RegExp]";function vR(r){return xi(r)&&Ju(r)==yR}var ew=Lc&&Lc.isRegExp,O0=ew?_a(ew):vR,tw=9007199254740991;function gR(r){return zE(r)&&r>=-tw&&r<=tw}var mR="[object WeakMap]";function bR(r){return xi(r)&&qp(r)==mR}var _R="[object WeakSet]";function OR(r){return xi(r)&&Ju(r)==_R}var wR=1;function xR(r){return en(typeof r=="function"?r:al(r,wR))}var ER=Array.prototype,SR=ER.join;function jR(r,a){return r==null?"":SR.call(r,a)}var AR=Hc(function(r,a,u){return r+(u?"-":"")+a.toLowerCase()}),PR=$y(function(r,a,u){Uc(r,u,a)});function MR(r,a,u){for(var l=u+1;l--;)if(r[l]===a)return l;return l}var TR=Math.max,kR=Math.min;function NR(r,a,u){var l=r==null?0:r.length;if(!l)return-1;var o=l;return u!==void 0&&(o=on(u),o=o<0?TR(l+o,0):kR(o,l-1)),a===a?MR(r,a,o):bx(r,E2,o,!0)}var DR=Hc(function(r,a,u){return r+(u?" ":"")+a.toLowerCase()}),CR=eE("toLowerCase");function w0(r,a){return r<a}var RR=Hy(w0),IR=Hy(function(r,a){return r<=a});function LR(r,a){var u={};return a=en(a),Qa(r,function(l,o,d){Uc(u,a(l,o,d),l)}),u}function BR(r,a){var u={};return a=en(a),Qa(r,function(l,o,d){Uc(u,o,a(l,o,d))}),u}var zR=1;function FR(r){return S2(al(r,zR))}var UR=1;function WR(r,a){return j2(r,al(a,UR))}function Yy(r,a,u){for(var l=-1,o=r.length;++l<o;){var d=r[l],h=a(d);if(h!=null&&(m===void 0?h===h&&!qa(h):u(h,m)))var m=h,v=d}return v}function $R(r){return r&&r.length?Yy(r,wi,g0):void 0}function GR(r,a){return r&&r.length?Yy(r,en(a),g0):void 0}function x0(r,a){for(var u,l=-1,o=r.length;++l<o;){var d=a(r[l]);d!==void 0&&(u=u===void 0?d:u+d)}return u}var VR=NaN;function UE(r,a){var u=r==null?0:r.length;return u?x0(r,a)/u:VR}function HR(r){return UE(r,wi)}function XR(r,a){return UE(r,en(a))}var YR=pn(function(r,a){return function(u){return Qp(u,r,a)}}),KR=pn(function(r,a){return function(u){return Qp(r,u,a)}});function qR(r){return r&&r.length?Yy(r,wi,w0):void 0}function JR(r,a){return r&&r.length?Yy(r,en(a),w0):void 0}function WE(r,a,u){var l=Co(a),o=Vy(a,l),d=!(Ja(u)&&"chain"in u)||!!u.chain,h=$c(r);return qi(o,function(m){var v=a[m];r[m]=v,h&&(r.prototype[m]=function(){var x=this.__chain__;if(d||x){var S=r(this.__wrapped__),j=S.__actions__=gi(this.__actions__);return j.push({func:v,args:arguments,thisArg:r}),S.__chain__=x,S}return v.apply(r,Kp([this.value()],arguments))})}),r}var ZR=zy(function(r,a){return r*a},1),QR="Expected a function";function ed(r){if(typeof r!="function")throw new TypeError(QR);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function eI(r){for(var a,u=[];!(a=r.next()).done;)u.push(a.value);return u}var tI="[object Map]",nI="[object Set]",gb=my?my.iterator:void 0;function $E(r){if(!r)return[];if(Ku(r))return Xy(r)?Ki(r):gi(r);if(gb&&r[gb])return eI(r[gb]());var a=qp(r),u=a==tI?mx:a==nI?A2:Xc;return u(r)}function rI(){this.__values__===void 0&&(this.__values__=$E(this.value()));var r=this.__index__>=this.__values__.length,a=r?void 0:this.__values__[this.__index__++];return{done:r,value:a}}function GE(r,a){var u=r.length;if(u)return a+=a<0?u:0,Vp(a,u)?r[a]:void 0}function oI(r,a){return r&&r.length?GE(r,on(a)):void 0}function iI(r){return r=on(r),pn(function(a){return GE(a,r)})}function E0(r,a){return a=Iy(a,r),r=BE(r,a),r==null||delete r[Yp(Zo(a))]}function aI(r){return Cy(r)?void 0:r}var uI=1,sI=2,lI=4,cI=qu(function(r,a){var u={};if(r==null)return u;var l=!1;a=vr(a,function(d){return d=Iy(d,r),l||(l=d.length>1),d}),Xp(r,Ax(r),u),l&&(u=al(u,uI|sI|lI,aI));for(var o=a.length;o--;)E0(u,a[o]);return u});function VE(r,a){if(r==null)return{};var u=vr(Ax(r),function(l){return[l]});return a=en(a),P2(r,u,function(l,o){return a(l,o[0])})}function fI(r,a){return VE(r,ed(en(a)))}function pI(r){return Xx(2,r)}function dI(r,a){var u=r.length;for(r.sort(a);u--;)r[u]=r[u].value;return r}function HE(r,a){if(r!==a){var u=r!==void 0,l=r===null,o=r===r,d=qa(r),h=a!==void 0,m=a===null,v=a===a,x=qa(a);if(!m&&!x&&!d&&r>a||d&&h&&v&&!m&&!x||l&&h&&v||!u&&v||!o)return 1;if(!l&&!d&&!x&&r<a||x&&u&&o&&!l&&!d||m&&u&&o||!h&&o||!v)return-1}return 0}function hI(r,a,u){for(var l=-1,o=r.criteria,d=a.criteria,h=o.length,m=u.length;++l<h;){var v=HE(o[l],d[l]);if(v){if(l>=m)return v;var x=u[l];return v*(x=="desc"?-1:1)}}return r.index-a.index}function XE(r,a,u){a.length?a=vr(a,function(d){return Cn(d)?function(h){return Ry(h,d.length===1?d[0]:d)}:d}):a=[wi];var l=-1;a=vr(a,_a(en));var o=M2(r,function(d,h,m){var v=vr(a,function(x){return x(d)});return{criteria:v,index:++l,value:d}});return dI(o,function(d,h){return hI(d,h,u)})}function yI(r,a,u,l){return r==null?[]:(Cn(a)||(a=a==null?[]:[a]),u=l?void 0:u,Cn(u)||(u=u==null?[]:[u]),XE(r,a,u))}function S0(r){return qu(function(a){return a=vr(a,_a(en)),pn(function(u){var l=this;return r(a,function(o){return bi(o,l,u)})})})}var vI=S0(vr),gI=pn,mI=Math.min,bI=gI(function(r,a){a=a.length==1&&Cn(a[0])?vr(a[0],_a(en)):vr(Ei(a,1),_a(en));var u=a.length;return pn(function(l){for(var o=-1,d=mI(l.length,u);++o<d;)l[o]=a[o].call(this,l[o]);return bi(r,this,l)})}),_I=S0(ME),OI=S0(Px),wI=9007199254740991,xI=Math.floor;function zb(r,a){var u="";if(!r||a<1||a>wI)return u;do a%2&&(u+=r),a=xI(a/2),a&&(r+=r);while(a);return u}var EI=Mx("length"),YE="\\ud800-\\udfff",SI="\\u0300-\\u036f",jI="\\ufe20-\\ufe2f",AI="\\u20d0-\\u20ff",PI=SI+jI+AI,MI="\\ufe0e\\ufe0f",TI="["+YE+"]",Fb="["+PI+"]",Ub="\\ud83c[\\udffb-\\udfff]",kI="(?:"+Fb+"|"+Ub+")",KE="[^"+YE+"]",qE="(?:\\ud83c[\\udde6-\\uddff]){2}",JE="[\\ud800-\\udbff][\\udc00-\\udfff]",NI="\\u200d",ZE=kI+"?",QE="["+MI+"]?",DI="(?:"+NI+"(?:"+[KE,qE,JE].join("|")+")"+QE+ZE+")*",CI=QE+ZE+DI,RI="(?:"+[KE+Fb+"?",Fb,qE,JE,TI].join("|")+")",nw=RegExp(Ub+"(?="+Ub+")|"+RI+CI,"g");function II(r){for(var a=nw.lastIndex=0;nw.test(r);)++a;return a}function Yc(r){return Vc(r)?II(r):EI(r)}var LI=Math.ceil;function Oy(r,a){a=a===void 0?" ":Yi(a);var u=a.length;if(u<2)return u?zb(a,r):a;var l=zb(a,LI(r/Yc(a)));return Vc(a)?Zu(Ki(l),0,r).join(""):l.slice(0,r)}var BI=Math.ceil,zI=Math.floor;function FI(r,a,u){r=Rn(r),a=on(a);var l=a?Yc(r):0;if(!a||l>=a)return r;var o=(a-l)/2;return Oy(zI(o),u)+r+Oy(BI(o),u)}function UI(r,a,u){r=Rn(r),a=on(a);var l=a?Yc(r):0;return a&&l<a?r+Oy(a-l,u):r}function WI(r,a,u){r=Rn(r),a=on(a);var l=a?Yc(r):0;return a&&l<a?Oy(a-l,u)+r:r}var $I=/^\s+/,GI=il.parseInt;function VI(r,a,u){return u||a==null?a=0:a&&(a=+a),GI(Rn(r).replace($I,""),a||0)}var HI=32,Ky=pn(function(r,a){var u=Yu(a,Gc(Ky));return tu(r,HI,void 0,a,u)});Ky.placeholder={};var XI=64,j0=pn(function(r,a){var u=Yu(a,Gc(j0));return tu(r,XI,void 0,a,u)});j0.placeholder={};var YI=$y(function(r,a,u){r[u?0:1].push(a)},function(){return[[],[]]});function KI(r){for(var a,u=this;u instanceof Fy;){var l=Ux(u);l.__index__=0,l.__values__=void 0,a?o.__wrapped__=l:a=l;var o=l;u=u.__wrapped__}return o.__wrapped__=r,a}function qI(r){return function(a){return r==null?void 0:Ry(r,a)}}function JI(r,a,u,l){for(var o=u-1,d=r.length;++o<d;)if(l(r[o],a))return o;return-1}var ZI=Array.prototype,rw=ZI.splice;function A0(r,a,u,l){var o=l?JI:Jp,d=-1,h=a.length,m=r;for(r===a&&(a=gi(a)),u&&(m=vr(r,_a(u)));++d<h;)for(var v=0,x=a[d],S=u?u(x):x;(v=o(m,S,v,l))>-1;)m!==r&&rw.call(m,v,1),rw.call(r,v,1);return r}function eS(r,a){return r&&r.length&&a&&a.length?A0(r,a):r}var QI=pn(eS);function e3(r,a,u){return r&&r.length&&a&&a.length?A0(r,a,en(u)):r}function t3(r,a,u){return r&&r.length&&a&&a.length?A0(r,a,void 0,u):r}var n3=Array.prototype,r3=n3.splice;function tS(r,a){for(var u=r?a.length:0,l=u-1;u--;){var o=a[u];if(u==l||o!==d){var d=o;Vp(o)?r3.call(r,o,1):E0(r,o)}}return r}var o3=qu(function(r,a){var u=r==null?0:r.length,l=u0(r,a);return tS(r,vr(a,function(o){return Vp(o,u)?+o:o}).sort(HE)),l}),i3=Math.floor,a3=Math.random;function P0(r,a){return r+i3(a3()*(a-r+1))}var u3=parseFloat,s3=Math.min,l3=Math.random;function c3(r,a,u){if(u&&typeof u!="boolean"&&No(r,a,u)&&(a=u=void 0),u===void 0&&(typeof a=="boolean"?(u=a,a=void 0):typeof r=="boolean"&&(u=r,r=void 0)),r===void 0&&a===void 0?(r=0,a=1):(r=Vu(r),a===void 0?(a=r,r=0):a=Vu(a)),r>a){var l=r;r=a,a=l}if(u||r%1||a%1){var o=l3();return s3(r+o*(a-r+u3("1e-"+((o+"").length-1))),a)}return P0(r,a)}var f3=Math.ceil,p3=Math.max;function d3(r,a,u,l){for(var o=-1,d=p3(f3((a-r)/(u||1)),0),h=Array(d);d--;)h[l?d:++o]=r,r+=u;return h}function nS(r){return function(a,u,l){return l&&typeof l!="number"&&No(a,u,l)&&(u=l=void 0),a=Vu(a),u===void 0?(u=a,a=0):u=Vu(u),l=l===void 0?a<u?1:-1:Vu(l),d3(a,u,l,r)}}var h3=nS(),y3=nS(!0),v3=256,g3=qu(function(r,a){return tu(r,v3,void 0,void 0,void 0,a)});function rS(r,a,u,l,o){return o(r,function(d,h,m){u=l?(l=!1,d):a(u,d,h,m)}),u}function m3(r,a,u){var l=Cn(r)?f0:rS,o=arguments.length<3;return l(r,en(a),u,o,ul)}function b3(r,a,u,l){var o=r==null?0:r.length;for(l&&o&&(u=r[--o]);o--;)u=a(u,r[o],o,r);return u}function _3(r,a,u){var l=Cn(r)?b3:rS,o=arguments.length<3;return l(r,en(a),u,o,EE)}function O3(r,a){var u=Cn(r)?sl:kE;return u(r,ed(en(a)))}function w3(r,a){var u=[];if(!(r&&r.length))return u;var l=-1,o=[],d=r.length;for(a=en(a);++l<d;){var h=r[l];a(h,l,r)&&(u.push(h),o.push(l))}return tS(r,o),u}function x3(r,a,u){return(u?No(r,a,u):a===void 0)?a=1:a=on(a),zb(Rn(r),a)}function E3(){var r=arguments,a=Rn(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var S3="Expected a function";function j3(r,a){if(typeof r!="function")throw new TypeError(S3);return a=a===void 0?a:on(a),pn(r,a)}function A3(r,a,u){a=Iy(a,r);var l=-1,o=a.length;for(o||(o=1,r=void 0);++l<o;){var d=r==null?void 0:r[Yp(a[l])];d===void 0&&(l=o,d=u),r=$c(d)?d.call(r):d}return r}var P3=Array.prototype,M3=P3.reverse;function Wb(r){return r==null?r:M3.call(r)}var T3=d0("round");function oS(r){var a=r.length;return a?r[P0(0,a-1)]:void 0}function k3(r){return oS(Xc(r))}function N3(r){var a=Cn(r)?oS:k3;return a(r)}function qy(r,a){var u=-1,l=r.length,o=l-1;for(a=a===void 0?l:a;++u<a;){var d=P0(u,o),h=r[d];r[d]=r[u],r[u]=h}return r.length=a,r}function D3(r,a){return qy(gi(r),ll(a,0,r.length))}function C3(r,a){var u=Xc(r);return qy(u,ll(a,0,u.length))}function R3(r,a,u){(u?No(r,a,u):a===void 0)?a=1:a=on(a);var l=Cn(r)?D3:C3;return l(r,a)}function I3(r,a,u,l){return l=typeof l=="function"?l:void 0,r==null?r:i0(r,a,u,l)}function L3(r){return qy(gi(r))}function B3(r){return qy(Xc(r))}function z3(r){var a=Cn(r)?L3:B3;return a(r)}var F3="[object Map]",U3="[object Set]";function W3(r){if(r==null)return 0;if(Ku(r))return Xy(r)?Yc(r):r.length;var a=qp(r);return a==F3||a==U3?r.size:xx(r).length}function $3(r,a,u){var l=r==null?0:r.length;return l?(u&&typeof u!="number"&&No(r,a,u)?(a=0,u=l):(a=a==null?0:on(a),u=u===void 0?l:on(u)),Oi(r,a,u)):[]}var G3=Hc(function(r,a,u){return r+(u?"_":"")+a.toLowerCase()});function V3(r,a){var u;return ul(r,function(l,o,d){return u=a(l,o,d),!u}),!!u}function H3(r,a,u){var l=Cn(r)?Px:V3;return u&&No(r,a,u)&&(a=void 0),l(r,en(a))}var X3=pn(function(r,a){if(r==null)return[];var u=a.length;return u>1&&No(r,a[0],a[1])?a=[]:u>2&&No(a[0],a[1],a[2])&&(a=[a[0]]),XE(r,Ei(a,1),[])}),Y3=4294967295,K3=Y3-1,q3=Math.floor,J3=Math.min;function M0(r,a,u,l){var o=0,d=r==null?0:r.length;if(d===0)return 0;a=u(a);for(var h=a!==a,m=a===null,v=qa(a),x=a===void 0;o<d;){var S=q3((o+d)/2),j=u(r[S]),A=j!==void 0,M=j===null,D=j===j,N=qa(j);if(h)var I=l||D;else x?I=D&&(l||A):m?I=D&&A&&(l||!M):v?I=D&&A&&!M&&(l||!N):M||N?I=!1:I=l?j<=a:j<a;I?o=S+1:d=S}return J3(d,K3)}var Z3=4294967295,Q3=Z3>>>1;function Jy(r,a,u){var l=0,o=r==null?l:r.length;if(typeof a=="number"&&a===a&&o<=Q3){for(;l<o;){var d=l+o>>>1,h=r[d];h!==null&&!qa(h)&&(u?h<=a:h<a)?l=d+1:o=d}return o}return M0(r,a,wi,u)}function eL(r,a){return Jy(r,a)}function tL(r,a,u){return M0(r,a,en(u))}function nL(r,a){var u=r==null?0:r.length;if(u){var l=Jy(r,a);if(l<u&&Wc(r[l],a))return l}return-1}function rL(r,a){return Jy(r,a,!0)}function oL(r,a,u){return M0(r,a,en(u),!0)}function iL(r,a){var u=r==null?0:r.length;if(u){var l=Jy(r,a,!0)-1;if(Wc(r[l],a))return l}return-1}function iS(r,a){for(var u=-1,l=r.length,o=0,d=[];++u<l;){var h=r[u],m=a?a(h):h;if(!u||!Wc(m,v)){var v=m;d[o++]=h===0?0:h}}return d}function aL(r){return r&&r.length?iS(r):[]}function uL(r,a){return r&&r.length?iS(r,en(a)):[]}var sL=4294967295;function lL(r,a,u){return u&&typeof u!="number"&&No(r,a,u)&&(a=u=void 0),u=u===void 0?sL:u>>>0,u?(r=Rn(r),r&&(typeof a=="string"||a!=null&&!O0(a))&&(a=Yi(a),!a&&Vc(r))?Zu(Ki(r),0,u):r.split(a,u)):[]}var cL="Expected a function",fL=Math.max;function pL(r,a){if(typeof r!="function")throw new TypeError(cL);return a=a==null?0:fL(on(a),0),pn(function(u){var l=u[a],o=Zu(u,0,a);return l&&Kp(o,l),bi(r,this,o)})}var dL=Hc(function(r,a,u){return r+(u?" ":"")+c0(a)});function hL(r,a,u){return r=Rn(r),u=u==null?0:ll(on(u),0,r.length),a=Yi(a),r.slice(u,u+a.length)==a}function yL(){return{}}function vL(){return""}function gL(){return!0}var mL=zy(function(r,a){return r-a},0);function bL(r){return r&&r.length?x0(r,wi):0}function _L(r,a){return r&&r.length?x0(r,en(a)):0}function OL(r){var a=r==null?0:r.length;return a?Oi(r,1,a):[]}function wL(r,a,u){return r&&r.length?(a=u||a===void 0?1:on(a),Oi(r,0,a<0?0:a)):[]}function xL(r,a,u){var l=r==null?0:r.length;return l?(a=u||a===void 0?1:on(a),a=l-a,Oi(r,a<0?0:a,l)):[]}function EL(r,a){return r&&r.length?Gy(r,en(a),!1,!0):[]}function SL(r,a){return r&&r.length?Gy(r,en(a)):[]}function jL(r,a){return a(r),r}var aS=Object.prototype,AL=aS.hasOwnProperty;function ow(r,a,u,l){return r===void 0||Wc(r,aS[u])&&!AL.call(l,u)?a:r}var PL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function ML(r){return"\\"+PL[r]}var uS=/<%=([\s\S]+?)%>/g,TL=/<%-([\s\S]+?)%>/g,kL=/<%([\s\S]+?)%>/g,$b={escape:TL,evaluate:kL,interpolate:uS,variable:"",imports:{_:{escape:AE}}},NL="Invalid `variable` option passed into `_.template`",DL=/\b__p \+= '';/g,CL=/\b(__p \+=) '' \+/g,RL=/(__e\(.*?\)|\b__t\)) \+\n'';/g,IL=/[()=,{}\[\]\/\s]/,LL=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cy=/($^)/,BL=/['\n\r\u2028\u2029\\]/g,zL=Object.prototype,iw=zL.hasOwnProperty;function FL(r,a,u){var l=$b.imports._.templateSettings||$b;u&&No(r,a,u)&&(a=void 0),r=Rn(r),a=_y({},a,l,ow);var o=_y({},a.imports,l.imports,ow),d=Co(o),h=m0(o,d),m,v,x=0,S=a.interpolate||cy,j="__p += '",A=RegExp((a.escape||cy).source+"|"+S.source+"|"+(S===uS?LL:cy).source+"|"+(a.evaluate||cy).source+"|$","g"),M=iw.call(a,"sourceURL")?"//# sourceURL="+(a.sourceURL+"").replace(/\s/g," ")+`
`:"";r.replace(A,function(I,U,$,q,oe,J){return $||($=q),j+=r.slice(x,J).replace(BL,ML),U&&(m=!0,j+=`' +
__e(`+U+`) +
'`),oe&&(v=!0,j+=`';
`+oe+`;
__p += '`),$&&(j+=`' +
((__t = (`+$+`)) == null ? '' : __t) +
'`),x=J+I.length,I}),j+=`';
`;var D=iw.call(a,"variable")&&a.variable;if(!D)j=`with (obj) {
`+j+`
}
`;else if(IL.test(D))throw new Error(NL);j=(v?j.replace(DL,""):j).replace(CL,"$1").replace(RL,"$1;"),j="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var N=Hx(function(){return Function(d,M+"return "+j).apply(void 0,h)});if(N.source=j,s0(N))throw N;return N}function td(r,a){return a(r)}var UL=9007199254740991,mb=4294967295,WL=Math.min;function $L(r,a){if(r=on(r),r<1||r>UL)return[];var u=mb,l=WL(r,mb);a=wa(a),r-=mb;for(var o=Tx(l,a);++u<r;)a(u);return o}function GL(){return this}function sS(r,a){var u=r;return u instanceof vn&&(u=u.value()),f0(a,function(l,o){return o.func.apply(o.thisArg,Kp([l],o.args))},u)}function bb(){return sS(this.__wrapped__,this.__actions__)}function VL(r){return Rn(r).toLowerCase()}function HL(r){return Cn(r)?vr(r,Yp):qa(r)?[r]:gi(T2(Rn(r)))}var aw=9007199254740991;function XL(r){return r?ll(on(r),-aw,aw):r===0?r:0}function YL(r){return Rn(r).toUpperCase()}function KL(r,a,u){var l=Cn(r),o=l||r0(r)||o0(r);if(a=en(a),u==null){var d=r&&r.constructor;o?u=l?new d:[]:Ja(r)?u=$c(d)?Gp(k2(r)):{}:u={}}return(o?qi:Qa)(r,function(h,m,v){return a(u,h,m,v)}),u}function lS(r,a){for(var u=r.length;u--&&Jp(a,r[u],0)>-1;);return u}function cS(r,a){for(var u=-1,l=r.length;++u<l&&Jp(a,r[u],0)>-1;);return u}function qL(r,a,u){if(r=Rn(r),r&&(u||a===void 0))return N2(r);if(!r||!(a=Yi(a)))return r;var l=Ki(r),o=Ki(a),d=cS(l,o),h=lS(l,o)+1;return Zu(l,d,h).join("")}function JL(r,a,u){if(r=Rn(r),r&&(u||a===void 0))return r.slice(0,D2(r)+1);if(!r||!(a=Yi(a)))return r;var l=Ki(r),o=lS(l,Ki(a))+1;return Zu(l,0,o).join("")}var ZL=/^\s+/;function QL(r,a,u){if(r=Rn(r),r&&(u||a===void 0))return r.replace(ZL,"");if(!r||!(a=Yi(a)))return r;var l=Ki(r),o=cS(l,Ki(a));return Zu(l,o).join("")}var e4=30,t4="...",n4=/\w*$/;function r4(r,a){var u=e4,l=t4;if(Ja(a)){var o="separator"in a?a.separator:o;u="length"in a?on(a.length):u,l="omission"in a?Yi(a.omission):l}r=Rn(r);var d=r.length;if(Vc(r)){var h=Ki(r);d=h.length}if(u>=d)return r;var m=u-Yc(l);if(m<1)return l;var v=h?Zu(h,0,m).join(""):r.slice(0,m);if(o===void 0)return v+l;if(h&&(m+=v.length-m),O0(o)){if(r.slice(m).search(o)){var x,S=v;for(o.global||(o=RegExp(o.source,Rn(n4.exec(o))+"g")),o.lastIndex=0;x=o.exec(S);)var j=x.index;v=v.slice(0,j===void 0?m:j)}}else if(r.indexOf(Yi(o),m)!=m){var A=v.lastIndexOf(o);A>-1&&(v=v.slice(0,A))}return v+l}function o4(r){return Vx(r,1)}var i4={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},a4=p0(i4),fS=/&(?:amp|lt|gt|quot|#39);/g,u4=RegExp(fS.source);function s4(r){return r=Rn(r),r&&u4.test(r)?r.replace(fS,a4):r}var l4=pn(function(r){var a=Zo(r);return Mr(a)&&(a=void 0),ol(Ei(r,1,Mr,!0),en(a))}),c4=pn(function(r){var a=Zo(r);return a=typeof a=="function"?a:void 0,ol(Ei(r,1,Mr,!0),void 0,a)});function f4(r){return r&&r.length?ol(r):[]}function p4(r,a){return r&&r.length?ol(r,en(a)):[]}function d4(r,a){return a=typeof a=="function"?a:void 0,r&&r.length?ol(r,void 0,a):[]}var h4=0;function y4(r){var a=++h4;return Rn(r)+a}function v4(r,a){return r==null?!0:E0(r,a)}var g4=Math.max;function T0(r){if(!(r&&r.length))return[];var a=0;return r=sl(r,function(u){if(Mr(u))return a=g4(u.length,a),!0}),Tx(a,function(u){return vr(r,Mx(u))})}function pS(r,a){if(!(r&&r.length))return[];var u=T0(r);return a==null?u:vr(u,function(l){return bi(a,void 0,l)})}function dS(r,a,u,l){return i0(r,a,u(Ry(r,a)),l)}function m4(r,a,u){return r==null?r:dS(r,a,wa(u))}function b4(r,a,u,l){return l=typeof l=="function"?l:void 0,r==null?r:dS(r,a,wa(u),l)}var _4=Hc(function(r,a,u){return r+(u?" ":"")+a.toUpperCase()});function O4(r){return r==null?[]:m0(r,Za(r))}var w4=pn(function(r,a){return Mr(r)?Zp(r,a):[]});function x4(r,a){return Ky(wa(a),r)}var E4=qu(function(r){var a=r.length,u=a?r[0]:0,l=this.__wrapped__,o=function(d){return u0(d,r)};return a>1||this.__actions__.length||!(l instanceof vn)||!Vp(u)?this.thru(o):(l=l.slice(u,+u+(a?1:0)),l.__actions__.push({func:td,args:[o],thisArg:void 0}),new _i(l,this.__chain__).thru(function(d){return a&&!d.length&&d.push(void 0),d}))});function S4(){return gE(this)}function j4(){var r=this.__wrapped__;if(r instanceof vn){var a=r;return this.__actions__.length&&(a=new vn(this)),a=a.reverse(),a.__actions__.push({func:td,args:[Wb],thisArg:void 0}),new _i(a,this.__chain__)}return this.thru(Wb)}function k0(r,a,u){var l=r.length;if(l<2)return l?ol(r[0]):[];for(var o=-1,d=Array(l);++o<l;)for(var h=r[o],m=-1;++m<l;)m!=o&&(d[o]=Zp(d[o]||h,r[m],a,u));return ol(Ei(d,1),a,u)}var A4=pn(function(r){return k0(sl(r,Mr))}),P4=pn(function(r){var a=Zo(r);return Mr(a)&&(a=void 0),k0(sl(r,Mr),en(a))}),M4=pn(function(r){var a=Zo(r);return a=typeof a=="function"?a:void 0,k0(sl(r,Mr),void 0,a)}),T4=pn(T0);function hS(r,a,u){for(var l=-1,o=r.length,d=a.length,h={};++l<o;){var m=l<d?a[l]:void 0;u(h,r[l],m)}return h}function k4(r,a){return hS(r||[],a||[],dx)}function N4(r,a){return hS(r||[],a||[],i0)}var D4=pn(function(r){var a=r.length,u=a>1?r[a-1]:void 0;return u=typeof u=="function"?(r.pop(),u):void 0,pS(r,u)});const _t={chunk:BN,compact:HN,concat:XN,difference:vD,differenceBy:gD,differenceWith:mD,drop:_D,dropRight:OD,dropRightWhile:wD,dropWhile:xD,fill:zD,findIndex:DE,findLastIndex:_x,first:JO,flatten:C2,flattenDeep:R2,flattenDepth:KD,fromPairs:I2,head:JO,indexOf:MC,initial:TC,intersection:NC,intersectionBy:DC,intersectionWith:CC,join:jR,last:Zo,lastIndexOf:NR,nth:oI,pull:QI,pullAll:eS,pullAllBy:e3,pullAllWith:t3,pullAt:o3,remove:w3,reverse:Wb,slice:$3,sortedIndex:eL,sortedIndexBy:tL,sortedIndexOf:nL,sortedLastIndex:rL,sortedLastIndexBy:oL,sortedLastIndexOf:iL,sortedUniq:aL,sortedUniqBy:uL,tail:OL,take:wL,takeRight:xL,takeRightWhile:EL,takeWhile:SL,union:L2,unionBy:l4,unionWith:c4,uniq:f4,uniqBy:p4,uniqWith:d4,unzip:T0,unzipWith:pS,without:w4,xor:A4,xorBy:P4,xorWith:M4,zip:T4,zipObject:k4,zipObjectDeep:N4,zipWith:D4},Bn={countBy:oD,each:XO,eachRight:YO,every:ID,filter:FD,find:WD,findLast:GD,flatMap:B2,flatMapDeep:XD,flatMapDepth:YD,forEach:XO,forEachRight:YO,groupBy:hC,includes:AC,invokeMap:$C,keyBy:PR,map:n0,orderBy:yI,partition:YI,reduce:m3,reduceRight:_3,reject:O3,sample:N3,sampleSize:R3,shuffle:z3,size:W3,some:H3,sortBy:X3},C4={now:z2},gr={after:gT,ary:Vx,before:Xx,bind:Wy,bindKey:l0,curry:h0,curryRight:y0,debounce:F2,defer:dD,delay:hD,flip:JD,memoize:U2,negate:ed,once:pI,overArgs:bI,partial:Ky,partialRight:j0,rearg:g3,rest:j3,spread:pL,throttle:W2,unary:o4,wrap:x4},Rt={castArray:$2,clone:G2,cloneDeep:V2,cloneDeepWith:WN,cloneWith:GN,conformsTo:QN,eq:Wc,gt:yC,gte:vC,isArguments:wx,isArray:Cn,isArrayBuffer:HC,isArrayLike:Ku,isArrayLikeObject:Mr,isBoolean:YC,isBuffer:r0,isDate:JC,isElement:ZC,isEmpty:rR,isEqual:H2,isEqualWith:oR,isError:s0,isFinite:aR,isFunction:$c,isInteger:zE,isLength:X2,isMap:Y2,isMatch:uR,isMatchWith:sR,isNaN:cR,isNative:dR,isNil:K2,isNull:hR,isNumber:FE,isObject:Ja,isObjectLike:xi,isPlainObject:Cy,isRegExp:O0,isSafeInteger:gR,isSet:q2,isString:Xy,isSymbol:qa,isTypedArray:o0,isUndefined:J2,isWeakMap:bR,isWeakSet:OR,lt:RR,lte:IR,toArray:$E,toFinite:Vu,toInteger:on,toLength:TE,toNumber:Ka,toPlainObject:Z2,toSafeInteger:XL,toString:Rn},_o={add:yT,ceil:RN,divide:bD,floor:ZD,max:$R,maxBy:GR,mean:HR,meanBy:XR,min:qR,minBy:JR,multiply:ZR,round:T3,subtract:mL,sum:bL,sumBy:_L},N0={clamp:zN,inRange:EC,random:c3},Kt={assign:hk,assignIn:WO,assignInWith:_y,assignWith:yk,at:vk,create:iD,defaults:cD,defaultsDeep:fD,entries:KO,entriesIn:qO,extend:WO,extendWith:_y,findKey:$D,findLastKey:VD,forIn:aC,forInRight:uC,forOwn:sC,forOwnRight:lC,functions:cC,functionsIn:fC,get:hx,has:_C,hasIn:Q2,invert:BC,invertBy:UC,invoke:WC,keys:Co,keysIn:Za,mapKeys:LR,mapValues:BR,merge:eT,mergeWith:OE,omit:cI,omitBy:fI,pick:tT,pickBy:VE,result:A3,set:nT,setWith:I3,toPairs:KO,toPairsIn:qO,transform:KL,unset:v4,update:m4,updateWith:b4,values:Xc,valuesIn:O4},xa={at:E4,chain:gE,commit:VN,lodash:W,next:rI,plant:KI,reverse:j4,tap:jL,thru:td,toIterator:GL,toJSON:bb,value:bb,valueOf:bb,wrapperChain:S4},Tn={camelCase:NN,capitalize:tE,deburr:nE,endsWith:SD,escape:AE,escapeRegExp:CD,kebabCase:AR,lowerCase:DR,lowerFirst:CR,pad:FI,padEnd:UI,padStart:WI,parseInt:VI,repeat:x3,replace:E3,snakeCase:G3,split:lL,startCase:dL,startsWith:hL,template:FL,templateSettings:$b,toLower:VL,toUpper:YL,trim:qL,trimEnd:JL,trimStart:QL,truncate:r4,unescape:s4,upperCase:_4,upperFirst:c0,words:vE},kn={attempt:Hx,bindAll:wk,cond:KN,conforms:ZN,constant:Ox,defaultTo:sD,flow:oC,flowRight:iC,identity:wi,iteratee:xR,matches:FR,matchesProperty:WR,method:YR,methodOf:KR,mixin:WE,noop:fx,nthArg:iI,over:vI,overEvery:_I,overSome:OI,property:rT,propertyOf:qI,range:h3,rangeRight:y3,stubArray:oT,stubFalse:jx,stubObject:yL,stubString:vL,stubTrue:gL,times:$L,toPath:HL,uniqueId:y4};function R4(){var r=new vn(this.__wrapped__);return r.__actions__=gi(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=gi(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=gi(this.__views__),r}function I4(){if(this.__filtered__){var r=new vn(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}var L4=Math.max,B4=Math.min;function z4(r,a,u){for(var l=-1,o=u.length;++l<o;){var d=u[l],h=d.size;switch(d.type){case"drop":r+=h;break;case"dropRight":a-=h;break;case"take":a=B4(a,r+h);break;case"takeRight":r=L4(r,a-h);break}}return{start:r,end:a}}var F4=1,U4=2,W4=Math.min;function $4(){var r=this.__wrapped__.value(),a=this.__dir__,u=Cn(r),l=a<0,o=u?r.length:0,d=z4(0,o,this.__views__),h=d.start,m=d.end,v=m-h,x=l?m:h-1,S=this.__iteratees__,j=S.length,A=0,M=W4(v,this.__takeCount__);if(!u||!l&&o==v&&M==v)return sS(r,this.__actions__);var D=[];e:for(;v--&&A<M;){x+=a;for(var N=-1,I=r[x];++N<j;){var U=S[N],$=U.iteratee,q=U.type,oe=$(I);if(q==U4)I=oe;else if(!oe){if(q==F4)continue e;break e}}D[A++]=I}return D}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var G4="4.17.21",V4=2,H4=1,X4=3,yS=4294967295,Y4=Array.prototype,K4=Object.prototype,vS=K4.hasOwnProperty,uw=my?my.iterator:void 0,q4=Math.max,sw=Math.min,D0=function(r){return function(a,u,l){if(l==null){var o=Ja(u),d=o&&Co(u),h=d&&d.length&&Vy(u,d);(h?h.length:o)||(l=u,u=a,a=this)}return r(a,u,l)}}(WE);W.after=gr.after;W.ary=gr.ary;W.assign=Kt.assign;W.assignIn=Kt.assignIn;W.assignInWith=Kt.assignInWith;W.assignWith=Kt.assignWith;W.at=Kt.at;W.before=gr.before;W.bind=gr.bind;W.bindAll=kn.bindAll;W.bindKey=gr.bindKey;W.castArray=Rt.castArray;W.chain=xa.chain;W.chunk=_t.chunk;W.compact=_t.compact;W.concat=_t.concat;W.cond=kn.cond;W.conforms=kn.conforms;W.constant=kn.constant;W.countBy=Bn.countBy;W.create=Kt.create;W.curry=gr.curry;W.curryRight=gr.curryRight;W.debounce=gr.debounce;W.defaults=Kt.defaults;W.defaultsDeep=Kt.defaultsDeep;W.defer=gr.defer;W.delay=gr.delay;W.difference=_t.difference;W.differenceBy=_t.differenceBy;W.differenceWith=_t.differenceWith;W.drop=_t.drop;W.dropRight=_t.dropRight;W.dropRightWhile=_t.dropRightWhile;W.dropWhile=_t.dropWhile;W.fill=_t.fill;W.filter=Bn.filter;W.flatMap=Bn.flatMap;W.flatMapDeep=Bn.flatMapDeep;W.flatMapDepth=Bn.flatMapDepth;W.flatten=_t.flatten;W.flattenDeep=_t.flattenDeep;W.flattenDepth=_t.flattenDepth;W.flip=gr.flip;W.flow=kn.flow;W.flowRight=kn.flowRight;W.fromPairs=_t.fromPairs;W.functions=Kt.functions;W.functionsIn=Kt.functionsIn;W.groupBy=Bn.groupBy;W.initial=_t.initial;W.intersection=_t.intersection;W.intersectionBy=_t.intersectionBy;W.intersectionWith=_t.intersectionWith;W.invert=Kt.invert;W.invertBy=Kt.invertBy;W.invokeMap=Bn.invokeMap;W.iteratee=kn.iteratee;W.keyBy=Bn.keyBy;W.keys=Co;W.keysIn=Kt.keysIn;W.map=Bn.map;W.mapKeys=Kt.mapKeys;W.mapValues=Kt.mapValues;W.matches=kn.matches;W.matchesProperty=kn.matchesProperty;W.memoize=gr.memoize;W.merge=Kt.merge;W.mergeWith=Kt.mergeWith;W.method=kn.method;W.methodOf=kn.methodOf;W.mixin=D0;W.negate=ed;W.nthArg=kn.nthArg;W.omit=Kt.omit;W.omitBy=Kt.omitBy;W.once=gr.once;W.orderBy=Bn.orderBy;W.over=kn.over;W.overArgs=gr.overArgs;W.overEvery=kn.overEvery;W.overSome=kn.overSome;W.partial=gr.partial;W.partialRight=gr.partialRight;W.partition=Bn.partition;W.pick=Kt.pick;W.pickBy=Kt.pickBy;W.property=kn.property;W.propertyOf=kn.propertyOf;W.pull=_t.pull;W.pullAll=_t.pullAll;W.pullAllBy=_t.pullAllBy;W.pullAllWith=_t.pullAllWith;W.pullAt=_t.pullAt;W.range=kn.range;W.rangeRight=kn.rangeRight;W.rearg=gr.rearg;W.reject=Bn.reject;W.remove=_t.remove;W.rest=gr.rest;W.reverse=_t.reverse;W.sampleSize=Bn.sampleSize;W.set=Kt.set;W.setWith=Kt.setWith;W.shuffle=Bn.shuffle;W.slice=_t.slice;W.sortBy=Bn.sortBy;W.sortedUniq=_t.sortedUniq;W.sortedUniqBy=_t.sortedUniqBy;W.split=Tn.split;W.spread=gr.spread;W.tail=_t.tail;W.take=_t.take;W.takeRight=_t.takeRight;W.takeRightWhile=_t.takeRightWhile;W.takeWhile=_t.takeWhile;W.tap=xa.tap;W.throttle=gr.throttle;W.thru=td;W.toArray=Rt.toArray;W.toPairs=Kt.toPairs;W.toPairsIn=Kt.toPairsIn;W.toPath=kn.toPath;W.toPlainObject=Rt.toPlainObject;W.transform=Kt.transform;W.unary=gr.unary;W.union=_t.union;W.unionBy=_t.unionBy;W.unionWith=_t.unionWith;W.uniq=_t.uniq;W.uniqBy=_t.uniqBy;W.uniqWith=_t.uniqWith;W.unset=Kt.unset;W.unzip=_t.unzip;W.unzipWith=_t.unzipWith;W.update=Kt.update;W.updateWith=Kt.updateWith;W.values=Kt.values;W.valuesIn=Kt.valuesIn;W.without=_t.without;W.words=Tn.words;W.wrap=gr.wrap;W.xor=_t.xor;W.xorBy=_t.xorBy;W.xorWith=_t.xorWith;W.zip=_t.zip;W.zipObject=_t.zipObject;W.zipObjectDeep=_t.zipObjectDeep;W.zipWith=_t.zipWith;W.entries=Kt.toPairs;W.entriesIn=Kt.toPairsIn;W.extend=Kt.assignIn;W.extendWith=Kt.assignInWith;D0(W,W);W.add=_o.add;W.attempt=kn.attempt;W.camelCase=Tn.camelCase;W.capitalize=Tn.capitalize;W.ceil=_o.ceil;W.clamp=N0.clamp;W.clone=Rt.clone;W.cloneDeep=Rt.cloneDeep;W.cloneDeepWith=Rt.cloneDeepWith;W.cloneWith=Rt.cloneWith;W.conformsTo=Rt.conformsTo;W.deburr=Tn.deburr;W.defaultTo=kn.defaultTo;W.divide=_o.divide;W.endsWith=Tn.endsWith;W.eq=Rt.eq;W.escape=Tn.escape;W.escapeRegExp=Tn.escapeRegExp;W.every=Bn.every;W.find=Bn.find;W.findIndex=_t.findIndex;W.findKey=Kt.findKey;W.findLast=Bn.findLast;W.findLastIndex=_t.findLastIndex;W.findLastKey=Kt.findLastKey;W.floor=_o.floor;W.forEach=Bn.forEach;W.forEachRight=Bn.forEachRight;W.forIn=Kt.forIn;W.forInRight=Kt.forInRight;W.forOwn=Kt.forOwn;W.forOwnRight=Kt.forOwnRight;W.get=Kt.get;W.gt=Rt.gt;W.gte=Rt.gte;W.has=Kt.has;W.hasIn=Kt.hasIn;W.head=_t.head;W.identity=wi;W.includes=Bn.includes;W.indexOf=_t.indexOf;W.inRange=N0.inRange;W.invoke=Kt.invoke;W.isArguments=Rt.isArguments;W.isArray=Cn;W.isArrayBuffer=Rt.isArrayBuffer;W.isArrayLike=Rt.isArrayLike;W.isArrayLikeObject=Rt.isArrayLikeObject;W.isBoolean=Rt.isBoolean;W.isBuffer=Rt.isBuffer;W.isDate=Rt.isDate;W.isElement=Rt.isElement;W.isEmpty=Rt.isEmpty;W.isEqual=Rt.isEqual;W.isEqualWith=Rt.isEqualWith;W.isError=Rt.isError;W.isFinite=Rt.isFinite;W.isFunction=Rt.isFunction;W.isInteger=Rt.isInteger;W.isLength=Rt.isLength;W.isMap=Rt.isMap;W.isMatch=Rt.isMatch;W.isMatchWith=Rt.isMatchWith;W.isNaN=Rt.isNaN;W.isNative=Rt.isNative;W.isNil=Rt.isNil;W.isNull=Rt.isNull;W.isNumber=Rt.isNumber;W.isObject=Ja;W.isObjectLike=Rt.isObjectLike;W.isPlainObject=Rt.isPlainObject;W.isRegExp=Rt.isRegExp;W.isSafeInteger=Rt.isSafeInteger;W.isSet=Rt.isSet;W.isString=Rt.isString;W.isSymbol=Rt.isSymbol;W.isTypedArray=Rt.isTypedArray;W.isUndefined=Rt.isUndefined;W.isWeakMap=Rt.isWeakMap;W.isWeakSet=Rt.isWeakSet;W.join=_t.join;W.kebabCase=Tn.kebabCase;W.last=Zo;W.lastIndexOf=_t.lastIndexOf;W.lowerCase=Tn.lowerCase;W.lowerFirst=Tn.lowerFirst;W.lt=Rt.lt;W.lte=Rt.lte;W.max=_o.max;W.maxBy=_o.maxBy;W.mean=_o.mean;W.meanBy=_o.meanBy;W.min=_o.min;W.minBy=_o.minBy;W.stubArray=kn.stubArray;W.stubFalse=kn.stubFalse;W.stubObject=kn.stubObject;W.stubString=kn.stubString;W.stubTrue=kn.stubTrue;W.multiply=_o.multiply;W.nth=_t.nth;W.noop=kn.noop;W.now=C4.now;W.pad=Tn.pad;W.padEnd=Tn.padEnd;W.padStart=Tn.padStart;W.parseInt=Tn.parseInt;W.random=N0.random;W.reduce=Bn.reduce;W.reduceRight=Bn.reduceRight;W.repeat=Tn.repeat;W.replace=Tn.replace;W.result=Kt.result;W.round=_o.round;W.sample=Bn.sample;W.size=Bn.size;W.snakeCase=Tn.snakeCase;W.some=Bn.some;W.sortedIndex=_t.sortedIndex;W.sortedIndexBy=_t.sortedIndexBy;W.sortedIndexOf=_t.sortedIndexOf;W.sortedLastIndex=_t.sortedLastIndex;W.sortedLastIndexBy=_t.sortedLastIndexBy;W.sortedLastIndexOf=_t.sortedLastIndexOf;W.startCase=Tn.startCase;W.startsWith=Tn.startsWith;W.subtract=_o.subtract;W.sum=_o.sum;W.sumBy=_o.sumBy;W.template=Tn.template;W.times=kn.times;W.toFinite=Rt.toFinite;W.toInteger=on;W.toLength=Rt.toLength;W.toLower=Tn.toLower;W.toNumber=Rt.toNumber;W.toSafeInteger=Rt.toSafeInteger;W.toString=Rt.toString;W.toUpper=Tn.toUpper;W.trim=Tn.trim;W.trimEnd=Tn.trimEnd;W.trimStart=Tn.trimStart;W.truncate=Tn.truncate;W.unescape=Tn.unescape;W.uniqueId=kn.uniqueId;W.upperCase=Tn.upperCase;W.upperFirst=Tn.upperFirst;W.each=Bn.forEach;W.eachRight=Bn.forEachRight;W.first=_t.head;D0(W,function(){var r={};return Qa(W,function(a,u){vS.call(W.prototype,u)||(r[u]=a)}),r}(),{chain:!1});W.VERSION=G4;(W.templateSettings=Tn.templateSettings).imports._=W;qi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){W[r].placeholder=W});qi(["drop","take"],function(r,a){vn.prototype[r]=function(u){u=u===void 0?1:q4(on(u),0);var l=this.__filtered__&&!a?new vn(this):this.clone();return l.__filtered__?l.__takeCount__=sw(u,l.__takeCount__):l.__views__.push({size:sw(u,yS),type:r+(l.__dir__<0?"Right":"")}),l},vn.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}});qi(["filter","map","takeWhile"],function(r,a){var u=a+1,l=u==H4||u==X4;vn.prototype[r]=function(o){var d=this.clone();return d.__iteratees__.push({iteratee:en(o),type:u}),d.__filtered__=d.__filtered__||l,d}});qi(["head","last"],function(r,a){var u="take"+(a?"Right":"");vn.prototype[r]=function(){return this[u](1).value()[0]}});qi(["initial","tail"],function(r,a){var u="drop"+(a?"":"Right");vn.prototype[r]=function(){return this.__filtered__?new vn(this):this[u](1)}});vn.prototype.compact=function(){return this.filter(wi)};vn.prototype.find=function(r){return this.filter(r).head()};vn.prototype.findLast=function(r){return this.reverse().find(r)};vn.prototype.invokeMap=pn(function(r,a){return typeof r=="function"?new vn(this):this.map(function(u){return Qp(u,r,a)})});vn.prototype.reject=function(r){return this.filter(ed(en(r)))};vn.prototype.slice=function(r,a){r=on(r);var u=this;return u.__filtered__&&(r>0||a<0)?new vn(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),a!==void 0&&(a=on(a),u=a<0?u.dropRight(-a):u.take(a-r)),u)};vn.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()};vn.prototype.toArray=function(){return this.take(yS)};Qa(vn.prototype,function(r,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),l=/^(?:head|last)$/.test(a),o=W[l?"take"+(a=="last"?"Right":""):a],d=l||/^find/.test(a);o&&(W.prototype[a]=function(){var h=this.__wrapped__,m=l?[1]:arguments,v=h instanceof vn,x=m[0],S=v||Cn(h),j=function(U){var $=o.apply(W,Kp([U],m));return l&&A?$[0]:$};S&&u&&typeof x=="function"&&x.length!=1&&(v=S=!1);var A=this.__chain__,M=!!this.__actions__.length,D=d&&!A,N=v&&!M;if(!d&&S){h=N?h:new vn(this);var I=r.apply(h,m);return I.__actions__.push({func:td,args:[j],thisArg:void 0}),new _i(I,A)}return D&&N?r.apply(this,m):(I=this.thru(j),D?l?I.value()[0]:I.value():I)})});qi(["pop","push","shift","sort","splice","unshift"],function(r){var a=Y4[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",l=/^(?:pop|shift)$/.test(r);W.prototype[r]=function(){var o=arguments;if(l&&!this.__chain__){var d=this.value();return a.apply(Cn(d)?d:[],o)}return this[u](function(h){return a.apply(Cn(h)?h:[],o)})}});Qa(vn.prototype,function(r,a){var u=W[a];if(u){var l=u.name+"";vS.call(Cc,l)||(Cc[l]=[]),Cc[l].push({name:a,func:u})}});Cc[Uy(void 0,V4).name]=[{name:"wrapper",func:void 0}];vn.prototype.clone=R4;vn.prototype.reverse=I4;vn.prototype.value=$4;W.prototype.at=xa.at;W.prototype.chain=xa.wrapperChain;W.prototype.commit=xa.commit;W.prototype.next=xa.next;W.prototype.plant=xa.plant;W.prototype.reverse=xa.reverse;W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=xa.value;W.prototype.first=W.prototype.head;uw&&(W.prototype[uw]=xa.toIterator);var Gb={exports:{}};(function(r,a){(function(u,l){r.exports=l()})(window,function(){return function(u){var l={};function o(d){if(l[d])return l[d].exports;var h=l[d]={i:d,l:!1,exports:{}};return u[d].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=u,o.c=l,o.d=function(d,h,m){o.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:m})},o.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,h){if(1&h&&(d=o(d)),8&h||4&h&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&h&&typeof d!="string")for(var v in d)o.d(m,v,(function(x){return d[x]}).bind(null,v));return m},o.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(h,"a",h),h},o.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},o.p="",o(o.s=222)}([function(u,l,o){o.d(l,"a",function(){return J}),o.d(l,"b",function(){return oe}),o.d(l,"c",function(){return Qe}),o.d(l,"d",function(){return yt}),o.d(l,"e",function(){return U}),o.d(l,"f",function(){return q}),o.d(l,"g",function(){return U}),o.d(l,"h",function(){return Ke}),o.d(l,"i",function(){return h}),o.d(l,"j",function(){return Ot}),o.d(l,"k",function(){return X});var d,h,m,v,x,S,j,A={},M=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(le,se){for(var ge in se)le[ge]=se[ge];return le}function I(le){var se=le.parentNode;se&&se.removeChild(le)}function U(le,se,ge){var Ae,He,Ue,At={};for(Ue in se)Ue=="key"?Ae=se[Ue]:Ue=="ref"?He=se[Ue]:At[Ue]=se[Ue];if(arguments.length>2&&(At.children=arguments.length>3?d.call(arguments,2):ge),typeof le=="function"&&le.defaultProps!=null)for(Ue in le.defaultProps)At[Ue]===void 0&&(At[Ue]=le.defaultProps[Ue]);return $(le,At,Ae,He,null)}function $(le,se,ge,Ae,He){var Ue={type:le,props:se,key:ge,ref:Ae,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He??++m};return He==null&&h.vnode!=null&&h.vnode(Ue),Ue}function q(){return{current:null}}function oe(le){return le.children}function J(le,se){this.props=le,this.context=se}function Q(le,se){if(se==null)return le.__?Q(le.__,le.__.__k.indexOf(le)+1):null;for(var ge;se<le.__k.length;se++)if((ge=le.__k[se])!=null&&ge.__e!=null)return ge.__e;return typeof le.type=="function"?Q(le):null}function ee(le){var se,ge;if((le=le.__)!=null&&le.__c!=null){for(le.__e=le.__c.base=null,se=0;se<le.__k.length;se++)if((ge=le.__k[se])!=null&&ge.__e!=null){le.__e=le.__c.base=ge.__e;break}return ee(le)}}function G(le){(!le.__d&&(le.__d=!0)&&v.push(le)&&!z.__r++||S!==h.debounceRendering)&&((S=h.debounceRendering)||x)(z)}function z(){for(var le;z.__r=v.length;)le=v.sort(function(se,ge){return se.__v.__b-ge.__v.__b}),v=[],le.some(function(se){var ge,Ae,He,Ue,At,It;se.__d&&(At=(Ue=(ge=se).__v).__e,(It=ge.__P)&&(Ae=[],(He=N({},Ue)).__v=Ue.__v+1,Pe(It,Ue,He,ge.__n,It.ownerSVGElement!==void 0,Ue.__h!=null?[At]:null,Ae,At??Q(Ue),Ue.__h),me(Ae,Ue),Ue.__e!=At&&ee(Ue)))})}function H(le,se,ge,Ae,He,Ue,At,It,Tt,wt){var Ne,dt,pe,lt,$t,gn,Gt,un=Ae&&Ae.__k||M,Sn=un.length;for(ge.__k=[],Ne=0;Ne<se.length;Ne++)if((lt=ge.__k[Ne]=(lt=se[Ne])==null||typeof lt=="boolean"?null:typeof lt=="string"||typeof lt=="number"||typeof lt=="bigint"?$(null,lt,null,null,lt):Array.isArray(lt)?$(oe,{children:lt},null,null,null):lt.__b>0?$(lt.type,lt.props,lt.key,null,lt.__v):lt)!=null){if(lt.__=ge,lt.__b=ge.__b+1,(pe=un[Ne])===null||pe&&lt.key==pe.key&&lt.type===pe.type)un[Ne]=void 0;else for(dt=0;dt<Sn;dt++){if((pe=un[dt])&&lt.key==pe.key&&lt.type===pe.type){un[dt]=void 0;break}pe=null}Pe(le,lt,pe=pe||A,He,Ue,At,It,Tt,wt),$t=lt.__e,(dt=lt.ref)&&pe.ref!=dt&&(Gt||(Gt=[]),pe.ref&&Gt.push(pe.ref,null,lt),Gt.push(dt,lt.__c||$t,lt)),$t!=null?(gn==null&&(gn=$t),typeof lt.type=="function"&&lt.__k===pe.__k?lt.__d=Tt=K(lt,Tt,le):Tt=ne(le,lt,pe,un,$t,Tt),typeof ge.type=="function"&&(ge.__d=Tt)):Tt&&pe.__e==Tt&&Tt.parentNode!=le&&(Tt=Q(pe))}for(ge.__e=gn,Ne=Sn;Ne--;)un[Ne]!=null&&(typeof ge.type=="function"&&un[Ne].__e!=null&&un[Ne].__e==ge.__d&&(ge.__d=Q(Ae,Ne+1)),Ge(un[Ne],un[Ne]));if(Gt)for(Ne=0;Ne<Gt.length;Ne++)ke(Gt[Ne],Gt[++Ne],Gt[++Ne])}function K(le,se,ge){for(var Ae,He=le.__k,Ue=0;He&&Ue<He.length;Ue++)(Ae=He[Ue])&&(Ae.__=le,se=typeof Ae.type=="function"?K(Ae,se,ge):ne(ge,Ae,Ae,He,Ae.__e,se));return se}function X(le,se){return se=se||[],le==null||typeof le=="boolean"||(Array.isArray(le)?le.some(function(ge){X(ge,se)}):se.push(le)),se}function ne(le,se,ge,Ae,He,Ue){var At,It,Tt;if(se.__d!==void 0)At=se.__d,se.__d=void 0;else if(ge==null||He!=Ue||He.parentNode==null)e:if(Ue==null||Ue.parentNode!==le)le.appendChild(He),At=null;else{for(It=Ue,Tt=0;(It=It.nextSibling)&&Tt<Ae.length;Tt+=2)if(It==He)break e;le.insertBefore(He,Ue),At=Ue}return At!==void 0?At:He.nextSibling}function ye(le,se,ge){se[0]==="-"?le.setProperty(se,ge):le[se]=ge==null?"":typeof ge!="number"||D.test(se)?ge:ge+"px"}function he(le,se,ge,Ae,He){var Ue;e:if(se==="style")if(typeof ge=="string")le.style.cssText=ge;else{if(typeof Ae=="string"&&(le.style.cssText=Ae=""),Ae)for(se in Ae)ge&&se in ge||ye(le.style,se,"");if(ge)for(se in ge)Ae&&ge[se]===Ae[se]||ye(le.style,se,ge[se])}else if(se[0]==="o"&&se[1]==="n")Ue=se!==(se=se.replace(/Capture$/,"")),se=se.toLowerCase()in le?se.toLowerCase().slice(2):se.slice(2),le.l||(le.l={}),le.l[se+Ue]=ge,ge?Ae||le.addEventListener(se,Ue?Fe:Se,Ue):le.removeEventListener(se,Ue?Fe:Se,Ue);else if(se!=="dangerouslySetInnerHTML"){if(He)se=se.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(se!=="href"&&se!=="list"&&se!=="form"&&se!=="tabIndex"&&se!=="download"&&se in le)try{le[se]=ge??"";break e}catch{}typeof ge=="function"||(ge!=null&&(ge!==!1||se[0]==="a"&&se[1]==="r")?le.setAttribute(se,ge):le.removeAttribute(se))}}function Se(le){this.l[le.type+!1](h.event?h.event(le):le)}function Fe(le){this.l[le.type+!0](h.event?h.event(le):le)}function Pe(le,se,ge,Ae,He,Ue,At,It,Tt){var wt,Ne,dt,pe,lt,$t,gn,Gt,un,Sn,In,Bt=se.type;if(se.constructor!==void 0)return null;ge.__h!=null&&(Tt=ge.__h,It=se.__e=ge.__e,se.__h=null,Ue=[It]),(wt=h.__b)&&wt(se);try{e:if(typeof Bt=="function"){if(Gt=se.props,un=(wt=Bt.contextType)&&Ae[wt.__c],Sn=wt?un?un.props.value:wt.__:Ae,ge.__c?gn=(Ne=se.__c=ge.__c).__=Ne.__E:("prototype"in Bt&&Bt.prototype.render?se.__c=Ne=new Bt(Gt,Sn):(se.__c=Ne=new J(Gt,Sn),Ne.constructor=Bt,Ne.render=ot),un&&un.sub(Ne),Ne.props=Gt,Ne.state||(Ne.state={}),Ne.context=Sn,Ne.__n=Ae,dt=Ne.__d=!0,Ne.__h=[]),Ne.__s==null&&(Ne.__s=Ne.state),Bt.getDerivedStateFromProps!=null&&(Ne.__s==Ne.state&&(Ne.__s=N({},Ne.__s)),N(Ne.__s,Bt.getDerivedStateFromProps(Gt,Ne.__s))),pe=Ne.props,lt=Ne.state,dt)Bt.getDerivedStateFromProps==null&&Ne.componentWillMount!=null&&Ne.componentWillMount(),Ne.componentDidMount!=null&&Ne.__h.push(Ne.componentDidMount);else{if(Bt.getDerivedStateFromProps==null&&Gt!==pe&&Ne.componentWillReceiveProps!=null&&Ne.componentWillReceiveProps(Gt,Sn),!Ne.__e&&Ne.shouldComponentUpdate!=null&&Ne.shouldComponentUpdate(Gt,Ne.__s,Sn)===!1||se.__v===ge.__v){Ne.props=Gt,Ne.state=Ne.__s,se.__v!==ge.__v&&(Ne.__d=!1),Ne.__v=se,se.__e=ge.__e,se.__k=ge.__k,se.__k.forEach(function(Zn){Zn&&(Zn.__=se)}),Ne.__h.length&&At.push(Ne);break e}Ne.componentWillUpdate!=null&&Ne.componentWillUpdate(Gt,Ne.__s,Sn),Ne.componentDidUpdate!=null&&Ne.__h.push(function(){Ne.componentDidUpdate(pe,lt,$t)})}Ne.context=Sn,Ne.props=Gt,Ne.state=Ne.__s,(wt=h.__r)&&wt(se),Ne.__d=!1,Ne.__v=se,Ne.__P=le,wt=Ne.render(Ne.props,Ne.state,Ne.context),Ne.state=Ne.__s,Ne.getChildContext!=null&&(Ae=N(N({},Ae),Ne.getChildContext())),dt||Ne.getSnapshotBeforeUpdate==null||($t=Ne.getSnapshotBeforeUpdate(pe,lt)),In=wt!=null&&wt.type===oe&&wt.key==null?wt.props.children:wt,H(le,Array.isArray(In)?In:[In],se,ge,Ae,He,Ue,At,It,Tt),Ne.base=se.__e,se.__h=null,Ne.__h.length&&At.push(Ne),gn&&(Ne.__E=Ne.__=null),Ne.__e=!1}else Ue==null&&se.__v===ge.__v?(se.__k=ge.__k,se.__e=ge.__e):se.__e=Me(ge.__e,se,ge,Ae,He,Ue,At,Tt);(wt=h.diffed)&&wt(se)}catch(Zn){se.__v=null,(Tt||Ue!=null)&&(se.__e=It,se.__h=!!Tt,Ue[Ue.indexOf(It)]=null),h.__e(Zn,se,ge)}}function me(le,se){h.__c&&h.__c(se,le),le.some(function(ge){try{le=ge.__h,ge.__h=[],le.some(function(Ae){Ae.call(ge)})}catch(Ae){h.__e(Ae,ge.__v)}})}function Me(le,se,ge,Ae,He,Ue,At,It){var Tt,wt,Ne,dt=ge.props,pe=se.props,lt=se.type,$t=0;if(lt==="svg"&&(He=!0),Ue!=null){for(;$t<Ue.length;$t++)if((Tt=Ue[$t])&&"setAttribute"in Tt==!!lt&&(lt?Tt.localName===lt:Tt.nodeType===3)){le=Tt,Ue[$t]=null;break}}if(le==null){if(lt===null)return document.createTextNode(pe);le=He?document.createElementNS("http://www.w3.org/2000/svg",lt):document.createElement(lt,pe.is&&pe),Ue=null,It=!1}if(lt===null)dt===pe||It&&le.data===pe||(le.data=pe);else{if(Ue=Ue&&d.call(le.childNodes),wt=(dt=ge.props||A).dangerouslySetInnerHTML,Ne=pe.dangerouslySetInnerHTML,!It){if(Ue!=null)for(dt={},$t=0;$t<le.attributes.length;$t++)dt[le.attributes[$t].name]=le.attributes[$t].value;(Ne||wt)&&(Ne&&(wt&&Ne.__html==wt.__html||Ne.__html===le.innerHTML)||(le.innerHTML=Ne&&Ne.__html||""))}if(function(gn,Gt,un,Sn,In){var Bt;for(Bt in un)Bt==="children"||Bt==="key"||Bt in Gt||he(gn,Bt,null,un[Bt],Sn);for(Bt in Gt)In&&typeof Gt[Bt]!="function"||Bt==="children"||Bt==="key"||Bt==="value"||Bt==="checked"||un[Bt]===Gt[Bt]||he(gn,Bt,Gt[Bt],un[Bt],Sn)}(le,pe,dt,He,It),Ne)se.__k=[];else if($t=se.props.children,H(le,Array.isArray($t)?$t:[$t],se,ge,Ae,He&&lt!=="foreignObject",Ue,At,Ue?Ue[0]:ge.__k&&Q(ge,0),It),Ue!=null)for($t=Ue.length;$t--;)Ue[$t]!=null&&I(Ue[$t]);It||("value"in pe&&($t=pe.value)!==void 0&&($t!==dt.value||$t!==le.value||lt==="progress"&&!$t)&&he(le,"value",$t,dt.value,!1),"checked"in pe&&($t=pe.checked)!==void 0&&$t!==le.checked&&he(le,"checked",$t,dt.checked,!1))}return le}function ke(le,se,ge){try{typeof le=="function"?le(se):le.current=se}catch(Ae){h.__e(Ae,ge)}}function Ge(le,se,ge){var Ae,He;if(h.unmount&&h.unmount(le),(Ae=le.ref)&&(Ae.current&&Ae.current!==le.__e||ke(Ae,null,se)),(Ae=le.__c)!=null){if(Ae.componentWillUnmount)try{Ae.componentWillUnmount()}catch(Ue){h.__e(Ue,se)}Ae.base=Ae.__P=null}if(Ae=le.__k)for(He=0;He<Ae.length;He++)Ae[He]&&Ge(Ae[He],se,typeof le.type!="function");ge||le.__e==null||I(le.__e),le.__e=le.__d=void 0}function ot(le,se,ge){return this.constructor(le,ge)}function Ot(le,se,ge){var Ae,He,Ue;h.__&&h.__(le,se),He=(Ae=typeof ge=="function")?null:ge&&ge.__k||se.__k,Ue=[],Pe(se,le=(!Ae&&ge||se).__k=U(oe,null,[le]),He||A,A,se.ownerSVGElement!==void 0,!Ae&&ge?[ge]:He?null:se.firstChild?d.call(se.childNodes):null,Ue,!Ae&&ge?ge:He?He.__e:se.firstChild,Ae),me(Ue,le)}function Ke(le,se){Ot(le,se,Ke)}function Qe(le,se,ge){var Ae,He,Ue,At=N({},le.props);for(Ue in se)Ue=="key"?Ae=se[Ue]:Ue=="ref"?He=se[Ue]:At[Ue]=se[Ue];return arguments.length>2&&(At.children=arguments.length>3?d.call(arguments,2):ge),$(le.type,At,Ae||le.key,He||le.ref,null)}function yt(le,se){var ge={__c:se="__cC"+j++,__:le,Consumer:function(Ae,He){return Ae.children(He)},Provider:function(Ae){var He,Ue;return this.getChildContext||(He=[],(Ue={})[se]=this,this.getChildContext=function(){return Ue},this.shouldComponentUpdate=function(At){this.props.value!==At.value&&He.some(G)},this.sub=function(At){He.push(At);var It=At.componentWillUnmount;At.componentWillUnmount=function(){He.splice(He.indexOf(At),1),It&&It.call(At)}}),Ae.children}};return ge.Provider.__=ge.Consumer.contextType=ge}d=M.slice,h={__e:function(le,se){for(var ge,Ae,He;se=se.__;)if((ge=se.__c)&&!ge.__)try{if((Ae=ge.constructor)&&Ae.getDerivedStateFromError!=null&&(ge.setState(Ae.getDerivedStateFromError(le)),He=ge.__d),ge.componentDidCatch!=null&&(ge.componentDidCatch(le),He=ge.__d),He)return ge.__E=ge}catch(Ue){le=Ue}throw le}},m=0,J.prototype.setState=function(le,se){var ge;ge=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof le=="function"&&(le=le(N({},ge),this.props)),le&&N(ge,le),le!=null&&this.__v&&(se&&this.__h.push(se),G(this))},J.prototype.forceUpdate=function(le){this.__v&&(this.__e=!0,le&&this.__h.push(le),G(this))},J.prototype.render=oe,v=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,j=0},function(u,l,o){(function(d,h){o.d(l,"a",function(){return G}),o.d(l,"b",function(){return ms}),o.d(l,"c",function(){return Eo}),o.d(l,"d",function(){return Mt}),o.d(l,"e",function(){return Ze}),o.d(l,"f",function(){return Je}),o.d(l,"g",function(){return Et}),o.d(l,"h",function(){return Uo}),o.d(l,"i",function(){return In}),o.d(l,"j",function(){return ct}),o.d(l,"k",function(){return ti}),o.d(l,"l",function(){return ss}),o.d(l,"m",function(){return gn}),o.d(l,"n",function(){return Zi}),o.d(l,"o",function(){return K}),o.d(l,"p",function(){return rf}),o.d(l,"q",function(){return ni}),o.d(l,"r",function(){return ou}),o.d(l,"s",function(){return po}),o.d(l,"t",function(){return Xn}),o.d(l,"u",function(){return ru}),o.d(l,"v",function(){return gl}),o.d(l,"w",function(){return ds}),o.d(l,"x",function(){return Qi}),o.d(l,"y",function(){return fo}),o.d(l,"z",function(){return er}),o.d(l,"A",function(){return Gr}),o.d(l,"B",function(){return ri}),o.d(l,"C",function(){return wt}),o.d(l,"D",function(){return of}),o.d(l,"E",function(){return mn}),o.d(l,"F",function(){return _n}),o.d(l,"G",function(){return as}),o.d(l,"H",function(){return is}),o.d(l,"I",function(){return hs}),o.d(l,"J",function(){return lr}),o.d(l,"K",function(){return ve}),o.d(l,"L",function(){return Pn}),o.d(l,"M",function(){return au});var m=[];Object.freeze(m);var v={};function x(){return++ht.mobxGuid}function S(O){throw j(!1,O),"X"}function j(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function A(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var M=function(){};function D(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function I(O,w,k){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:k})}function U(O,w){var k="isMobX"+O;return w.prototype[k]=!0,function(B){return D(B)&&B[k]===!0}}function $(O){return O instanceof Map}function q(O){return O instanceof Set}function oe(O){var w=new Set;for(var k in O)w.add(k);return Object.getOwnPropertySymbols(O).forEach(function(B){Object.getOwnPropertyDescriptor(O,B).enumerable&&w.add(B)}),Array.from(w)}function J(O){return O&&O.toString?O.toString():new String(O).toString()}function Q(O){return O===null?null:typeof O=="object"?""+O:O}var ee=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,G=Symbol("mobx administration"),z=function(){function O(w){w===void 0&&(w="Atom@"+x()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=dt.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return nu(this)},O.prototype.reportChanged=function(){Fr(),function(w){w.lowestObserverState!==dt.STALE&&(w.lowestObserverState=dt.STALE,w.observers.forEach(function(k){k.dependenciesState===dt.UP_TO_DATE&&(k.isTracing!==pe.NONE&&xo(k,w),k.onBecomeStale()),k.dependenciesState=dt.STALE}))}(this),Zr()},O.prototype.toString=function(){return this.name},O}(),H=U("Atom",z);function K(O,w,k){w===void 0&&(w=M),k===void 0&&(k=M);var B,Z=new z(O);return w!==M&&yl("onBecomeObserved",Z,w,B),k!==M&&mn(Z,k),Z}var X={identity:function(O,w){return O===w},structural:function(O,w){return Re(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Re(O,w,1)}},ne=function(O,w){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var Z in B)B.hasOwnProperty(Z)&&(k[Z]=B[Z])},ne(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var ye=function(){return ye=Object.assign||function(O){for(var w,k=1,B=arguments.length;k<B;k++)for(var Z in w=arguments[k])Object.prototype.hasOwnProperty.call(w,Z)&&(O[Z]=w[Z]);return O},ye.apply(this,arguments)};function he(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],k=0;return w?w.call(O):{next:function(){return O&&k>=O.length&&(O=void 0),{value:O&&O[k++],done:!O}}}}function Se(O,w){var k=typeof Symbol=="function"&&O[Symbol.iterator];if(!k)return O;var B,Z,de=k.call(O),je=[];try{for(;(w===void 0||w-- >0)&&!(B=de.next()).done;)je.push(B.value)}catch($e){Z={error:$e}}finally{try{B&&!B.done&&(k=de.return)&&k.call(de)}finally{if(Z)throw Z.error}}return je}function Fe(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Se(arguments[w]));return O}var Pe=Symbol("mobx did run lazy initializers"),me=Symbol("mobx pending decorators"),Me={},ke={};function Ge(O,w){var k=w?Me:ke;return k[O]||(k[O]={configurable:!0,enumerable:w,get:function(){return ot(this),this[O]},set:function(B){ot(this),this[O]=B}})}function ot(O){var w,k;if(O[Pe]!==!0){var B=O[me];if(B){I(O,Pe,!0);var Z=Fe(Object.getOwnPropertySymbols(B),Object.keys(B));try{for(var de=he(Z),je=de.next();!je.done;je=de.next()){var $e=B[je.value];$e.propertyCreator(O,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(ft){w={error:ft}}finally{try{je&&!je.done&&(k=de.return)&&k.call(de)}finally{if(w)throw w.error}}}}}function Ot(O,w){return function(){var k,B=function(Z,de,je,$e){if($e===!0)return w(Z,de,je,Z,k),null;if(!Object.prototype.hasOwnProperty.call(Z,me)){var ft=Z[me];I(Z,me,ye({},ft))}return Z[me][de]={prop:de,propertyCreator:w,descriptor:je,decoratorTarget:Z,decoratorArguments:k},Ge(de,O)};return Ke(arguments)?(k=m,B.apply(null,arguments)):(k=Array.prototype.slice.call(arguments),B)}}function Ke(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Qe(O,w,k){return Qi(O)?O:Array.isArray(O)?wt.array(O,{name:k}):N(O)?wt.object(O,void 0,{name:k}):$(O)?wt.map(O,{name:k}):q(O)?wt.set(O,{name:k}):O}function yt(O){return O}function le(O){j(O);var w=Ot(!0,function(B,Z,de,je,$e){var ft=de?de.initializer?de.initializer.call(B):de.value:void 0;Qr(B).addObservableProp(Z,ft,O)}),k=(d!==void 0&&d.env,w);return k.enhancer=O,k}var se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ge(O){return O==null?se:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(se);var Ae=le(Qe),He=le(function(O,w,k){return O==null||Gr(O)||fo(O)||er(O)||kr(O)?O:Array.isArray(O)?wt.array(O,{name:k,deep:!1}):N(O)?wt.object(O,void 0,{name:k,deep:!1}):$(O)?wt.map(O,{name:k,deep:!1}):q(O)?wt.set(O,{name:k,deep:!1}):S(!1)}),Ue=le(yt),At=le(function(O,w,k){return Re(O,w)?w:O});function It(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?yt:Qe}var Tt={box:function(O,w){arguments.length>2&&Ne("box");var k=ge(w);return new Wn(O,It(k),k.name,!0,k.equals)},array:function(O,w){arguments.length>2&&Ne("array");var k=ge(w);return Aa(O,It(k),k.name)},map:function(O,w){arguments.length>2&&Ne("map");var k=ge(w);return new ms(O,It(k),k.name)},set:function(O,w){arguments.length>2&&Ne("set");var k=ge(w);return new zo(O,It(k),k.name)},object:function(O,w,k){typeof arguments[1]=="string"&&Ne("object");var B=ge(k);if(B.proxy===!1)return ni({},O,w,B);var Z=ls(B),de=ni({},void 0,void 0,B),je=ea(de);return vl(je,O,w,Z),je},ref:Ue,shallow:He,deep:Ae,struct:At},wt=function(O,w,k){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ae.apply(null,arguments);if(Qi(O))return O;var B=N(O)?wt.object(O,w,k):Array.isArray(O)?wt.array(O,w):$(O)?wt.map(O,w):q(O)?wt.set(O,w):O;if(B!==O)return B;S(!1)};function Ne(O){S("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(Tt).forEach(function(O){return wt[O]=Tt[O]});var dt,pe,lt=Ot(!1,function(O,w,k,B,Z){var de=k.get,je=k.set,$e=Z[0]||{};Qr(O).addComputedProp(O,w,ye({get:de,set:je,context:O},$e))}),$t=lt({equals:X.structural}),gn=function(O,w,k){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return lt.apply(null,arguments);var B=typeof w=="object"?w:{};return B.get=O,B.set=typeof w=="function"?w:B.set,B.name=B.name||O.name||"",new Io(B)};gn.struct=$t,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(dt||(dt={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(pe||(pe={}));var Gt=function(O){this.cause=O};function un(O){return O instanceof Gt}function Sn(O){switch(O.dependenciesState){case dt.UP_TO_DATE:return!1;case dt.NOT_TRACKING:case dt.STALE:return!0;case dt.POSSIBLY_STALE:for(var w=Je(!0),k=ue(),B=O.observing,Z=B.length,de=0;de<Z;de++){var je=B[de];if(ei(je)){if(ht.disableErrorBoundaries)je.get();else try{je.get()}catch{return Oe(k),Ze(w),!0}if(O.dependenciesState===dt.STALE)return Oe(k),Ze(w),!0}}return vt(O),Oe(k),Ze(w),!1}}function In(){return ht.trackingDerivation!==null}function Bt(O){var w=O.observers.size>0;ht.computationDepth>0&&w&&S(!1),ht.allowStateChanges||!w&&ht.enforceActions!=="strict"||S(!1)}function Zn(O,w,k){var B=Je(!0);vt(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ht.runId;var Z,de=ht.trackingDerivation;if(ht.trackingDerivation=O,ht.disableErrorBoundaries===!0)Z=w.call(k);else try{Z=w.call(k)}catch(je){Z=new Gt(je)}return ht.trackingDerivation=de,function(je){for(var $e=je.observing,ft=je.observing=je.newObserving,Zt=dt.UP_TO_DATE,it=0,jn=je.unboundDepsCount,Ht=0;Ht<jn;Ht++)(dn=ft[Ht]).diffValue===0&&(dn.diffValue=1,it!==Ht&&(ft[it]=dn),it++),dn.dependenciesState>Zt&&(Zt=dn.dependenciesState);for(ft.length=it,je.newObserving=null,jn=$e.length;jn--;)(dn=$e[jn]).diffValue===0&&ts(dn,je),dn.diffValue=0;for(;it--;){var dn;(dn=ft[it]).diffValue===1&&(dn.diffValue=0,ef(dn,je))}Zt!==dt.UP_TO_DATE&&(je.dependenciesState=Zt,je.onBecomeStale())}(O),Ze(B),Z}function re(O){var w=O.observing;O.observing=[];for(var k=w.length;k--;)ts(w[k],O);O.dependenciesState=dt.NOT_TRACKING}function ve(O){var w=ue();try{return O()}finally{Oe(w)}}function ue(){var O=ht.trackingDerivation;return ht.trackingDerivation=null,O}function Oe(O){ht.trackingDerivation=O}function Je(O){var w=ht.allowStateReads;return ht.allowStateReads=O,w}function Ze(O){ht.allowStateReads=O}function vt(O){if(O.dependenciesState!==dt.UP_TO_DATE){O.dependenciesState=dt.UP_TO_DATE;for(var w=O.observing,k=w.length;k--;)w[k].lowestObserverState=dt.UP_TO_DATE}}var qt=0,sr=1,Or=Object.getOwnPropertyDescriptor(function(){},"name");Or&&Or.configurable;function Qn(O,w,k){var B=function(){return rr(O,w,k||this,arguments)};return B.isMobxAction=!0,B}function rr(O,w,k,B){var Z=ct();try{return w.apply(k,B)}catch(de){throw Z.error=de,de}finally{Et(Z)}}function ct(O,w,k){var B=0,Z=ue();Fr();var de={prevDerivation:Z,prevAllowStateChanges:zt(!0),prevAllowStateReads:Je(!0),notifySpy:!1,startTime:B,actionId:sr++,parentActionId:qt};return qt=de.actionId,de}function Et(O){qt!==O.actionId&&S("invalid action stack. did you forget to finish an action?"),qt=O.parentActionId,O.error!==void 0&&(ht.suppressReactionErrors=!0),wn(O.prevAllowStateChanges),Ze(O.prevAllowStateReads),Zr(),Oe(O.prevDerivation),O.notifySpy,ht.suppressReactionErrors=!1}function Mt(O,w){var k,B=zt(O);try{k=w()}finally{wn(B)}return k}function zt(O){var w=ht.allowStateChanges;return ht.allowStateChanges=O,w}function wn(O){ht.allowStateChanges=O}var Wn=function(O){function w(k,B,Z,de,je){Z===void 0&&(Z="ObservableValue@"+x()),je===void 0&&(je=X.default);var $e=O.call(this,Z)||this;return $e.enhancer=B,$e.name=Z,$e.equals=je,$e.hasUnreportedChange=!1,$e.value=B(k,void 0,Z),$e}return function(k,B){function Z(){this.constructor=k}ne(k,B),k.prototype=B===null?Object.create(B):(Z.prototype=B.prototype,new Z)}(w,O),w.prototype.dehanceValue=function(k){return this.dehancer!==void 0?this.dehancer(k):k},w.prototype.set=function(k){this.value,(k=this.prepareNewValue(k))!==ht.UNCHANGED&&this.setNewValue(k)},w.prototype.prepareNewValue=function(k){if(Bt(this),Wr(this)){var B=sn(this,{object:this,type:"update",newValue:k});if(!B)return ht.UNCHANGED;k=B.newValue}return k=this.enhancer(k,this.value,this.name),this.equals(this.value,k)?ht.UNCHANGED:k},w.prototype.setNewValue=function(k){var B=this.value;this.value=k,this.reportChanged(),$r(this)&&mr(this,{type:"update",object:this,newValue:k,oldValue:B})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(k){return ii(this,k)},w.prototype.observe=function(k,B){return B&&k({object:this,type:"update",newValue:this.value,oldValue:void 0}),Bo(this,k)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return Q(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(z),Qo=U("ObservableValue",Wn),Io=function(){function O(w){this.dependenciesState=dt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=dt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+x(),this.value=new Gt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,j(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+x(),w.set&&(this.setter=Qn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?X.structural:X.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===dt.UP_TO_DATE&&(w.lowestObserverState=dt.POSSIBLY_STALE,w.observers.forEach(function(k){k.dependenciesState===dt.UP_TO_DATE&&(k.dependenciesState=dt.POSSIBLY_STALE,k.isTracing!==pe.NONE&&xo(k,w),k.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&S("Cycle detected in computation "+this.name+": "+this.derivation),ht.inBatch!==0||this.observers.size!==0||this.keepAlive?(nu(this),Sn(this)&&this.trackAndCompute()&&function(k){k.lowestObserverState!==dt.STALE&&(k.lowestObserverState=dt.STALE,k.observers.forEach(function(B){B.dependenciesState===dt.POSSIBLY_STALE?B.dependenciesState=dt.STALE:B.dependenciesState===dt.UP_TO_DATE&&(k.lowestObserverState=dt.UP_TO_DATE)}))}(this)):Sn(this)&&(this.warnAboutUntrackedRead(),Fr(),this.value=this.computeValue(!1),Zr());var w=this.value;if(un(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(un(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else j(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,k=this.dependenciesState===dt.NOT_TRACKING,B=this.computeValue(!0),Z=k||un(w)||un(B)||!this.equals(w,B);return Z&&(this.value=B),Z},O.prototype.computeValue=function(w){var k;if(this.isComputing=!0,ht.computationDepth++,w)k=Zn(this,this.derivation,this.scope);else if(ht.disableErrorBoundaries===!0)k=this.derivation.call(this.scope);else try{k=this.derivation.call(this.scope)}catch(B){k=new Gt(B)}return ht.computationDepth--,this.isComputing=!1,k},O.prototype.suspend=function(){this.keepAlive||(re(this),this.value=void 0)},O.prototype.observe=function(w,k){var B=this,Z=!0,de=void 0;return ss(function(){var je=B.get();if(!Z||k){var $e=ue();w({type:"update",object:B,newValue:je,oldValue:de}),Oe($e)}Z=!1,de=je})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return Q(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),ei=U("ComputedValue",Io),Ji=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Qc={};function es(){return typeof window<"u"?window:h!==void 0?h:typeof self<"u"?self:Qc}var so=!0,Ea=!1,ht=function(){var O=es();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(so=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new Ji().version&&(so=!1),so?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new Ji):(setTimeout(function(){Ea||S("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Ji)}();function ef(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function ts(O,w){O.observers.delete(w),O.observers.size===0&&ns(O)}function ns(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ht.pendingUnobservations.push(O))}function Fr(){ht.inBatch++}function Zr(){if(--ht.inBatch==0){os();for(var O=ht.pendingUnobservations,w=0;w<O.length;w++){var k=O[w];k.isPendingUnobservation=!1,k.observers.size===0&&(k.isBeingObserved&&(k.isBeingObserved=!1,k.onBecomeUnobserved()),k instanceof Io&&k.suspend())}ht.pendingUnobservations=[]}}function nu(O){var w=ht.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ht.inBatch>0&&ns(O),!1)}function xo(O,w){if(O.isTracing===pe.BREAK){var k=[];lo(Xn(O),k,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof Io?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+k.join(`
`)+`
*/
    `)()}}function lo(O,w,k){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(k).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(B){return lo(B,w,k+1)}))}var Eo=function(){function O(w,k,B,Z){w===void 0&&(w="Reaction@"+x()),Z===void 0&&(Z=!1),this.name=w,this.onInvalidate=k,this.errorHandler=B,this.requiresObservable=Z,this.observing=[],this.newObserving=[],this.dependenciesState=dt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+x(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ht.pendingReactions.push(this),os())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(Fr(),this._isScheduled=!1,Sn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Zr()}},O.prototype.track=function(w){if(!this.isDisposed){Fr(),this._isRunning=!0;var k=Zn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&re(this),un(k)&&this.reportExceptionInDerivation(k.cause),Zr()}},O.prototype.reportExceptionInDerivation=function(w){var k=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ht.disableErrorBoundaries)throw w;ht.suppressReactionErrors,ht.globalReactionErrorHandlers.forEach(function(B){return B(w,k)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Fr(),re(this),Zr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[G]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var k=[],B=0;B<arguments.length;B++)k[B]=arguments[B];var Z=!1;typeof k[k.length-1]=="boolean"&&(Z=k.pop());var de=fn(k);if(!de)return S(!1);de.isTracing,pe.NONE,de.isTracing=Z?pe.BREAK:pe.LOG}(this,w)},O}(),rs=function(O){return O()};function os(){ht.inBatch>0||ht.isRunningReactions||rs(fl)}function fl(){ht.isRunningReactions=!0;for(var O=ht.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var k=O.splice(0),B=0,Z=k.length;B<Z;B++)k[B].runReaction()}ht.isRunningReactions=!1}var Sa=U("Reaction",Eo);function pl(O){var w=rs;rs=function(k){return O(function(){return w(k)})}}function is(O){return function(){}}function tf(){S(!1)}function Si(O){return function(w,k,B){if(B){if(B.value)return{value:Qn(O,B.value),enumerable:!1,configurable:!0,writable:!0};var Z=B.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Qn(O,Z.call(this))}}}return dl(O).apply(this,arguments)}}function dl(O){return function(w,k,B){Object.defineProperty(w,k,{configurable:!0,enumerable:!1,get:function(){},set:function(Z){I(this,k,ti(O,Z))}})}}var ti=function(O,w,k,B){return arguments.length===1&&typeof O=="function"?Qn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Qn(O,w):arguments.length===1&&typeof O=="string"?Si(O):B!==!0?Si(w).apply(null,arguments):void I(O,w,Qn(O.name||w,k.value,this))};function as(O,w){return rr(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function ru(O){return typeof O=="function"&&O.isMobxAction===!0}function us(O,w,k){I(O,w,Qn(w,k.bind(O)))}function ss(O,w){w===void 0&&(w=v);var k,B=w&&w.name||O.name||"Autorun@"+x();if(!w.scheduler&&!w.delay)k=new Eo(B,function(){this.track(je)},w.onError,w.requiresObservable);else{var Z=hl(w),de=!1;k=new Eo(B,function(){de||(de=!0,Z(function(){de=!1,k.isDisposed||k.track(je)}))},w.onError,w.requiresObservable)}function je(){O(k)}return k.schedule(),k.getDisposer()}ti.bound=function(O,w,k,B){return B===!0?(us(O,w,k.value),null):k?{configurable:!0,enumerable:!1,get:function(){return us(this,w,k.value||k.initializer.call(this)),this[w]},set:tf}:{enumerable:!1,configurable:!0,set:function(Z){us(this,w,Z)},get:function(){}}};var nf=function(O){return O()};function hl(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:nf}function _n(O,w,k){k===void 0&&(k=v);var B,Z,de,je=k.name||"Reaction@"+x(),$e=ti(je,k.onError?(B=k.onError,Z=w,function(){try{return Z.apply(this,arguments)}catch(zn){B.call(this,zn)}}):w),ft=!k.scheduler&&!k.delay,Zt=hl(k),it=!0,jn=!1,Ht=k.compareStructural?X.structural:k.equals||X.default,dn=new Eo(je,function(){it||ft?ho():jn||(jn=!0,Zt(ho))},k.onError,k.requiresObservable);function ho(){if(jn=!1,!dn.isDisposed){var zn=!1;dn.track(function(){var Vr=O(dn);zn=it||!Ht(de,Vr),de=Vr}),it&&k.fireImmediately&&$e(de,dn),it||zn!==!0||$e(de,dn),it&&(it=!1)}}return dn.schedule(),dn.getDisposer()}function mn(O,w,k){return yl("onBecomeUnobserved",O,w,k)}function yl(O,w,k,B){var Z=typeof B=="function"?po(w,k):po(w),de=typeof B=="function"?B:k,je=O+"Listeners";return Z[je]?Z[je].add(de):Z[je]=new Set([de]),typeof Z[O]!="function"?S(!1):function(){var $e=Z[je];$e&&($e.delete(de),$e.size===0&&delete Z[je])}}function Zi(O){var w=O.enforceActions,k=O.computedRequiresReaction,B=O.computedConfigurable,Z=O.disableErrorBoundaries,de=O.reactionScheduler,je=O.reactionRequiresObservable,$e=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ht.pendingReactions.length||ht.inBatch||ht.isRunningReactions)&&S("isolateGlobalState should be called before MobX is running any reactions"),Ea=!0,so&&(--es().__mobxInstanceCount==0&&(es().__mobxGlobals=void 0),ht=new Ji)),w!==void 0){var ft=void 0;switch(w){case!0:case"observed":ft=!0;break;case!1:case"never":ft=!1;break;case"strict":case"always":ft="strict";break;default:S("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ht.enforceActions=ft,ht.allowStateChanges=ft!==!0&&ft!=="strict"}k!==void 0&&(ht.computedRequiresReaction=!!k),je!==void 0&&(ht.reactionRequiresObservable=!!je),$e!==void 0&&(ht.observableRequiresReaction=!!$e,ht.allowStateReads=!ht.observableRequiresReaction),B!==void 0&&(ht.computedConfigurable=!!B),Z!==void 0&&(ht.disableErrorBoundaries=!!Z),de&&pl(de)}function ni(O,w,k,B){var Z=ls(B=ge(B));return ot(O),Qr(O,B.name,Z.enhancer),w&&vl(O,w,k,Z),O}function ls(O){return O.defaultDecorator||(O.deep===!1?Ue:Ae)}function vl(O,w,k,B){var Z,de;Fr();try{var je=ee(w);try{for(var $e=he(je),ft=$e.next();!ft.done;ft=$e.next()){var Zt=ft.value,it=Object.getOwnPropertyDescriptor(w,Zt),jn=(k&&Zt in k?k[Zt]:it.get?lt:B)(O,Zt,it,!0);jn&&Object.defineProperty(O,Zt,jn)}}catch(Ht){Z={error:Ht}}finally{try{ft&&!ft.done&&(de=$e.return)&&de.call($e)}finally{if(Z)throw Z.error}}}finally{Zr()}}function Xn(O,w){return cs(po(O,w))}function cs(O){var w,k,B={name:O.name};return O.observing&&O.observing.length>0&&(B.dependencies=(w=O.observing,k=[],w.forEach(function(Z){k.indexOf(Z)===-1&&k.push(Z)}),k).map(cs)),B}var ja=0;function fs(){this.message="FLOW_CANCELLED"}function ou(O){arguments.length!==1&&S("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var k,B=this,Z=arguments,de=++ja,je=ti(w+" - runid: "+de+" - init",O).apply(B,Z),$e=void 0,ft=new Promise(function(Zt,it){var jn=0;function Ht(zn){var Vr;$e=void 0;try{Vr=ti(w+" - runid: "+de+" - yield "+jn++,je.next).call(je,zn)}catch(ui){return it(ui)}ho(Vr)}function dn(zn){var Vr;$e=void 0;try{Vr=ti(w+" - runid: "+de+" - yield "+jn++,je.throw).call(je,zn)}catch(ui){return it(ui)}ho(Vr)}function ho(zn){if(!zn||typeof zn.then!="function")return zn.done?Zt(zn.value):($e=Promise.resolve(zn.value)).then(Ht,dn);zn.then(ho,it)}k=it,Ht(void 0)});return ft.cancel=ti(w+" - runid: "+de+" - cancel",function(){try{$e&&wr($e);var Zt=je.return(void 0),it=Promise.resolve(Zt.value);it.then(M,M),wr(it),k(new fs)}catch(jn){k(jn)}}),ft}}function wr(O){typeof O.cancel=="function"&&O.cancel()}function ps(O,w){if(O==null)return!1;if(w!==void 0){if(Gr(O)===!1||!O[G].values.has(w))return!1;var k=po(O,w);return ei(k)}return ei(O)}function gl(O){return arguments.length>1?S(!1):ps(O)}function ds(O,w){return typeof w!="string"?S(!1):ps(O,w)}function iu(O,w){return O!=null&&(w!==void 0?!!Gr(O)&&O[G].values.has(w):Gr(O)||!!O[G]||H(O)||Sa(O)||ei(O))}function Qi(O){return arguments.length!==1&&S(!1),iu(O)}function ri(O){return Gr(O)?O[G].getKeys():er(O)||kr(O)?Array.from(O.keys()):fo(O)?O.map(function(w,k){return k}):S(!1)}function Pn(O){return Gr(O)?ri(O).map(function(w){return O[w]}):er(O)?ri(O).map(function(w){return O.get(w)}):kr(O)?Array.from(O.values()):fo(O)?O.slice():S(!1)}function rf(O){return Gr(O)?ri(O).map(function(w){return[w,O[w]]}):er(O)?ri(O).map(function(w){return[w,O.get(w)]}):kr(O)?Array.from(O.entries()):fo(O)?O.map(function(w,k){return[k,w]}):S(!1)}function Ur(O,w,k){if(arguments.length!==2||kr(O))if(Gr(O)){var B=O[G],Z=B.values.get(w);Z?B.write(w,k):B.addObservableProp(w,k,B.defaultEnhancer)}else if(er(O))O.set(w,k);else if(kr(O))O.add(w);else{if(!fo(O))return S(!1);typeof w!="number"&&(w=parseInt(w,10)),j(w>=0,"Not a valid index: '"+w+"'"),Fr(),w>=O.length&&(O.length=w+1),O[w]=k,Zr()}else{Fr();var de=w;try{for(var je in de)Ur(O,je,de[je])}finally{Zr()}}}function of(O,w,k,B){return typeof k=="function"?function(Z,de,je,$e){return Uo(Z,de).observe(je,$e)}(O,w,k,B):function(Z,de,je){return Uo(Z).observe(de,je)}(O,w,k)}fs.prototype=Object.create(Error.prototype);var ml={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Tr(O,w,k,B){return B.detectCycles&&O.set(w,k),k}function co(O,w,k){if(!w.recurseEverything&&!Qi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Qo(O))return co(O.get(),w,k);if(Qi(O)&&ri(O),w.detectCycles===!0&&O!==null&&k.has(O))return k.get(O);if(fo(O)||Array.isArray(O)){var B=Tr(k,O,[],w),Z=O.map(function(Ht){return co(Ht,w,k)});B.length=Z.length;for(var de=0,je=Z.length;de<je;de++)B[de]=Z[de];return B}if(kr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var $e=Tr(k,O,new Set,w);return O.forEach(function(Ht){$e.add(co(Ht,w,k))}),$e}var ft=Tr(k,O,[],w);return O.forEach(function(Ht){ft.push(co(Ht,w,k))}),ft}if(er(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Zt=Tr(k,O,new Map,w);return O.forEach(function(Ht,dn){Zt.set(dn,co(Ht,w,k))}),Zt}var it=Tr(k,O,{},w);return O.forEach(function(Ht,dn){it[dn]=co(Ht,w,k)}),it}var jn=Tr(k,O,{},w);return oe(O).forEach(function(Ht){jn[Ht]=co(O[Ht],w,k)}),jn}function hs(O,w){var k;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=ml),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(k=new Map),co(O,w,k)}function fn(O){switch(O.length){case 0:return ht.trackingDerivation;case 1:return po(O[0]);case 2:return po(O[0],O[1])}}function lr(O,w){w===void 0&&(w=void 0),Fr();try{return O.apply(w)}finally{Zr()}}function au(O,w,k){return arguments.length===1||w&&typeof w=="object"?ys(O,w):bl(O,w,k||{})}function bl(O,w,k){var B;typeof k.timeout=="number"&&(B=setTimeout(function(){if(!de[G].isDisposed){de();var je=new Error("WHEN_TIMEOUT");if(!k.onError)throw je;k.onError(je)}},k.timeout)),k.name=k.name||"When@"+x();var Z=Qn(k.name+"-effect",w),de=ss(function(je){O()&&(je.dispose(),B&&clearTimeout(B),Z())},k);return de}function ys(O,w){var k,B=new Promise(function(Z,de){var je=bl(O,Z,ye(ye({},w),{onError:de}));k=function(){je(),de("WHEN_CANCELLED")}});return B.cancel=k,B}function uu(O){return O[G]}function Lo(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var oi={has:function(O,w){if(w===G||w==="constructor"||w===Pe)return!0;var k=uu(O);return Lo(w)?k.has(w):w in O},get:function(O,w){if(w===G||w==="constructor"||w===Pe)return O[w];var k=uu(O),B=k.values.get(w);if(B instanceof z){var Z=B.get();return Z===void 0&&k.has(w),Z}return Lo(w)&&k.has(w),O[w]},set:function(O,w,k){return!!Lo(w)&&(Ur(O,w,k),!0)},deleteProperty:function(O,w){return!!Lo(w)&&(uu(O).remove(w),!0)},ownKeys:function(O){return uu(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return S("Dynamic observable objects cannot be frozen"),!1}};function ea(O){var w=new Proxy(O,oi);return O[G].proxy=w,w}function Wr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function ii(O,w){var k=O.interceptors||(O.interceptors=[]);return k.push(w),A(function(){var B=k.indexOf(w);B!==-1&&k.splice(B,1)})}function sn(O,w){var k=ue();try{for(var B=Fe(O.interceptors||[]),Z=0,de=B.length;Z<de&&(j(!(w=B[Z](w))||w.type,"Intercept handlers should return nothing or a change object"),w);Z++);return w}finally{Oe(k)}}function $r(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function Bo(O,w){var k=O.changeListeners||(O.changeListeners=[]);return k.push(w),A(function(){var B=k.indexOf(w);B!==-1&&k.splice(B,1)})}function mr(O,w){var k=ue(),B=O.changeListeners;if(B){for(var Z=0,de=(B=B.slice()).length;Z<de;Z++)B[Z](w);Oe(k)}}var su={get:function(O,w){return w===G?O[G]:w==="length"?O[G].getArrayLength():typeof w=="number"?$n.get.call(O,w):typeof w!="string"||isNaN(w)?$n.hasOwnProperty(w)?$n[w]:O[w]:$n.get.call(O,parseInt(w))},set:function(O,w,k){return w==="length"&&O[G].setArrayLength(k),typeof w=="number"&&$n.set.call(O,w,k),typeof w=="symbol"||isNaN(w)?O[w]=k:$n.set.call(O,parseInt(w),k),!0},preventExtensions:function(O){return S("Observable arrays cannot be frozen"),!1}};function Aa(O,w,k,B){k===void 0&&(k="ObservableArray@"+x()),B===void 0&&(B=!1);var Z,de,je,$e=new vs(k,w,B);Z=$e.values,de=G,je=$e,Object.defineProperty(Z,de,{enumerable:!1,writable:!1,configurable:!0,value:je});var ft=new Proxy($e.values,su);if($e.proxy=ft,O&&O.length){var Zt=zt(!0);$e.spliceWithArray(0,0,O),wn(Zt)}return ft}var vs=function(){function O(w,k,B){this.owned=B,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new z(w||"ObservableArray@"+x()),this.enhancer=function(Z,de){return k(Z,de,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return ii(this,w)},O.prototype.observe=function(w,k){return k===void 0&&(k=!1),k&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Bo(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var k=this.values.length;if(w!==k)if(w>k){for(var B=new Array(w-k),Z=0;Z<w-k;Z++)B[Z]=void 0;this.spliceWithArray(k,0,B)}else this.spliceWithArray(w,k-w)},O.prototype.updateArrayLength=function(w,k){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=k},O.prototype.spliceWithArray=function(w,k,B){var Z=this;Bt(this.atom);var de=this.values.length;if(w===void 0?w=0:w>de?w=de:w<0&&(w=Math.max(0,de+w)),k=arguments.length===1?de-w:k==null?0:Math.max(0,Math.min(k,de-w)),B===void 0&&(B=m),Wr(this)){var je=sn(this,{object:this.proxy,type:"splice",index:w,removedCount:k,added:B});if(!je)return m;k=je.removedCount,B=je.added}B=B.length===0?B:B.map(function(ft){return Z.enhancer(ft,void 0)});var $e=this.spliceItemsIntoValues(w,k,B);return k===0&&B.length===0||this.notifyArraySplice(w,B,$e),this.dehanceValues($e)},O.prototype.spliceItemsIntoValues=function(w,k,B){var Z;if(B.length<1e4)return(Z=this.values).splice.apply(Z,Fe([w,k],B));var de=this.values.slice(w,w+k);return this.values=this.values.slice(0,w).concat(B,this.values.slice(w+k)),de},O.prototype.notifyArrayChildUpdate=function(w,k,B){var Z=!this.owned&&!1,de=$r(this),je=de||Z?{object:this.proxy,type:"update",index:w,newValue:k,oldValue:B}:null;this.atom.reportChanged(),de&&mr(this,je)},O.prototype.notifyArraySplice=function(w,k,B){var Z=!this.owned&&!1,de=$r(this),je=de||Z?{object:this.proxy,type:"splice",index:w,removed:B,added:k,removedCount:B.length,addedCount:k.length}:null;this.atom.reportChanged(),de&&mr(this,je)},O}(),$n={intercept:function(O){return this[G].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[G].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[G];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var k=[],B=2;B<arguments.length;B++)k[B-2]=arguments[B];var Z=this[G];switch(arguments.length){case 0:return[];case 1:return Z.spliceWithArray(O);case 2:return Z.spliceWithArray(O,w)}return Z.spliceWithArray(O,w,k)},spliceWithArray:function(O,w,k){return this[G].spliceWithArray(O,w,k)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var k=this[G];return k.spliceWithArray(k.values.length,0,O),k.values.length},pop:function(){return this.splice(Math.max(this[G].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var k=this[G];return k.spliceWithArray(0,0,O),k.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[G],k=w.dehanceValues(w.values).indexOf(O);return k>-1&&(this.splice(k,1),!0)},get:function(O){var w=this[G];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var k=this[G],B=k.values;if(O<B.length){Bt(k.atom);var Z=B[O];if(Wr(k)){var de=sn(k,{type:"update",object:k.proxy,index:O,newValue:w});if(!de)return;w=de.newValue}(w=k.enhancer(w,Z))!==Z&&(B[O]=w,k.notifyArrayChildUpdate(O,w,Z))}else{if(O!==B.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+B.length);k.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&($n[O]=function(){var w=this[G];w.atom.reportObserved();var k=w.dehanceValues(w.values);return k[O].apply(k,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&($n[O]=function(w,k){var B=this,Z=this[G];return Z.atom.reportObserved(),Z.dehanceValues(Z.values)[O](function(de,je){return w.call(k,de,je,B)},k)})}),["reduce","reduceRight"].forEach(function(O){$n[O]=function(){var w=this,k=this[G];k.atom.reportObserved();var B=arguments[0];return arguments[0]=function(Z,de,je){return de=k.dehanceValue(de),B(Z,de,je,w)},k.values[O].apply(k.values,arguments)}});var lu,ai=U("ObservableArrayAdministration",vs);function fo(O){return D(O)&&ai(O[G])}var gs,af={},ms=function(){function O(w,k,B){if(k===void 0&&(k=Qe),B===void 0&&(B="ObservableMap@"+x()),this.enhancer=k,this.name=B,this[lu]=af,this._keysAtom=K(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var k=this;if(!ht.trackingDerivation)return this._has(w);var B=this._hasMap.get(w);if(!B){var Z=B=new Wn(this._has(w),yt,this.name+"."+J(w)+"?",!1);this._hasMap.set(w,Z),mn(Z,function(){return k._hasMap.delete(w)})}return B.get()},O.prototype.set=function(w,k){var B=this._has(w);if(Wr(this)){var Z=sn(this,{type:B?"update":"add",object:this,newValue:k,name:w});if(!Z)return this;k=Z.newValue}return B?this._updateValue(w,k):this._addValue(w,k),this},O.prototype.delete=function(w){var k=this;if(Bt(this._keysAtom),Wr(this)&&!(Z=sn(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var B=$r(this),Z=B?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return lr(function(){k._keysAtom.reportChanged(),k._updateHasMapEntry(w,!1),k._data.get(w).setNewValue(void 0),k._data.delete(w)}),B&&mr(this,Z),!0}return!1},O.prototype._updateHasMapEntry=function(w,k){var B=this._hasMap.get(w);B&&B.setNewValue(k)},O.prototype._updateValue=function(w,k){var B=this._data.get(w);if((k=B.prepareNewValue(k))!==ht.UNCHANGED){var Z=$r(this),de=Z?{type:"update",object:this,oldValue:B.value,name:w,newValue:k}:null;B.setNewValue(k),Z&&mr(this,de)}},O.prototype._addValue=function(w,k){var B=this;Bt(this._keysAtom),lr(function(){var je=new Wn(k,B.enhancer,B.name+"."+J(w),!1);B._data.set(w,je),k=je.value,B._updateHasMapEntry(w,!0),B._keysAtom.reportChanged()});var Z=$r(this),de=Z?{type:"add",object:this,name:w,newValue:k}:null;Z&&mr(this,de)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,k=this.keys();return tn({next:function(){var B=k.next(),Z=B.done,de=B.value;return{done:Z,value:Z?void 0:w.get(de)}}})},O.prototype.entries=function(){var w=this,k=this.keys();return tn({next:function(){var B=k.next(),Z=B.done,de=B.value;return{done:Z,value:Z?void 0:[de,w.get(de)]}}})},O.prototype[lu=G,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,k){var B,Z;try{for(var de=he(this),je=de.next();!je.done;je=de.next()){var $e=Se(je.value,2),ft=$e[0],Zt=$e[1];w.call(k,Zt,ft,this)}}catch(it){B={error:it}}finally{try{je&&!je.done&&(Z=de.return)&&Z.call(de)}finally{if(B)throw B.error}}},O.prototype.merge=function(w){var k=this;return er(w)&&(w=w.toJS()),lr(function(){var B=zt(!0);try{N(w)?oe(w).forEach(function(Z){return k.set(Z,w[Z])}):Array.isArray(w)?w.forEach(function(Z){var de=Se(Z,2),je=de[0],$e=de[1];return k.set(je,$e)}):$(w)?(w.constructor!==Map&&S("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(Z,de){return k.set(de,Z)})):w!=null&&S("Cannot initialize map from "+w)}finally{wn(B)}}),this},O.prototype.clear=function(){var w=this;lr(function(){ve(function(){var k,B;try{for(var Z=he(w.keys()),de=Z.next();!de.done;de=Z.next()){var je=de.value;w.delete(je)}}catch($e){k={error:$e}}finally{try{de&&!de.done&&(B=Z.return)&&B.call(Z)}finally{if(k)throw k.error}}})})},O.prototype.replace=function(w){var k=this;return lr(function(){var B,Z,de,je,$e=function(Nr){if($(Nr)||er(Nr))return Nr;if(Array.isArray(Nr))return new Map(Nr);if(N(Nr)){var Ta=new Map;for(var ta in Nr)Ta.set(ta,Nr[ta]);return Ta}return S("Cannot convert to map from '"+Nr+"'")}(w),ft=new Map,Zt=!1;try{for(var it=he(k._data.keys()),jn=it.next();!jn.done;jn=it.next()){var Ht=jn.value;if(!$e.has(Ht))if(k.delete(Ht))Zt=!0;else{var dn=k._data.get(Ht);ft.set(Ht,dn)}}}catch(Nr){B={error:Nr}}finally{try{jn&&!jn.done&&(Z=it.return)&&Z.call(it)}finally{if(B)throw B.error}}try{for(var ho=he($e.entries()),zn=ho.next();!zn.done;zn=ho.next()){var Vr=Se(zn.value,2),ui=(Ht=Vr[0],dn=Vr[1],k._data.has(Ht));if(k.set(Ht,dn),k._data.has(Ht)){var si=k._data.get(Ht);ft.set(Ht,si),ui||(Zt=!0)}}}catch(Nr){de={error:Nr}}finally{try{zn&&!zn.done&&(je=ho.return)&&je.call(ho)}finally{if(de)throw de.error}}if(!Zt)if(k._data.size!==ft.size)k._keysAtom.reportChanged();else for(var Ma=k._data.keys(),_s=ft.keys(),Ai=Ma.next(),fu=_s.next();!Ai.done;){if(Ai.value!==fu.value){k._keysAtom.reportChanged();break}Ai=Ma.next(),fu=_s.next()}k._data=ft}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,k,B={};try{for(var Z=he(this),de=Z.next();!de.done;de=Z.next()){var je=Se(de.value,2),$e=je[0],ft=je[1];B[typeof $e=="symbol"?$e:J($e)]=ft}}catch(Zt){w={error:Zt}}finally{try{de&&!de.done&&(k=Z.return)&&k.call(Z)}finally{if(w)throw w.error}}return B},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(k){return J(k)+": "+w.get(k)}).join(", ")+" }]"},O.prototype.observe=function(w,k){return Bo(this,w)},O.prototype.intercept=function(w){return ii(this,w)},O}(),er=U("ObservableMap",ms),Pa={},zo=function(){function O(w,k,B){if(k===void 0&&(k=Qe),B===void 0&&(B="ObservableSet@"+x()),this.name=B,this[gs]=Pa,this._data=new Set,this._atom=K(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(Z,de){return k(Z,de,B)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;lr(function(){ve(function(){var k,B;try{for(var Z=he(w._data.values()),de=Z.next();!de.done;de=Z.next()){var je=de.value;w.delete(je)}}catch($e){k={error:$e}}finally{try{de&&!de.done&&(B=Z.return)&&B.call(Z)}finally{if(k)throw k.error}}})})},O.prototype.forEach=function(w,k){var B,Z;try{for(var de=he(this),je=de.next();!je.done;je=de.next()){var $e=je.value;w.call(k,$e,$e,this)}}catch(ft){B={error:ft}}finally{try{je&&!je.done&&(Z=de.return)&&Z.call(de)}finally{if(B)throw B.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var k=this;if(Bt(this._atom),Wr(this)&&!(Z=sn(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){lr(function(){k._data.add(k.enhancer(w,void 0)),k._atom.reportChanged()});var B=$r(this),Z=B?{type:"add",object:this,newValue:w}:null;B&&mr(this,Z)}return this},O.prototype.delete=function(w){var k=this;if(Wr(this)&&!(Z=sn(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var B=$r(this),Z=B?{type:"delete",object:this,oldValue:w}:null;return lr(function(){k._atom.reportChanged(),k._data.delete(w)}),B&&mr(this,Z),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,k=Array.from(this.keys()),B=Array.from(this.values());return tn({next:function(){var Z=w;return w+=1,Z<B.length?{value:[k[Z],B[Z]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,k=0,B=Array.from(this._data.values());return tn({next:function(){return k<B.length?{value:w.dehanceValue(B[k++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var k=this;return kr(w)&&(w=w.toJS()),lr(function(){var B=zt(!0);try{Array.isArray(w)||q(w)?(k.clear(),w.forEach(function(Z){return k.add(Z)})):w!=null&&S("Cannot initialize set from "+w)}finally{wn(B)}}),this},O.prototype.observe=function(w,k){return Bo(this,w)},O.prototype.intercept=function(w){return ii(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[gs=G,Symbol.iterator]=function(){return this.values()},O}(),kr=U("ObservableSet",zo),bs=function(){function O(w,k,B,Z){k===void 0&&(k=new Map),this.target=w,this.values=k,this.name=B,this.defaultEnhancer=Z,this.keysAtom=new z(B+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,k){var B=this.target,Z=this.values.get(w);if(Z instanceof Io)Z.set(k);else{if(Wr(this)){if(!(je=sn(this,{type:"update",object:this.proxy||B,name:w,newValue:k})))return;k=je.newValue}if((k=Z.prepareNewValue(k))!==ht.UNCHANGED){var de=$r(this),je=de?{type:"update",object:this.proxy||B,oldValue:Z.value,name:w,newValue:k}:null;Z.setNewValue(k),de&&mr(this,je)}}},O.prototype.has=function(w){var k=this.pendingKeys||(this.pendingKeys=new Map),B=k.get(w);if(B)return B.get();var Z=!!this.values.get(w);return B=new Wn(Z,yt,this.name+"."+J(w)+"?",!1),k.set(w,B),B.get()},O.prototype.addObservableProp=function(w,k,B){B===void 0&&(B=this.defaultEnhancer);var Z=this.target;if(Wr(this)){var de=sn(this,{object:this.proxy||Z,name:w,type:"add",newValue:k});if(!de)return;k=de.newValue}var je=new Wn(k,B,this.name+"."+J(w),!1);this.values.set(w,je),k=je.value,Object.defineProperty(Z,w,function($e){return ji[$e]||(ji[$e]={configurable:!0,enumerable:!0,get:function(){return this[G].read($e)},set:function(ft){this[G].write($e,ft)}})}(w)),this.notifyPropertyAddition(w,k)},O.prototype.addComputedProp=function(w,k,B){var Z,de,je,$e=this.target;B.name=B.name||this.name+"."+J(k),this.values.set(k,new Io(B)),(w===$e||(Z=w,de=k,!(je=Object.getOwnPropertyDescriptor(Z,de))||je.configurable!==!1&&je.writable!==!1))&&Object.defineProperty(w,k,function(ft){return cu[ft]||(cu[ft]={configurable:ht.computedConfigurable,enumerable:!1,get:function(){return Fo(this).read(ft)},set:function(Zt){Fo(this).write(ft,Zt)}})}(k))},O.prototype.remove=function(w){if(this.values.has(w)){var k=this.target;if(Wr(this)&&!(ft=sn(this,{object:this.proxy||k,name:w,type:"remove"})))return;try{Fr();var B=$r(this),Z=!1,de=this.values.get(w),je=de&&de.get();if(de&&de.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var $e=this.pendingKeys.get(w);$e&&$e.set(!1)}delete this.target[w];var ft=B?{type:"remove",object:this.proxy||k,oldValue:je,name:w}:null;B&&mr(this,ft)}finally{Zr()}}},O.prototype.illegalAccess=function(w,k){},O.prototype.observe=function(w,k){return Bo(this,w)},O.prototype.intercept=function(w){return ii(this,w)},O.prototype.notifyPropertyAddition=function(w,k){var B=$r(this),Z=B?{type:"add",object:this.proxy||this.target,name:w,newValue:k}:null;if(B&&mr(this,Z),this.pendingKeys){var de=this.pendingKeys.get(w);de&&de.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,k;this.keysAtom.reportObserved();var B=[];try{for(var Z=he(this.values),de=Z.next();!de.done;de=Z.next()){var je=Se(de.value,2),$e=je[0];je[1]instanceof Wn&&B.push($e)}}catch(ft){w={error:ft}}finally{try{de&&!de.done&&(k=Z.return)&&k.call(Z)}finally{if(w)throw w.error}}return B},O}();function Qr(O,w,k){if(w===void 0&&(w=""),k===void 0&&(k=Qe),Object.prototype.hasOwnProperty.call(O,G))return O[G];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+x()),w||(w="ObservableObject@"+x());var B=new bs(O,new Map,J(w),k);return I(O,G,B),B}var ji=Object.create(null),cu=Object.create(null);function Fo(O){var w=O[G];return w||(ot(O),O[G])}var eo=U("ObservableObjectAdministration",bs);function Gr(O){return!!D(O)&&(ot(O),eo(O[G]))}function po(O,w){if(typeof O=="object"&&O!==null){if(fo(O))return w!==void 0&&S(!1),O[G].atom;if(kr(O))return O[G];if(er(O)){var k=O;return w===void 0?k._keysAtom:((B=k._data.get(w)||k._hasMap.get(w))||S(!1),B)}var B;if(ot(O),w&&!O[G]&&O[w],Gr(O))return w?((B=O[G].values.get(w))||S(!1),B):S(!1);if(H(O)||ei(O)||Sa(O))return O}else if(typeof O=="function"&&Sa(O[G]))return O[G];return S(!1)}function Uo(O,w){return O||S("Expecting some object"),w!==void 0?Uo(po(O,w)):H(O)||ei(O)||Sa(O)||er(O)||kr(O)?O:(ot(O),O[G]?O[G]:void S(!1))}var xe=Object.prototype.toString;function Re(O,w,k){return k===void 0&&(k=-1),Be(O,w,k)}function Be(O,w,k,B,Z){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var de=typeof O;if(de!=="function"&&de!=="object"&&typeof w!="object")return!1;var je=xe.call(O);if(je!==xe.call(w))return!1;switch(je){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":k>=0&&k++}O=rt(O),w=rt(w);var $e=je==="[object Array]";if(!$e){if(typeof O!="object"||typeof w!="object")return!1;var ft=O.constructor,Zt=w.constructor;if(ft!==Zt&&!(typeof ft=="function"&&ft instanceof ft&&typeof Zt=="function"&&Zt instanceof Zt)&&"constructor"in O&&"constructor"in w)return!1}if(k===0)return!1;k<0&&(k=-1),Z=Z||[];for(var it=(B=B||[]).length;it--;)if(B[it]===O)return Z[it]===w;if(B.push(O),Z.push(w),$e){if((it=O.length)!==w.length)return!1;for(;it--;)if(!Be(O[it],w[it],k-1,B,Z))return!1}else{var jn=Object.keys(O),Ht=void 0;if(it=jn.length,Object.keys(w).length!==it)return!1;for(;it--;)if(!Vt(w,Ht=jn[it])||!Be(O[Ht],w[Ht],k-1,B,Z))return!1}return B.pop(),Z.pop(),!0}function rt(O){return fo(O)?O.slice():$(O)||er(O)||q(O)||kr(O)?Array.from(O.entries()):O}function Vt(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function tn(O){return O[Symbol.iterator]=Nn,O}function Nn(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:is,extras:{getDebugName:function(O,w){return(w!==void 0?po(O,w):Gr(O)||er(O)||kr(O)?Uo(O):po(O)).name}},$mobx:G})}).call(this,o(163),o(68))},function(u,l,o){var d=o(113),h=o(42),m=o(179);d||h(Object.prototype,"toString",m,{unsafe:!0})},function(u,l,o){var d=o(41),h=o(100),m=o(80),v=o(58),x=o(116),S="Array Iterator",j=v.set,A=v.getterFor(S);u.exports=x(Array,"Array",function(M,D){j(this,{type:S,target:d(M),index:0,kind:D})},function(){var M=A(this),D=M.target,N=M.kind,I=M.index++;return!D||I>=D.length?(M.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:I,done:!1}:N=="values"?{value:D[I],done:!1}:{value:[I,D[I]],done:!1}},"values"),m.Arguments=m.Array,h("keys"),h("values"),h("entries")},function(u,l,o){var d=o(16),h=o(7),m=o(46),v=o(76),x=o(34),S=o(15),j=o(71),A=o(36),M=o(108),D=o(18),N=o(35),I=o(96),U=o(30),$=o(33),q=o(54),oe=o(87),J=o(32),Q=o(40),ee=o(41),G=o(86),z=o(39),H=o(69),K=o(60),X=o(77),ne=o(74),ye=o(139),he=o(112),Se=o(50),Fe=o(38),Pe=o(84),me=o(98),Me=o(42),ke=o(89),Ge=o(93),ot=o(72),Ot=o(90),Ke=o(28),Qe=o(140),yt=o(141),le=o(78),se=o(58),ge=o(79).forEach,Ae=Ge("hidden"),He="Symbol",Ue=Ke("toPrimitive"),At=se.set,It=se.getterFor(He),Tt=Object.prototype,wt=h.Symbol,Ne=wt&&wt.prototype,dt=h.TypeError,pe=h.QObject,lt=m("JSON","stringify"),$t=Se.f,gn=Fe.f,Gt=ye.f,un=Pe.f,Sn=S([].push),In=ke("symbols"),Bt=ke("op-symbols"),Zn=ke("string-to-symbol-registry"),re=ke("symbol-to-string-registry"),ve=ke("wks"),ue=!pe||!pe.prototype||!pe.prototype.findChild,Oe=A&&D(function(){return K(gn({},"a",{get:function(){return gn(this,"a",{value:7}).a}})).a!=7})?function(ct,Et,Mt){var zt=$t(Tt,Et);zt&&delete Tt[Et],gn(ct,Et,Mt),zt&&ct!==Tt&&gn(Tt,Et,zt)}:gn,Je=function(ct,Et){var Mt=In[ct]=K(Ne);return At(Mt,{type:He,tag:ct,description:Et}),A||(Mt.description=Et),Mt},Ze=function(ct,Et,Mt){ct===Tt&&Ze(Bt,Et,Mt),J(ct);var zt=G(Et);return J(Mt),N(In,zt)?(Mt.enumerable?(N(ct,Ae)&&ct[Ae][zt]&&(ct[Ae][zt]=!1),Mt=K(Mt,{enumerable:H(0,!1)})):(N(ct,Ae)||gn(ct,Ae,H(1,{})),ct[Ae][zt]=!0),Oe(ct,zt,Mt)):gn(ct,zt,Mt)},vt=function(ct,Et){J(ct);var Mt=ee(Et),zt=X(Mt).concat(Qn(Mt));return ge(zt,function(wn){A&&!x(qt,Mt,wn)||Ze(ct,wn,Mt[wn])}),ct},qt=function(ct){var Et=G(ct),Mt=x(un,this,Et);return!(this===Tt&&N(In,Et)&&!N(Bt,Et))&&(!(Mt||!N(this,Et)||!N(In,Et)||N(this,Ae)&&this[Ae][Et])||Mt)},sr=function(ct,Et){var Mt=ee(ct),zt=G(Et);if(Mt!==Tt||!N(In,zt)||N(Bt,zt)){var wn=$t(Mt,zt);return!wn||!N(In,zt)||N(Mt,Ae)&&Mt[Ae][zt]||(wn.enumerable=!0),wn}},Or=function(ct){var Et=Gt(ee(ct)),Mt=[];return ge(Et,function(zt){N(In,zt)||N(ot,zt)||Sn(Mt,zt)}),Mt},Qn=function(ct){var Et=ct===Tt,Mt=Gt(Et?Bt:ee(ct)),zt=[];return ge(Mt,function(wn){!N(In,wn)||Et&&!N(Tt,wn)||Sn(zt,In[wn])}),zt};if(M||(wt=function(){if(q(Ne,this))throw dt("Symbol is not a constructor");var ct=arguments.length&&arguments[0]!==void 0?z(arguments[0]):void 0,Et=Ot(ct),Mt=function(zt){this===Tt&&x(Mt,Bt,zt),N(this,Ae)&&N(this[Ae],Et)&&(this[Ae][Et]=!1),Oe(this,Et,H(1,zt))};return A&&ue&&Oe(Tt,Et,{configurable:!0,set:Mt}),Je(Et,ct)},Me(Ne=wt.prototype,"toString",function(){return It(this).tag}),Me(wt,"withoutSetter",function(ct){return Je(Ot(ct),ct)}),Pe.f=qt,Fe.f=Ze,Se.f=sr,ne.f=ye.f=Or,he.f=Qn,Qe.f=function(ct){return Je(Ke(ct),ct)},A&&(gn(Ne,"description",{configurable:!0,get:function(){return It(this).description}}),j||Me(Tt,"propertyIsEnumerable",qt,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:wt}),ge(X(ve),function(ct){yt(ct)}),d({target:He,stat:!0,forced:!M},{for:function(ct){var Et=z(ct);if(N(Zn,Et))return Zn[Et];var Mt=wt(Et);return Zn[Et]=Mt,re[Mt]=Et,Mt},keyFor:function(ct){if(!oe(ct))throw dt(ct+" is not a symbol");if(N(re,ct))return re[ct]},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),d({target:"Object",stat:!0,forced:!M,sham:!A},{create:function(ct,Et){return Et===void 0?K(ct):vt(K(ct),Et)},defineProperty:Ze,defineProperties:vt,getOwnPropertyDescriptor:sr}),d({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:Or,getOwnPropertySymbols:Qn}),d({target:"Object",stat:!0,forced:D(function(){he.f(1)})},{getOwnPropertySymbols:function(ct){return he.f(Q(ct))}}),lt&&d({target:"JSON",stat:!0,forced:!M||D(function(){var ct=wt();return lt([ct])!="[null]"||lt({a:ct})!="{}"||lt(Object(ct))!="{}"})},{stringify:function(ct,Et,Mt){var zt=me(arguments),wn=Et;if(($(Et)||ct!==void 0)&&!oe(ct))return I(Et)||(Et=function(Wn,Qo){if(U(wn)&&(Qo=x(wn,this,Wn,Qo)),!oe(Qo))return Qo}),zt[1]=Et,v(lt,null,zt)}}),!Ne[Ue]){var rr=Ne.valueOf;Me(Ne,Ue,function(ct){return x(rr,this)})}le(wt,He),ot[Ae]=!0},function(u,l,o){var d=o(7),h=o(152),m=o(153),v=o(3),x=o(57),S=o(28),j=S("iterator"),A=S("toStringTag"),M=v.values,D=function(I,U){if(I){if(I[j]!==M)try{x(I,j,M)}catch{I[j]=M}if(I[A]||x(I,A,U),h[U]){for(var $ in v)if(I[$]!==v[$])try{x(I,$,v[$])}catch{I[$]=v[$]}}}};for(var N in h)D(d[N]&&d[N].prototype,N);D(m,"DOMTokenList")},function(u,l,o){var d=o(151).charAt,h=o(39),m=o(58),v=o(116),x="String Iterator",S=m.set,j=m.getterFor(x);v(String,"String",function(A){S(this,{type:x,string:h(A),index:0})},function(){var A,M=j(this),D=M.string,N=M.index;return N>=D.length?{value:void 0,done:!0}:(A=d(D,N),M.index+=A.length,{value:A,done:!1})})},function(u,l,o){(function(d){var h=function(m){return m&&m.Math==Math&&m};u.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(u,l,o){var d=o(16),h=o(36),m=o(7),v=o(15),x=o(35),S=o(30),j=o(54),A=o(39),M=o(38).f,D=o(134),N=m.Symbol,I=N&&N.prototype;if(h&&S(N)&&(!("description"in I)||N().description!==void 0)){var U={},$=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:A(arguments[0]),H=j(I,this)?new N(z):z===void 0?N():N(z);return z===""&&(U[H]=!0),H};D($,N),$.prototype=I,I.constructor=$;var q=String(N("test"))=="Symbol(test)",oe=v(I.toString),J=v(I.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,ee=v("".replace),G=v("".slice);M(I,"description",{configurable:!0,get:function(){var z=J(this),H=oe(z);if(x(U,z))return"";var K=q?G(H,7,-1):ee(H,Q,"$1");return K===""?void 0:K}}),d({global:!0,forced:!0},{Symbol:$})}},function(u,l,o){o(141)("iterator")},function(u,l,o){o.d(l,"a",function(){return v.a}),o.d(l,"c",function(){return v.e}),o.d(l,"h",function(){return Q}),o.d(l,"i",function(){return q}),o.d(l,"j",function(){return U}),o.d(l,"b",function(){return Se}),o.d(l,"e",function(){return Me}),o.d(l,"f",function(){return Fe}),o.d(l,"g",function(){return In});var d,h,m,v=o(0),x=0,S=[],j=v.i.__b,A=v.i.__r,M=v.i.diffed,D=v.i.__c,N=v.i.unmount;function I(re,ve){v.i.__h&&v.i.__h(h,re,x||ve),x=0;var ue=h.__H||(h.__H={__:[],__h:[]});return re>=ue.__.length&&ue.__.push({}),ue.__[re]}function U(re){return x=1,$(ne,re)}function $(re,ve,ue){var Oe=I(d++,2);return Oe.t=re,Oe.__c||(Oe.__=[ue?ue(ve):ne(void 0,ve),function(Je){var Ze=Oe.t(Oe.__[0],Je);Oe.__[0]!==Ze&&(Oe.__=[Ze,Oe.__[1]],Oe.__c.setState({}))}],Oe.__c=h),Oe.__}function q(re,ve){var ue=I(d++,3);!v.i.__s&&X(ue.__H,ve)&&(ue.__=re,ue.__H=ve,h.__H.__h.push(ue))}function oe(re,ve){var ue=I(d++,4);!v.i.__s&&X(ue.__H,ve)&&(ue.__=re,ue.__H=ve,h.__h.push(ue))}function J(re,ve){var ue=I(d++,7);return X(ue.__H,ve)&&(ue.__=re(),ue.__H=ve,ue.__h=re),ue.__}function Q(re,ve){return x=8,J(function(){return re},ve)}function ee(){var re;for(S.sort(function(ve,ue){return ve.__v.__b-ue.__v.__b});re=S.pop();)if(re.__P)try{re.__H.__h.forEach(H),re.__H.__h.forEach(K),re.__H.__h=[]}catch(ve){re.__H.__h=[],v.i.__e(ve,re.__v)}}v.i.__b=function(re){h=null,j&&j(re)},v.i.__r=function(re){A&&A(re),d=0;var ve=(h=re.__c).__H;ve&&(ve.__h.forEach(H),ve.__h.forEach(K),ve.__h=[])},v.i.diffed=function(re){M&&M(re);var ve=re.__c;ve&&ve.__H&&ve.__H.__h.length&&(S.push(ve)!==1&&m===v.i.requestAnimationFrame||((m=v.i.requestAnimationFrame)||z)(ee)),h=null},v.i.__c=function(re,ve){ve.some(function(ue){try{ue.__h.forEach(H),ue.__h=ue.__h.filter(function(Oe){return!Oe.__||K(Oe)})}catch(Oe){ve.some(function(Je){Je.__h&&(Je.__h=[])}),ve=[],v.i.__e(Oe,ue.__v)}}),D&&D(re,ve)},v.i.unmount=function(re){N&&N(re);var ve,ue=re.__c;ue&&ue.__H&&(ue.__H.__.forEach(function(Oe){try{H(Oe)}catch(Je){ve=Je}}),ve&&v.i.__e(ve,ue.__v))};var G=typeof requestAnimationFrame=="function";function z(re){var ve,ue=function(){clearTimeout(Oe),G&&cancelAnimationFrame(ve),setTimeout(re)},Oe=setTimeout(ue,100);G&&(ve=requestAnimationFrame(ue))}function H(re){var ve=h,ue=re.__c;typeof ue=="function"&&(re.__c=void 0,ue()),h=ve}function K(re){var ve=h;re.__c=re.__(),h=ve}function X(re,ve){return!re||re.length!==ve.length||ve.some(function(ue,Oe){return ue!==re[Oe]})}function ne(re,ve){return typeof ve=="function"?ve(re):ve}function ye(re,ve){for(var ue in ve)re[ue]=ve[ue];return re}function he(re,ve){for(var ue in re)if(ue!=="__source"&&!(ue in ve))return!0;for(var Oe in ve)if(Oe!=="__source"&&re[Oe]!==ve[Oe])return!0;return!1}function Se(re){this.props=re}function Fe(re,ve){function ue(Je){var Ze=this.props.ref,vt=Ze==Je.ref;return!vt&&Ze&&(Ze.call?Ze(null):Ze.current=null),ve?!ve(this.props,Je)||!vt:he(this.props,Je)}function Oe(Je){return this.shouldComponentUpdate=ue,Object(v.e)(re,Je)}return Oe.displayName="Memo("+(re.displayName||re.name)+")",Oe.prototype.isReactComponent=!0,Oe.__f=!0,Oe}(Se.prototype=new v.a).isPureReactComponent=!0,Se.prototype.shouldComponentUpdate=function(re,ve){return he(this.props,re)||he(this.state,ve)};var Pe=v.i.__b;v.i.__b=function(re){re.type&&re.type.__f&&re.ref&&(re.props.ref=re.ref,re.ref=null),Pe&&Pe(re)};var me=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Me(re){function ve(ue,Oe){var Je=ye({},ue);return delete Je.ref,re(Je,!(Oe=ue.ref||Oe)||typeof Oe=="object"&&!("current"in Oe)?null:Oe)}return ve.$$typeof=me,ve.render=ve,ve.prototype.isReactComponent=ve.__f=!0,ve.displayName="ForwardRef("+(re.displayName||re.name)+")",ve}var ke=function(re,ve){return re==null?null:Object(v.k)(Object(v.k)(re).map(ve))},Ge={map:ke,forEach:ke,count:function(re){return re?Object(v.k)(re).length:0},only:function(re){var ve=Object(v.k)(re);if(ve.length!==1)throw"Children.only";return ve[0]},toArray:v.k},ot=v.i.__e;v.i.__e=function(re,ve,ue){if(re.then){for(var Oe,Je=ve;Je=Je.__;)if((Oe=Je.__c)&&Oe.__c)return ve.__e==null&&(ve.__e=ue.__e,ve.__k=ue.__k),Oe.__c(re,ve)}ot(re,ve,ue)};var Ot=v.i.unmount;function Ke(re,ve,ue){return re&&(re.__c&&re.__c.__H&&(re.__c.__H.__.forEach(function(Oe){typeof Oe.__c=="function"&&Oe.__c()}),re.__c.__H=null),(re=ye({},re)).__c!=null&&(re.__c.__P===ue&&(re.__c.__P=ve),re.__c=null),re.__k=re.__k&&re.__k.map(function(Oe){return Ke(Oe,ve,ue)})),re}function Qe(re,ve,ue){return re&&(re.__v=null,re.__k=re.__k&&re.__k.map(function(Oe){return Qe(Oe,ve,ue)}),re.__c&&re.__c.__P===ve&&(re.__e&&ue.insertBefore(re.__e,re.__d),re.__c.__e=!0,re.__c.__P=ue)),re}function yt(){this.__u=0,this.t=null,this.__b=null}function le(re){var ve=re.__.__c;return ve&&ve.__e&&ve.__e(re)}function se(){this.u=null,this.o=null}v.i.unmount=function(re){var ve=re.__c;ve&&ve.__R&&ve.__R(),ve&&re.__h===!0&&(re.type=null),Ot&&Ot(re)},(yt.prototype=new v.a).__c=function(re,ve){var ue=ve.__c,Oe=this;Oe.t==null&&(Oe.t=[]),Oe.t.push(ue);var Je=le(Oe.__v),Ze=!1,vt=function(){Ze||(Ze=!0,ue.__R=null,Je?Je(qt):qt())};ue.__R=vt;var qt=function(){if(!--Oe.__u){if(Oe.state.__e){var Or=Oe.state.__e;Oe.__v.__k[0]=Qe(Or,Or.__c.__P,Or.__c.__O)}var Qn;for(Oe.setState({__e:Oe.__b=null});Qn=Oe.t.pop();)Qn.forceUpdate()}},sr=ve.__h===!0;Oe.__u++||sr||Oe.setState({__e:Oe.__b=Oe.__v.__k[0]}),re.then(vt,vt)},yt.prototype.componentWillUnmount=function(){this.t=[]},yt.prototype.render=function(re,ve){if(this.__b){if(this.__v.__k){var ue=document.createElement("div"),Oe=this.__v.__k[0].__c;this.__v.__k[0]=Ke(this.__b,ue,Oe.__O=Oe.__P)}this.__b=null}var Je=ve.__e&&Object(v.e)(v.b,null,re.fallback);return Je&&(Je.__h=null),[Object(v.e)(v.b,null,ve.__e?null:re.children),Je]};var ge=function(re,ve,ue){if(++ue[1]===ue[0]&&re.o.delete(ve),re.props.revealOrder&&(re.props.revealOrder[0]!=="t"||!re.o.size))for(ue=re.u;ue;){for(;ue.length>3;)ue.pop()();if(ue[1]<ue[0])break;re.u=ue=ue[2]}};function Ae(re){return this.getChildContext=function(){return re.context},re.children}function He(re){var ve=this,ue=re.i;ve.componentWillUnmount=function(){Object(v.j)(null,ve.l),ve.l=null,ve.i=null},ve.i&&ve.i!==ue&&ve.componentWillUnmount(),re.__v?(ve.l||(ve.i=ue,ve.l={nodeType:1,parentNode:ue,childNodes:[],appendChild:function(Oe){this.childNodes.push(Oe),ve.i.appendChild(Oe)},insertBefore:function(Oe,Je){this.childNodes.push(Oe),ve.i.appendChild(Oe)},removeChild:function(Oe){this.childNodes.splice(this.childNodes.indexOf(Oe)>>>1,1),ve.i.removeChild(Oe)}}),Object(v.j)(Object(v.e)(Ae,{context:ve.context},re.__v),ve.l)):ve.l&&ve.componentWillUnmount()}(se.prototype=new v.a).__e=function(re){var ve=this,ue=le(ve.__v),Oe=ve.o.get(re);return Oe[0]++,function(Je){var Ze=function(){ve.props.revealOrder?(Oe.push(Je),ge(ve,re,Oe)):Je()};ue?ue(Ze):Ze()}},se.prototype.render=function(re){this.u=null,this.o=new Map;var ve=Object(v.k)(re.children);re.revealOrder&&re.revealOrder[0]==="b"&&ve.reverse();for(var ue=ve.length;ue--;)this.o.set(ve[ue],this.u=[1,0,this.u]);return re.children},se.prototype.componentDidUpdate=se.prototype.componentDidMount=function(){var re=this;this.o.forEach(function(ve,ue){ge(re,ue,ve)})};var Ue=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,At=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,It=typeof document<"u",Tt=function(re){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(re)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(re){Object.defineProperty(v.a.prototype,re,{configurable:!0,get:function(){return this["UNSAFE_"+re]},set:function(ve){Object.defineProperty(this,re,{configurable:!0,writable:!0,value:ve})}})});var wt=v.i.event;function Ne(){}function dt(){return this.cancelBubble}function pe(){return this.defaultPrevented}v.i.event=function(re){return wt&&(re=wt(re)),re.persist=Ne,re.isPropagationStopped=dt,re.isDefaultPrevented=pe,re.nativeEvent=re};var lt,$t={configurable:!0,get:function(){return this.class}},gn=v.i.vnode;v.i.vnode=function(re){var ve=re.type,ue=re.props,Oe=ue;if(typeof ve=="string"){var Je=ve.indexOf("-")===-1;for(var Ze in Oe={},ue){var vt=ue[Ze];It&&Ze==="children"&&ve==="noscript"||Ze==="value"&&"defaultValue"in ue&&vt==null||(Ze==="defaultValue"&&"value"in ue&&ue.value==null?Ze="value":Ze==="download"&&vt===!0?vt="":/ondoubleclick/i.test(Ze)?Ze="ondblclick":/^onchange(textarea|input)/i.test(Ze+ve)&&!Tt(ue.type)?Ze="oninput":/^onfocus$/i.test(Ze)?Ze="onfocusin":/^onblur$/i.test(Ze)?Ze="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ze)?Ze=Ze.toLowerCase():Je&&At.test(Ze)?Ze=Ze.replace(/[A-Z0-9]/,"-$&").toLowerCase():vt===null&&(vt=void 0),Oe[Ze]=vt)}ve=="select"&&Oe.multiple&&Array.isArray(Oe.value)&&(Oe.value=Object(v.k)(ue.children).forEach(function(qt){qt.props.selected=Oe.value.indexOf(qt.props.value)!=-1})),ve=="select"&&Oe.defaultValue!=null&&(Oe.value=Object(v.k)(ue.children).forEach(function(qt){qt.props.selected=Oe.multiple?Oe.defaultValue.indexOf(qt.props.value)!=-1:Oe.defaultValue==qt.props.value})),re.props=Oe,ue.class!=ue.className&&($t.enumerable="className"in ue,ue.className!=null&&(Oe.class=ue.className),Object.defineProperty(Oe,"className",$t))}re.$$typeof=Ue,gn&&gn(re)};var Gt=v.i.__r;v.i.__r=function(re){Gt&&Gt(re),lt=re.__c};var un={ReactCurrentDispatcher:{current:{readContext:function(re){return lt.__n[re.__c].props.value}}}};function Sn(re){return!!re&&re.$$typeof===Ue}var In=function(re,ve){return re(ve)},Bt=v.b,Zn={useState:U,useReducer:$,useEffect:q,useLayoutEffect:oe,useRef:function(re){return x=5,J(function(){return{current:re}},[])},useImperativeHandle:function(re,ve,ue){x=6,oe(function(){typeof re=="function"?re(ve()):re&&(re.current=ve())},ue==null?ue:ue.concat(re))},useMemo:J,useCallback:Q,useContext:function(re){var ve=h.context[re.__c],ue=I(d++,9);return ue.c=re,ve?(ue.__==null&&(ue.__=!0,ve.sub(h)),ve.props.value):re.__},useDebugValue:function(re,ve){v.i.useDebugValue&&v.i.useDebugValue(ve?ve(re):re)},version:"17.0.2",Children:Ge,render:function(re,ve,ue){return ve.__k==null&&(ve.textContent=""),Object(v.j)(re,ve),typeof ue=="function"&&ue(),re?re.__c:null},hydrate:function(re,ve,ue){return Object(v.h)(re,ve),typeof ue=="function"&&ue(),re?re.__c:null},unmountComponentAtNode:function(re){return!!re.__k&&(Object(v.j)(null,re),!0)},createPortal:function(re,ve){return Object(v.e)(He,{__v:re,i:ve})},createElement:v.e,createContext:v.d,createFactory:function(re){return v.e.bind(null,re)},cloneElement:function(re){return Sn(re)?v.c.apply(null,arguments):re},createRef:v.f,Fragment:v.b,isValidElement:Sn,findDOMNode:function(re){return re&&(re.base||re.nodeType===1&&re)||null},Component:v.a,PureComponent:Se,memo:Fe,forwardRef:Me,flushSync:function(re,ve){return re(ve)},unstable_batchedUpdates:In,StrictMode:Bt,Suspense:yt,SuspenseList:se,lazy:function(re){var ve,ue,Oe;function Je(Ze){if(ve||(ve=re()).then(function(vt){ue=vt.default||vt},function(vt){Oe=vt}),Oe)throw Oe;if(!ue)throw ve;return Object(v.e)(ue,Ze)}return Je.displayName="Lazy",Je.__f=!0,Je},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un};l.d=Zn},function(u,l,o){var d=o(7),h=o(152),m=o(153),v=o(187),x=o(57),S=function(A){if(A&&A.forEach!==v)try{x(A,"forEach",v)}catch{A.forEach=v}};for(var j in h)h[j]&&S(d[j]&&d[j].prototype);S(m)},function(u,l,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(u,l,o){var d=o(16),h=o(18),m=o(40),v=o(101),x=o(143);d({target:"Object",stat:!0,forced:h(function(){v(1)}),sham:!x},{getPrototypeOf:function(S){return v(m(S))}})},function(u,l,o){var d=o(16),h=o(46),m=o(76),v=o(203),x=o(165),S=o(32),j=o(33),A=o(60),M=o(18),D=h("Reflect","construct"),N=Object.prototype,I=[].push,U=M(function(){function oe(){}return!(D(function(){},[],oe)instanceof oe)}),$=!M(function(){D(function(){})}),q=U||$;d({target:"Reflect",stat:!0,forced:q,sham:q},{construct:function(oe,J){x(oe),S(J);var Q=arguments.length<3?oe:x(arguments[2]);if($&&!U)return D(oe,J,Q);if(oe==Q){switch(J.length){case 0:return new oe;case 1:return new oe(J[0]);case 2:return new oe(J[0],J[1]);case 3:return new oe(J[0],J[1],J[2]);case 4:return new oe(J[0],J[1],J[2],J[3])}var ee=[null];return m(I,ee,J),new(m(v,oe,ee))}var G=Q.prototype,z=A(j(G)?G:N),H=m(oe,z,J);return j(H)?H:z}})},function(u,l){var o=Function.prototype,d=o.bind,h=o.call,m=d&&d.bind(h);u.exports=d?function(v){return v&&m(h,v)}:function(v){return v&&function(){return h.apply(v,arguments)}}},function(u,l,o){var d=o(7),h=o(50).f,m=o(57),v=o(42),x=o(110),S=o(134),j=o(95);u.exports=function(A,M){var D,N,I,U,$,q=A.target,oe=A.global,J=A.stat;if(D=oe?d:J?d[q]||x(q,{}):(d[q]||{}).prototype)for(N in M){if(U=M[N],I=A.noTargetGet?($=h(D,N))&&$.value:D[N],!j(oe?N:q+(J?".":"#")+N,A.forced)&&I!==void 0){if(typeof U==typeof I)continue;S(U,I)}(A.sham||I&&I.sham)&&m(U,"sham",!0),v(D,N,U,A)}}},function(u,l,o){var d=o(16),h=o(7),m=o(96),v=o(99),x=o(33),S=o(75),j=o(45),A=o(41),M=o(63),D=o(28),N=o(81),I=o(98),U=N("slice"),$=D("species"),q=h.Array,oe=Math.max;d({target:"Array",proto:!0,forced:!U},{slice:function(J,Q){var ee,G,z,H=A(this),K=j(H),X=S(J,K),ne=S(Q===void 0?K:Q,K);if(m(H)&&(ee=H.constructor,(v(ee)&&(ee===q||m(ee.prototype))||x(ee)&&(ee=ee[$])===null)&&(ee=void 0),ee===q||ee===void 0))return I(H,X,ne);for(G=new(ee===void 0?q:ee)(oe(ne-X,0)),z=0;X<ne;X++,z++)X in H&&M(G,z,H[X]);return G.length=z,G}})},function(u,l){u.exports=function(o){try{return!!o()}catch{return!0}}},function(u,l,o){var d=o(16),h=o(103);d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(u,l,o){var d=o(16),h=o(40),m=o(77);d({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(v){return m(h(v))}})},function(u,l,o){var d=o(36),h=o(73).EXISTS,m=o(15),v=o(38).f,x=Function.prototype,S=m(x.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,A=m(j.exec);d&&!h&&v(x,"name",{configurable:!0,get:function(){try{return A(j,S(this))[1]}catch{return""}}})},function(u,l,o){var d=o(16),h=o(18),m=o(41),v=o(50).f,x=o(36),S=h(function(){v(1)});d({target:"Object",stat:!0,forced:!x||S,sham:!x},{getOwnPropertyDescriptor:function(j,A){return v(m(j),A)}})},function(u,l,o){var d=o(16),h=o(188);d({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:h})},function(u,l,o){var d=o(16),h=o(79).filter;d({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var d=o(16),h=o(36),m=o(135),v=o(41),x=o(50),S=o(63);d({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(j){for(var A,M,D=v(j),N=x.f,I=m(D),U={},$=0;I.length>$;)(M=N(D,A=I[$++]))!==void 0&&S(U,A,M);return U}})},,function(u,l,o){var d=o(16),h=o(7),m=o(18),v=o(96),x=o(33),S=o(40),j=o(45),A=o(63),M=o(115),D=o(81),N=o(28),I=o(70),U=N("isConcatSpreadable"),$=9007199254740991,q="Maximum allowed index exceeded",oe=h.TypeError,J=I>=51||!m(function(){var G=[];return G[U]=!1,G.concat()[0]!==G}),Q=D("concat"),ee=function(G){if(!x(G))return!1;var z=G[U];return z!==void 0?!!z:v(G)};d({target:"Array",proto:!0,forced:!J||!Q},{concat:function(G){var z,H,K,X,ne,ye=S(this),he=M(ye,0),Se=0;for(z=-1,K=arguments.length;z<K;z++)if(ee(ne=z===-1?ye:arguments[z])){if(Se+(X=j(ne))>$)throw oe(q);for(H=0;H<X;H++,Se++)H in ne&&A(he,Se,ne[H])}else{if(Se>=$)throw oe(q);A(he,Se++,ne)}return he.length=Se,he}})},function(u,l,o){var d=o(7),h=o(89),m=o(35),v=o(90),x=o(108),S=o(132),j=h("wks"),A=d.Symbol,M=A&&A.for,D=S?A:A&&A.withoutSetter||v;u.exports=function(N){if(!m(j,N)||!x&&typeof j[N]!="string"){var I="Symbol."+N;x&&m(A,N)?j[N]=A[N]:j[N]=S&&M?M(I):D(I)}return j[N]}},function(u,l,o){var d=o(16),h=o(202);d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(u,l){u.exports=function(o){return typeof o=="function"}},function(u,l,o){var d=o(106),h=typeof self=="object"&&self&&self.Object===Object&&self,m=d.a||h||Function("return this")();l.a=m},function(u,l,o){var d=o(7),h=o(33),m=d.String,v=d.TypeError;u.exports=function(x){if(h(x))return x;throw v(m(x)+" is not an object")}},function(u,l,o){var d=o(30);u.exports=function(h){return typeof h=="object"?h!==null:d(h)}},function(u,l){var o=Function.prototype.call;u.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(u,l,o){var d=o(15),h=o(40),m=d({}.hasOwnProperty);u.exports=Object.hasOwn||function(v,x){return m(h(v),x)}},function(u,l,o){var d=o(18);u.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,l,o){var d=o(16),h=o(79).map;d({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var d=o(7),h=o(36),m=o(133),v=o(32),x=o(86),S=d.TypeError,j=Object.defineProperty;l.f=h?j:function(A,M,D){if(v(A),M=x(M),v(D),m)try{return j(A,M,D)}catch{}if("get"in D||"set"in D)throw S("Accessors not supported");return"value"in D&&(A[M]=D.value),A}},function(u,l,o){var d=o(7),h=o(97),m=d.String;u.exports=function(v){if(h(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(v)}},function(u,l,o){var d=o(7),h=o(44),m=d.Object;u.exports=function(v){return m(h(v))}},function(u,l,o){var d=o(85),h=o(44);u.exports=function(m){return d(h(m))}},function(u,l,o){var d=o(7),h=o(30),m=o(35),v=o(57),x=o(110),S=o(92),j=o(58),A=o(73).CONFIGURABLE,M=j.get,D=j.enforce,N=String(String).split("String");(u.exports=function(I,U,$,q){var oe,J=!!q&&!!q.unsafe,Q=!!q&&!!q.enumerable,ee=!!q&&!!q.noTargetGet,G=q&&q.name!==void 0?q.name:U;h($)&&(String(G).slice(0,7)==="Symbol("&&(G="["+String(G).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m($,"name")||A&&$.name!==G)&&v($,"name",G),(oe=D($)).source||(oe.source=N.join(typeof G=="string"?G:""))),I!==d?(J?!ee&&I[U]&&(Q=!0):delete I[U],Q?I[U]=$:v(I,U,$)):Q?I[U]=$:x(U,$)})(Function.prototype,"toString",function(){return h(this)&&M(this).source||S(this)})},function(u,l,o){(function(d){o.d(l,"d",function(){return v}),o.d(l,"c",function(){return x}),o.d(l,"b",function(){return S}),o.d(l,"a",function(){return A});var h=o(10),m=function(M,D){var N=typeof Symbol=="function"&&M[Symbol.iterator];if(!N)return M;var I,U,$=N.call(M),q=[];try{for(;(D===void 0||D-- >0)&&!(I=$.next()).done;)q.push(I.value)}catch(oe){U={error:oe}}finally{try{I&&!I.done&&(N=$.return)&&N.call($)}finally{if(U)throw U.error}}return q};function v(){var M=m(Object(h.j)(0),2)[1];return Object(h.h)(function(){M(function(D){return D+1})},[])}function x(M){if(!M||typeof M!="object")return!1;var D=Object.getPrototypeOf(M);return!D||D===Object.prototype}function S(M){return typeof Symbol=="function"?Symbol.for(M):"__$mobx-react "+M+"__"}var j={};function A(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:j}}).call(this,o(68))},function(u,l,o){var d=o(7).TypeError;u.exports=function(h){if(h==null)throw d("Can't call method on "+h);return h}},function(u,l,o){var d=o(94);u.exports=function(h){return d(h.length)}},function(u,l,o){var d=o(7),h=o(30),m=function(v){return h(v)?v:void 0};u.exports=function(v,x){return arguments.length<2?m(d[v]):d[v]&&d[v][x]}},function(u,l,o){var d=o(16),h=o(34),m=o(33),v=o(32),x=o(204),S=o(50),j=o(101);d({target:"Reflect",stat:!0},{get:function A(M,D){var N,I,U=arguments.length<3?M:arguments[2];return v(M)===U?M[D]:(N=S.f(M,D))?x(N)?N.value:N.get===void 0?void 0:h(N.get,U):m(I=j(M))?A(I,D,U):void 0}})},function(u,l,o){(function(d){var h=o(31),m=o(171),v=a&&!a.nodeType&&a,x=v&&typeof d=="object"&&d&&!d.nodeType&&d,S=x&&x.exports===v?h.a.Buffer:void 0,j=(S?S.isBuffer:void 0)||m.a;l.a=j}).call(this,o(122)(u))},function(u,l,o){(function(d){var h=o(106),m=a&&!a.nodeType&&a,v=m&&typeof d=="object"&&d&&!d.nodeType&&d,x=v&&v.exports===m&&h.a.process,S=function(){try{var j=v&&v.require&&v.require("util").types;return j||x&&x.binding&&x.binding("util")}catch{}}();l.a=S}).call(this,o(122)(u))},function(u,l,o){var d=o(36),h=o(34),m=o(84),v=o(69),x=o(41),S=o(86),j=o(35),A=o(133),M=Object.getOwnPropertyDescriptor;l.f=d?M:function(D,N){if(D=x(D),N=S(N),A)try{return M(D,N)}catch{}if(j(D,N))return v(!h(m.f,D,N),D[N])}},function(u,l,o){var d=o(15),h=d({}.toString),m=d("".slice);u.exports=function(v){return m(h(v),8,-1)}},function(u,l,o){o(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},o(186))},function(u,l,o){var d=o(16),h=o(220).entries;d({target:"Object",stat:!0},{entries:function(m){return h(m)}})},function(u,l,o){var d=o(15);u.exports=d({}.isPrototypeOf)},function(u,l,o){var d=o(46);u.exports=d("navigator","userAgent")||""},function(u,l,o){var d=o(7),h=o(30),m=o(88),v=d.TypeError;u.exports=function(x){if(h(x))return x;throw v(m(x)+" is not a function")}},function(u,l,o){var d=o(36),h=o(38),m=o(69);u.exports=d?function(v,x,S){return h.f(v,x,m(1,S))}:function(v,x,S){return v[x]=S,v}},function(u,l,o){var d,h,m,v=o(175),x=o(7),S=o(15),j=o(33),A=o(57),M=o(35),D=o(109),N=o(93),I=o(72),U="Object already initialized",$=x.TypeError,q=x.WeakMap;if(v||D.state){var oe=D.state||(D.state=new q),J=S(oe.get),Q=S(oe.has),ee=S(oe.set);d=function(z,H){if(Q(oe,z))throw new $(U);return H.facade=z,ee(oe,z,H),H},h=function(z){return J(oe,z)||{}},m=function(z){return Q(oe,z)}}else{var G=N("state");I[G]=!0,d=function(z,H){if(M(z,G))throw new $(U);return H.facade=z,A(z,G,H),H},h=function(z){return M(z,G)?z[G]:{}},m=function(z){return M(z,G)}}u.exports={set:d,get:h,has:m,enforce:function(z){return m(z)?h(z):d(z,{})},getterFor:function(z){return function(H){var K;if(!j(H)||(K=h(H)).type!==z)throw $("Incompatible receiver, "+z+" required");return K}}}},function(u,l){var o=Math.ceil,d=Math.floor;u.exports=function(h){var m=+h;return m!=m||m===0?0:(m>0?d:o)(m)}},function(u,l,o){var d,h=o(32),m=o(176),v=o(111),x=o(72),S=o(138),j=o(91),A=o(93),M=A("IE_PROTO"),D=function(){},N=function($){return"<script>"+$+"<\/script>"},I=function($){$.write(N("")),$.close();var q=$.parentWindow.Object;return $=null,q},U=function(){try{d=new ActiveXObject("htmlfile")}catch{}var $,q;U=typeof document<"u"?document.domain&&d?I(d):((q=j("iframe")).style.display="none",S.appendChild(q),q.src="javascript:",($=q.contentWindow.document).open(),$.write(N("document.F=Object")),$.close(),$.F):I(d);for(var oe=v.length;oe--;)delete U.prototype[v[oe]];return U()};x[M]=!0,u.exports=Object.create||function($,q){var oe;return $!==null?(D.prototype=h($),oe=new D,D.prototype=null,oe[M]=$):oe=U(),q===void 0?oe:m(oe,q)}},function(u,l,o){var d=o(36),h=o(7),m=o(15),v=o(95),x=o(42),S=o(35),j=o(148),A=o(54),M=o(87),D=o(131),N=o(18),I=o(74).f,U=o(50).f,$=o(38).f,q=o(160),oe=o(161).trim,J="Number",Q=h.Number,ee=Q.prototype,G=h.TypeError,z=m("".slice),H=m("".charCodeAt),K=function(Fe){var Pe=D(Fe,"number");return typeof Pe=="bigint"?Pe:X(Pe)},X=function(Fe){var Pe,me,Me,ke,Ge,ot,Ot,Ke,Qe=D(Fe,"number");if(M(Qe))throw G("Cannot convert a Symbol value to a number");if(typeof Qe=="string"&&Qe.length>2){if(Qe=oe(Qe),(Pe=H(Qe,0))===43||Pe===45){if((me=H(Qe,2))===88||me===120)return NaN}else if(Pe===48){switch(H(Qe,1)){case 66:case 98:Me=2,ke=49;break;case 79:case 111:Me=8,ke=55;break;default:return+Qe}for(ot=(Ge=z(Qe,2)).length,Ot=0;Ot<ot;Ot++)if((Ke=H(Ge,Ot))<48||Ke>ke)return NaN;return parseInt(Ge,Me)}}return+Qe};if(v(J,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var ne,ye=function(Fe){var Pe=arguments.length<1?0:Q(K(Fe)),me=this;return A(ee,me)&&N(function(){q(me)})?j(Object(Pe),me,ye):Pe},he=d?I(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Se=0;he.length>Se;Se++)S(Q,ne=he[Se])&&!S(ye,ne)&&$(ye,ne,U(Q,ne));ye.prototype=ee,ee.constructor=ye,x(h,J,ye)}},function(u,l,o){var d=o(56);u.exports=function(h,m){var v=h[m];return v==null?void 0:d(v)}},function(u,l,o){var d=o(86),h=o(38),m=o(69);u.exports=function(v,x,S){var j=d(x);j in v?h.f(v,j,m(0,S)):v[j]=S}},function(u,l,o){var d=o(15),h=o(56),m=d(d.bind);u.exports=function(v,x){return h(v),x===void 0?v:m?m(v,x):function(){return v.apply(x,arguments)}}},function(u,l,o){var d=o(16),h=o(15),m=o(85),v=o(41),x=o(121),S=h([].join),j=m!=Object,A=x("join",",");d({target:"Array",proto:!0,forced:j||!A},{join:function(M){return S(v(this),M===void 0?",":M)}})},function(u,l,o){var d=o(15),h=o(73).PROPER,m=o(42),v=o(32),x=o(54),S=o(39),j=o(18),A=o(154),M="toString",D=RegExp.prototype,N=D.toString,I=d(A),U=j(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),$=h&&N.name!=M;(U||$)&&m(RegExp.prototype,M,function(){var q=v(this),oe=S(q.source),J=q.flags;return"/"+oe+"/"+S(J===void 0&&x(D,q)&&!("flags"in D)?I(q):J)},{unsafe:!0})},function(u,l,o){var d=o(16),h=o(217),m=o(100);d({target:"Array",proto:!0},{fill:h}),m("fill")},function(u,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}u.exports=o},function(u,l){u.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},function(u,l,o){var d,h,m=o(7),v=o(55),x=m.process,S=m.Deno,j=x&&x.versions||S&&S.version,A=j&&j.v8;A&&(h=(d=A.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!h&&v&&(!(d=v.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=v.match(/Chrome\/(\d+)/))&&(h=+d[1]),u.exports=h},function(u,l){u.exports=!1},function(u,l){u.exports={}},function(u,l,o){var d=o(36),h=o(35),m=Function.prototype,v=d&&Object.getOwnPropertyDescriptor,x=h(m,"name"),S=x&&(function(){}).name==="something",j=x&&(!d||d&&v(m,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:j}},function(u,l,o){var d=o(136),h=o(111).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(m){return d(m,h)}},function(u,l,o){var d=o(59),h=Math.max,m=Math.min;u.exports=function(v,x){var S=d(v);return S<0?h(S+x,0):m(S,x)}},function(u,l){var o=Function.prototype,d=o.apply,h=o.bind,m=o.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(h?m.bind(d):function(){return m.apply(d,arguments)})},function(u,l,o){var d=o(136),h=o(111);u.exports=Object.keys||function(m){return d(m,h)}},function(u,l,o){var d=o(38).f,h=o(35),m=o(28)("toStringTag");u.exports=function(v,x,S){v&&!h(v=S?v:v.prototype,m)&&d(v,m,{configurable:!0,value:x})}},function(u,l,o){var d=o(64),h=o(15),m=o(85),v=o(40),x=o(45),S=o(115),j=h([].push),A=function(M){var D=M==1,N=M==2,I=M==3,U=M==4,$=M==6,q=M==7,oe=M==5||$;return function(J,Q,ee,G){for(var z,H,K=v(J),X=m(K),ne=d(Q,ee),ye=x(X),he=0,Se=G||S,Fe=D?Se(J,ye):N||q?Se(J,0):void 0;ye>he;he++)if((oe||he in X)&&(H=ne(z=X[he],he,K),M))if(D)Fe[he]=H;else if(H)switch(M){case 3:return!0;case 5:return z;case 6:return he;case 2:j(Fe,z)}else switch(M){case 4:return!1;case 7:j(Fe,z)}return $?-1:I||U?U:Fe}};u.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(u,l){u.exports={}},function(u,l,o){var d=o(18),h=o(28),m=o(70),v=h("species");u.exports=function(x){return m>=51||!d(function(){var S=[];return(S.constructor={})[v]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,l,o){var d=o(76),h=o(34),m=o(15),v=o(123),x=o(159),S=o(32),j=o(44),A=o(164),M=o(124),D=o(94),N=o(39),I=o(62),U=o(114),$=o(125),q=o(103),oe=o(155),J=o(18),Q=oe.UNSUPPORTED_Y,ee=4294967295,G=Math.min,z=[].push,H=m(/./.exec),K=m(z),X=m("".slice),ne=!J(function(){var ye=/(?:)/,he=ye.exec;ye.exec=function(){return he.apply(this,arguments)};var Se="ab".split(ye);return Se.length!==2||Se[0]!=="a"||Se[1]!=="b"});v("split",function(ye,he,Se){var Fe;return Fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(Pe,me){var Me=N(j(this)),ke=me===void 0?ee:me>>>0;if(ke===0)return[];if(Pe===void 0)return[Me];if(!x(Pe))return h(he,Me,Pe,ke);for(var Ge,ot,Ot,Ke=[],Qe=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Pe.sticky?"y":""),yt=0,le=new RegExp(Pe.source,Qe+"g");(Ge=h(q,le,Me))&&!((ot=le.lastIndex)>yt&&(K(Ke,X(Me,yt,Ge.index)),Ge.length>1&&Ge.index<Me.length&&d(z,Ke,U(Ge,1)),Ot=Ge[0].length,yt=ot,Ke.length>=ke));)le.lastIndex===Ge.index&&le.lastIndex++;return yt===Me.length?!Ot&&H(le,"")||K(Ke,""):K(Ke,X(Me,yt)),Ke.length>ke?U(Ke,0,ke):Ke}:"0".split(void 0,0).length?function(Pe,me){return Pe===void 0&&me===0?[]:h(he,this,Pe,me)}:he,[function(Pe,me){var Me=j(this),ke=Pe==null?void 0:I(Pe,ye);return ke?h(ke,Pe,Me,me):h(Fe,N(Me),Pe,me)},function(Pe,me){var Me=S(this),ke=N(Pe),Ge=Se(Fe,Me,ke,me,Fe!==he);if(Ge.done)return Ge.value;var ot=A(Me,RegExp),Ot=Me.unicode,Ke=(Me.ignoreCase?"i":"")+(Me.multiline?"m":"")+(Me.unicode?"u":"")+(Q?"g":"y"),Qe=new ot(Q?"^(?:"+Me.source+")":Me,Ke),yt=me===void 0?ee:me>>>0;if(yt===0)return[];if(ke.length===0)return $(Qe,ke)===null?[ke]:[];for(var le=0,se=0,ge=[];se<ke.length;){Qe.lastIndex=Q?0:se;var Ae,He=$(Qe,Q?X(ke,se):ke);if(He===null||(Ae=G(D(Qe.lastIndex+(Q?se:0)),ke.length))===le)se=M(ke,se,Ot);else{if(K(ge,X(ke,le,se)),ge.length===yt)return ge;for(var Ue=1;Ue<=He.length-1;Ue++)if(K(ge,He[Ue]),ge.length===yt)return ge;se=le=Ae}}return K(ge,X(ke,le)),ge}]},!ne,Q)},function(u,l,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,l,o){var d={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!d.call({1:2},1);l.f=m?function(v){var x=h(this,v);return!!x&&x.enumerable}:d},function(u,l,o){var d=o(7),h=o(15),m=o(18),v=o(51),x=d.Object,S=h("".split);u.exports=m(function(){return!x("z").propertyIsEnumerable(0)})?function(j){return v(j)=="String"?S(j,""):x(j)}:x},function(u,l,o){var d=o(131),h=o(87);u.exports=function(m){var v=d(m,"string");return h(v)?v:v+""}},function(u,l,o){var d=o(7),h=o(46),m=o(30),v=o(54),x=o(132),S=d.Object;u.exports=x?function(j){return typeof j=="symbol"}:function(j){var A=h("Symbol");return m(A)&&v(A.prototype,S(j))}},function(u,l,o){var d=o(7).String;u.exports=function(h){try{return d(h)}catch{return"Object"}}},function(u,l,o){var d=o(71),h=o(109);(u.exports=function(m,v){return h[m]||(h[m]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,l,o){var d=o(15),h=0,m=Math.random(),v=d(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+v(++h+m,36)}},function(u,l,o){var d=o(7),h=o(33),m=d.document,v=h(m)&&h(m.createElement);u.exports=function(x){return v?m.createElement(x):{}}},function(u,l,o){var d=o(15),h=o(30),m=o(109),v=d(Function.toString);h(m.inspectSource)||(m.inspectSource=function(x){return v(x)}),u.exports=m.inspectSource},function(u,l,o){var d=o(89),h=o(90),m=d("keys");u.exports=function(v){return m[v]||(m[v]=h(v))}},function(u,l,o){var d=o(59),h=Math.min;u.exports=function(m){return m>0?h(d(m),9007199254740991):0}},function(u,l,o){var d=o(18),h=o(30),m=/#|\.prototype\./,v=function(M,D){var N=S[x(M)];return N==A||N!=j&&(h(D)?d(D):!!D)},x=v.normalize=function(M){return String(M).replace(m,".").toLowerCase()},S=v.data={},j=v.NATIVE="N",A=v.POLYFILL="P";u.exports=v},function(u,l,o){var d=o(51);u.exports=Array.isArray||function(h){return d(h)=="Array"}},function(u,l,o){var d=o(7),h=o(113),m=o(30),v=o(51),x=o(28)("toStringTag"),S=d.Object,j=v(function(){return arguments}())=="Arguments";u.exports=h?v:function(A){var M,D,N;return A===void 0?"Undefined":A===null?"Null":typeof(D=function(I,U){try{return I[U]}catch{}}(M=S(A),x))=="string"?D:j?v(M):(N=v(M))=="Object"&&m(M.callee)?"Arguments":N}},function(u,l,o){var d=o(15);u.exports=d([].slice)},function(u,l,o){var d=o(15),h=o(18),m=o(30),v=o(97),x=o(46),S=o(92),j=function(){},A=[],M=x("Reflect","construct"),D=/^\s*(?:class|function)\b/,N=d(D.exec),I=!D.exec(j),U=function($){if(!m($))return!1;try{return M(j,A,$),!0}catch{return!1}};u.exports=!M||h(function(){var $;return U(U.call)||!U(Object)||!U(function(){$=!0})||$})?function($){if(!m($))return!1;switch(v($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return I||!!N(D,S($))}:U},function(u,l,o){var d=o(28),h=o(60),m=o(38),v=d("unscopables"),x=Array.prototype;x[v]==null&&m.f(x,v,{configurable:!0,value:h(null)}),u.exports=function(S){x[v][S]=!0}},function(u,l,o){var d=o(7),h=o(35),m=o(30),v=o(40),x=o(93),S=o(143),j=x("IE_PROTO"),A=d.Object,M=A.prototype;u.exports=S?A.getPrototypeOf:function(D){var N=v(D);if(h(N,j))return N[j];var I=N.constructor;return m(I)&&N instanceof I?I.prototype:N instanceof A?M:null}},function(u,l,o){var d=o(15),h=o(32),m=o(181);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,x=!1,S={};try{(v=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(S,[]),x=S instanceof Array}catch{}return function(j,A){return h(j),m(A),x?v(j,A):j.__proto__=A,j}}():void 0)},function(u,l,o){var d,h,m=o(34),v=o(15),x=o(39),S=o(154),j=o(155),A=o(89),M=o(60),D=o(58).get,N=o(190),I=o(191),U=A("native-string-replace",String.prototype.replace),$=RegExp.prototype.exec,q=$,oe=v("".charAt),J=v("".indexOf),Q=v("".replace),ee=v("".slice),G=(h=/b*/g,m($,d=/a/,"a"),m($,h,"a"),d.lastIndex!==0||h.lastIndex!==0),z=j.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(G||H||z||N||I)&&(q=function(K){var X,ne,ye,he,Se,Fe,Pe,me=this,Me=D(me),ke=x(K),Ge=Me.raw;if(Ge)return Ge.lastIndex=me.lastIndex,X=m(q,Ge,ke),me.lastIndex=Ge.lastIndex,X;var ot=Me.groups,Ot=z&&me.sticky,Ke=m(S,me),Qe=me.source,yt=0,le=ke;if(Ot&&(Ke=Q(Ke,"y",""),J(Ke,"g")===-1&&(Ke+="g"),le=ee(ke,me.lastIndex),me.lastIndex>0&&(!me.multiline||me.multiline&&oe(ke,me.lastIndex-1)!==`
`)&&(Qe="(?: "+Qe+")",le=" "+le,yt++),ne=new RegExp("^(?:"+Qe+")",Ke)),H&&(ne=new RegExp("^"+Qe+"$(?!\\s)",Ke)),G&&(ye=me.lastIndex),he=m($,Ot?ne:me,le),Ot?he?(he.input=ee(he.input,yt),he[0]=ee(he[0],yt),he.index=me.lastIndex,me.lastIndex+=he[0].length):me.lastIndex=0:G&&he&&(me.lastIndex=me.global?he.index+he[0].length:ye),H&&he&&he.length>1&&m(U,he[0],ne,function(){for(Se=1;Se<arguments.length-2;Se++)arguments[Se]===void 0&&(he[Se]=void 0)}),he&&ot)for(he.groups=Fe=M(null),Se=0;Se<ot.length;Se++)Fe[(Pe=ot[Se])[0]]=he[Pe[1]];return he}),u.exports=q},function(u,l,o){var d=o(16),h=o(7),m=o(75),v=o(59),x=o(45),S=o(40),j=o(115),A=o(63),M=o(81)("splice"),D=h.TypeError,N=Math.max,I=Math.min,U=9007199254740991,$="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!M},{splice:function(q,oe){var J,Q,ee,G,z,H,K=S(this),X=x(K),ne=m(q,X),ye=arguments.length;if(ye===0?J=Q=0:ye===1?(J=0,Q=X-ne):(J=ye-2,Q=I(N(v(oe),0),X-ne)),X+J-Q>U)throw D($);for(ee=j(K,Q),G=0;G<Q;G++)(z=ne+G)in K&&A(ee,G,K[z]);if(ee.length=Q,J<Q){for(G=ne;G<X-Q;G++)H=G+J,(z=G+Q)in K?K[H]=K[z]:delete K[H];for(G=X;G>X-Q+J;G--)delete K[G-1]}else if(J>Q)for(G=X-Q;G>ne;G--)H=G+J-1,(z=G+Q-1)in K?K[H]=K[z]:delete K[H];for(G=0;G<J;G++)K[G+ne]=arguments[G+2];return K.length=X-Q+J,ee}})},function(u,l,o){var d=o(16),h=o(205);d({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return h(this,"a","name",m)}})},function(u,l,o){(function(d){var h=typeof d=="object"&&d&&d.Object===Object&&d;l.a=h}).call(this,o(68))},function(u,l,o){(function(d){var h=o(31),m=a&&!a.nodeType&&a,v=m&&typeof d=="object"&&d&&!d.nodeType&&d,x=v&&v.exports===m?h.a.Buffer:void 0,S=x?x.allocUnsafe:void 0;l.a=function(j,A){if(A)return j.slice();var M=j.length,D=S?S(M):new j.constructor(M);return j.copy(D),D}}).call(this,o(122)(u))},function(u,l,o){var d=o(70),h=o(18);u.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(u,l,o){var d=o(7),h=o(110),m="__core-js_shared__",v=d[m]||h(m,{});u.exports=v},function(u,l,o){var d=o(7),h=Object.defineProperty;u.exports=function(m,v){try{h(d,m,{value:v,configurable:!0,writable:!0})}catch{d[m]=v}return v}},function(u,l){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,l){l.f=Object.getOwnPropertySymbols},function(u,l,o){var d={};d[o(28)("toStringTag")]="z",u.exports=String(d)==="[object z]"},function(u,l,o){var d=o(7),h=o(75),m=o(45),v=o(63),x=d.Array,S=Math.max;u.exports=function(j,A,M){for(var D=m(j),N=h(A,D),I=h(M===void 0?D:M,D),U=x(S(I-N,0)),$=0;N<I;N++,$++)v(U,$,j[N]);return U.length=$,U}},function(u,l,o){var d=o(178);u.exports=function(h,m){return new(d(h))(m===0?0:m)}},function(u,l,o){var d=o(16),h=o(34),m=o(71),v=o(73),x=o(30),S=o(180),j=o(101),A=o(102),M=o(78),D=o(57),N=o(42),I=o(28),U=o(80),$=o(142),q=v.PROPER,oe=v.CONFIGURABLE,J=$.IteratorPrototype,Q=$.BUGGY_SAFARI_ITERATORS,ee=I("iterator"),G="keys",z="values",H="entries",K=function(){return this};u.exports=function(X,ne,ye,he,Se,Fe,Pe){S(ye,ne,he);var me,Me,ke,Ge=function(se){if(se===Se&&yt)return yt;if(!Q&&se in Ke)return Ke[se];switch(se){case G:case z:case H:return function(){return new ye(this,se)}}return function(){return new ye(this)}},ot=ne+" Iterator",Ot=!1,Ke=X.prototype,Qe=Ke[ee]||Ke["@@iterator"]||Se&&Ke[Se],yt=!Q&&Qe||Ge(Se),le=ne=="Array"&&Ke.entries||Qe;if(le&&(me=j(le.call(new X)))!==Object.prototype&&me.next&&(m||j(me)===J||(A?A(me,J):x(me[ee])||N(me,ee,K)),M(me,ot,!0,!0),m&&(U[ot]=K)),q&&Se==z&&Qe&&Qe.name!==z&&(!m&&oe?D(Ke,"name",z):(Ot=!0,yt=function(){return h(Qe,this)})),Se)if(Me={values:Ge(z),keys:Fe?yt:Ge(G),entries:Ge(H)},Pe)for(ke in Me)(Q||Ot||!(ke in Ke))&&N(Ke,ke,Me[ke]);else d({target:ne,proto:!0,forced:Q||Ot},Me);return m&&!Pe||Ke[ee]===yt||N(Ke,ee,yt,{name:Se}),U[ne]=yt,Me}},function(u,l,o){var d=o(7),h=o(64),m=o(34),v=o(32),x=o(88),S=o(145),j=o(45),A=o(54),M=o(146),D=o(118),N=o(147),I=d.TypeError,U=function(q,oe){this.stopped=q,this.result=oe},$=U.prototype;u.exports=function(q,oe,J){var Q,ee,G,z,H,K,X,ne=J&&J.that,ye=!(!J||!J.AS_ENTRIES),he=!(!J||!J.IS_ITERATOR),Se=!(!J||!J.INTERRUPTED),Fe=h(oe,ne),Pe=function(Me){return Q&&N(Q,"normal",Me),new U(!0,Me)},me=function(Me){return ye?(v(Me),Se?Fe(Me[0],Me[1],Pe):Fe(Me[0],Me[1])):Se?Fe(Me,Pe):Fe(Me)};if(he)Q=q;else{if(!(ee=D(q)))throw I(x(q)+" is not iterable");if(S(ee)){for(G=0,z=j(q);z>G;G++)if((H=me(q[G]))&&A($,H))return H;return new U(!1)}Q=M(q,ee)}for(K=Q.next;!(X=m(K,Q)).done;){try{H=me(X.value)}catch(Me){N(Q,"throw",Me)}if(typeof H=="object"&&H&&A($,H))return H}return new U(!1)}},function(u,l,o){var d=o(97),h=o(62),m=o(80),v=o(28)("iterator");u.exports=function(x){if(x!=null)return h(x,v)||h(x,"@@iterator")||m[d(x)]}},function(u,l,o){var d=o(7),h=o(54),m=d.TypeError;u.exports=function(v,x){if(h(x,v))return v;throw m("Incorrect invocation")}},function(u,l,o){var d=o(28)("iterator"),h=!1;try{var m=0,v={next:function(){return{done:!!m++}},return:function(){h=!0}};v[d]=function(){return this},Array.from(v,function(){throw 2})}catch{}u.exports=function(x,S){if(!S&&!h)return!1;var j=!1;try{var A={};A[d]=function(){return{next:function(){return{done:j=!0}}}},x(A)}catch{}return j}},function(u,l,o){var d=o(18);u.exports=function(h,m){var v=[][h];return!!v&&d(function(){v.call(null,m||function(){throw 1},1)})}},function(u,l){u.exports=function(o){if(!o.webpackPolyfill){var d=Object.create(o);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(u,l,o){o(19);var d=o(15),h=o(42),m=o(103),v=o(18),x=o(28),S=o(57),j=x("species"),A=RegExp.prototype;u.exports=function(M,D,N,I){var U=x(M),$=!v(function(){var Q={};return Q[U]=function(){return 7},""[M](Q)!=7}),q=$&&!v(function(){var Q=!1,ee=/a/;return M==="split"&&((ee={}).constructor={},ee.constructor[j]=function(){return ee},ee.flags="",ee[U]=/./[U]),ee.exec=function(){return Q=!0,null},ee[U](""),!Q});if(!$||!q||N){var oe=d(/./[U]),J=D(U,""[M],function(Q,ee,G,z,H){var K=d(Q),X=ee.exec;return X===m||X===A.exec?$&&!H?{done:!0,value:oe(ee,G,z)}:{done:!0,value:K(G,ee,z)}:{done:!1}});h(String.prototype,M,J[0]),h(A,U,J[1])}I&&S(A[U],"sham",!0)}},function(u,l,o){var d=o(151).charAt;u.exports=function(h,m,v){return m+(v?d(h,m).length:1)}},function(u,l,o){var d=o(7),h=o(34),m=o(32),v=o(30),x=o(51),S=o(103),j=d.TypeError;u.exports=function(A,M){var D=A.exec;if(v(D)){var N=h(D,A,M);return N!==null&&m(N),N}if(x(A)==="RegExp")return h(S,A,M);throw j("RegExp#exec called on incompatible receiver")}},function(u,l,o){var d=o(76),h=o(34),m=o(15),v=o(123),x=o(18),S=o(32),j=o(30),A=o(59),M=o(94),D=o(39),N=o(44),I=o(124),U=o(62),$=o(201),q=o(125),oe=o(28)("replace"),J=Math.max,Q=Math.min,ee=m([].concat),G=m([].push),z=m("".indexOf),H=m("".slice),K="a".replace(/./,"$0")==="$0",X=!!/./[oe]&&/./[oe]("a","$0")==="";v("replace",function(ne,ye,he){var Se=X?"$":"$0";return[function(Fe,Pe){var me=N(this),Me=Fe==null?void 0:U(Fe,oe);return Me?h(Me,Fe,me,Pe):h(ye,D(me),Fe,Pe)},function(Fe,Pe){var me=S(this),Me=D(Fe);if(typeof Pe=="string"&&z(Pe,Se)===-1&&z(Pe,"$<")===-1){var ke=he(ye,me,Me,Pe);if(ke.done)return ke.value}var Ge=j(Pe);Ge||(Pe=D(Pe));var ot=me.global;if(ot){var Ot=me.unicode;me.lastIndex=0}for(var Ke=[];;){var Qe=q(me,Me);if(Qe===null||(G(Ke,Qe),!ot))break;D(Qe[0])===""&&(me.lastIndex=I(Me,M(me.lastIndex),Ot))}for(var yt,le="",se=0,ge=0;ge<Ke.length;ge++){for(var Ae=D((Qe=Ke[ge])[0]),He=J(Q(A(Qe.index),Me.length),0),Ue=[],At=1;At<Qe.length;At++)G(Ue,(yt=Qe[At])===void 0?yt:String(yt));var It=Qe.groups;if(Ge){var Tt=ee([Ae],Ue,He,Me);It!==void 0&&G(Tt,It);var wt=D(d(Pe,void 0,Tt))}else wt=$(Ae,Me,He,Ue,It,Pe);He>=se&&(le+=H(Me,se,He)+wt,se=He+Ae.length)}return le+H(Me,se)}]},!!x(function(){var ne=/./;return ne.exec=function(){var ye=[];return ye.groups={a:"7"},ye},"".replace(ne,"$<a>")!=="7"})||!K||X)},function(u,l,o){var d=o(16),h=Math.hypot,m=Math.abs,v=Math.sqrt;d({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(x,S){for(var j,A,M=0,D=0,N=arguments.length,I=0;D<N;)I<(j=m(arguments[D++]))?(M=M*(A=I/j)*A+1,I=j):M+=j>0?(A=j/I)*A:j;return I===1/0?1/0:I*v(M)}})},function(u,l,o){var d=o(51),h=o(7);u.exports=d(h.process)=="process"},function(u,l,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,l,o){(function(d,h){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,x="Expected a function",S="__lodash_hash_undefined__",j="__lodash_placeholder__",A=16,M=32,D=64,N=128,I=256,U=1/0,$=9007199254740991,q=NaN,oe=4294967295,J=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",A],["flip",512],["partial",M],["partialRight",D],["rearg",I]],Q="[object Arguments]",ee="[object Array]",G="[object Boolean]",z="[object Date]",H="[object Error]",K="[object Function]",X="[object GeneratorFunction]",ne="[object Map]",ye="[object Number]",he="[object Object]",Se="[object Promise]",Fe="[object RegExp]",Pe="[object Set]",me="[object String]",Me="[object Symbol]",ke="[object WeakMap]",Ge="[object ArrayBuffer]",ot="[object DataView]",Ot="[object Float32Array]",Ke="[object Float64Array]",Qe="[object Int8Array]",yt="[object Int16Array]",le="[object Int32Array]",se="[object Uint8Array]",ge="[object Uint8ClampedArray]",Ae="[object Uint16Array]",He="[object Uint32Array]",Ue=/\b__p \+= '';/g,At=/\b(__p \+=) '' \+/g,It=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,Ne=RegExp(Tt.source),dt=RegExp(wt.source),pe=/<%-([\s\S]+?)%>/g,lt=/<%([\s\S]+?)%>/g,$t=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gt=/^\w*$/,un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sn=/[\\^$.*+?()[\]{}|]/g,In=RegExp(Sn.source),Bt=/^\s+/,Zn=/\s/,re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ve=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,Oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Je=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,sr=/^[-+]0x[0-9a-f]+$/i,Or=/^0b[01]+$/i,Qn=/^\[object .+?Constructor\]$/,rr=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,Et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mt=/($^)/,zt=/['\n\r\u2028\u2029\\]/g,wn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wn="\\u2700-\\u27bf",Qo="a-z\\xdf-\\xf6\\xf8-\\xff",Io="A-Z\\xc0-\\xd6\\xd8-\\xde",ei="\\ufe0e\\ufe0f",Ji="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qc="['’]",es="[\\ud800-\\udfff]",so="["+Ji+"]",Ea="["+wn+"]",ht="\\d+",ef="[\\u2700-\\u27bf]",ts="["+Qo+"]",ns="[^\\ud800-\\udfff"+Ji+ht+Wn+Qo+Io+"]",Fr="\\ud83c[\\udffb-\\udfff]",Zr="[^\\ud800-\\udfff]",nu="(?:\\ud83c[\\udde6-\\uddff]){2}",xo="[\\ud800-\\udbff][\\udc00-\\udfff]",lo="["+Io+"]",Eo="(?:"+ts+"|"+ns+")",rs="(?:"+lo+"|"+ns+")",os="(?:['’](?:d|ll|m|re|s|t|ve))?",fl="(?:['’](?:D|LL|M|RE|S|T|VE))?",Sa="(?:"+Ea+"|"+Fr+")?",pl="[\\ufe0e\\ufe0f]?",is=pl+Sa+("(?:\\u200d(?:"+[Zr,nu,xo].join("|")+")"+pl+Sa+")*"),tf="(?:"+[ef,nu,xo].join("|")+")"+is,Si="(?:"+[Zr+Ea+"?",Ea,nu,xo,es].join("|")+")",dl=RegExp(Qc,"g"),ti=RegExp(Ea,"g"),as=RegExp(Fr+"(?="+Fr+")|"+Si+is,"g"),ru=RegExp([lo+"?"+ts+"+"+os+"(?="+[so,lo,"$"].join("|")+")",rs+"+"+fl+"(?="+[so,lo+Eo,"$"].join("|")+")",lo+"?"+Eo+"+"+os,lo+"+"+fl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ht,tf].join("|"),"g"),us=RegExp("[\\u200d\\ud800-\\udfff"+wn+ei+"]"),ss=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hl=-1,_n={};_n[Ot]=_n[Ke]=_n[Qe]=_n[yt]=_n[le]=_n[se]=_n[ge]=_n[Ae]=_n[He]=!0,_n[Q]=_n[ee]=_n[Ge]=_n[G]=_n[ot]=_n[z]=_n[H]=_n[K]=_n[ne]=_n[ye]=_n[he]=_n[Fe]=_n[Pe]=_n[me]=_n[ke]=!1;var mn={};mn[Q]=mn[ee]=mn[Ge]=mn[ot]=mn[G]=mn[z]=mn[Ot]=mn[Ke]=mn[Qe]=mn[yt]=mn[le]=mn[ne]=mn[ye]=mn[he]=mn[Fe]=mn[Pe]=mn[me]=mn[Me]=mn[se]=mn[ge]=mn[Ae]=mn[He]=!0,mn[H]=mn[K]=mn[ke]=!1;var yl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zi=parseFloat,ni=parseInt,ls=typeof d=="object"&&d&&d.Object===Object&&d,vl=typeof self=="object"&&self&&self.Object===Object&&self,Xn=ls||vl||Function("return this")(),cs=l&&!l.nodeType&&l,ja=cs&&typeof h=="object"&&h&&!h.nodeType&&h,fs=ja&&ja.exports===cs,ou=fs&&ls.process,wr=function(){try{var xe=ja&&ja.require&&ja.require("util").types;return xe||ou&&ou.binding&&ou.binding("util")}catch{}}(),ps=wr&&wr.isArrayBuffer,gl=wr&&wr.isDate,ds=wr&&wr.isMap,iu=wr&&wr.isRegExp,Qi=wr&&wr.isSet,ri=wr&&wr.isTypedArray;function Pn(xe,Re,Be){switch(Be.length){case 0:return xe.call(Re);case 1:return xe.call(Re,Be[0]);case 2:return xe.call(Re,Be[0],Be[1]);case 3:return xe.call(Re,Be[0],Be[1],Be[2])}return xe.apply(Re,Be)}function rf(xe,Re,Be,rt){for(var Vt=-1,tn=xe==null?0:xe.length;++Vt<tn;){var Nn=xe[Vt];Re(rt,Nn,Be(Nn),xe)}return rt}function Ur(xe,Re){for(var Be=-1,rt=xe==null?0:xe.length;++Be<rt&&Re(xe[Be],Be,xe)!==!1;);return xe}function of(xe,Re){for(var Be=xe==null?0:xe.length;Be--&&Re(xe[Be],Be,xe)!==!1;);return xe}function ml(xe,Re){for(var Be=-1,rt=xe==null?0:xe.length;++Be<rt;)if(!Re(xe[Be],Be,xe))return!1;return!0}function Tr(xe,Re){for(var Be=-1,rt=xe==null?0:xe.length,Vt=0,tn=[];++Be<rt;){var Nn=xe[Be];Re(Nn,Be,xe)&&(tn[Vt++]=Nn)}return tn}function co(xe,Re){return!!(xe!=null&&xe.length)&&ea(xe,Re,0)>-1}function hs(xe,Re,Be){for(var rt=-1,Vt=xe==null?0:xe.length;++rt<Vt;)if(Be(Re,xe[rt]))return!0;return!1}function fn(xe,Re){for(var Be=-1,rt=xe==null?0:xe.length,Vt=Array(rt);++Be<rt;)Vt[Be]=Re(xe[Be],Be,xe);return Vt}function lr(xe,Re){for(var Be=-1,rt=Re.length,Vt=xe.length;++Be<rt;)xe[Vt+Be]=Re[Be];return xe}function au(xe,Re,Be,rt){var Vt=-1,tn=xe==null?0:xe.length;for(rt&&tn&&(Be=xe[++Vt]);++Vt<tn;)Be=Re(Be,xe[Vt],Vt,xe);return Be}function bl(xe,Re,Be,rt){var Vt=xe==null?0:xe.length;for(rt&&Vt&&(Be=xe[--Vt]);Vt--;)Be=Re(Be,xe[Vt],Vt,xe);return Be}function ys(xe,Re){for(var Be=-1,rt=xe==null?0:xe.length;++Be<rt;)if(Re(xe[Be],Be,xe))return!0;return!1}var uu=$r("length");function Lo(xe,Re,Be){var rt;return Be(xe,function(Vt,tn,Nn){if(Re(Vt,tn,Nn))return rt=tn,!1}),rt}function oi(xe,Re,Be,rt){for(var Vt=xe.length,tn=Be+(rt?1:-1);rt?tn--:++tn<Vt;)if(Re(xe[tn],tn,xe))return tn;return-1}function ea(xe,Re,Be){return Re==Re?function(rt,Vt,tn){for(var Nn=tn-1,O=rt.length;++Nn<O;)if(rt[Nn]===Vt)return Nn;return-1}(xe,Re,Be):oi(xe,ii,Be)}function Wr(xe,Re,Be,rt){for(var Vt=Be-1,tn=xe.length;++Vt<tn;)if(rt(xe[Vt],Re))return Vt;return-1}function ii(xe){return xe!=xe}function sn(xe,Re){var Be=xe==null?0:xe.length;return Be?su(xe,Re)/Be:q}function $r(xe){return function(Re){return Re==null?v:Re[xe]}}function Bo(xe){return function(Re){return xe==null?v:xe[Re]}}function mr(xe,Re,Be,rt,Vt){return Vt(xe,function(tn,Nn,O){Be=rt?(rt=!1,tn):Re(Be,tn,Nn,O)}),Be}function su(xe,Re){for(var Be,rt=-1,Vt=xe.length;++rt<Vt;){var tn=Re(xe[rt]);tn!==v&&(Be=Be===v?tn:Be+tn)}return Be}function Aa(xe,Re){for(var Be=-1,rt=Array(xe);++Be<xe;)rt[Be]=Re(Be);return rt}function vs(xe){return xe&&xe.slice(0,Gr(xe)+1).replace(Bt,"")}function $n(xe){return function(Re){return xe(Re)}}function lu(xe,Re){return fn(Re,function(Be){return xe[Be]})}function ai(xe,Re){return xe.has(Re)}function fo(xe,Re){for(var Be=-1,rt=xe.length;++Be<rt&&ea(Re,xe[Be],0)>-1;);return Be}function gs(xe,Re){for(var Be=xe.length;Be--&&ea(Re,xe[Be],0)>-1;);return Be}function af(xe,Re){for(var Be=xe.length,rt=0;Be--;)xe[Be]===Re&&++rt;return rt}var ms=Bo({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),er=Bo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pa(xe){return"\\"+yl[xe]}function zo(xe){return us.test(xe)}function kr(xe){var Re=-1,Be=Array(xe.size);return xe.forEach(function(rt,Vt){Be[++Re]=[Vt,rt]}),Be}function bs(xe,Re){return function(Be){return xe(Re(Be))}}function Qr(xe,Re){for(var Be=-1,rt=xe.length,Vt=0,tn=[];++Be<rt;){var Nn=xe[Be];Nn!==Re&&Nn!==j||(xe[Be]=j,tn[Vt++]=Be)}return tn}function ji(xe){var Re=-1,Be=Array(xe.size);return xe.forEach(function(rt){Be[++Re]=rt}),Be}function cu(xe){var Re=-1,Be=Array(xe.size);return xe.forEach(function(rt){Be[++Re]=[rt,rt]}),Be}function Fo(xe){return zo(xe)?function(Re){for(var Be=as.lastIndex=0;as.test(Re);)++Be;return Be}(xe):uu(xe)}function eo(xe){return zo(xe)?function(Re){return Re.match(as)||[]}(xe):function(Re){return Re.split("")}(xe)}function Gr(xe){for(var Re=xe.length;Re--&&Zn.test(xe.charAt(Re)););return Re}var po=Bo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Uo=function xe(Re){var Be,rt=(Re=Re==null?Xn:Uo.defaults(Xn.Object(),Re,Uo.pick(Xn,nf))).Array,Vt=Re.Date,tn=Re.Error,Nn=Re.Function,O=Re.Math,w=Re.Object,k=Re.RegExp,B=Re.String,Z=Re.TypeError,de=rt.prototype,je=Nn.prototype,$e=w.prototype,ft=Re["__core-js_shared__"],Zt=je.toString,it=$e.hasOwnProperty,jn=0,Ht=(Be=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+Be:"",dn=$e.toString,ho=Zt.call(w),zn=Xn._,Vr=k("^"+Zt.call(it).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ui=fs?Re.Buffer:v,si=Re.Symbol,Ma=Re.Uint8Array,_s=ui?ui.allocUnsafe:v,Ai=bs(w.getPrototypeOf,w),fu=w.create,Nr=$e.propertyIsEnumerable,Ta=de.splice,ta=si?si.isConcatSpreadable:v,Pi=si?si.iterator:v,Mi=si?si.toStringTag:v,pu=function(){try{var f=Ra(w,"defineProperty");return f({},"",{}),f}catch{}}(),ov=Re.clearTimeout!==Xn.clearTimeout&&Re.clearTimeout,iv=Vt&&Vt.now!==Xn.Date.now&&Vt.now,nd=Re.setTimeout!==Xn.setTimeout&&Re.setTimeout,_l=O.ceil,du=O.floor,uf=w.getOwnPropertySymbols,av=ui?ui.isBuffer:v,rd=Re.isFinite,sf=de.join,od=bs(w.keys,w),br=O.max,Dr=O.min,Ol=Vt.now,wl=Re.parseInt,xl=O.random,uv=de.reverse,hu=Ra(Re,"DataView"),yu=Ra(Re,"Map"),lf=Ra(Re,"Promise"),ka=Ra(Re,"Set"),vu=Ra(Re,"WeakMap"),Os=Ra(w,"create"),El=vu&&new vu,gu={},sv=aa(hu),id=aa(yu),lv=aa(lf),cv=aa(ka),ad=aa(vu),Sl=si?si.prototype:v,jr=Sl?Sl.valueOf:v,ud=Sl?Sl.toString:v;function F(f){if(Kn(f)&&!Xt(f)&&!(f instanceof cn)){if(f instanceof So)return f;if(it.call(f,"__wrapped__"))return Wf(f)}return new So(f)}var mu=function(){function f(){}return function(y){if(!Hn(y))return{};if(fu)return fu(y);f.prototype=y;var _=new f;return f.prototype=v,_}}();function ws(){}function So(f,y){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=v}function cn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function Na(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var T=f[y];this.set(T[0],T[1])}}function An(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var T=f[y];this.set(T[0],T[1])}}function li(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var T=f[y];this.set(T[0],T[1])}}function na(f){var y=-1,_=f==null?0:f.length;for(this.__data__=new li;++y<_;)this.add(f[y])}function jo(f){var y=this.__data__=new An(f);this.size=y.size}function cf(f,y){var _=Xt(f),T=!_&&Ia(f),R=!_&&!T&&Hr(f),V=!_&&!T&&!R&&Li(f),ae=_||T||R||V,fe=ae?Aa(f.length,B):[],we=fe.length;for(var ze in f)!y&&!it.call(f,ze)||ae&&(ze=="length"||R&&(ze=="offset"||ze=="parent")||V&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||go(ze,we))||fe.push(ze);return fe}function ff(f){var y=f.length;return y?f[bf(0,y-1)]:v}function sd(f,y){return ks(no(f),ra(y,0,f.length))}function ld(f){return ks(no(f))}function jl(f,y,_){(_!==v&&!Vo(f[y],_)||_===v&&!(y in f))&&ci(f,y,_)}function bu(f,y,_){var T=f[y];it.call(f,y)&&Vo(T,_)&&(_!==v||y in f)||ci(f,y,_)}function xs(f,y){for(var _=f.length;_--;)if(Vo(f[_][0],y))return _;return-1}function cd(f,y,_,T){return Fn(f,function(R,V,ae){y(T,R,_(R),ae)}),T}function pf(f,y){return f&&Wo(y,qn(y),f)}function ci(f,y,_){y=="__proto__"&&pu?pu(f,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):f[y]=_}function Al(f,y){for(var _=-1,T=y.length,R=rt(T),V=f==null;++_<T;)R[_]=V?v:Nu(f,y[_]);return R}function ra(f,y,_){return f==f&&(_!==v&&(f=f<=_?f:_),y!==v&&(f=f>=y?f:y)),f}function yo(f,y,_,T,R,V){var ae,fe=1&y,we=2&y,ze=4&y;if(_&&(ae=R?_(f,T,R,V):_(f)),ae!==v)return ae;if(!Hn(f))return f;var Ce=Xt(f);if(Ce){if(ae=function(We){var Xe=We.length,kt=new We.constructor(Xe);return Xe&&typeof We[0]=="string"&&it.call(We,"index")&&(kt.index=We.index,kt.input=We.input),kt}(f),!fe)return no(f,ae)}else{var Ve=Cr(f),ut=Ve==K||Ve==X;if(Hr(f))return Ed(f,fe);if(Ve==he||Ve==Q||ut&&!R){if(ae=we||ut?{}:Ii(f),!fe)return we?function(We,Xe){return Wo(We,Gl(We),Xe)}(f,function(We,Xe){return We&&Wo(Xe,Lr(Xe),We)}(ae,f)):function(We,Xe){return Wo(We,_r(We),Xe)}(f,pf(ae,f))}else{if(!mn[Ve])return R?f:{};ae=function(We,Xe,kt){var st=We.constructor;switch(Xe){case Ge:return Af(We);case G:case z:return new st(+We);case ot:return function(Ut,an){var St=an?Af(Ut.buffer):Ut.buffer;return new Ut.constructor(St,Ut.byteOffset,Ut.byteLength)}(We,kt);case Ot:case Ke:case Qe:case yt:case le:case se:case ge:case Ae:case He:return Sd(We,kt);case ne:return new st;case ye:case me:return new st(We);case Fe:return function(Ut){var an=new Ut.constructor(Ut.source,qt.exec(Ut));return an.lastIndex=Ut.lastIndex,an}(We);case Pe:return new st;case Me:return ce=We,jr?w(jr.call(ce)):{}}var ce}(f,Ve,fe)}}V||(V=new jo);var mt=V.get(f);if(mt)return mt;V.set(f,ae),Jd(f)?f.forEach(function(We){ae.add(yo(We,y,_,We,f,V))}):Qf(f)&&f.forEach(function(We,Xe){ae.set(Xe,yo(We,y,_,Xe,f,V))});var Pt=Ce?v:(ze?we?kf:Tf:we?Lr:qn)(f);return Ur(Pt||f,function(We,Xe){Pt&&(We=f[Xe=We]),bu(ae,Xe,yo(We,y,_,Xe,f,V))}),ae}function df(f,y,_){var T=_.length;if(f==null)return!T;for(f=w(f);T--;){var R=_[T],V=y[R],ae=f[R];if(ae===v&&!(R in f)||!V(ae))return!1}return!0}function hf(f,y,_){if(typeof f!="function")throw new Z(x);return Su(function(){f.apply(v,_)},y)}function Ti(f,y,_,T){var R=-1,V=co,ae=!0,fe=f.length,we=[],ze=y.length;if(!fe)return we;_&&(y=fn(y,$n(_))),T?(V=hs,ae=!1):y.length>=200&&(V=ai,ae=!1,y=new na(y));e:for(;++R<fe;){var Ce=f[R],Ve=_==null?Ce:_(Ce);if(Ce=T||Ce!==0?Ce:0,ae&&Ve==Ve){for(var ut=ze;ut--;)if(y[ut]===Ve)continue e;we.push(Ce)}else V(y,Ve,T)||we.push(Ce)}return we}F.templateSettings={escape:pe,evaluate:lt,interpolate:$t,variable:"",imports:{_:F}},F.prototype=ws.prototype,F.prototype.constructor=F,So.prototype=mu(ws.prototype),So.prototype.constructor=So,cn.prototype=mu(ws.prototype),cn.prototype.constructor=cn,Na.prototype.clear=function(){this.__data__=Os?Os(null):{},this.size=0},Na.prototype.delete=function(f){var y=this.has(f)&&delete this.__data__[f];return this.size-=y?1:0,y},Na.prototype.get=function(f){var y=this.__data__;if(Os){var _=y[f];return _===S?v:_}return it.call(y,f)?y[f]:v},Na.prototype.has=function(f){var y=this.__data__;return Os?y[f]!==v:it.call(y,f)},Na.prototype.set=function(f,y){var _=this.__data__;return this.size+=this.has(f)?0:1,_[f]=Os&&y===v?S:y,this},An.prototype.clear=function(){this.__data__=[],this.size=0},An.prototype.delete=function(f){var y=this.__data__,_=xs(y,f);return!(_<0)&&(_==y.length-1?y.pop():Ta.call(y,_,1),--this.size,!0)},An.prototype.get=function(f){var y=this.__data__,_=xs(y,f);return _<0?v:y[_][1]},An.prototype.has=function(f){return xs(this.__data__,f)>-1},An.prototype.set=function(f,y){var _=this.__data__,T=xs(_,f);return T<0?(++this.size,_.push([f,y])):_[T][1]=y,this},li.prototype.clear=function(){this.size=0,this.__data__={hash:new Na,map:new(yu||An),string:new Na}},li.prototype.delete=function(f){var y=$l(this,f).delete(f);return this.size-=y?1:0,y},li.prototype.get=function(f){return $l(this,f).get(f)},li.prototype.has=function(f){return $l(this,f).has(f)},li.prototype.set=function(f,y){var _=$l(this,f),T=_.size;return _.set(f,y),this.size+=_.size==T?0:1,this},na.prototype.add=na.prototype.push=function(f){return this.__data__.set(f,S),this},na.prototype.has=function(f){return this.__data__.has(f)},jo.prototype.clear=function(){this.__data__=new An,this.size=0},jo.prototype.delete=function(f){var y=this.__data__,_=y.delete(f);return this.size=y.size,_},jo.prototype.get=function(f){return this.__data__.get(f)},jo.prototype.has=function(f){return this.__data__.has(f)},jo.prototype.set=function(f,y){var _=this.__data__;if(_ instanceof An){var T=_.__data__;if(!yu||T.length<199)return T.push([f,y]),this.size=++_.size,this;_=this.__data__=new li(T)}return _.set(f,y),this.size=_.size,this};var Fn=Pd(gt),fd=Pd(Dn,!0);function pd(f,y){var _=!0;return Fn(f,function(T,R,V){return _=!!y(T,R,V)}),_}function tr(f,y,_){for(var T=-1,R=f.length;++T<R;){var V=f[T],ae=y(V);if(ae!=null&&(fe===v?ae==ae&&!Xr(ae):_(ae,fe)))var fe=ae,we=V}return we}function On(f,y){var _=[];return Fn(f,function(T,R,V){y(T,R,V)&&_.push(T)}),_}function xr(f,y,_,T,R){var V=-1,ae=f.length;for(_||(_=mv),R||(R=[]);++V<ae;){var fe=f[V];y>0&&_(fe)?y>1?xr(fe,y-1,_,T,R):lr(R,fe):T||(R[R.length]=fe)}return R}var Qt=js(),or=js(!0);function gt(f,y){return f&&Qt(f,y,qn)}function Dn(f,y){return f&&or(f,y,qn)}function Pl(f,y){return Tr(y,function(_){return Mo(f[_])})}function ki(f,y){for(var _=0,T=(y=bn(y,f)).length;f!=null&&_<T;)f=f[$o(y[_++])];return _&&_==T?f:v}function yf(f,y,_){var T=y(f);return Xt(f)?T:lr(T,_(f))}function Gn(f){return f==null?f===v?"[object Undefined]":"[object Null]":Mi&&Mi in w(f)?function(y){var _=it.call(y,Mi),T=y[Mi];try{y[Mi]=v;var R=!0}catch{}var V=dn.call(y);return R&&(_?y[Mi]=T:delete y[Mi]),V}(f):function(y){return dn.call(y)}(f)}function Yn(f,y){return f>y}function dd(f,y){return f!=null&&it.call(f,y)}function hd(f,y){return f!=null&&y in w(f)}function Ml(f,y,_){for(var T=_?hs:co,R=f[0].length,V=f.length,ae=V,fe=rt(V),we=1/0,ze=[];ae--;){var Ce=f[ae];ae&&y&&(Ce=fn(Ce,$n(y))),we=Dr(Ce.length,we),fe[ae]=!_&&(y||R>=120&&Ce.length>=120)?new na(ae&&Ce):v}Ce=f[0];var Ve=-1,ut=fe[0];e:for(;++Ve<R&&ze.length<we;){var mt=Ce[Ve],Pt=y?y(mt):mt;if(mt=_||mt!==0?mt:0,!(ut?ai(ut,Pt):T(ze,Pt,_))){for(ae=V;--ae;){var We=fe[ae];if(!(We?ai(We,Pt):T(f[ae],Pt,_)))continue e}ut&&ut.push(Pt),ze.push(mt)}}return ze}function _u(f,y,_){var T=(f=Lf(f,y=bn(y,f)))==null?f:f[$o(Vn(y))];return T==null?v:Pn(T,f,_)}function vf(f){return Kn(f)&&Gn(f)==Q}function Ou(f,y,_,T,R){return f===y||(f==null||y==null||!Kn(f)&&!Kn(y)?f!=f&&y!=y:function(V,ae,fe,we,ze,Ce){var Ve=Xt(V),ut=Xt(ae),mt=Ve?ee:Cr(V),Pt=ut?ee:Cr(ae),We=(mt=mt==Q?he:mt)==he,Xe=(Pt=Pt==Q?he:Pt)==he,kt=mt==Pt;if(kt&&Hr(V)){if(!Hr(ae))return!1;Ve=!0,We=!1}if(kt&&!We)return Ce||(Ce=new jo),Ve||Li(V)?Wl(V,ae,fe,we,ze,Ce):function(St,Ct,fr,io,Ho,pr,pi){switch(fr){case ot:if(St.byteLength!=Ct.byteLength||St.byteOffset!=Ct.byteOffset)return!1;St=St.buffer,Ct=Ct.buffer;case Ge:return!(St.byteLength!=Ct.byteLength||!pr(new Ma(St),new Ma(Ct)));case G:case z:case ye:return Vo(+St,+Ct);case H:return St.name==Ct.name&&St.message==Ct.message;case Fe:case me:return St==Ct+"";case ne:var Fi=kr;case Pe:var Cu=1&io;if(Fi||(Fi=ji),St.size!=Ct.size&&!Cu)return!1;var Hs=pi.get(St);if(Hs)return Hs==Ct;io|=2,pi.set(St,Ct);var di=Wl(Fi(St),Fi(Ct),io,Ho,pr,pi);return pi.delete(St),di;case Me:if(jr)return jr.call(St)==jr.call(Ct)}return!1}(V,ae,mt,fe,we,ze,Ce);if(!(1&fe)){var st=We&&it.call(V,"__wrapped__"),ce=Xe&&it.call(ae,"__wrapped__");if(st||ce){var Ut=st?V.value():V,an=ce?ae.value():ae;return Ce||(Ce=new jo),ze(Ut,an,fe,we,Ce)}}return kt?(Ce||(Ce=new jo),function(St,Ct,fr,io,Ho,pr){var pi=1&fr,Fi=Tf(St),Cu=Fi.length,Hs=Tf(Ct).length;if(Cu!=Hs&&!pi)return!1;for(var di=Cu;di--;){var fa=Fi[di];if(!(pi?fa in Ct:it.call(Ct,fa)))return!1}var mp=pr.get(St),Ru=pr.get(Ct);if(mp&&Ru)return mp==Ct&&Ru==St;var Xs=!0;pr.set(St,Ct),pr.set(Ct,St);for(var bp=pi;++di<Cu;){var Ys=St[fa=Fi[di]],Ba=Ct[fa];if(io)var za=pi?io(Ba,Ys,fa,Ct,St,pr):io(Ys,Ba,fa,St,Ct,pr);if(!(za===v?Ys===Ba||Ho(Ys,Ba,fr,io,pr):za)){Xs=!1;break}bp||(bp=fa=="constructor")}if(Xs&&!bp){var Ui=St.constructor,Ks=Ct.constructor;Ui==Ks||!("constructor"in St)||!("constructor"in Ct)||typeof Ui=="function"&&Ui instanceof Ui&&typeof Ks=="function"&&Ks instanceof Ks||(Xs=!1)}return pr.delete(St),pr.delete(Ct),Xs}(V,ae,fe,we,ze,Ce)):!1}(f,y,_,T,Ou,R))}function Tl(f,y,_,T){var R=_.length,V=R,ae=!T;if(f==null)return!V;for(f=w(f);R--;){var fe=_[R];if(ae&&fe[2]?fe[1]!==f[fe[0]]:!(fe[0]in f))return!1}for(;++R<V;){var we=(fe=_[R])[0],ze=f[we],Ce=fe[1];if(ae&&fe[2]){if(ze===v&&!(we in f))return!1}else{var Ve=new jo;if(T)var ut=T(ze,Ce,we,f,y,Ve);if(!(ut===v?Ou(Ce,ze,3,T,Ve):ut))return!1}}return!0}function wu(f){return!(!Hn(f)||(y=f,Ht&&Ht in y))&&(Mo(f)?Vr:Qn).test(aa(f));var y}function gf(f){return typeof f=="function"?f:f==null?Yr:typeof f=="object"?Xt(f)?vd(f[0],f[1]):yd(f):cc(f)}function Ni(f){if(!De(f))return od(f);var y=[];for(var _ in w(f))it.call(f,_)&&_!="constructor"&&y.push(_);return y}function fv(f){if(!Hn(f))return function(R){var V=[];if(R!=null)for(var ae in w(R))V.push(ae);return V}(f);var y=De(f),_=[];for(var T in f)(T!="constructor"||!y&&it.call(f,T))&&_.push(T);return _}function Di(f,y){return f<y}function Ao(f,y){var _=-1,T=oo(f)?rt(f.length):[];return Fn(f,function(R,V,ae){T[++_]=y(R,V,ae)}),T}function yd(f){var y=Df(f);return y.length==1&&y[0][2]?Rf(y[0][0],y[0][1]):function(_){return _===f||Tl(_,f,y)}}function vd(f,y){return Hl(f)&&Cf(y)?Rf($o(f),y):function(_){var T=Nu(_,f);return T===v&&T===y?uc(_,f):Ou(y,T,3)}}function kl(f,y,_,T,R){f!==y&&Qt(y,function(V,ae){if(R||(R=new jo),Hn(V))(function(we,ze,Ce,Ve,ut,mt,Pt){var We=Yl(we,Ce),Xe=Yl(ze,Ce),kt=Pt.get(Xe);if(kt)return void jl(we,Ce,kt);var st=mt?mt(We,Xe,Ce+"",we,ze,Pt):v,ce=st===v;if(ce){var Ut=Xt(Xe),an=!Ut&&Hr(Xe),St=!Ut&&!an&&Li(Xe);st=Xe,Ut||an||St?Xt(We)?st=We:Un(We)?st=no(We):an?(ce=!1,st=Ed(Xe,!0)):St?(ce=!1,st=Sd(Xe,!0)):st=[]:Tu(Xe)||Ia(Xe)?(st=We,Ia(We)?st=np(We):Hn(We)&&!Mo(We)||(st=Ii(Xe))):ce=!1}ce&&(Pt.set(Xe,st),ut(st,Xe,Ve,mt,Pt),Pt.delete(Xe)),jl(we,Ce,st)})(f,y,ae,_,kl,T,R);else{var fe=T?T(Yl(f,ae),V,ae+"",f,y,R):v;fe===v&&(fe=V),jl(f,ae,fe)}},Lr)}function gd(f,y){var _=f.length;if(_)return go(y+=y<0?_:0,_)?f[y]:v}function md(f,y,_){y=y.length?fn(y,function(V){return Xt(V)?function(ae){return ki(ae,V.length===1?V[0]:V)}:V}):[Yr];var T=-1;y=fn(y,$n(Dt()));var R=Ao(f,function(V,ae,fe){var we=fn(y,function(ze){return ze(V)});return{criteria:we,index:++T,value:V}});return function(V,ae){var fe=V.length;for(V.sort(ae);fe--;)V[fe]=V[fe].value;return V}(R,function(V,ae){return function(fe,we,ze){for(var Ce=-1,Ve=fe.criteria,ut=we.criteria,mt=Ve.length,Pt=ze.length;++Ce<mt;){var We=Pf(Ve[Ce],ut[Ce]);if(We)return Ce>=Pt?We:We*(ze[Ce]=="desc"?-1:1)}return fe.index-we.index}(V,ae,_)})}function bd(f,y,_){for(var T=-1,R=y.length,V={};++T<R;){var ae=y[T],fe=ki(f,ae);_(fe,ae)&&Es(V,bn(ae,f),fe)}return V}function Nl(f,y,_,T){var R=T?Wr:ea,V=-1,ae=y.length,fe=f;for(f===y&&(y=no(y)),_&&(fe=fn(f,$n(_)));++V<ae;)for(var we=0,ze=y[V],Ce=_?_(ze):ze;(we=R(fe,Ce,we,T))>-1;)fe!==f&&Ta.call(fe,we,1),Ta.call(f,we,1);return f}function mf(f,y){for(var _=f?y.length:0,T=_-1;_--;){var R=y[_];if(_==T||R!==V){var V=R;go(R)?Ta.call(f,R,1):Cl(f,R)}}return f}function bf(f,y){return f+du(xl()*(y-f+1))}function Dl(f,y){var _="";if(!f||y<1||y>$)return _;do y%2&&(_+=f),(y=du(y/2))&&(f+=f);while(y);return _}function nn(f,y){return Kl(If(f,y,Yr),f+"")}function pv(f){return ff(ca(f))}function _f(f,y){var _=ca(f);return ks(_,ra(y,0,_.length))}function Es(f,y,_,T){if(!Hn(f))return f;for(var R=-1,V=(y=bn(y,f)).length,ae=V-1,fe=f;fe!=null&&++R<V;){var we=$o(y[R]),ze=_;if(we==="__proto__"||we==="constructor"||we==="prototype")return f;if(R!=ae){var Ce=fe[we];(ze=T?T(Ce,we,fe):v)===v&&(ze=Hn(Ce)?Ce:go(y[R+1])?[]:{})}bu(fe,we,ze),fe=fe[we]}return f}var _d=El?function(f,y){return El.set(f,y),f}:Yr,dv=pu?function(f,y){return pu(f,"toString",{configurable:!0,enumerable:!1,value:zs(y),writable:!0})}:Yr;function Od(f){return ks(ca(f))}function vo(f,y,_){var T=-1,R=f.length;y<0&&(y=-y>R?0:R+y),(_=_>R?R:_)<0&&(_+=R),R=y>_?0:_-y>>>0,y>>>=0;for(var V=rt(R);++T<R;)V[T]=f[T+y];return V}function hv(f,y){var _;return Fn(f,function(T,R,V){return!(_=y(T,R,V))}),!!_}function Ss(f,y,_){var T=0,R=f==null?T:f.length;if(typeof y=="number"&&y==y&&R<=2147483647){for(;T<R;){var V=T+R>>>1,ae=f[V];ae!==null&&!Xr(ae)&&(_?ae<=y:ae<y)?T=V+1:R=V}return R}return Of(f,y,Yr,_)}function Of(f,y,_,T){var R=0,V=f==null?0:f.length;if(V===0)return 0;for(var ae=(y=_(y))!=y,fe=y===null,we=Xr(y),ze=y===v;R<V;){var Ce=du((R+V)/2),Ve=_(f[Ce]),ut=Ve!==v,mt=Ve===null,Pt=Ve==Ve,We=Xr(Ve);if(ae)var Xe=T||Pt;else Xe=ze?Pt&&(T||ut):fe?Pt&&ut&&(T||!mt):we?Pt&&ut&&!mt&&(T||!We):!mt&&!We&&(T?Ve<=y:Ve<y);Xe?R=Ce+1:V=Ce}return Dr(V,4294967294)}function wf(f,y){for(var _=-1,T=f.length,R=0,V=[];++_<T;){var ae=f[_],fe=y?y(ae):ae;if(!_||!Vo(fe,we)){var we=fe;V[R++]=ae===0?0:ae}}return V}function wd(f){return typeof f=="number"?f:Xr(f)?q:+f}function to(f){if(typeof f=="string")return f;if(Xt(f))return fn(f,to)+"";if(Xr(f))return ud?ud.call(f):"";var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function oa(f,y,_){var T=-1,R=co,V=f.length,ae=!0,fe=[],we=fe;if(_)ae=!1,R=hs;else if(V>=200){var ze=y?null:vv(f);if(ze)return ji(ze);ae=!1,R=ai,we=new na}else we=y?[]:fe;e:for(;++T<V;){var Ce=f[T],Ve=y?y(Ce):Ce;if(Ce=_||Ce!==0?Ce:0,ae&&Ve==Ve){for(var ut=we.length;ut--;)if(we[ut]===Ve)continue e;y&&we.push(Ve),fe.push(Ce)}else R(we,Ve,_)||(we!==fe&&we.push(Ve),fe.push(Ce))}return fe}function Cl(f,y){return(f=Lf(f,y=bn(y,f)))==null||delete f[$o(Vn(y))]}function xd(f,y,_,T){return Es(f,y,_(ki(f,y)),T)}function Rl(f,y,_,T){for(var R=f.length,V=T?R:-1;(T?V--:++V<R)&&y(f[V],V,f););return _?vo(f,T?0:V,T?V+1:R):vo(f,T?V+1:0,T?R:V)}function xf(f,y){var _=f;return _ instanceof cn&&(_=_.value()),au(y,function(T,R){return R.func.apply(R.thisArg,lr([T],R.args))},_)}function Ef(f,y,_){var T=f.length;if(T<2)return T?oa(f[0]):[];for(var R=-1,V=rt(T);++R<T;)for(var ae=f[R],fe=-1;++fe<T;)fe!=R&&(V[R]=Ti(V[R]||ae,f[fe],y,_));return oa(xr(V,1),y,_)}function Sf(f,y,_){for(var T=-1,R=f.length,V=y.length,ae={};++T<R;){var fe=T<V?y[T]:v;_(ae,f[T],fe)}return ae}function Il(f){return Un(f)?f:[]}function jf(f){return typeof f=="function"?f:Yr}function bn(f,y){return Xt(f)?f:Hl(f,y)?[f]:Uf(hn(f))}var yv=nn;function xn(f,y,_){var T=f.length;return _=_===v?T:_,!y&&_>=T?f:vo(f,y,_)}var Ll=ov||function(f){return Xn.clearTimeout(f)};function Ed(f,y){if(y)return f.slice();var _=f.length,T=_s?_s(_):new f.constructor(_);return f.copy(T),T}function Af(f){var y=new f.constructor(f.byteLength);return new Ma(y).set(new Ma(f)),y}function Sd(f,y){var _=y?Af(f.buffer):f.buffer;return new f.constructor(_,f.byteOffset,f.length)}function Pf(f,y){if(f!==y){var _=f!==v,T=f===null,R=f==f,V=Xr(f),ae=y!==v,fe=y===null,we=y==y,ze=Xr(y);if(!fe&&!ze&&!V&&f>y||V&&ae&&we&&!fe&&!ze||T&&ae&&we||!_&&we||!R)return 1;if(!T&&!V&&!ze&&f<y||ze&&_&&R&&!T&&!V||fe&&_&&R||!ae&&R||!we)return-1}return 0}function jd(f,y,_,T){for(var R=-1,V=f.length,ae=_.length,fe=-1,we=y.length,ze=br(V-ae,0),Ce=rt(we+ze),Ve=!T;++fe<we;)Ce[fe]=y[fe];for(;++R<ae;)(Ve||R<V)&&(Ce[_[R]]=f[R]);for(;ze--;)Ce[fe++]=f[R++];return Ce}function Ad(f,y,_,T){for(var R=-1,V=f.length,ae=-1,fe=_.length,we=-1,ze=y.length,Ce=br(V-fe,0),Ve=rt(Ce+ze),ut=!T;++R<Ce;)Ve[R]=f[R];for(var mt=R;++we<ze;)Ve[mt+we]=y[we];for(;++ae<fe;)(ut||R<V)&&(Ve[mt+_[ae]]=f[R++]);return Ve}function no(f,y){var _=-1,T=f.length;for(y||(y=rt(T));++_<T;)y[_]=f[_];return y}function Wo(f,y,_,T){var R=!_;_||(_={});for(var V=-1,ae=y.length;++V<ae;){var fe=y[V],we=T?T(_[fe],f[fe],fe,_,f):v;we===v&&(we=f[fe]),R?ci(_,fe,we):bu(_,fe,we)}return _}function Bl(f,y){return function(_,T){var R=Xt(_)?rf:cd,V=y?y():{};return R(_,f,Dt(T,2),V)}}function xu(f){return nn(function(y,_){var T=-1,R=_.length,V=R>1?_[R-1]:v,ae=R>2?_[2]:v;for(V=f.length>3&&typeof V=="function"?(R--,V):v,ae&&Ar(_[0],_[1],ae)&&(V=R<3?v:V,R=1),y=w(y);++T<R;){var fe=_[T];fe&&f(y,fe,T,V)}return y})}function Pd(f,y){return function(_,T){if(_==null)return _;if(!oo(_))return f(_,T);for(var R=_.length,V=y?R:-1,ae=w(_);(y?V--:++V<R)&&T(ae[V],V,ae)!==!1;);return _}}function js(f){return function(y,_,T){for(var R=-1,V=w(y),ae=T(y),fe=ae.length;fe--;){var we=ae[f?fe:++R];if(_(V[we],we,V)===!1)break}return y}}function Md(f){return function(y){var _=zo(y=hn(y))?eo(y):v,T=_?_[0]:y.charAt(0),R=_?xn(_,1).join(""):y.slice(1);return T[f]()+R}}function Da(f){return function(y){return au(Ls(Bi(y).replace(dl,"")),f,"")}}function As(f){return function(){var y=arguments;switch(y.length){case 0:return new f;case 1:return new f(y[0]);case 2:return new f(y[0],y[1]);case 3:return new f(y[0],y[1],y[2]);case 4:return new f(y[0],y[1],y[2],y[3]);case 5:return new f(y[0],y[1],y[2],y[3],y[4]);case 6:return new f(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new f(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=mu(f.prototype),T=f.apply(_,y);return Hn(T)?T:_}}function Td(f){return function(y,_,T){var R=w(y);if(!oo(y)){var V=Dt(_,3);y=qn(y),_=function(fe){return V(R[fe],fe,R)}}var ae=f(y,_,T);return ae>-1?R[V?y[ae]:ae]:v}}function ia(f){return Ri(function(y){var _=y.length,T=_,R=So.prototype.thru;for(f&&y.reverse();T--;){var V=y[T];if(typeof V!="function")throw new Z(x);if(R&&!ae&&Eu(V)=="wrapper")var ae=new So([],!0)}for(T=ae?T:_;++T<_;){var fe=Eu(V=y[T]),we=fe=="wrapper"?Nf(V):v;ae=we&&Xl(we[0])&&we[1]==424&&!we[4].length&&we[9]==1?ae[Eu(we[0])].apply(ae,we[3]):V.length==1&&Xl(V)?ae[fe]():ae.thru(V)}return function(){var ze=arguments,Ce=ze[0];if(ae&&ze.length==1&&Xt(Ce))return ae.plant(Ce).value();for(var Ve=0,ut=_?y[Ve].apply(this,ze):Ce;++Ve<_;)ut=y[Ve].call(this,ut);return ut}})}function zl(f,y,_,T,R,V,ae,fe,we,ze){var Ce=y&N,Ve=1&y,ut=2&y,mt=24&y,Pt=512&y,We=ut?v:As(f);return function Xe(){for(var kt=arguments.length,st=rt(kt),ce=kt;ce--;)st[ce]=arguments[ce];if(mt)var Ut=Ca(Xe),an=af(st,Ut);if(T&&(st=jd(st,T,R,mt)),V&&(st=Ad(st,V,ae,mt)),kt-=an,mt&&kt<ze){var St=Qr(st,Ut);return Nd(f,y,zl,Xe.placeholder,_,st,St,fe,we,ze-kt)}var Ct=Ve?_:this,fr=ut?Ct[f]:f;return kt=st.length,fe?st=Id(st,fe):Pt&&kt>1&&st.reverse(),Ce&&we<kt&&(st.length=we),this&&this!==Xn&&this instanceof Xe&&(fr=We||As(fr)),fr.apply(Ct,st)}}function Fl(f,y){return function(_,T){return function(R,V,ae,fe){return gt(R,function(we,ze,Ce){V(fe,ae(we),ze,Ce)}),fe}(_,f,y(T),{})}}function Ps(f,y){return function(_,T){var R;if(_===v&&T===v)return y;if(_!==v&&(R=_),T!==v){if(R===v)return T;typeof _=="string"||typeof T=="string"?(_=to(_),T=to(T)):(_=wd(_),T=wd(T)),R=f(_,T)}return R}}function Ms(f){return Ri(function(y){return y=fn(y,$n(Dt())),nn(function(_){var T=this;return f(y,function(R){return Pn(R,T,_)})})})}function Ts(f,y){var _=(y=y===v?" ":to(y)).length;if(_<2)return _?Dl(y,f):y;var T=Dl(y,_l(f/Fo(y)));return zo(y)?xn(eo(T),0,f).join(""):T.slice(0,f)}function kd(f){return function(y,_,T){return T&&typeof T!="number"&&Ar(y,_,T)&&(_=T=v),y=fi(y),_===v?(_=y,y=0):_=fi(_),function(R,V,ae,fe){for(var we=-1,ze=br(_l((V-R)/(ae||1)),0),Ce=rt(ze);ze--;)Ce[fe?ze:++we]=R,R+=ae;return Ce}(y,_,T=T===v?y<_?1:-1:fi(T),f)}}function Ul(f){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=Ir(y),_=Ir(_)),f(y,_)}}function Nd(f,y,_,T,R,V,ae,fe,we,ze){var Ce=8&y;y|=Ce?M:D,4&(y&=~(Ce?D:M))||(y&=-4);var Ve=[f,y,R,Ce?V:v,Ce?ae:v,Ce?v:V,Ce?v:ae,fe,we,ze],ut=_.apply(v,Ve);return Xl(f)&&Bf(ut,Ve),ut.placeholder=T,zf(ut,f,y)}function Mf(f){var y=O[f];return function(_,T){if(_=Ir(_),(T=T==null?0:Dr(Yt(T),292))&&rd(_)){var R=(hn(_)+"e").split("e");return+((R=(hn(y(R[0]+"e"+(+R[1]+T)))+"e").split("e"))[0]+"e"+(+R[1]-T))}return y(_)}}var vv=ka&&1/ji(new ka([,-0]))[1]==U?function(f){return new ka(f)}:Us;function Dd(f){return function(y){var _=Cr(y);return _==ne?kr(y):_==Pe?cu(y):function(T,R){return fn(R,function(V){return[V,T[V]]})}(y,f(y))}}function Ci(f,y,_,T,R,V,ae,fe){var we=2&y;if(!we&&typeof f!="function")throw new Z(x);var ze=T?T.length:0;if(ze||(y&=-97,T=R=v),ae=ae===v?ae:br(Yt(ae),0),fe=fe===v?fe:Yt(fe),ze-=R?R.length:0,y&D){var Ce=T,Ve=R;T=R=v}var ut=we?v:Nf(f),mt=[f,y,_,T,R,Ce,Ve,V,ae,fe];if(ut&&function(We,Xe){var kt=We[1],st=Xe[1],ce=kt|st,Ut=ce<131,an=st==N&&kt==8||st==N&&kt==I&&We[7].length<=Xe[8]||st==384&&Xe[7].length<=Xe[8]&&kt==8;if(!Ut&&!an)return We;1&st&&(We[2]=Xe[2],ce|=1&kt?0:4);var St=Xe[3];if(St){var Ct=We[3];We[3]=Ct?jd(Ct,St,Xe[4]):St,We[4]=Ct?Qr(We[3],j):Xe[4]}(St=Xe[5])&&(Ct=We[5],We[5]=Ct?Ad(Ct,St,Xe[6]):St,We[6]=Ct?Qr(We[5],j):Xe[6]),(St=Xe[7])&&(We[7]=St),st&N&&(We[8]=We[8]==null?Xe[8]:Dr(We[8],Xe[8])),We[9]==null&&(We[9]=Xe[9]),We[0]=Xe[0],We[1]=ce}(mt,ut),f=mt[0],y=mt[1],_=mt[2],T=mt[3],R=mt[4],!(fe=mt[9]=mt[9]===v?we?0:f.length:br(mt[9]-ze,0))&&24&y&&(y&=-25),y&&y!=1)Pt=y==8||y==A?function(We,Xe,kt){var st=As(We);return function ce(){for(var Ut=arguments.length,an=rt(Ut),St=Ut,Ct=Ca(ce);St--;)an[St]=arguments[St];var fr=Ut<3&&an[0]!==Ct&&an[Ut-1]!==Ct?[]:Qr(an,Ct);return(Ut-=fr.length)<kt?Nd(We,Xe,zl,ce.placeholder,v,an,fr,v,v,kt-Ut):Pn(this&&this!==Xn&&this instanceof ce?st:We,this,an)}}(f,y,fe):y!=M&&y!=33||R.length?zl.apply(v,mt):function(We,Xe,kt,st){var ce=1&Xe,Ut=As(We);return function an(){for(var St=-1,Ct=arguments.length,fr=-1,io=st.length,Ho=rt(io+Ct),pr=this&&this!==Xn&&this instanceof an?Ut:We;++fr<io;)Ho[fr]=st[fr];for(;Ct--;)Ho[fr++]=arguments[++St];return Pn(pr,ce?kt:this,Ho)}}(f,y,_,T);else var Pt=function(We,Xe,kt){var st=1&Xe,ce=As(We);return function Ut(){return(this&&this!==Xn&&this instanceof Ut?ce:We).apply(st?kt:this,arguments)}}(f,y,_);return zf((ut?_d:Bf)(Pt,mt),f,y)}function Cd(f,y,_,T){return f===v||Vo(f,$e[_])&&!it.call(T,_)?y:f}function Rd(f,y,_,T,R,V){return Hn(f)&&Hn(y)&&(V.set(y,f),kl(f,y,v,Rd,V),V.delete(y)),f}function gv(f){return Tu(f)?v:f}function Wl(f,y,_,T,R,V){var ae=1&_,fe=f.length,we=y.length;if(fe!=we&&!(ae&&we>fe))return!1;var ze=V.get(f),Ce=V.get(y);if(ze&&Ce)return ze==y&&Ce==f;var Ve=-1,ut=!0,mt=2&_?new na:v;for(V.set(f,y),V.set(y,f);++Ve<fe;){var Pt=f[Ve],We=y[Ve];if(T)var Xe=ae?T(We,Pt,Ve,y,f,V):T(Pt,We,Ve,f,y,V);if(Xe!==v){if(Xe)continue;ut=!1;break}if(mt){if(!ys(y,function(kt,st){if(!ai(mt,st)&&(Pt===kt||R(Pt,kt,_,T,V)))return mt.push(st)})){ut=!1;break}}else if(Pt!==We&&!R(Pt,We,_,T,V)){ut=!1;break}}return V.delete(f),V.delete(y),ut}function Ri(f){return Kl(If(f,v,Ns),f+"")}function Tf(f){return yf(f,qn,_r)}function kf(f){return yf(f,Lr,Gl)}var Nf=El?function(f){return El.get(f)}:Us;function Eu(f){for(var y=f.name+"",_=gu[y],T=it.call(gu,y)?_.length:0;T--;){var R=_[T],V=R.func;if(V==null||V==f)return R.name}return y}function Ca(f){return(it.call(F,"placeholder")?F:f).placeholder}function Dt(){var f=F.iteratee||Fs;return f=f===Fs?gf:f,arguments.length?f(arguments[0],arguments[1]):f}function $l(f,y){var _,T,R=f.__data__;return((T=typeof(_=y))=="string"||T=="number"||T=="symbol"||T=="boolean"?_!=="__proto__":_===null)?R[typeof y=="string"?"string":"hash"]:R.map}function Df(f){for(var y=qn(f),_=y.length;_--;){var T=y[_],R=f[T];y[_]=[T,R,Cf(R)]}return y}function Ra(f,y){var _=function(T,R){return T==null?v:T[R]}(f,y);return wu(_)?_:v}var _r=uf?function(f){return f==null?[]:(f=w(f),Tr(uf(f),function(y){return Nr.call(f,y)}))}:zi,Gl=uf?function(f){for(var y=[];f;)lr(y,_r(f)),f=Ai(f);return y}:zi,Cr=Gn;function Vl(f,y,_){for(var T=-1,R=(y=bn(y,f)).length,V=!1;++T<R;){var ae=$o(y[T]);if(!(V=f!=null&&_(f,ae)))break;f=f[ae]}return V||++T!=R?V:!!(R=f==null?0:f.length)&&ic(R)&&go(ae,R)&&(Xt(f)||Ia(f))}function Ii(f){return typeof f.constructor!="function"||De(f)?{}:mu(Ai(f))}function mv(f){return Xt(f)||Ia(f)||!!(ta&&f&&f[ta])}function go(f,y){var _=typeof f;return!!(y=y??$)&&(_=="number"||_!="symbol"&&ct.test(f))&&f>-1&&f%1==0&&f<y}function Ar(f,y,_){if(!Hn(_))return!1;var T=typeof y;return!!(T=="number"?oo(_)&&go(y,_.length):T=="string"&&y in _)&&Vo(_[y],f)}function Hl(f,y){if(Xt(f))return!1;var _=typeof f;return!(_!="number"&&_!="symbol"&&_!="boolean"&&f!=null&&!Xr(f))||Gt.test(f)||!gn.test(f)||y!=null&&f in w(y)}function Xl(f){var y=Eu(f),_=F[y];if(typeof _!="function"||!(y in cn.prototype))return!1;if(f===_)return!0;var T=Nf(_);return!!T&&f===T[0]}(hu&&Cr(new hu(new ArrayBuffer(1)))!=ot||yu&&Cr(new yu)!=ne||lf&&Cr(lf.resolve())!=Se||ka&&Cr(new ka)!=Pe||vu&&Cr(new vu)!=ke)&&(Cr=function(f){var y=Gn(f),_=y==he?f.constructor:v,T=_?aa(_):"";if(T)switch(T){case sv:return ot;case id:return ne;case lv:return Se;case cv:return Pe;case ad:return ke}return y});var bv=ft?Mo:Ws;function De(f){var y=f&&f.constructor;return f===(typeof y=="function"&&y.prototype||$e)}function Cf(f){return f==f&&!Hn(f)}function Rf(f,y){return function(_){return _!=null&&_[f]===y&&(y!==v||f in w(_))}}function If(f,y,_){return y=br(y===v?f.length-1:y,0),function(){for(var T=arguments,R=-1,V=br(T.length-y,0),ae=rt(V);++R<V;)ae[R]=T[y+R];R=-1;for(var fe=rt(y+1);++R<y;)fe[R]=T[R];return fe[y]=_(ae),Pn(f,this,fe)}}function Lf(f,y){return y.length<2?f:ki(f,vo(y,0,-1))}function Id(f,y){for(var _=f.length,T=Dr(y.length,_),R=no(f);T--;){var V=y[T];f[T]=go(V,_)?R[V]:v}return f}function Yl(f,y){if((y!=="constructor"||typeof f[y]!="function")&&y!="__proto__")return f[y]}var Bf=Ff(_d),Su=nd||function(f,y){return Xn.setTimeout(f,y)},Kl=Ff(dv);function zf(f,y,_){var T=y+"";return Kl(f,function(R,V){var ae=V.length;if(!ae)return R;var fe=ae-1;return V[fe]=(ae>1?"& ":"")+V[fe],V=V.join(ae>2?", ":" "),R.replace(re,`{
/* [wrapped with `+V+`] */
`)}(T,function(R,V){return Ur(J,function(ae){var fe="_."+ae[0];V&ae[1]&&!co(R,fe)&&R.push(fe)}),R.sort()}(function(R){var V=R.match(ve);return V?V[1].split(ue):[]}(T),_)))}function Ff(f){var y=0,_=0;return function(){var T=Ol(),R=16-(T-_);if(_=T,R>0){if(++y>=800)return arguments[0]}else y=0;return f.apply(v,arguments)}}function ks(f,y){var _=-1,T=f.length,R=T-1;for(y=y===v?T:y;++_<y;){var V=bf(_,R),ae=f[V];f[V]=f[_],f[_]=ae}return f.length=y,f}var Uf=function(f){var y=Pu(f,function(T){return _.size===500&&_.clear(),T}),_=y.cache;return y}(function(f){var y=[];return f.charCodeAt(0)===46&&y.push(""),f.replace(un,function(_,T,R,V){y.push(R?V.replace(Ze,"$1"):T||_)}),y});function $o(f){if(typeof f=="string"||Xr(f))return f;var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function aa(f){if(f!=null){try{return Zt.call(f)}catch{}try{return f+""}catch{}}return""}function Wf(f){if(f instanceof cn)return f.clone();var y=new So(f.__wrapped__,f.__chain__);return y.__actions__=no(f.__actions__),y.__index__=f.__index__,y.__values__=f.__values__,y}var Ld=nn(function(f,y){return Un(f)?Ti(f,xr(y,1,Un,!0)):[]}),Bd=nn(function(f,y){var _=Vn(y);return Un(_)&&(_=v),Un(f)?Ti(f,xr(y,1,Un,!0),Dt(_,2)):[]}),zd=nn(function(f,y){var _=Vn(y);return Un(_)&&(_=v),Un(f)?Ti(f,xr(y,1,Un,!0),v,_):[]});function $f(f,y,_){var T=f==null?0:f.length;if(!T)return-1;var R=_==null?0:Yt(_);return R<0&&(R=br(T+R,0)),oi(f,Dt(y,3),R)}function ql(f,y,_){var T=f==null?0:f.length;if(!T)return-1;var R=T-1;return _!==v&&(R=Yt(_),R=_<0?br(T+R,0):Dr(R,T-1)),oi(f,Dt(y,3),R,!0)}function Ns(f){return f!=null&&f.length?xr(f,1):[]}function Fd(f){return f&&f.length?f[0]:v}var Go=nn(function(f){var y=fn(f,Il);return y.length&&y[0]===f[0]?Ml(y):[]}),ua=nn(function(f){var y=Vn(f),_=fn(f,Il);return y===Vn(_)?y=v:_.pop(),_.length&&_[0]===f[0]?Ml(_,Dt(y,2)):[]}),_v=nn(function(f){var y=Vn(f),_=fn(f,Il);return(y=typeof y=="function"?y:v)&&_.pop(),_.length&&_[0]===f[0]?Ml(_,v,y):[]});function Vn(f){var y=f==null?0:f.length;return y?f[y-1]:v}var Ud=nn(Jl);function Jl(f,y){return f&&f.length&&y&&y.length?Nl(f,y):f}var Wd=Ri(function(f,y){var _=f==null?0:f.length,T=Al(f,y);return mf(f,fn(y,function(R){return go(R,_)?+R:R}).sort(Pf)),T});function Zl(f){return f==null?f:uv.call(f)}var $d=nn(function(f){return oa(xr(f,1,Un,!0))}),Gd=nn(function(f){var y=Vn(f);return Un(y)&&(y=v),oa(xr(f,1,Un,!0),Dt(y,2))}),Vd=nn(function(f){var y=Vn(f);return y=typeof y=="function"?y:v,oa(xr(f,1,Un,!0),v,y)});function Ds(f){if(!f||!f.length)return[];var y=0;return f=Tr(f,function(_){if(Un(_))return y=br(_.length,y),!0}),Aa(y,function(_){return fn(f,$r(_))})}function ju(f,y){if(!f||!f.length)return[];var _=Ds(f);return y==null?_:fn(_,function(T){return Pn(y,v,T)})}var Rr=nn(function(f,y){return Un(f)?Ti(f,y):[]}),Ov=nn(function(f){return Ef(Tr(f,Un))}),wv=nn(function(f){var y=Vn(f);return Un(y)&&(y=v),Ef(Tr(f,Un),Dt(y,2))}),Gf=nn(function(f){var y=Vn(f);return y=typeof y=="function"?y:v,Ef(Tr(f,Un),v,y)}),Hd=nn(Ds),ro=nn(function(f){var y=f.length,_=y>1?f[y-1]:v;return _=typeof _=="function"?(f.pop(),_):v,ju(f,_)});function ir(f){var y=F(f);return y.__chain__=!0,y}function Ql(f,y){return y(f)}var Po=Ri(function(f){var y=f.length,_=y?f[0]:0,T=this.__wrapped__,R=function(V){return Al(V,f)};return!(y>1||this.__actions__.length)&&T instanceof cn&&go(_)?((T=T.slice(_,+_+(y?1:0))).__actions__.push({func:Ql,args:[R],thisArg:v}),new So(T,this.__chain__).thru(function(V){return y&&!V.length&&V.push(v),V})):this.thru(R)}),Nt=Bl(function(f,y,_){it.call(f,_)?++f[_]:ci(f,_,1)}),Vf=Td($f),Hf=Td(ql);function ec(f,y){return(Xt(f)?Ur:Fn)(f,Dt(y,3))}function Xf(f,y){return(Xt(f)?of:fd)(f,Dt(y,3))}var Xd=Bl(function(f,y,_){it.call(f,_)?f[_].push(y):ci(f,_,[y])}),xv=nn(function(f,y,_){var T=-1,R=typeof y=="function",V=oo(f)?rt(f.length):[];return Fn(f,function(ae){V[++T]=R?Pn(y,ae,_):_u(ae,y,_)}),V}),Ev=Bl(function(f,y,_){ci(f,_,y)});function Au(f,y){return(Xt(f)?fn:Ao)(f,Dt(y,3))}var Sv=Bl(function(f,y,_){f[_?0:1].push(y)},function(){return[[],[]]}),Yf=nn(function(f,y){if(f==null)return[];var _=y.length;return _>1&&Ar(f,y[0],y[1])?y=[]:_>2&&Ar(y[0],y[1],y[2])&&(y=[y[0]]),md(f,xr(y,1),[])}),tc=iv||function(){return Xn.Date.now()};function Yd(f,y,_){return y=_?v:y,y=f&&y==null?f.length:y,Ci(f,N,v,v,v,v,y)}function Kf(f,y){var _;if(typeof y!="function")throw new Z(x);return f=Yt(f),function(){return--f>0&&(_=y.apply(this,arguments)),f<=1&&(y=v),_}}var sa=nn(function(f,y,_){var T=1;if(_.length){var R=Qr(_,Ca(sa));T|=M}return Ci(f,T,y,_,R)}),qf=nn(function(f,y,_){var T=3;if(_.length){var R=Qr(_,Ca(qf));T|=M}return Ci(y,T,f,_,R)});function Ft(f,y,_){var T,R,V,ae,fe,we,ze=0,Ce=!1,Ve=!1,ut=!0;if(typeof f!="function")throw new Z(x);function mt(ce){var Ut=T,an=R;return T=R=v,ze=ce,ae=f.apply(an,Ut)}function Pt(ce){return ze=ce,fe=Su(Xe,y),Ce?mt(ce):ae}function We(ce){var Ut=ce-we;return we===v||Ut>=y||Ut<0||Ve&&ce-ze>=V}function Xe(){var ce=tc();if(We(ce))return kt(ce);fe=Su(Xe,function(Ut){var an=y-(Ut-we);return Ve?Dr(an,V-(Ut-ze)):an}(ce))}function kt(ce){return fe=v,ut&&T?mt(ce):(T=R=v,ae)}function st(){var ce=tc(),Ut=We(ce);if(T=arguments,R=this,we=ce,Ut){if(fe===v)return Pt(we);if(Ve)return Ll(fe),fe=Su(Xe,y),mt(we)}return fe===v&&(fe=Su(Xe,y)),ae}return y=Ir(y)||0,Hn(_)&&(Ce=!!_.leading,V=(Ve="maxWait"in _)?br(Ir(_.maxWait)||0,y):V,ut="trailing"in _?!!_.trailing:ut),st.cancel=function(){fe!==v&&Ll(fe),ze=0,T=we=R=fe=v},st.flush=function(){return fe===v?ae:kt(tc())},st}var Kd=nn(function(f,y){return hf(f,1,y)}),nc=nn(function(f,y,_){return hf(f,Ir(y)||0,_)});function Pu(f,y){if(typeof f!="function"||y!=null&&typeof y!="function")throw new Z(x);var _=function(){var T=arguments,R=y?y.apply(this,T):T[0],V=_.cache;if(V.has(R))return V.get(R);var ae=f.apply(this,T);return _.cache=V.set(R,ae)||V,ae};return _.cache=new(Pu.Cache||li),_}function rc(f){if(typeof f!="function")throw new Z(x);return function(){var y=arguments;switch(y.length){case 0:return!f.call(this);case 1:return!f.call(this,y[0]);case 2:return!f.call(this,y[0],y[1]);case 3:return!f.call(this,y[0],y[1],y[2])}return!f.apply(this,y)}}Pu.Cache=li;var qd=yv(function(f,y){var _=(y=y.length==1&&Xt(y[0])?fn(y[0],$n(Dt())):fn(xr(y,1),$n(Dt()))).length;return nn(function(T){for(var R=-1,V=Dr(T.length,_);++R<V;)T[R]=y[R].call(this,T[R]);return Pn(f,this,T)})}),oc=nn(function(f,y){var _=Qr(y,Ca(oc));return Ci(f,M,v,y,_)}),Jf=nn(function(f,y){var _=Qr(y,Ca(Jf));return Ci(f,D,v,y,_)}),jv=Ri(function(f,y){return Ci(f,I,v,v,v,y)});function Vo(f,y){return f===y||f!=f&&y!=y}var Av=Ul(Yn),Cs=Ul(function(f,y){return f>=y}),Ia=vf(function(){return arguments}())?vf:function(f){return Kn(f)&&it.call(f,"callee")&&!Nr.call(f,"callee")},Xt=rt.isArray,Pv=ps?$n(ps):function(f){return Kn(f)&&Gn(f)==Ge};function oo(f){return f!=null&&ic(f.length)&&!Mo(f)}function Un(f){return Kn(f)&&oo(f)}var Hr=av||Ws,Zf=gl?$n(gl):function(f){return Kn(f)&&Gn(f)==z};function Er(f){if(!Kn(f))return!1;var y=Gn(f);return y==H||y=="[object DOMException]"||typeof f.message=="string"&&typeof f.name=="string"&&!Tu(f)}function Mo(f){if(!Hn(f))return!1;var y=Gn(f);return y==K||y==X||y=="[object AsyncFunction]"||y=="[object Proxy]"}function Mu(f){return typeof f=="number"&&f==Yt(f)}function ic(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=$}function Hn(f){var y=typeof f;return f!=null&&(y=="object"||y=="function")}function Kn(f){return f!=null&&typeof f=="object"}var Qf=ds?$n(ds):function(f){return Kn(f)&&Cr(f)==ne};function ep(f){return typeof f=="number"||Kn(f)&&Gn(f)==ye}function Tu(f){if(!Kn(f)||Gn(f)!=he)return!1;var y=Ai(f);if(y===null)return!0;var _=it.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Zt.call(_)==ho}var ku=iu?$n(iu):function(f){return Kn(f)&&Gn(f)==Fe},Jd=Qi?$n(Qi):function(f){return Kn(f)&&Cr(f)==Pe};function ac(f){return typeof f=="string"||!Xt(f)&&Kn(f)&&Gn(f)==me}function Xr(f){return typeof f=="symbol"||Kn(f)&&Gn(f)==Me}var Li=ri?$n(ri):function(f){return Kn(f)&&ic(f.length)&&!!_n[Gn(f)]},Zd=Ul(Di),tp=Ul(function(f,y){return f<=y});function Qd(f){if(!f)return[];if(oo(f))return ac(f)?eo(f):no(f);if(Pi&&f[Pi])return function(_){for(var T,R=[];!(T=_.next()).done;)R.push(T.value);return R}(f[Pi]());var y=Cr(f);return(y==ne?kr:y==Pe?ji:ca)(f)}function fi(f){return f?(f=Ir(f))===U||f===-1/0?17976931348623157e292*(f<0?-1:1):f==f?f:0:f===0?f:0}function Yt(f){var y=fi(f),_=y%1;return y==y?_?y-_:y:0}function eh(f){return f?ra(Yt(f),0,oe):0}function Ir(f){if(typeof f=="number")return f;if(Xr(f))return q;if(Hn(f)){var y=typeof f.valueOf=="function"?f.valueOf():f;f=Hn(y)?y+"":y}if(typeof f!="string")return f===0?f:+f;f=vs(f);var _=Or.test(f);return _||rr.test(f)?ni(f.slice(2),_?2:8):sr.test(f)?q:+f}function np(f){return Wo(f,Lr(f))}function hn(f){return f==null?"":to(f)}var rp=xu(function(f,y){if(De(y)||oo(y))Wo(y,qn(y),f);else for(var _ in y)it.call(y,_)&&bu(f,_,y[_])}),La=xu(function(f,y){Wo(y,Lr(y),f)}),la=xu(function(f,y,_,T){Wo(y,Lr(y),f,T)}),Rs=xu(function(f,y,_,T){Wo(y,qn(y),f,T)}),th=Ri(Al),nh=nn(function(f,y){f=w(f);var _=-1,T=y.length,R=T>2?y[2]:v;for(R&&Ar(y[0],y[1],R)&&(T=1);++_<T;)for(var V=y[_],ae=Lr(V),fe=-1,we=ae.length;++fe<we;){var ze=ae[fe],Ce=f[ze];(Ce===v||Vo(Ce,$e[ze])&&!it.call(f,ze))&&(f[ze]=V[ze])}return f}),rh=nn(function(f){return f.push(v,Rd),Pn(ip,v,f)});function Nu(f,y,_){var T=f==null?v:ki(f,y);return T===v?_:T}function uc(f,y){return f!=null&&Vl(f,y,hd)}var op=Fl(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=dn.call(y)),f[y]=_},zs(Yr)),oh=Fl(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=dn.call(y)),it.call(f,y)?f[y].push(_):f[y]=[_]},Dt),ih=nn(_u);function qn(f){return oo(f)?cf(f):Ni(f)}function Lr(f){return oo(f)?cf(f,!0):fv(f)}var ah=xu(function(f,y,_){kl(f,y,_)}),ip=xu(function(f,y,_,T){kl(f,y,_,T)}),ap=Ri(function(f,y){var _={};if(f==null)return _;var T=!1;y=fn(y,function(V){return V=bn(V,f),T||(T=V.length>1),V}),Wo(f,kf(f),_),T&&(_=yo(_,7,gv));for(var R=y.length;R--;)Cl(_,y[R]);return _}),up=Ri(function(f,y){return f==null?{}:function(_,T){return bd(_,T,function(R,V){return uc(_,V)})}(f,y)});function sc(f,y){if(f==null)return{};var _=fn(kf(f),function(T){return[T]});return y=Dt(y),bd(f,_,function(T,R){return y(T,R[0])})}var sp=Dd(qn),lc=Dd(Lr);function ca(f){return f==null?[]:lu(f,qn(f))}var lp=Da(function(f,y,_){return y=y.toLowerCase(),f+(_?Du(y):y)});function Du(f){return Is(hn(f).toLowerCase())}function Bi(f){return(f=hn(f))&&f.replace(Et,ms).replace(ti,"")}var uh=Da(function(f,y,_){return f+(_?"-":"")+y.toLowerCase()}),sh=Da(function(f,y,_){return f+(_?" ":"")+y.toLowerCase()}),cp=Md("toLowerCase"),fp=Da(function(f,y,_){return f+(_?"_":"")+y.toLowerCase()}),Mv=Da(function(f,y,_){return f+(_?" ":"")+Is(y)}),lh=Da(function(f,y,_){return f+(_?" ":"")+y.toUpperCase()}),Is=Md("toUpperCase");function Ls(f,y,_){return f=hn(f),(y=_?v:y)===v?function(T){return ss.test(T)}(f)?function(T){return T.match(ru)||[]}(f):function(T){return T.match(Oe)||[]}(f):f.match(y)||[]}var Bs=nn(function(f,y){try{return Pn(f,v,y)}catch(_){return Er(_)?_:new tn(_)}}),pp=Ri(function(f,y){return Ur(y,function(_){_=$o(_),ci(f,_,sa(f[_],f))}),f});function zs(f){return function(){return f}}var ch=ia(),dp=ia(!0);function Yr(f){return f}function Fs(f){return gf(typeof f=="function"?f:yo(f,1))}var Tv=nn(function(f,y){return function(_){return _u(_,f,y)}}),cr=nn(function(f,y){return function(_){return _u(f,_,y)}});function To(f,y,_){var T=qn(y),R=Pl(y,T);_!=null||Hn(y)&&(R.length||!T.length)||(_=y,y=f,f=this,R=Pl(y,qn(y)));var V=!(Hn(_)&&"chain"in _&&!_.chain),ae=Mo(f);return Ur(R,function(fe){var we=y[fe];f[fe]=we,ae&&(f.prototype[fe]=function(){var ze=this.__chain__;if(V||ze){var Ce=f(this.__wrapped__),Ve=Ce.__actions__=no(this.__actions__);return Ve.push({func:we,args:arguments,thisArg:f}),Ce.__chain__=ze,Ce}return we.apply(f,lr([this.value()],arguments))})}),f}function Us(){}var hp=Ms(fn),kv=Ms(ml),yp=Ms(ys);function cc(f){return Hl(f)?$r($o(f)):function(y){return function(_){return ki(_,y)}}(f)}var vp=kd(),Nv=kd(!0);function zi(){return[]}function Ws(){return!1}var gp=Ps(function(f,y){return f+y},0),fh=Mf("ceil"),$s=Ps(function(f,y){return f/y},1),Gs=Mf("floor"),Vs,ph=Ps(function(f,y){return f*y},1),dh=Mf("round"),Sr=Ps(function(f,y){return f-y},0);return F.after=function(f,y){if(typeof y!="function")throw new Z(x);return f=Yt(f),function(){if(--f<1)return y.apply(this,arguments)}},F.ary=Yd,F.assign=rp,F.assignIn=La,F.assignInWith=la,F.assignWith=Rs,F.at=th,F.before=Kf,F.bind=sa,F.bindAll=pp,F.bindKey=qf,F.castArray=function(){if(!arguments.length)return[];var f=arguments[0];return Xt(f)?f:[f]},F.chain=ir,F.chunk=function(f,y,_){y=(_?Ar(f,y,_):y===v)?1:br(Yt(y),0);var T=f==null?0:f.length;if(!T||y<1)return[];for(var R=0,V=0,ae=rt(_l(T/y));R<T;)ae[V++]=vo(f,R,R+=y);return ae},F.compact=function(f){for(var y=-1,_=f==null?0:f.length,T=0,R=[];++y<_;){var V=f[y];V&&(R[T++]=V)}return R},F.concat=function(){var f=arguments.length;if(!f)return[];for(var y=rt(f-1),_=arguments[0],T=f;T--;)y[T-1]=arguments[T];return lr(Xt(_)?no(_):[_],xr(y,1))},F.cond=function(f){var y=f==null?0:f.length,_=Dt();return f=y?fn(f,function(T){if(typeof T[1]!="function")throw new Z(x);return[_(T[0]),T[1]]}):[],nn(function(T){for(var R=-1;++R<y;){var V=f[R];if(Pn(V[0],this,T))return Pn(V[1],this,T)}})},F.conforms=function(f){return function(y){var _=qn(y);return function(T){return df(T,y,_)}}(yo(f,1))},F.constant=zs,F.countBy=Nt,F.create=function(f,y){var _=mu(f);return y==null?_:pf(_,y)},F.curry=function f(y,_,T){var R=Ci(y,8,v,v,v,v,v,_=T?v:_);return R.placeholder=f.placeholder,R},F.curryRight=function f(y,_,T){var R=Ci(y,A,v,v,v,v,v,_=T?v:_);return R.placeholder=f.placeholder,R},F.debounce=Ft,F.defaults=nh,F.defaultsDeep=rh,F.defer=Kd,F.delay=nc,F.difference=Ld,F.differenceBy=Bd,F.differenceWith=zd,F.drop=function(f,y,_){var T=f==null?0:f.length;return T?vo(f,(y=_||y===v?1:Yt(y))<0?0:y,T):[]},F.dropRight=function(f,y,_){var T=f==null?0:f.length;return T?vo(f,0,(y=T-(y=_||y===v?1:Yt(y)))<0?0:y):[]},F.dropRightWhile=function(f,y){return f&&f.length?Rl(f,Dt(y,3),!0,!0):[]},F.dropWhile=function(f,y){return f&&f.length?Rl(f,Dt(y,3),!0):[]},F.fill=function(f,y,_,T){var R=f==null?0:f.length;return R?(_&&typeof _!="number"&&Ar(f,y,_)&&(_=0,T=R),function(V,ae,fe,we){var ze=V.length;for((fe=Yt(fe))<0&&(fe=-fe>ze?0:ze+fe),(we=we===v||we>ze?ze:Yt(we))<0&&(we+=ze),we=fe>we?0:eh(we);fe<we;)V[fe++]=ae;return V}(f,y,_,T)):[]},F.filter=function(f,y){return(Xt(f)?Tr:On)(f,Dt(y,3))},F.flatMap=function(f,y){return xr(Au(f,y),1)},F.flatMapDeep=function(f,y){return xr(Au(f,y),U)},F.flatMapDepth=function(f,y,_){return _=_===v?1:Yt(_),xr(Au(f,y),_)},F.flatten=Ns,F.flattenDeep=function(f){return f!=null&&f.length?xr(f,U):[]},F.flattenDepth=function(f,y){return f!=null&&f.length?xr(f,y=y===v?1:Yt(y)):[]},F.flip=function(f){return Ci(f,512)},F.flow=ch,F.flowRight=dp,F.fromPairs=function(f){for(var y=-1,_=f==null?0:f.length,T={};++y<_;){var R=f[y];T[R[0]]=R[1]}return T},F.functions=function(f){return f==null?[]:Pl(f,qn(f))},F.functionsIn=function(f){return f==null?[]:Pl(f,Lr(f))},F.groupBy=Xd,F.initial=function(f){return f!=null&&f.length?vo(f,0,-1):[]},F.intersection=Go,F.intersectionBy=ua,F.intersectionWith=_v,F.invert=op,F.invertBy=oh,F.invokeMap=xv,F.iteratee=Fs,F.keyBy=Ev,F.keys=qn,F.keysIn=Lr,F.map=Au,F.mapKeys=function(f,y){var _={};return y=Dt(y,3),gt(f,function(T,R,V){ci(_,y(T,R,V),T)}),_},F.mapValues=function(f,y){var _={};return y=Dt(y,3),gt(f,function(T,R,V){ci(_,R,y(T,R,V))}),_},F.matches=function(f){return yd(yo(f,1))},F.matchesProperty=function(f,y){return vd(f,yo(y,1))},F.memoize=Pu,F.merge=ah,F.mergeWith=ip,F.method=Tv,F.methodOf=cr,F.mixin=To,F.negate=rc,F.nthArg=function(f){return f=Yt(f),nn(function(y){return gd(y,f)})},F.omit=ap,F.omitBy=function(f,y){return sc(f,rc(Dt(y)))},F.once=function(f){return Kf(2,f)},F.orderBy=function(f,y,_,T){return f==null?[]:(Xt(y)||(y=y==null?[]:[y]),Xt(_=T?v:_)||(_=_==null?[]:[_]),md(f,y,_))},F.over=hp,F.overArgs=qd,F.overEvery=kv,F.overSome=yp,F.partial=oc,F.partialRight=Jf,F.partition=Sv,F.pick=up,F.pickBy=sc,F.property=cc,F.propertyOf=function(f){return function(y){return f==null?v:ki(f,y)}},F.pull=Ud,F.pullAll=Jl,F.pullAllBy=function(f,y,_){return f&&f.length&&y&&y.length?Nl(f,y,Dt(_,2)):f},F.pullAllWith=function(f,y,_){return f&&f.length&&y&&y.length?Nl(f,y,v,_):f},F.pullAt=Wd,F.range=vp,F.rangeRight=Nv,F.rearg=jv,F.reject=function(f,y){return(Xt(f)?Tr:On)(f,rc(Dt(y,3)))},F.remove=function(f,y){var _=[];if(!f||!f.length)return _;var T=-1,R=[],V=f.length;for(y=Dt(y,3);++T<V;){var ae=f[T];y(ae,T,f)&&(_.push(ae),R.push(T))}return mf(f,R),_},F.rest=function(f,y){if(typeof f!="function")throw new Z(x);return nn(f,y=y===v?y:Yt(y))},F.reverse=Zl,F.sampleSize=function(f,y,_){return y=(_?Ar(f,y,_):y===v)?1:Yt(y),(Xt(f)?sd:_f)(f,y)},F.set=function(f,y,_){return f==null?f:Es(f,y,_)},F.setWith=function(f,y,_,T){return T=typeof T=="function"?T:v,f==null?f:Es(f,y,_,T)},F.shuffle=function(f){return(Xt(f)?ld:Od)(f)},F.slice=function(f,y,_){var T=f==null?0:f.length;return T?(_&&typeof _!="number"&&Ar(f,y,_)?(y=0,_=T):(y=y==null?0:Yt(y),_=_===v?T:Yt(_)),vo(f,y,_)):[]},F.sortBy=Yf,F.sortedUniq=function(f){return f&&f.length?wf(f):[]},F.sortedUniqBy=function(f,y){return f&&f.length?wf(f,Dt(y,2)):[]},F.split=function(f,y,_){return _&&typeof _!="number"&&Ar(f,y,_)&&(y=_=v),(_=_===v?oe:_>>>0)?(f=hn(f))&&(typeof y=="string"||y!=null&&!ku(y))&&!(y=to(y))&&zo(f)?xn(eo(f),0,_):f.split(y,_):[]},F.spread=function(f,y){if(typeof f!="function")throw new Z(x);return y=y==null?0:br(Yt(y),0),nn(function(_){var T=_[y],R=xn(_,0,y);return T&&lr(R,T),Pn(f,this,R)})},F.tail=function(f){var y=f==null?0:f.length;return y?vo(f,1,y):[]},F.take=function(f,y,_){return f&&f.length?vo(f,0,(y=_||y===v?1:Yt(y))<0?0:y):[]},F.takeRight=function(f,y,_){var T=f==null?0:f.length;return T?vo(f,(y=T-(y=_||y===v?1:Yt(y)))<0?0:y,T):[]},F.takeRightWhile=function(f,y){return f&&f.length?Rl(f,Dt(y,3),!1,!0):[]},F.takeWhile=function(f,y){return f&&f.length?Rl(f,Dt(y,3)):[]},F.tap=function(f,y){return y(f),f},F.throttle=function(f,y,_){var T=!0,R=!0;if(typeof f!="function")throw new Z(x);return Hn(_)&&(T="leading"in _?!!_.leading:T,R="trailing"in _?!!_.trailing:R),Ft(f,y,{leading:T,maxWait:y,trailing:R})},F.thru=Ql,F.toArray=Qd,F.toPairs=sp,F.toPairsIn=lc,F.toPath=function(f){return Xt(f)?fn(f,$o):Xr(f)?[f]:no(Uf(hn(f)))},F.toPlainObject=np,F.transform=function(f,y,_){var T=Xt(f),R=T||Hr(f)||Li(f);if(y=Dt(y,4),_==null){var V=f&&f.constructor;_=R?T?new V:[]:Hn(f)&&Mo(V)?mu(Ai(f)):{}}return(R?Ur:gt)(f,function(ae,fe,we){return y(_,ae,fe,we)}),_},F.unary=function(f){return Yd(f,1)},F.union=$d,F.unionBy=Gd,F.unionWith=Vd,F.uniq=function(f){return f&&f.length?oa(f):[]},F.uniqBy=function(f,y){return f&&f.length?oa(f,Dt(y,2)):[]},F.uniqWith=function(f,y){return y=typeof y=="function"?y:v,f&&f.length?oa(f,v,y):[]},F.unset=function(f,y){return f==null||Cl(f,y)},F.unzip=Ds,F.unzipWith=ju,F.update=function(f,y,_){return f==null?f:xd(f,y,jf(_))},F.updateWith=function(f,y,_,T){return T=typeof T=="function"?T:v,f==null?f:xd(f,y,jf(_),T)},F.values=ca,F.valuesIn=function(f){return f==null?[]:lu(f,Lr(f))},F.without=Rr,F.words=Ls,F.wrap=function(f,y){return oc(jf(y),f)},F.xor=Ov,F.xorBy=wv,F.xorWith=Gf,F.zip=Hd,F.zipObject=function(f,y){return Sf(f||[],y||[],bu)},F.zipObjectDeep=function(f,y){return Sf(f||[],y||[],Es)},F.zipWith=ro,F.entries=sp,F.entriesIn=lc,F.extend=La,F.extendWith=la,To(F,F),F.add=gp,F.attempt=Bs,F.camelCase=lp,F.capitalize=Du,F.ceil=fh,F.clamp=function(f,y,_){return _===v&&(_=y,y=v),_!==v&&(_=(_=Ir(_))==_?_:0),y!==v&&(y=(y=Ir(y))==y?y:0),ra(Ir(f),y,_)},F.clone=function(f){return yo(f,4)},F.cloneDeep=function(f){return yo(f,5)},F.cloneDeepWith=function(f,y){return yo(f,5,y=typeof y=="function"?y:v)},F.cloneWith=function(f,y){return yo(f,4,y=typeof y=="function"?y:v)},F.conformsTo=function(f,y){return y==null||df(f,y,qn(y))},F.deburr=Bi,F.defaultTo=function(f,y){return f==null||f!=f?y:f},F.divide=$s,F.endsWith=function(f,y,_){f=hn(f),y=to(y);var T=f.length,R=_=_===v?T:ra(Yt(_),0,T);return(_-=y.length)>=0&&f.slice(_,R)==y},F.eq=Vo,F.escape=function(f){return(f=hn(f))&&dt.test(f)?f.replace(wt,er):f},F.escapeRegExp=function(f){return(f=hn(f))&&In.test(f)?f.replace(Sn,"\\$&"):f},F.every=function(f,y,_){var T=Xt(f)?ml:pd;return _&&Ar(f,y,_)&&(y=v),T(f,Dt(y,3))},F.find=Vf,F.findIndex=$f,F.findKey=function(f,y){return Lo(f,Dt(y,3),gt)},F.findLast=Hf,F.findLastIndex=ql,F.findLastKey=function(f,y){return Lo(f,Dt(y,3),Dn)},F.floor=Gs,F.forEach=ec,F.forEachRight=Xf,F.forIn=function(f,y){return f==null?f:Qt(f,Dt(y,3),Lr)},F.forInRight=function(f,y){return f==null?f:or(f,Dt(y,3),Lr)},F.forOwn=function(f,y){return f&&gt(f,Dt(y,3))},F.forOwnRight=function(f,y){return f&&Dn(f,Dt(y,3))},F.get=Nu,F.gt=Av,F.gte=Cs,F.has=function(f,y){return f!=null&&Vl(f,y,dd)},F.hasIn=uc,F.head=Fd,F.identity=Yr,F.includes=function(f,y,_,T){f=oo(f)?f:ca(f),_=_&&!T?Yt(_):0;var R=f.length;return _<0&&(_=br(R+_,0)),ac(f)?_<=R&&f.indexOf(y,_)>-1:!!R&&ea(f,y,_)>-1},F.indexOf=function(f,y,_){var T=f==null?0:f.length;if(!T)return-1;var R=_==null?0:Yt(_);return R<0&&(R=br(T+R,0)),ea(f,y,R)},F.inRange=function(f,y,_){return y=fi(y),_===v?(_=y,y=0):_=fi(_),function(T,R,V){return T>=Dr(R,V)&&T<br(R,V)}(f=Ir(f),y,_)},F.invoke=ih,F.isArguments=Ia,F.isArray=Xt,F.isArrayBuffer=Pv,F.isArrayLike=oo,F.isArrayLikeObject=Un,F.isBoolean=function(f){return f===!0||f===!1||Kn(f)&&Gn(f)==G},F.isBuffer=Hr,F.isDate=Zf,F.isElement=function(f){return Kn(f)&&f.nodeType===1&&!Tu(f)},F.isEmpty=function(f){if(f==null)return!0;if(oo(f)&&(Xt(f)||typeof f=="string"||typeof f.splice=="function"||Hr(f)||Li(f)||Ia(f)))return!f.length;var y=Cr(f);if(y==ne||y==Pe)return!f.size;if(De(f))return!Ni(f).length;for(var _ in f)if(it.call(f,_))return!1;return!0},F.isEqual=function(f,y){return Ou(f,y)},F.isEqualWith=function(f,y,_){var T=(_=typeof _=="function"?_:v)?_(f,y):v;return T===v?Ou(f,y,v,_):!!T},F.isError=Er,F.isFinite=function(f){return typeof f=="number"&&rd(f)},F.isFunction=Mo,F.isInteger=Mu,F.isLength=ic,F.isMap=Qf,F.isMatch=function(f,y){return f===y||Tl(f,y,Df(y))},F.isMatchWith=function(f,y,_){return _=typeof _=="function"?_:v,Tl(f,y,Df(y),_)},F.isNaN=function(f){return ep(f)&&f!=+f},F.isNative=function(f){if(bv(f))throw new tn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wu(f)},F.isNil=function(f){return f==null},F.isNull=function(f){return f===null},F.isNumber=ep,F.isObject=Hn,F.isObjectLike=Kn,F.isPlainObject=Tu,F.isRegExp=ku,F.isSafeInteger=function(f){return Mu(f)&&f>=-9007199254740991&&f<=$},F.isSet=Jd,F.isString=ac,F.isSymbol=Xr,F.isTypedArray=Li,F.isUndefined=function(f){return f===v},F.isWeakMap=function(f){return Kn(f)&&Cr(f)==ke},F.isWeakSet=function(f){return Kn(f)&&Gn(f)=="[object WeakSet]"},F.join=function(f,y){return f==null?"":sf.call(f,y)},F.kebabCase=uh,F.last=Vn,F.lastIndexOf=function(f,y,_){var T=f==null?0:f.length;if(!T)return-1;var R=T;return _!==v&&(R=(R=Yt(_))<0?br(T+R,0):Dr(R,T-1)),y==y?function(V,ae,fe){for(var we=fe+1;we--;)if(V[we]===ae)return we;return we}(f,y,R):oi(f,ii,R,!0)},F.lowerCase=sh,F.lowerFirst=cp,F.lt=Zd,F.lte=tp,F.max=function(f){return f&&f.length?tr(f,Yr,Yn):v},F.maxBy=function(f,y){return f&&f.length?tr(f,Dt(y,2),Yn):v},F.mean=function(f){return sn(f,Yr)},F.meanBy=function(f,y){return sn(f,Dt(y,2))},F.min=function(f){return f&&f.length?tr(f,Yr,Di):v},F.minBy=function(f,y){return f&&f.length?tr(f,Dt(y,2),Di):v},F.stubArray=zi,F.stubFalse=Ws,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=ph,F.nth=function(f,y){return f&&f.length?gd(f,Yt(y)):v},F.noConflict=function(){return Xn._===this&&(Xn._=zn),this},F.noop=Us,F.now=tc,F.pad=function(f,y,_){f=hn(f);var T=(y=Yt(y))?Fo(f):0;if(!y||T>=y)return f;var R=(y-T)/2;return Ts(du(R),_)+f+Ts(_l(R),_)},F.padEnd=function(f,y,_){f=hn(f);var T=(y=Yt(y))?Fo(f):0;return y&&T<y?f+Ts(y-T,_):f},F.padStart=function(f,y,_){f=hn(f);var T=(y=Yt(y))?Fo(f):0;return y&&T<y?Ts(y-T,_)+f:f},F.parseInt=function(f,y,_){return _||y==null?y=0:y&&(y=+y),wl(hn(f).replace(Bt,""),y||0)},F.random=function(f,y,_){if(_&&typeof _!="boolean"&&Ar(f,y,_)&&(y=_=v),_===v&&(typeof y=="boolean"?(_=y,y=v):typeof f=="boolean"&&(_=f,f=v)),f===v&&y===v?(f=0,y=1):(f=fi(f),y===v?(y=f,f=0):y=fi(y)),f>y){var T=f;f=y,y=T}if(_||f%1||y%1){var R=xl();return Dr(f+R*(y-f+Zi("1e-"+((R+"").length-1))),y)}return bf(f,y)},F.reduce=function(f,y,_){var T=Xt(f)?au:mr,R=arguments.length<3;return T(f,Dt(y,4),_,R,Fn)},F.reduceRight=function(f,y,_){var T=Xt(f)?bl:mr,R=arguments.length<3;return T(f,Dt(y,4),_,R,fd)},F.repeat=function(f,y,_){return y=(_?Ar(f,y,_):y===v)?1:Yt(y),Dl(hn(f),y)},F.replace=function(){var f=arguments,y=hn(f[0]);return f.length<3?y:y.replace(f[1],f[2])},F.result=function(f,y,_){var T=-1,R=(y=bn(y,f)).length;for(R||(R=1,f=v);++T<R;){var V=f==null?v:f[$o(y[T])];V===v&&(T=R,V=_),f=Mo(V)?V.call(f):V}return f},F.round=dh,F.runInContext=xe,F.sample=function(f){return(Xt(f)?ff:pv)(f)},F.size=function(f){if(f==null)return 0;if(oo(f))return ac(f)?Fo(f):f.length;var y=Cr(f);return y==ne||y==Pe?f.size:Ni(f).length},F.snakeCase=fp,F.some=function(f,y,_){var T=Xt(f)?ys:hv;return _&&Ar(f,y,_)&&(y=v),T(f,Dt(y,3))},F.sortedIndex=function(f,y){return Ss(f,y)},F.sortedIndexBy=function(f,y,_){return Of(f,y,Dt(_,2))},F.sortedIndexOf=function(f,y){var _=f==null?0:f.length;if(_){var T=Ss(f,y);if(T<_&&Vo(f[T],y))return T}return-1},F.sortedLastIndex=function(f,y){return Ss(f,y,!0)},F.sortedLastIndexBy=function(f,y,_){return Of(f,y,Dt(_,2),!0)},F.sortedLastIndexOf=function(f,y){if(f!=null&&f.length){var _=Ss(f,y,!0)-1;if(Vo(f[_],y))return _}return-1},F.startCase=Mv,F.startsWith=function(f,y,_){return f=hn(f),_=_==null?0:ra(Yt(_),0,f.length),y=to(y),f.slice(_,_+y.length)==y},F.subtract=Sr,F.sum=function(f){return f&&f.length?su(f,Yr):0},F.sumBy=function(f,y){return f&&f.length?su(f,Dt(y,2)):0},F.template=function(f,y,_){var T=F.templateSettings;_&&Ar(f,y,_)&&(y=v),f=hn(f),y=la({},y,T,Cd);var R,V,ae=la({},y.imports,T.imports,Cd),fe=qn(ae),we=lu(ae,fe),ze=0,Ce=y.interpolate||Mt,Ve="__p += '",ut=k((y.escape||Mt).source+"|"+Ce.source+"|"+(Ce===$t?vt:Mt).source+"|"+(y.evaluate||Mt).source+"|$","g"),mt="//# sourceURL="+(it.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hl+"]")+`
`;f.replace(ut,function(Xe,kt,st,ce,Ut,an){return st||(st=ce),Ve+=f.slice(ze,an).replace(zt,Pa),kt&&(R=!0,Ve+=`' +
__e(`+kt+`) +
'`),Ut&&(V=!0,Ve+=`';
`+Ut+`;
__p += '`),st&&(Ve+=`' +
((__t = (`+st+`)) == null ? '' : __t) +
'`),ze=an+Xe.length,Xe}),Ve+=`';
`;var Pt=it.call(y,"variable")&&y.variable;if(Pt){if(Je.test(Pt))throw new tn("Invalid `variable` option passed into `_.template`")}else Ve=`with (obj) {
`+Ve+`
}
`;Ve=(V?Ve.replace(Ue,""):Ve).replace(At,"$1").replace(It,"$1;"),Ve="function("+(Pt||"obj")+`) {
`+(Pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ve+`return __p
}`;var We=Bs(function(){return Nn(fe,mt+"return "+Ve).apply(v,we)});if(We.source=Ve,Er(We))throw We;return We},F.times=function(f,y){if((f=Yt(f))<1||f>$)return[];var _=oe,T=Dr(f,oe);y=Dt(y),f-=oe;for(var R=Aa(T,y);++_<f;)y(_);return R},F.toFinite=fi,F.toInteger=Yt,F.toLength=eh,F.toLower=function(f){return hn(f).toLowerCase()},F.toNumber=Ir,F.toSafeInteger=function(f){return f?ra(Yt(f),-9007199254740991,$):f===0?f:0},F.toString=hn,F.toUpper=function(f){return hn(f).toUpperCase()},F.trim=function(f,y,_){if((f=hn(f))&&(_||y===v))return vs(f);if(!f||!(y=to(y)))return f;var T=eo(f),R=eo(y);return xn(T,fo(T,R),gs(T,R)+1).join("")},F.trimEnd=function(f,y,_){if((f=hn(f))&&(_||y===v))return f.slice(0,Gr(f)+1);if(!f||!(y=to(y)))return f;var T=eo(f);return xn(T,0,gs(T,eo(y))+1).join("")},F.trimStart=function(f,y,_){if((f=hn(f))&&(_||y===v))return f.replace(Bt,"");if(!f||!(y=to(y)))return f;var T=eo(f);return xn(T,fo(T,eo(y))).join("")},F.truncate=function(f,y){var _=30,T="...";if(Hn(y)){var R="separator"in y?y.separator:R;_="length"in y?Yt(y.length):_,T="omission"in y?to(y.omission):T}var V=(f=hn(f)).length;if(zo(f)){var ae=eo(f);V=ae.length}if(_>=V)return f;var fe=_-Fo(T);if(fe<1)return T;var we=ae?xn(ae,0,fe).join(""):f.slice(0,fe);if(R===v)return we+T;if(ae&&(fe+=we.length-fe),ku(R)){if(f.slice(fe).search(R)){var ze,Ce=we;for(R.global||(R=k(R.source,hn(qt.exec(R))+"g")),R.lastIndex=0;ze=R.exec(Ce);)var Ve=ze.index;we=we.slice(0,Ve===v?fe:Ve)}}else if(f.indexOf(to(R),fe)!=fe){var ut=we.lastIndexOf(R);ut>-1&&(we=we.slice(0,ut))}return we+T},F.unescape=function(f){return(f=hn(f))&&Ne.test(f)?f.replace(Tt,po):f},F.uniqueId=function(f){var y=++jn;return hn(f)+y},F.upperCase=lh,F.upperFirst=Is,F.each=ec,F.eachRight=Xf,F.first=Fd,To(F,(Vs={},gt(F,function(f,y){it.call(F.prototype,y)||(Vs[y]=f)}),Vs),{chain:!1}),F.VERSION="4.17.21",Ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){F[f].placeholder=F}),Ur(["drop","take"],function(f,y){cn.prototype[f]=function(_){_=_===v?1:br(Yt(_),0);var T=this.__filtered__&&!y?new cn(this):this.clone();return T.__filtered__?T.__takeCount__=Dr(_,T.__takeCount__):T.__views__.push({size:Dr(_,oe),type:f+(T.__dir__<0?"Right":"")}),T},cn.prototype[f+"Right"]=function(_){return this.reverse()[f](_).reverse()}}),Ur(["filter","map","takeWhile"],function(f,y){var _=y+1,T=_==1||_==3;cn.prototype[f]=function(R){var V=this.clone();return V.__iteratees__.push({iteratee:Dt(R,3),type:_}),V.__filtered__=V.__filtered__||T,V}}),Ur(["head","last"],function(f,y){var _="take"+(y?"Right":"");cn.prototype[f]=function(){return this[_](1).value()[0]}}),Ur(["initial","tail"],function(f,y){var _="drop"+(y?"":"Right");cn.prototype[f]=function(){return this.__filtered__?new cn(this):this[_](1)}}),cn.prototype.compact=function(){return this.filter(Yr)},cn.prototype.find=function(f){return this.filter(f).head()},cn.prototype.findLast=function(f){return this.reverse().find(f)},cn.prototype.invokeMap=nn(function(f,y){return typeof f=="function"?new cn(this):this.map(function(_){return _u(_,f,y)})}),cn.prototype.reject=function(f){return this.filter(rc(Dt(f)))},cn.prototype.slice=function(f,y){f=Yt(f);var _=this;return _.__filtered__&&(f>0||y<0)?new cn(_):(f<0?_=_.takeRight(-f):f&&(_=_.drop(f)),y!==v&&(_=(y=Yt(y))<0?_.dropRight(-y):_.take(y-f)),_)},cn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},cn.prototype.toArray=function(){return this.take(oe)},gt(cn.prototype,function(f,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),T=/^(?:head|last)$/.test(y),R=F[T?"take"+(y=="last"?"Right":""):y],V=T||/^find/.test(y);R&&(F.prototype[y]=function(){var ae=this.__wrapped__,fe=T?[1]:arguments,we=ae instanceof cn,ze=fe[0],Ce=we||Xt(ae),Ve=function(kt){var st=R.apply(F,lr([kt],fe));return T&&ut?st[0]:st};Ce&&_&&typeof ze=="function"&&ze.length!=1&&(we=Ce=!1);var ut=this.__chain__,mt=!!this.__actions__.length,Pt=V&&!ut,We=we&&!mt;if(!V&&Ce){ae=We?ae:new cn(this);var Xe=f.apply(ae,fe);return Xe.__actions__.push({func:Ql,args:[Ve],thisArg:v}),new So(Xe,ut)}return Pt&&We?f.apply(this,fe):(Xe=this.thru(Ve),Pt?T?Xe.value()[0]:Xe.value():Xe)})}),Ur(["pop","push","shift","sort","splice","unshift"],function(f){var y=de[f],_=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",T=/^(?:pop|shift)$/.test(f);F.prototype[f]=function(){var R=arguments;if(T&&!this.__chain__){var V=this.value();return y.apply(Xt(V)?V:[],R)}return this[_](function(ae){return y.apply(Xt(ae)?ae:[],R)})}}),gt(cn.prototype,function(f,y){var _=F[y];if(_){var T=_.name+"";it.call(gu,T)||(gu[T]=[]),gu[T].push({name:y,func:_})}}),gu[zl(v,2).name]=[{name:"wrapper",func:v}],cn.prototype.clone=function(){var f=new cn(this.__wrapped__);return f.__actions__=no(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=no(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=no(this.__views__),f},cn.prototype.reverse=function(){if(this.__filtered__){var f=new cn(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},cn.prototype.value=function(){var f=this.__wrapped__.value(),y=this.__dir__,_=Xt(f),T=y<0,R=_?f.length:0,V=function(an,St,Ct){for(var fr=-1,io=Ct.length;++fr<io;){var Ho=Ct[fr],pr=Ho.size;switch(Ho.type){case"drop":an+=pr;break;case"dropRight":St-=pr;break;case"take":St=Dr(St,an+pr);break;case"takeRight":an=br(an,St-pr)}}return{start:an,end:St}}(0,R,this.__views__),ae=V.start,fe=V.end,we=fe-ae,ze=T?fe:ae-1,Ce=this.__iteratees__,Ve=Ce.length,ut=0,mt=Dr(we,this.__takeCount__);if(!_||!T&&R==we&&mt==we)return xf(f,this.__actions__);var Pt=[];e:for(;we--&&ut<mt;){for(var We=-1,Xe=f[ze+=y];++We<Ve;){var kt=Ce[We],st=kt.iteratee,ce=kt.type,Ut=st(Xe);if(ce==2)Xe=Ut;else if(!Ut){if(ce==1)continue e;break e}}Pt[ut++]=Xe}return Pt},F.prototype.at=Po,F.prototype.chain=function(){return ir(this)},F.prototype.commit=function(){return new So(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===v&&(this.__values__=Qd(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?v:this.__values__[this.__index__++]}},F.prototype.plant=function(f){for(var y,_=this;_ instanceof ws;){var T=Wf(_);T.__index__=0,T.__values__=v,y?R.__wrapped__=T:y=T;var R=T;_=_.__wrapped__}return R.__wrapped__=f,y},F.prototype.reverse=function(){var f=this.__wrapped__;if(f instanceof cn){var y=f;return this.__actions__.length&&(y=new cn(this)),(y=y.reverse()).__actions__.push({func:Ql,args:[Zl],thisArg:v}),new So(y,this.__chain__)}return this.thru(Zl)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return xf(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Pi&&(F.prototype[Pi]=function(){return this}),F}();Xn._=Uo,(m=(function(){return Uo}).call(l,o,l,h))===v||(h.exports=m)}).call(this)}).call(this,o(68),o(221)(u))},function(u,l,o){var d=o(7),h=o(34),m=o(33),v=o(87),x=o(62),S=o(174),j=o(28),A=d.TypeError,M=j("toPrimitive");u.exports=function(D,N){if(!m(D)||v(D))return D;var I,U=x(D,M);if(U){if(N===void 0&&(N="default"),I=h(U,D,N),!m(I)||v(I))return I;throw A("Can't convert object to primitive value")}return N===void 0&&(N="number"),S(D,N)}},function(u,l,o){var d=o(108);u.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,l,o){var d=o(36),h=o(18),m=o(91);u.exports=!d&&!h(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(u,l,o){var d=o(35),h=o(135),m=o(50),v=o(38);u.exports=function(x,S){for(var j=h(S),A=v.f,M=m.f,D=0;D<j.length;D++){var N=j[D];d(x,N)||A(x,N,M(S,N))}}},function(u,l,o){var d=o(46),h=o(15),m=o(74),v=o(112),x=o(32),S=h([].concat);u.exports=d("Reflect","ownKeys")||function(j){var A=m.f(x(j)),M=v.f;return M?S(A,M(j)):A}},function(u,l,o){var d=o(15),h=o(35),m=o(41),v=o(137).indexOf,x=o(72),S=d([].push);u.exports=function(j,A){var M,D=m(j),N=0,I=[];for(M in D)!h(x,M)&&h(D,M)&&S(I,M);for(;A.length>N;)h(D,M=A[N++])&&(~v(I,M)||S(I,M));return I}},function(u,l,o){var d=o(41),h=o(75),m=o(45),v=function(x){return function(S,j,A){var M,D=d(S),N=m(D),I=h(A,N);if(x&&j!=j){for(;N>I;)if((M=D[I++])!=M)return!0}else for(;N>I;I++)if((x||I in D)&&D[I]===j)return x||I||0;return!x&&-1}};u.exports={includes:v(!0),indexOf:v(!1)}},function(u,l,o){var d=o(46);u.exports=d("document","documentElement")},function(u,l,o){var d=o(51),h=o(41),m=o(74).f,v=o(114),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(S){return x&&d(S)=="Window"?function(j){try{return m(j)}catch{return v(x)}}(S):m(h(S))}},function(u,l,o){var d=o(28);l.f=d},function(u,l,o){var d=o(177),h=o(35),m=o(140),v=o(38).f;u.exports=function(x){var S=d.Symbol||(d.Symbol={});h(S,x)||v(S,x,{value:m.f(x)})}},function(u,l,o){var d,h,m,v=o(18),x=o(30),S=o(60),j=o(101),A=o(42),M=o(28),D=o(71),N=M("iterator"),I=!1;[].keys&&("next"in(m=[].keys())?(h=j(j(m)))!==Object.prototype&&(d=h):I=!0),d==null||v(function(){var U={};return d[N].call(U)!==U})?d={}:D&&(d=S(d)),x(d[N])||A(d,N,function(){return this}),u.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:I}},function(u,l,o){var d=o(18);u.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(u,l,o){var d=o(16),h=o(15),m=o(72),v=o(33),x=o(35),S=o(38).f,j=o(74),A=o(139),M=o(183),D=o(90),N=o(185),I=!1,U=D("meta"),$=0,q=function(J){S(J,U,{value:{objectID:"O"+$++,weakData:{}}})},oe=u.exports={enable:function(){oe.enable=function(){},I=!0;var J=j.f,Q=h([].splice),ee={};ee[U]=1,J(ee).length&&(j.f=function(G){for(var z=J(G),H=0,K=z.length;H<K;H++)if(z[H]===U){Q(z,H,1);break}return z},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},fastKey:function(J,Q){if(!v(J))return typeof J=="symbol"?J:(typeof J=="string"?"S":"P")+J;if(!x(J,U)){if(!M(J))return"F";if(!Q)return"E";q(J)}return J[U].objectID},getWeakData:function(J,Q){if(!x(J,U)){if(!M(J))return!0;if(!Q)return!1;q(J)}return J[U].weakData},onFreeze:function(J){return N&&I&&M(J)&&!x(J,U)&&q(J),J}};m[U]=!0},function(u,l,o){var d=o(28),h=o(80),m=d("iterator"),v=Array.prototype;u.exports=function(x){return x!==void 0&&(h.Array===x||v[m]===x)}},function(u,l,o){var d=o(7),h=o(34),m=o(56),v=o(32),x=o(88),S=o(118),j=d.TypeError;u.exports=function(A,M){var D=arguments.length<2?S(A):M;if(m(D))return v(h(D,A));throw j(x(A)+" is not iterable")}},function(u,l,o){var d=o(34),h=o(32),m=o(62);u.exports=function(v,x,S){var j,A;h(v);try{if(!(j=m(v,"return"))){if(x==="throw")throw S;return S}j=d(j,v)}catch(M){A=!0,j=M}if(x==="throw")throw S;if(A)throw j;return h(j),S}},function(u,l,o){var d=o(30),h=o(33),m=o(102);u.exports=function(v,x,S){var j,A;return m&&d(j=x.constructor)&&j!==S&&h(A=j.prototype)&&A!==S.prototype&&m(v,A),v}},function(u,l,o){var d=o(42);u.exports=function(h,m,v){for(var x in m)d(h,x,m[x],v);return h}},function(u,l,o){var d=o(46),h=o(38),m=o(28),v=o(36),x=m("species");u.exports=function(S){var j=d(S),A=h.f;v&&j&&!j[x]&&A(j,x,{configurable:!0,get:function(){return this}})}},function(u,l,o){var d=o(15),h=o(59),m=o(39),v=o(44),x=d("".charAt),S=d("".charCodeAt),j=d("".slice),A=function(M){return function(D,N){var I,U,$=m(v(D)),q=h(N),oe=$.length;return q<0||q>=oe?M?"":void 0:(I=S($,q))<55296||I>56319||q+1===oe||(U=S($,q+1))<56320||U>57343?M?x($,q):I:M?j($,q,q+2):U-56320+(I-55296<<10)+65536}};u.exports={codeAt:A(!1),charAt:A(!0)}},function(u,l){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,l,o){var d=o(91)("span").classList,h=d&&d.constructor&&d.constructor.prototype;u.exports=h===Object.prototype?void 0:h},function(u,l,o){var d=o(32);u.exports=function(){var h=d(this),m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),h.dotAll&&(m+="s"),h.unicode&&(m+="u"),h.sticky&&(m+="y"),m}},function(u,l,o){var d=o(18),h=o(7).RegExp,m=d(function(){var S=h("a","y");return S.lastIndex=2,S.exec("abcd")!=null}),v=m||d(function(){return!h("a","y").sticky}),x=m||d(function(){var S=h("^r","gy");return S.lastIndex=2,S.exec("str")!=null});u.exports={BROKEN_CARET:x,MISSED_STICKY:v,UNSUPPORTED_Y:m}},function(u,l,o){var d=o(16),h=o(79).find,m=o(100),v="find",x=!0;v in[]&&Array(1).find(function(){x=!1}),d({target:"Array",proto:!0,forced:x},{find:function(S){return h(this,S,arguments.length>1?arguments[1]:void 0)}}),m(v)},function(u,l,o){var d=o(16),h=o(137).includes,m=o(100);d({target:"Array",proto:!0},{includes:function(v){return h(this,v,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(u,l,o){var d=o(16),h=o(15),m=o(197),v=o(44),x=o(39),S=o(198),j=h("".indexOf);d({target:"String",proto:!0,forced:!S("includes")},{includes:function(A){return!!~j(x(v(this)),x(m(A)),arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var d=o(33),h=o(51),m=o(28)("match");u.exports=function(v){var x;return d(v)&&((x=v[m])!==void 0?!!x:h(v)=="RegExp")}},function(u,l,o){var d=o(15);u.exports=d(1 .valueOf)},function(u,l,o){var d=o(15),h=o(44),m=o(39),v=o(162),x=d("".replace),S="["+v+"]",j=RegExp("^"+S+S+"*"),A=RegExp(S+S+"*$"),M=function(D){return function(N){var I=m(h(N));return 1&D&&(I=x(I,j,"")),2&D&&(I=x(I,A,"")),I}};u.exports={start:M(1),end:M(2),trim:M(3)}},function(u,l){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,l){var o,d,h=u.exports={};function m(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function x($){if(o===setTimeout)return setTimeout($,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout($,0);try{return o($,0)}catch{try{return o.call(null,$,0)}catch{return o.call(this,$,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch{o=m}try{d=typeof clearTimeout=="function"?clearTimeout:v}catch{d=v}})();var S,j=[],A=!1,M=-1;function D(){A&&S&&(A=!1,S.length?j=S.concat(j):M=-1,j.length&&N())}function N(){if(!A){var $=x(D);A=!0;for(var q=j.length;q;){for(S=j,j=[];++M<q;)S&&S[M].run();M=-1,q=j.length}S=null,A=!1,function(oe){if(d===clearTimeout)return clearTimeout(oe);if((d===v||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(oe);try{d(oe)}catch{try{return d.call(null,oe)}catch{return d.call(this,oe)}}}($)}}function I($,q){this.fun=$,this.array=q}function U(){}h.nextTick=function($){var q=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)q[oe-1]=arguments[oe];j.push(new I($,q)),j.length!==1||A||x(N)},I.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=U,h.addListener=U,h.once=U,h.off=U,h.removeListener=U,h.removeAllListeners=U,h.emit=U,h.prependListener=U,h.prependOnceListener=U,h.listeners=function($){return[]},h.binding=function($){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function($){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(u,l,o){var d=o(32),h=o(165),m=o(28)("species");u.exports=function(v,x){var S,j=d(v).constructor;return j===void 0||(S=d(j)[m])==null?x:h(S)}},function(u,l,o){var d=o(7),h=o(99),m=o(88),v=d.TypeError;u.exports=function(x){if(h(x))return x;throw v(m(x)+" is not a constructor")}},function(u,l,o){var d=o(16),h=o(161).trim;d({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return h(this)}})},function(u,l,o){var d=o(34),h=o(123),m=o(32),v=o(94),x=o(39),S=o(44),j=o(62),A=o(124),M=o(125);h("match",function(D,N,I){return[function(U){var $=S(this),q=U==null?void 0:j(U,D);return q?d(q,U,$):new RegExp(U)[D](x($))},function(U){var $=m(this),q=x(U),oe=I(N,$,q);if(oe.done)return oe.value;if(!$.global)return M($,q);var J=$.unicode;$.lastIndex=0;for(var Q,ee=[],G=0;(Q=M($,q))!==null;){var z=x(Q[0]);ee[G]=z,z===""&&($.lastIndex=A(q,v($.lastIndex),J)),G++}return G===0?null:ee}]})},function(u,l,o){var d,h,m,v,x=o(7),S=o(76),j=o(64),A=o(30),M=o(35),D=o(18),N=o(138),I=o(98),U=o(91),$=o(169),q=o(128),oe=x.setImmediate,J=x.clearImmediate,Q=x.process,ee=x.Dispatch,G=x.Function,z=x.MessageChannel,H=x.String,K=0,X={},ne="onreadystatechange";try{d=x.location}catch{}var ye=function(Pe){if(M(X,Pe)){var me=X[Pe];delete X[Pe],me()}},he=function(Pe){return function(){ye(Pe)}},Se=function(Pe){ye(Pe.data)},Fe=function(Pe){x.postMessage(H(Pe),d.protocol+"//"+d.host)};oe&&J||(oe=function(Pe){var me=I(arguments,1);return X[++K]=function(){S(A(Pe)?Pe:G(Pe),void 0,me)},h(K),K},J=function(Pe){delete X[Pe]},q?h=function(Pe){Q.nextTick(he(Pe))}:ee&&ee.now?h=function(Pe){ee.now(he(Pe))}:z&&!$?(v=(m=new z).port2,m.port1.onmessage=Se,h=j(v.postMessage,v)):x.addEventListener&&A(x.postMessage)&&!x.importScripts&&d&&d.protocol!=="file:"&&!D(Fe)?(h=Fe,x.addEventListener("message",Se,!1)):h=ne in U("script")?function(Pe){N.appendChild(U("script")).onreadystatechange=function(){N.removeChild(this),ye(Pe)}}:function(Pe){setTimeout(he(Pe),0)}),u.exports={set:oe,clear:J}},function(u,l,o){var d=o(55);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(u,l,o){var d=o(56),h=function(m){var v,x;this.promise=new m(function(S,j){if(v!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");v=S,x=j}),this.resolve=d(v),this.reject=d(x)};u.exports.f=function(m){return new h(m)}},function(u,l,o){l.a=function(){return!1}},function(u,l,o){(function(d){o.d(l,"a",function(){return Q});var h=o(1);function m(z){throw new Error("[mobx-utils] "+z)}function v(z,H){H===void 0&&(H="Illegal state"),z||m(H)}var x=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(x(Object.getPrototypeOf(z))||[])},S=function(z){return function(H){var K=x(H);return K.filter(function(X,ne){return K.indexOf(X)===ne})}(z).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},j="pending",A="fulfilled",M="rejected";function D(z){switch(this.state){case j:return z.pending&&z.pending(this.value);case M:return z.rejected&&z.rejected(this.value);case A:return z.fulfilled?z.fulfilled(this.value):this.value}}function N(z,H){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var K=z;z.then(Object(h.k)("observableFromPromise-resolve",function(ne){K.value=ne,K.state=A}),Object(h.k)("observableFromPromise-reject",function(ne){K.value=ne,K.state=M})),K.isPromiseBasedObservable=!0,K.case=D;var X=H&&H.state===A?H.value:void 0;return Object(h.q)(K,{value:X,state:j},{},{deep:!1}),K}(function(z){z.reject=Object(h.k)("fromPromise.reject",function(H){var K=z(Promise.reject(H));return K.state=M,K.value=H,K}),z.resolve=Object(h.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var K=z(Promise.resolve(H));return K.state=A,K.value=H,K})})(N||(N={}));var I=function(z,H,K,X){var ne,ye=arguments.length,he=ye<3?H:X===null?X=Object.getOwnPropertyDescriptor(H,K):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(z,H,K,X);else for(var Se=z.length-1;Se>=0;Se--)(ne=z[Se])&&(he=(ye<3?ne(he):ye>3?ne(H,K,he):ne(H,K))||he);return ye>3&&he&&Object.defineProperty(H,K,he),he};(function(){function z(H,K){var X=this;Object(h.G)(function(){X.current=K,X.subscription=H.subscribe(X)})}z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(H){this.current=H},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(H){this.current=H,this.dispose()},I([h.C.ref],z.prototype,"current",void 0),I([h.k.bound],z.prototype,"next",null),I([h.k.bound],z.prototype,"complete",null),I([h.k.bound],z.prototype,"error",null)})();var U=function(){return U=Object.assign||function(z){for(var H,K=1,X=arguments.length;K<X;K++)for(var ne in H=arguments[K])Object.prototype.hasOwnProperty.call(H,ne)&&(z[ne]=H[ne]);return z},U.apply(this,arguments)},$=function(z,H,K,X){var ne,ye=arguments.length,he=ye<3?H:X===null?X=Object.getOwnPropertyDescriptor(H,K):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(z,H,K,X);else for(var Se=z.length-1;Se>=0;Se--)(ne=z[Se])&&(he=(ye<3?ne(he):ye>3?ne(H,K,he):ne(H,K))||he);return ye>3&&he&&Object.defineProperty(H,K,he),he},q=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(H){var K=this;this.model=H,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(X){return K.localValues.has(X)},v(Object(h.A)(H),"createViewModel expects an observable object"),S(H).forEach(function(X){if(X!==h.a&&X!=="__mobxDidRunLazyInitializers"){if(v(q.indexOf(X)===-1,"The propertyname "+X+" is reserved and cannot be used with viewModels"),Object(h.w)(H,X)){var ne=Object(h.h)(H,X).derivation;K.localComputedValues.set(X,Object(h.m)(ne.bind(K)))}var ye=Object.getOwnPropertyDescriptor(H,X),he=ye?{enumerable:ye.enumerable}:{};Object.defineProperty(K,X,U(U({},he),{configurable:!0,get:function(){return Object(h.w)(H,X)?K.localComputedValues.get(X).get():K.isPropertyDirty(X)?K.localValues.get(X):K.model[X]},set:Object(h.k)(function(Se){Se!==K.model[X]?K.localValues.set(X,Se):K.localValues.delete(X)})}))}})}Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var H=this;Object(h.B)(this.localValues).forEach(function(K){var X=H.localValues.get(K),ne=H.model[K];Object(h.y)(ne)?ne.replace(X):Object(h.z)(ne)?(ne.clear(),ne.merge(X)):Object(h.v)(X)||(H.model[K]=X)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(H){this.localValues.delete(H)},$([h.m],z.prototype,"isDirty",null),$([h.m],z.prototype,"changedValues",null),$([h.k.bound],z.prototype,"submit",null),$([h.k.bound],z.prototype,"reset",null),$([h.k.bound],z.prototype,"resetProperty",null)})();function oe(z){if(!z)return"ROOT";for(var H=[];z.parent;)H.push(z.path),z=z.parent;return H.reverse().join("/")}function J(z){return Object(h.A)(z)||Object(h.y)(z)||Object(h.z)(z)}function Q(z,H){var K=new WeakMap;function X(he){var Se=K.get(he.object);(function(Fe,Pe){switch(Fe.type){case"add":ne(Fe.newValue,Pe,Fe.name);break;case"update":ye(Fe.oldValue),ne(Fe.newValue,Pe,Fe.name||""+Fe.index);break;case"remove":case"delete":ye(Fe.oldValue);break;case"splice":Fe.removed.map(ye),Fe.added.forEach(function(ke,Ge){return ne(ke,Pe,""+(Fe.index+Ge))});for(var me=Fe.index+Fe.addedCount;me<Fe.object.length;me++)if(J(Fe.object[me])){var Me=K.get(Fe.object[me]);Me&&(Me.path=""+me)}}})(he,Se),H(he,oe(Se),z)}function ne(he,Se,Fe){if(J(he)){var Pe=K.get(he);if(Pe){if(Pe.parent!==Se||Pe.path!==Fe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+oe(Se)+"/"+Fe+"', but it already exists at '"+oe(Pe.parent)+"/"+Pe.path+"'")}else{var me={parent:Se,path:Fe,dispose:Object(h.D)(he,X)};K.set(he,me),Object(h.p)(he).forEach(function(Me){var ke=Me[0];return ne(Me[1],me,ke)})}}}function ye(he){if(J(he)){var Se=K.get(he);if(!Se)return;K.delete(he),Se.dispose(),Object(h.L)(he).forEach(ye)}}return ne(z,void 0,""),function(){ye(z)}}var ee,G=(ee=function(z,H){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,X){K.__proto__=X}||function(K,X){for(var ne in X)X.hasOwnProperty(ne)&&(K[ne]=X[ne])},ee(z,H)},function(z,H){function K(){this.constructor=z}ee(z,H),z.prototype=H===null?Object.create(H):(K.prototype=H.prototype,new K)});(function(z){function H(K,X,ne){var ye=ne===void 0?{}:ne,he=ye.name,Se=he===void 0?"ogm"+(1e3*Math.random()|0):he,Fe=ye.keyToName,Pe=Fe===void 0?function(ke){return""+ke}:Fe,me=z.call(this)||this;me._keyToName=Pe,me._groupBy=X,me._ogmInfoKey=Symbol("ogmInfo"+Se),me._base=K;for(var Me=0;Me<K.length;Me++)me._addItem(K[Me]);return me._disposeBaseObserver=Object(h.D)(me._base,function(ke){if(ke.type==="splice")Object(h.J)(function(){for(var Ge=0,ot=ke.removed;Ge<ot.length;Ge++){var Ot=ot[Ge];me._removeItem(Ot)}for(var Ke=0,Qe=ke.added;Ke<Qe.length;Ke++){var yt=Qe[Ke];me._addItem(yt)}});else{if(ke.type!=="update")throw new Error("illegal state");Object(h.J)(function(){me._removeItem(ke.oldValue),me._addItem(ke.newValue)})}}),me}G(H,z),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(K){throw new Error("not supported")},H.prototype.set=function(K,X){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var K=0;K<this._base.length;K++){var X=this._base[K];X[this._ogmInfoKey].reaction(),delete X[this._ogmInfoKey]}},H.prototype._getGroupArr=function(K){var X=z.prototype.get.call(this,K);return X===void 0&&(X=Object(h.C)([],{name:"GroupArray["+this._keyToName(K)+"]",deep:!1}),z.prototype.set.call(this,K,X)),X},H.prototype._removeFromGroupArr=function(K,X){var ne=z.prototype.get.call(this,K);ne.length===1?z.prototype.delete.call(this,K):(X===ne.length-1||(ne[X]=ne[ne.length-1],ne[X][this._ogmInfoKey].groupArrIndex=X),ne.length--)},H.prototype._addItem=function(K){var X=this,ne=this._groupBy(K),ye=this._getGroupArr(ne),he={groupByValue:ne,groupArrIndex:ye.length,reaction:Object(h.F)(function(){return X._groupBy(K)},function(Se,Fe){var Pe=K[X._ogmInfoKey];X._removeFromGroupArr(Pe.groupByValue,Pe.groupArrIndex);var me=X._getGroupArr(Se),Me=me.length;me.push(K),Pe.groupByValue=Se,Pe.groupArrIndex=Me})};Object.defineProperty(K,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:he}),ye.push(K)},H.prototype._removeItem=function(K){var X=K[this._ogmInfoKey];this._removeFromGroupArr(X.groupByValue,X.groupArrIndex),X.reaction(),delete K[this._ogmInfoKey]}})(h.b),function(){function z(H,K){this.base=H,this.args=K,this.closestIdx=0,this.isDisposed=!1;for(var X=this.closest=this.root=H,ne=0;ne<this.args.length-1&&(X=X.get(K[ne]));ne++)this.closest=X;this.closestIdx=ne}return z.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},z.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},z.prototype.set=function(H){this.assertNotDisposed();for(var K=this.args.length,X=this.closest,ne=this.closestIdx;ne<K-1;ne++){var ye=new Map;X.set(this.args[ne],ye),X=ye}this.closestIdx=K-1,this.closest=X,X.set(this.args[K-1],H)},z.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var K=this.root,X=[K],ne=0;ne<H-1;ne++)K=K.get(this.args[ne]),X.push(K);for(ne=X.length-1;ne>0;ne--)X[ne].size===0&&X[ne-1].delete(this.args[ne-1]);this.isDisposed=!0},z.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},z}(),Promise.resolve(),typeof queueMicrotask<"u"||d!==void 0&&d.nextTick}).call(this,o(163))},function(u,l,o){var d;(function(h,m,v){if(h){for(var x,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},D=1;D<20;++D)S[111+D]="f"+D;for(D=0;D<=9;++D)S[D+96]=D.toString();J.prototype.bind=function(Q,ee,G){var z=this;return Q=Q instanceof Array?Q:[Q],z._bindMultiple.call(z,Q,ee,G),z},J.prototype.unbind=function(Q,ee){return this.bind.call(this,Q,function(){},ee)},J.prototype.trigger=function(Q,ee){var G=this;return G._directMap[Q+":"+ee]&&G._directMap[Q+":"+ee]({},Q),G},J.prototype.reset=function(){var Q=this;return Q._callbacks={},Q._directMap={},Q},J.prototype.stopCallback=function(Q,ee){if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||oe(ee,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var G=Q.composedPath()[0];G!==Q.target&&(ee=G)}return ee.tagName=="INPUT"||ee.tagName=="SELECT"||ee.tagName=="TEXTAREA"||ee.isContentEditable},J.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},J.addKeycodes=function(Q){for(var ee in Q)Q.hasOwnProperty(ee)&&(S[ee]=Q[ee]);x=null},J.init=function(){var Q=J(m);for(var ee in Q)ee.charAt(0)!=="_"&&(J[ee]=function(G){return function(){return Q[G].apply(Q,arguments)}}(ee))},J.init(),h.Mousetrap=J,u.exports&&(u.exports=J),(d=(function(){return J}).call(l,o,l,u))===void 0||(u.exports=d)}function N(Q,ee,G){Q.addEventListener?Q.addEventListener(ee,G,!1):Q.attachEvent("on"+ee,G)}function I(Q){if(Q.type=="keypress"){var ee=String.fromCharCode(Q.which);return Q.shiftKey||(ee=ee.toLowerCase()),ee}return S[Q.which]?S[Q.which]:j[Q.which]?j[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function U(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function $(Q,ee,G){return G||(G=function(){if(!x)for(var z in x={},S)z>95&&z<112||S.hasOwnProperty(z)&&(x[S[z]]=z);return x}()[Q]?"keydown":"keypress"),G=="keypress"&&ee.length&&(G="keydown"),G}function q(Q,ee){var G,z,H,K=[];for(G=function(X){return X==="+"?["+"]:(X=X.replace(/\+{2}/g,"+plus")).split("+")}(Q),H=0;H<G.length;++H)z=G[H],M[z]&&(z=M[z]),ee&&ee!="keypress"&&A[z]&&(z=A[z],K.push("shift")),U(z)&&K.push(z);return{key:z,modifiers:K,action:ee=$(z,K,ee)}}function oe(Q,ee){return Q!==null&&Q!==m&&(Q===ee||oe(Q.parentNode,ee))}function J(Q){var ee=this;if(Q=Q||m,!(ee instanceof J))return new J(Q);ee.target=Q,ee._callbacks={},ee._directMap={};var G,z={},H=!1,K=!1,X=!1;function ne(me){me=me||{};var Me,ke=!1;for(Me in z)me[Me]?ke=!0:z[Me]=0;ke||(X=!1)}function ye(me,Me,ke,Ge,ot,Ot){var Ke,Qe,yt,le,se=[],ge=ke.type;if(!ee._callbacks[me])return[];for(ge=="keyup"&&U(me)&&(Me=[me]),Ke=0;Ke<ee._callbacks[me].length;++Ke)if(Qe=ee._callbacks[me][Ke],(Ge||!Qe.seq||z[Qe.seq]==Qe.level)&&ge==Qe.action&&(ge=="keypress"&&!ke.metaKey&&!ke.ctrlKey||(yt=Me,le=Qe.modifiers,yt.sort().join(",")===le.sort().join(",")))){var Ae=!Ge&&Qe.combo==ot,He=Ge&&Qe.seq==Ge&&Qe.level==Ot;(Ae||He)&&ee._callbacks[me].splice(Ke,1),se.push(Qe)}return se}function he(me,Me,ke,Ge){ee.stopCallback(Me,Me.target||Me.srcElement,ke,Ge)||me(Me,ke)===!1&&(function(ot){ot.preventDefault?ot.preventDefault():ot.returnValue=!1}(Me),function(ot){ot.stopPropagation?ot.stopPropagation():ot.cancelBubble=!0}(Me))}function Se(me){typeof me.which!="number"&&(me.which=me.keyCode);var Me=I(me);Me&&(me.type!="keyup"||H!==Me?ee.handleKey(Me,function(ke){var Ge=[];return ke.shiftKey&&Ge.push("shift"),ke.altKey&&Ge.push("alt"),ke.ctrlKey&&Ge.push("ctrl"),ke.metaKey&&Ge.push("meta"),Ge}(me),me):H=!1)}function Fe(me,Me,ke,Ge){function ot(yt){return function(){X=yt,++z[me],clearTimeout(G),G=setTimeout(ne,1e3)}}function Ot(yt){he(ke,yt,me),Ge!=="keyup"&&(H=I(yt)),setTimeout(ne,10)}z[me]=0;for(var Ke=0;Ke<Me.length;++Ke){var Qe=Ke+1===Me.length?Ot:ot(Ge||q(Me[Ke+1]).action);Pe(Me[Ke],Qe,Ge,me,Ke)}}function Pe(me,Me,ke,Ge,ot){ee._directMap[me+":"+ke]=Me;var Ot,Ke=(me=me.replace(/\s+/g," ")).split(" ");Ke.length>1?Fe(me,Ke,Me,ke):(Ot=q(me,ke),ee._callbacks[Ot.key]=ee._callbacks[Ot.key]||[],ye(Ot.key,Ot.modifiers,{type:Ot.action},Ge,me,ot),ee._callbacks[Ot.key][Ge?"unshift":"push"]({callback:Me,modifiers:Ot.modifiers,action:Ot.action,seq:Ge,level:ot,combo:me}))}ee._handleKey=function(me,Me,ke){var Ge,ot=ye(me,Me,ke),Ot={},Ke=0,Qe=!1;for(Ge=0;Ge<ot.length;++Ge)ot[Ge].seq&&(Ke=Math.max(Ke,ot[Ge].level));for(Ge=0;Ge<ot.length;++Ge)if(ot[Ge].seq){if(ot[Ge].level!=Ke)continue;Qe=!0,Ot[ot[Ge].seq]=1,he(ot[Ge].callback,ke,ot[Ge].combo,ot[Ge].seq)}else Qe||he(ot[Ge].callback,ke,ot[Ge].combo);var yt=ke.type=="keypress"&&K;ke.type!=X||U(me)||yt||ne(Ot),K=Qe&&ke.type=="keydown"},ee._bindMultiple=function(me,Me,ke){for(var Ge=0;Ge<me.length;++Ge)Pe(me[Ge],Me,ke)},N(Q,"keypress",Se),N(Q,"keydown",Se),N(Q,"keyup",Se)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,l,o){var d=o(7),h=o(34),m=o(30),v=o(33),x=d.TypeError;u.exports=function(S,j){var A,M;if(j==="string"&&m(A=S.toString)&&!v(M=h(A,S))||m(A=S.valueOf)&&!v(M=h(A,S))||j!=="string"&&m(A=S.toString)&&!v(M=h(A,S)))return M;throw x("Can't convert object to primitive value")}},function(u,l,o){var d=o(7),h=o(30),m=o(92),v=d.WeakMap;u.exports=h(v)&&/native code/.test(m(v))},function(u,l,o){var d=o(36),h=o(38),m=o(32),v=o(41),x=o(77);u.exports=d?Object.defineProperties:function(S,j){m(S);for(var A,M=v(j),D=x(j),N=D.length,I=0;N>I;)h.f(S,A=D[I++],M[A]);return S}},function(u,l,o){var d=o(7);u.exports=d},function(u,l,o){var d=o(7),h=o(96),m=o(99),v=o(33),x=o(28)("species"),S=d.Array;u.exports=function(j){var A;return h(j)&&(A=j.constructor,(m(A)&&(A===S||h(A.prototype))||v(A)&&(A=A[x])===null)&&(A=void 0)),A===void 0?S:A}},function(u,l,o){var d=o(113),h=o(97);u.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},function(u,l,o){var d=o(142).IteratorPrototype,h=o(60),m=o(69),v=o(78),x=o(80),S=function(){return this};u.exports=function(j,A,M,D){var N=A+" Iterator";return j.prototype=h(d,{next:m(+!D,M)}),v(j,N,!1,!0),x[N]=S,j}},function(u,l,o){var d=o(7),h=o(30),m=d.String,v=d.TypeError;u.exports=function(x){if(typeof x=="object"||h(x))return x;throw v("Can't set "+m(x)+" as a prototype")}},function(u,l,o){var d=o(16),h=o(7),m=o(15),v=o(95),x=o(42),S=o(144),j=o(117),A=o(119),M=o(30),D=o(33),N=o(18),I=o(120),U=o(78),$=o(148);u.exports=function(q,oe,J){var Q=q.indexOf("Map")!==-1,ee=q.indexOf("Weak")!==-1,G=Q?"set":"add",z=h[q],H=z&&z.prototype,K=z,X={},ne=function(me){var Me=m(H[me]);x(H,me,me=="add"?function(ke){return Me(this,ke===0?0:ke),this}:me=="delete"?function(ke){return!(ee&&!D(ke))&&Me(this,ke===0?0:ke)}:me=="get"?function(ke){return ee&&!D(ke)?void 0:Me(this,ke===0?0:ke)}:me=="has"?function(ke){return!(ee&&!D(ke))&&Me(this,ke===0?0:ke)}:function(ke,Ge){return Me(this,ke===0?0:ke,Ge),this})};if(v(q,!M(z)||!(ee||H.forEach&&!N(function(){new z().entries().next()}))))K=J.getConstructor(oe,q,Q,G),S.enable();else if(v(q,!0)){var ye=new K,he=ye[G](ee?{}:-0,1)!=ye,Se=N(function(){ye.has(1)}),Fe=I(function(me){new z(me)}),Pe=!ee&&N(function(){for(var me=new z,Me=5;Me--;)me[G](Me,Me);return!me.has(-0)});Fe||((K=oe(function(me,Me){A(me,H);var ke=$(new z,me,K);return Me!=null&&j(Me,ke[G],{that:ke,AS_ENTRIES:Q}),ke})).prototype=H,H.constructor=K),(Se||Pe)&&(ne("delete"),ne("has"),Q&&ne("get")),(Pe||he)&&ne(G),ee&&H.clear&&delete H.clear}return X[q]=K,d({global:!0,forced:K!=z},X),U(K,q),ee||J.setStrong(K,q,Q),K}},function(u,l,o){var d=o(18),h=o(33),m=o(51),v=o(184),x=Object.isExtensible,S=d(function(){});u.exports=S||v?function(j){return!!h(j)&&(!v||m(j)!="ArrayBuffer")&&(!x||x(j))}:x},function(u,l,o){var d=o(18);u.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(u,l,o){var d=o(18);u.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,l,o){var d=o(38).f,h=o(60),m=o(149),v=o(64),x=o(119),S=o(117),j=o(116),A=o(150),M=o(36),D=o(144).fastKey,N=o(58),I=N.set,U=N.getterFor;u.exports={getConstructor:function($,q,oe,J){var Q=$(function(K,X){x(K,ee),I(K,{type:q,index:h(null),first:void 0,last:void 0,size:0}),M||(K.size=0),X!=null&&S(X,K[J],{that:K,AS_ENTRIES:oe})}),ee=Q.prototype,G=U(q),z=function(K,X,ne){var ye,he,Se=G(K),Fe=H(K,X);return Fe?Fe.value=ne:(Se.last=Fe={index:he=D(X,!0),key:X,value:ne,previous:ye=Se.last,next:void 0,removed:!1},Se.first||(Se.first=Fe),ye&&(ye.next=Fe),M?Se.size++:K.size++,he!=="F"&&(Se.index[he]=Fe)),K},H=function(K,X){var ne,ye=G(K),he=D(X);if(he!=="F")return ye.index[he];for(ne=ye.first;ne;ne=ne.next)if(ne.key==X)return ne};return m(ee,{clear:function(){for(var K=G(this),X=K.index,ne=K.first;ne;)ne.removed=!0,ne.previous&&(ne.previous=ne.previous.next=void 0),delete X[ne.index],ne=ne.next;K.first=K.last=void 0,M?K.size=0:this.size=0},delete:function(K){var X=this,ne=G(X),ye=H(X,K);if(ye){var he=ye.next,Se=ye.previous;delete ne.index[ye.index],ye.removed=!0,Se&&(Se.next=he),he&&(he.previous=Se),ne.first==ye&&(ne.first=he),ne.last==ye&&(ne.last=Se),M?ne.size--:X.size--}return!!ye},forEach:function(K){for(var X,ne=G(this),ye=v(K,arguments.length>1?arguments[1]:void 0);X=X?X.next:ne.first;)for(ye(X.value,X.key,this);X&&X.removed;)X=X.previous},has:function(K){return!!H(this,K)}}),m(ee,oe?{get:function(K){var X=H(this,K);return X&&X.value},set:function(K,X){return z(this,K===0?0:K,X)}}:{add:function(K){return z(this,K=K===0?0:K,K)}}),M&&d(ee,"size",{get:function(){return G(this).size}}),Q},setStrong:function($,q,oe){var J=q+" Iterator",Q=U(q),ee=U(J);j($,q,function(G,z){I(this,{type:J,target:G,state:Q(G),kind:z,last:void 0})},function(){for(var G=ee(this),z=G.kind,H=G.last;H&&H.removed;)H=H.previous;return G.target&&(G.last=H=H?H.next:G.state.first)?z=="keys"?{value:H.key,done:!1}:z=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(G.target=void 0,{value:void 0,done:!0})},oe?"entries":"values",!oe,!0),A(q)}}},function(u,l,o){var d=o(79).forEach,h=o(121)("forEach");u.exports=h?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},function(u,l,o){var d=o(7),h=o(64),m=o(34),v=o(40),x=o(189),S=o(145),j=o(99),A=o(45),M=o(63),D=o(146),N=o(118),I=d.Array;u.exports=function(U){var $=v(U),q=j(this),oe=arguments.length,J=oe>1?arguments[1]:void 0,Q=J!==void 0;Q&&(J=h(J,oe>2?arguments[2]:void 0));var ee,G,z,H,K,X,ne=N($),ye=0;if(!ne||this==I&&S(ne))for(ee=A($),G=q?new this(ee):I(ee);ee>ye;ye++)X=Q?J($[ye],ye):$[ye],M(G,ye,X);else for(K=(H=D($,ne)).next,G=q?new this:[];!(z=m(K,H)).done;ye++)X=Q?x(H,J,[z.value,ye],!0):z.value,M(G,ye,X);return G.length=ye,G}},function(u,l,o){var d=o(32),h=o(147);u.exports=function(m,v,x,S){try{return S?v(d(x)[0],x[1]):v(x)}catch(j){h(m,"throw",j)}}},function(u,l,o){var d=o(18),h=o(7).RegExp;u.exports=d(function(){var m=h(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(u,l,o){var d=o(18),h=o(7).RegExp;u.exports=d(function(){var m=h("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(u,l,o){var d=o(16),h=o(15),m=o(56),v=o(40),x=o(45),S=o(39),j=o(18),A=o(193),M=o(121),D=o(194),N=o(195),I=o(70),U=o(196),$=[],q=h($.sort),oe=h($.push),J=j(function(){$.sort(void 0)}),Q=j(function(){$.sort(null)}),ee=M("sort"),G=!j(function(){if(I)return I<70;if(!(D&&D>3)){if(N)return!0;if(U)return U<603;var z,H,K,X,ne="";for(z=65;z<76;z++){switch(H=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:K=3;break;case 68:case 71:K=4;break;default:K=2}for(X=0;X<47;X++)$.push({k:H+X,v:K})}for($.sort(function(ye,he){return he.v-ye.v}),X=0;X<$.length;X++)H=$[X].k.charAt(0),ne.charAt(ne.length-1)!==H&&(ne+=H);return ne!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:J||!Q||!ee||!G},{sort:function(z){z!==void 0&&m(z);var H=v(this);if(G)return z===void 0?q(H):q(H,z);var K,X,ne=[],ye=x(H);for(X=0;X<ye;X++)X in H&&oe(ne,H[X]);for(A(ne,function(he){return function(Se,Fe){return Fe===void 0?-1:Se===void 0?1:he!==void 0?+he(Se,Fe)||0:S(Se)>S(Fe)?1:-1}}(z)),K=ne.length,X=0;X<K;)H[X]=ne[X++];for(;X<ye;)delete H[X++];return H}})},function(u,l,o){var d=o(114),h=Math.floor,m=function(S,j){var A=S.length,M=h(A/2);return A<8?v(S,j):x(S,m(d(S,0,M),j),m(d(S,M),j),j)},v=function(S,j){for(var A,M,D=S.length,N=1;N<D;){for(M=N,A=S[N];M&&j(S[M-1],A)>0;)S[M]=S[--M];M!==N++&&(S[M]=A)}return S},x=function(S,j,A,M){for(var D=j.length,N=A.length,I=0,U=0;I<D||U<N;)S[I+U]=I<D&&U<N?M(j[I],A[U])<=0?j[I++]:A[U++]:I<D?j[I++]:A[U++];return S};u.exports=m},function(u,l,o){var d=o(55).match(/firefox\/(\d+)/i);u.exports=!!d&&+d[1]},function(u,l,o){var d=o(55);u.exports=/MSIE|Trident/.test(d)},function(u,l,o){var d=o(55).match(/AppleWebKit\/(\d+)\./);u.exports=!!d&&+d[1]},function(u,l,o){var d=o(7),h=o(159),m=d.TypeError;u.exports=function(v){if(h(v))throw m("The method doesn't accept regular expressions");return v}},function(u,l,o){var d=o(28)("match");u.exports=function(h){var m=/./;try{"/./"[h](m)}catch{try{return m[d]=!1,"/./"[h](m)}catch{}}return!1}},function(u,l,o){o(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(u,l,o){var d=o(73).PROPER,h=o(18),m=o(162);u.exports=function(v){return h(function(){return!!m[v]()||"​᠎"[v]()!=="​᠎"||d&&m[v].name!==v})}},function(u,l,o){var d=o(15),h=o(40),m=Math.floor,v=d("".charAt),x=d("".replace),S=d("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A=/\$([$&'`]|\d{1,2})/g;u.exports=function(M,D,N,I,U,$){var q=N+M.length,oe=I.length,J=A;return U!==void 0&&(U=h(U),J=j),x($,J,function(Q,ee){var G;switch(v(ee,0)){case"$":return"$";case"&":return M;case"`":return S(D,0,N);case"'":return S(D,q);case"<":G=U[S(ee,1,-1)];break;default:var z=+ee;if(z===0)return Q;if(z>oe){var H=m(z/10);return H===0?Q:H<=oe?I[H-1]===void 0?v(ee,1):I[H-1]+v(ee,1):Q}G=I[z-1]}return G===void 0?"":G})}},function(u,l,o){var d=o(36),h=o(15),m=o(34),v=o(18),x=o(77),S=o(112),j=o(84),A=o(40),M=o(85),D=Object.assign,N=Object.defineProperty,I=h([].concat);u.exports=!D||v(function(){if(d&&D({b:1},D(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},$={},q=Symbol(),oe="abcdefghijklmnopqrst";return U[q]=7,oe.split("").forEach(function(J){$[J]=J}),D({},U)[q]!=7||x(D({},$)).join("")!=oe})?function(U,$){for(var q=A(U),oe=arguments.length,J=1,Q=S.f,ee=j.f;oe>J;)for(var G,z=M(arguments[J++]),H=Q?I(x(z),Q(z)):x(z),K=H.length,X=0;K>X;)G=H[X++],d&&!m(ee,z,G)||(q[G]=z[G]);return q}:D},function(u,l,o){var d=o(7),h=o(15),m=o(56),v=o(33),x=o(35),S=o(98),j=d.Function,A=h([].concat),M=h([].join),D={},N=function(I,U,$){if(!x(D,U)){for(var q=[],oe=0;oe<U;oe++)q[oe]="a["+oe+"]";D[U]=j("C,a","return new C("+M(q,",")+")")}return D[U](I,$)};u.exports=j.bind||function(I){var U=m(this),$=U.prototype,q=S(arguments,1),oe=function(){var J=A(q,S(arguments));return this instanceof oe?N(U,J.length,J):U.apply(I,J)};return v($)&&(oe.prototype=$),oe}},function(u,l,o){var d=o(35);u.exports=function(h){return h!==void 0&&(d(h,"value")||d(h,"writable"))}},function(u,l,o){var d=o(15),h=o(44),m=o(39),v=/"/g,x=d("".replace);u.exports=function(S,j,A,M){var D=m(h(S)),N="<"+j;return A!==""&&(N+=" "+A+'="'+x(m(M),v,"&quot;")+'"'),N+">"+D+"</"+j+">"}},function(u,l,o){var d=o(18);u.exports=function(h){return d(function(){var m=""[h]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(u,l,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(u,l,o){var d,h,m,v,x=o(16),S=o(71),j=o(7),A=o(46),M=o(34),D=o(209),N=o(42),I=o(149),U=o(102),$=o(78),q=o(150),oe=o(56),J=o(30),Q=o(33),ee=o(119),G=o(92),z=o(117),H=o(120),K=o(164),X=o(168).set,ne=o(210),ye=o(213),he=o(214),Se=o(170),Fe=o(215),Pe=o(58),me=o(95),Me=o(28),ke=o(216),Ge=o(128),ot=o(70),Ot=Me("species"),Ke="Promise",Qe=Pe.getterFor(Ke),yt=Pe.set,le=Pe.getterFor(Ke),se=D&&D.prototype,ge=D,Ae=se,He=j.TypeError,Ue=j.document,At=j.process,It=Se.f,Tt=It,wt=!!(Ue&&Ue.createEvent&&j.dispatchEvent),Ne=J(j.PromiseRejectionEvent),dt="unhandledrejection",pe=!1,lt=me(Ke,function(){var ue=G(ge),Oe=ue!==String(ge);if(!Oe&&ot===66||S&&!Ae.finally)return!0;if(ot>=51&&/native code/.test(ue))return!1;var Je=new ge(function(vt){vt(1)}),Ze=function(vt){vt(function(){},function(){})};return(Je.constructor={})[Ot]=Ze,!(pe=Je.then(function(){})instanceof Ze)||!Oe&&ke&&!Ne}),$t=lt||!H(function(ue){ge.all(ue).catch(function(){})}),gn=function(ue){var Oe;return!(!Q(ue)||!J(Oe=ue.then))&&Oe},Gt=function(ue,Oe){if(!ue.notified){ue.notified=!0;var Je=ue.reactions;ne(function(){for(var Ze=ue.value,vt=ue.state==1,qt=0;Je.length>qt;){var sr,Or,Qn,rr=Je[qt++],ct=vt?rr.ok:rr.fail,Et=rr.resolve,Mt=rr.reject,zt=rr.domain;try{ct?(vt||(ue.rejection===2&&Bt(ue),ue.rejection=1),ct===!0?sr=Ze:(zt&&zt.enter(),sr=ct(Ze),zt&&(zt.exit(),Qn=!0)),sr===rr.promise?Mt(He("Promise-chain cycle")):(Or=gn(sr))?M(Or,sr,Et,Mt):Et(sr)):Mt(Ze)}catch(wn){zt&&!Qn&&zt.exit(),Mt(wn)}}ue.reactions=[],ue.notified=!1,Oe&&!ue.rejection&&Sn(ue)})}},un=function(ue,Oe,Je){var Ze,vt;wt?((Ze=Ue.createEvent("Event")).promise=Oe,Ze.reason=Je,Ze.initEvent(ue,!1,!0),j.dispatchEvent(Ze)):Ze={promise:Oe,reason:Je},!Ne&&(vt=j["on"+ue])?vt(Ze):ue===dt&&he("Unhandled promise rejection",Je)},Sn=function(ue){M(X,j,function(){var Oe,Je=ue.facade,Ze=ue.value;if(In(ue)&&(Oe=Fe(function(){Ge?At.emit("unhandledRejection",Ze,Je):un(dt,Je,Ze)}),ue.rejection=Ge||In(ue)?2:1,Oe.error))throw Oe.value})},In=function(ue){return ue.rejection!==1&&!ue.parent},Bt=function(ue){M(X,j,function(){var Oe=ue.facade;Ge?At.emit("rejectionHandled",Oe):un("rejectionhandled",Oe,ue.value)})},Zn=function(ue,Oe,Je){return function(Ze){ue(Oe,Ze,Je)}},re=function(ue,Oe,Je){ue.done||(ue.done=!0,Je&&(ue=Je),ue.value=Oe,ue.state=2,Gt(ue,!0))},ve=function(ue,Oe,Je){if(!ue.done){ue.done=!0,Je&&(ue=Je);try{if(ue.facade===Oe)throw He("Promise can't be resolved itself");var Ze=gn(Oe);Ze?ne(function(){var vt={done:!1};try{M(Ze,Oe,Zn(ve,vt,ue),Zn(re,vt,ue))}catch(qt){re(vt,qt,ue)}}):(ue.value=Oe,ue.state=1,Gt(ue,!1))}catch(vt){re({done:!1},vt,ue)}}};if(lt&&(Ae=(ge=function(ue){ee(this,Ae),oe(ue),M(d,this);var Oe=Qe(this);try{ue(Zn(ve,Oe),Zn(re,Oe))}catch(Je){re(Oe,Je)}}).prototype,(d=function(ue){yt(this,{type:Ke,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=I(Ae,{then:function(ue,Oe){var Je=le(this),Ze=Je.reactions,vt=It(K(this,ge));return vt.ok=!J(ue)||ue,vt.fail=J(Oe)&&Oe,vt.domain=Ge?At.domain:void 0,Je.parent=!0,Ze[Ze.length]=vt,Je.state!=0&&Gt(Je,!1),vt.promise},catch:function(ue){return this.then(void 0,ue)}}),h=function(){var ue=new d,Oe=Qe(ue);this.promise=ue,this.resolve=Zn(ve,Oe),this.reject=Zn(re,Oe)},Se.f=It=function(ue){return ue===ge||ue===m?new h(ue):Tt(ue)},!S&&J(D)&&se!==Object.prototype)){v=se.then,pe||(N(se,"then",function(ue,Oe){var Je=this;return new ge(function(Ze,vt){M(v,Je,Ze,vt)}).then(ue,Oe)},{unsafe:!0}),N(se,"catch",Ae.catch,{unsafe:!0}));try{delete se.constructor}catch{}U&&U(se,Ae)}x({global:!0,wrap:!0,forced:lt},{Promise:ge}),$(ge,Ke,!1,!0),q(Ke),m=A(Ke),x({target:Ke,stat:!0,forced:lt},{reject:function(ue){var Oe=It(this);return M(Oe.reject,void 0,ue),Oe.promise}}),x({target:Ke,stat:!0,forced:S||lt},{resolve:function(ue){return ye(S&&this===m?ge:this,ue)}}),x({target:Ke,stat:!0,forced:$t},{all:function(ue){var Oe=this,Je=It(Oe),Ze=Je.resolve,vt=Je.reject,qt=Fe(function(){var sr=oe(Oe.resolve),Or=[],Qn=0,rr=1;z(ue,function(ct){var Et=Qn++,Mt=!1;rr++,M(sr,Oe,ct).then(function(zt){Mt||(Mt=!0,Or[Et]=zt,--rr||Ze(Or))},vt)}),--rr||Ze(Or)});return qt.error&&vt(qt.value),Je.promise},race:function(ue){var Oe=this,Je=It(Oe),Ze=Je.reject,vt=Fe(function(){var qt=oe(Oe.resolve);z(ue,function(sr){M(qt,Oe,sr).then(Je.resolve,Ze)})});return vt.error&&Ze(vt.value),Je.promise}})},function(u,l,o){var d=o(7);u.exports=d.Promise},function(u,l,o){var d,h,m,v,x,S,j,A,M=o(7),D=o(64),N=o(50).f,I=o(168).set,U=o(169),$=o(211),q=o(212),oe=o(128),J=M.MutationObserver||M.WebKitMutationObserver,Q=M.document,ee=M.process,G=M.Promise,z=N(M,"queueMicrotask"),H=z&&z.value;H||(d=function(){var K,X;for(oe&&(K=ee.domain)&&K.exit();h;){X=h.fn,h=h.next;try{X()}catch(ne){throw h?v():m=void 0,ne}}m=void 0,K&&K.enter()},U||oe||q||!J||!Q?!$&&G&&G.resolve?((j=G.resolve(void 0)).constructor=G,A=D(j.then,j),v=function(){A(d)}):oe?v=function(){ee.nextTick(d)}:(I=D(I,M),v=function(){I(d)}):(x=!0,S=Q.createTextNode(""),new J(d).observe(S,{characterData:!0}),v=function(){S.data=x=!x})),u.exports=H||function(K){var X={fn:K,next:void 0};m&&(m.next=X),h||(h=X,v()),m=X}},function(u,l,o){var d=o(55),h=o(7);u.exports=/ipad|iphone|ipod/i.test(d)&&h.Pebble!==void 0},function(u,l,o){var d=o(55);u.exports=/web0s(?!.*chrome)/i.test(d)},function(u,l,o){var d=o(32),h=o(33),m=o(170);u.exports=function(v,x){if(d(v),h(x)&&x.constructor===v)return x;var S=m.f(v);return(0,S.resolve)(x),S.promise}},function(u,l,o){var d=o(7);u.exports=function(h,m){var v=d.console;v&&v.error&&(arguments.length==1?v.error(h):v.error(h,m))}},function(u,l){u.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},function(u,l){u.exports=typeof window=="object"},function(u,l,o){var d=o(40),h=o(75),m=o(45);u.exports=function(v){for(var x=d(this),S=m(x),j=arguments.length,A=h(j>1?arguments[1]:void 0,S),M=j>2?arguments[2]:void 0,D=M===void 0?S:h(M,S);D>A;)x[A++]=v;return x}},function(u,l,o){var d=o(16),h=o(7),m=o(15),v=o(59),x=o(160),S=o(219),j=o(18),A=h.RangeError,M=h.String,D=Math.floor,N=m(S),I=m("".slice),U=m(1 .toFixed),$=function(Q,ee,G){return ee===0?G:ee%2==1?$(Q,ee-1,G*Q):$(Q*Q,ee/2,G)},q=function(Q,ee,G){for(var z=-1,H=G;++z<6;)H+=ee*Q[z],Q[z]=H%1e7,H=D(H/1e7)},oe=function(Q,ee){for(var G=6,z=0;--G>=0;)z+=Q[G],Q[G]=D(z/ee),z=z%ee*1e7},J=function(Q){for(var ee=6,G="";--ee>=0;)if(G!==""||ee===0||Q[ee]!==0){var z=M(Q[ee]);G=G===""?z:G+N("0",7-z.length)+z}return G};d({target:"Number",proto:!0,forced:j(function(){return U(8e-5,3)!=="0.000"||U(.9,0)!=="1"||U(1.255,2)!=="1.25"||U(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!j(function(){U({})})},{toFixed:function(Q){var ee,G,z,H,K=x(this),X=v(Q),ne=[0,0,0,0,0,0],ye="",he="0";if(X<0||X>20)throw A("Incorrect fraction digits");if(K!=K)return"NaN";if(K<=-1e21||K>=1e21)return M(K);if(K<0&&(ye="-",K=-K),K>1e-21)if(G=(ee=function(Se){for(var Fe=0,Pe=Se;Pe>=4096;)Fe+=12,Pe/=4096;for(;Pe>=2;)Fe+=1,Pe/=2;return Fe}(K*$(2,69,1))-69)<0?K*$(2,-ee,1):K/$(2,ee,1),G*=4503599627370496,(ee=52-ee)>0){for(q(ne,0,G),z=X;z>=7;)q(ne,1e7,0),z-=7;for(q(ne,$(10,z,1),0),z=ee-1;z>=23;)oe(ne,1<<23),z-=23;oe(ne,1<<z),q(ne,1,1),oe(ne,2),he=J(ne)}else q(ne,0,G),q(ne,1<<-ee,0),he=J(ne)+N("0",X);return he=X>0?ye+((H=he.length)<=X?"0."+N("0",X-H)+he:I(he,0,H-X)+"."+I(he,H-X)):ye+he}})},function(u,l,o){var d=o(7),h=o(59),m=o(39),v=o(44),x=d.RangeError;u.exports=function(S){var j=m(v(this)),A="",M=h(S);if(M<0||M==1/0)throw x("Wrong number of repetitions");for(;M>0;(M>>>=1)&&(j+=j))1&M&&(A+=j);return A}},function(u,l,o){var d=o(36),h=o(15),m=o(77),v=o(41),x=h(o(84).f),S=h([].push),j=function(A){return function(M){for(var D,N=v(M),I=m(N),U=I.length,$=0,q=[];U>$;)D=I[$++],d&&!x(N,D)||S(q,A?[D,N[D]]:N[D]);return q}};u.exports={entries:j(!0),values:j(!1)}},function(u,l){u.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(u,l,o){o.r(l),o.d(l,"observer",function(){return Hi}),o.d(l,"LogicFlow",function(){return cb}),o.d(l,"h",function(){return pe.g}),o.d(l,"LogicFlowUtil",function(){return d}),o.d(l,"BaseNode",function(){return Ga}),o.d(l,"RectNode",function(){return tm}),o.d(l,"CircleNode",function(){return im}),o.d(l,"PolygonNode",function(){return cm}),o.d(l,"DiamondNode",function(){return hm}),o.d(l,"EllipseNode",function(){return bm}),o.d(l,"TextNode",function(){return wm}),o.d(l,"HtmlNode",function(){return jm}),o.d(l,"BaseEdge",function(){return Mp}),o.d(l,"LineEdge",function(){return Fm}),o.d(l,"PolylineEdge",function(){return Vm}),o.d(l,"BezierEdge",function(){return Km}),o.d(l,"Arrow",function(){return UM}),o.d(l,"BaseEdgeModel",function(){return Vf}),o.d(l,"BezierEdgeModel",function(){return ug}),o.d(l,"LineEdgeModel",function(){return nc}),o.d(l,"PolylineEdgeModel",function(){return Mo}),o.d(l,"BaseNodeModel",function(){return $a}),o.d(l,"CircleNodeModel",function(){return dg}),o.d(l,"DiamondNodeModel",function(){return mg}),o.d(l,"EllipseNodeModel",function(){return wg}),o.d(l,"PolygonNodeModel",function(){return Pg}),o.d(l,"RectNodeModel",function(){return Ng}),o.d(l,"TextNodeModel",function(){return Ig}),o.d(l,"HtmlNodeModel",function(){return zg}),o.d(l,"EditConfigModel",function(){return yf}),o.d(l,"GraphModel",function(){return J0}),o.d(l,"SnaplineModel",function(){return C1}),o.d(l,"Keyboard",function(){return _O}),o.d(l,"get",function(){return __}),o.d(l,"defaults",function(){return w_}),o.d(l,"ElementState",function(){return On}),o.d(l,"ModelType",function(){return Qt}),o.d(l,"ElementType",function(){return or}),o.d(l,"EventType",function(){return gt}),o.d(l,"formateAnchorConnectValidateData",function(){return ju});var d={};o.r(d),o.d(d,"createUuid",function(){return Ii}),o.d(d,"refreshGraphId",function(){return mv}),o.d(d,"StepDrag",function(){return To}),o.d(d,"setupEdgeModel",function(){return Qd}),o.d(d,"isBboxOverLapping",function(){return fi}),o.d(d,"filterRepeatPoints",function(){return Yt}),o.d(d,"getSimplePolyline",function(){return eh}),o.d(d,"getExpandedBBox",function(){return Ir}),o.d(d,"pointDirection",function(){return np}),o.d(d,"getExpandedBBoxPoint",function(){return hn}),o.d(d,"mergeBBox",function(){return rp}),o.d(d,"getBBoxOfPoints",function(){return La}),o.d(d,"getPointsFromBBox",function(){return la}),o.d(d,"isPointOutsideBBox",function(){return Rs}),o.d(d,"getBBoxXCrossPoints",function(){return th}),o.d(d,"getBBoxYCrossPoints",function(){return nh}),o.d(d,"getBBoxCrossPointsByPoint",function(){return rh}),o.d(d,"estimateDistance",function(){return Nu}),o.d(d,"costByPoints",function(){return uc}),o.d(d,"heuristicCostEstimate",function(){return op}),o.d(d,"rebuildPath",function(){return oh}),o.d(d,"removeClosePointFromOpenList",function(){return ih}),o.d(d,"isSegmentsIntersected",function(){return qn}),o.d(d,"isSegmentCrossingBBox",function(){return Lr}),o.d(d,"getNextNeighborPoints",function(){return ah}),o.d(d,"pathFinder",function(){return ip}),o.d(d,"getBoxByOriginNode",function(){return ap}),o.d(d,"pointFilter",function(){return up}),o.d(d,"getPolylinePoints",function(){return sc}),o.d(d,"getLongestEdge",function(){return sp}),o.d(d,"isSegmentsInNode",function(){return lc}),o.d(d,"isSegmentsCrossNode",function(){return ca}),o.d(d,"getCrossPointInRect",function(){return lp}),o.d(d,"segmentDirection",function(){return Du}),o.d(d,"points2PointsList",function(){return Bi}),o.d(d,"getSimplePoints",function(){return uh}),o.d(d,"getBytesLength",function(){return cp}),o.d(d,"getTextWidth",function(){return Mv}),o.d(d,"getAppendAttributes",function(){return lh}),o.d(d,"getBezierControlPoints",function(){return Is}),o.d(d,"getBezierPoints",function(){return Ls}),o.d(d,"getEndTangent",function(){return pp}),o.d(d,"getClosestPointOfPolyline",function(){return zs}),o.d(d,"pickEdgeConfig",function(){return ch}),o.d(d,"twoPointDistance",function(){return dp}),o.d(d,"createEdgeGenerator",function(){return Yr}),o.d(d,"snapToGrid",function(){return ia}),o.d(d,"getGridOffset",function(){return zl}),o.d(d,"sampleCubic",function(){return Hn}),o.d(d,"getThetaOfVector",function(){return Qf}),o.d(d,"degrees",function(){return ep}),o.d(d,"Vector",function(){return Sr}),o.d(d,"Point",function(){return f}),o.d(d,"Matrix",function(){return di}),o.d(d,"RotateMatrix",function(){return fa}),o.d(d,"ScaleMatrix",function(){return mp}),o.d(d,"TranslateMatrix",function(){return Ru});var h=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=o(43),x=Object(v.b)("observerBatching");function S(t){t()}var j=!1;function A(){return j}function M(t){return Object(h.t)(t)}var D,N=1e4,I=new Set;function U(){D===void 0&&(D=setTimeout($,1e4))}function $(){D=void 0;var t=Date.now();I.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,I.delete(e))}),I.size>0&&U()}var q=!1,oe=[],J={};function Q(t){return"observer"+t}function ee(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=J),A();var i,c=function(E){return function(){q?oe.push(E):E()}}((n.useForceUpdate||v.d)()),s=m.d.useRef(null);if(!s.current){var p=new h.c(Q(e),function(){g.mounted?c():(p.dispose(),s.current=null)}),g=function(E){return{cleanAt:Date.now()+N,reaction:E}}(p);s.current=g,i=s,I.add(i),U()}var b=s.current.reaction;return m.d.useDebugValue(b,M),m.d.useEffect(function(){var E;return E=s,I.delete(E),s.current?s.current.mounted=!0:(s.current={reaction:new h.c(Q(e),function(){c()}),cleanAt:1/0},c()),function(){s.current.reaction.dispose(),s.current=null}},[]),function(E){q=!0,oe=[];try{var P=E();q=!1;var C=oe.length>0?oe:void 0;return m.d.useLayoutEffect(function(){C&&C.forEach(function(L){return L()})},[C]),P}finally{q=!1}}(function(){var E,P;if(b.track(function(){try{E=t()}catch(C){P=C}}),P)throw P;return E})}var G=function(){return G=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var c in e=arguments[n])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t},G.apply(this,arguments)};function z(t,e){var n,i,c,s=G({forwardRef:!1},e),p=t.displayName||t.name,g=function(b,E){return ee(function(){return t(b,E)},p)};return g.displayName=p,n=s.forwardRef?Object(m.f)(Object(m.e)(g)):Object(m.f)(g),i=t,c=n,Object.keys(i).forEach(function(b){H[b]||Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(i,b))}),n.displayName=p,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function K(t){var e=t.children,n=t.render,i=e||n;return typeof i!="function"?null:ee(i)}function X(t,e,n,i,c){var s=e==="children"?"render":"children",p=typeof t[e]=="function",g=typeof t[s]=="function";return p&&g?new Error("MobX Observer: Do not use children and render in the same time in`"+n):p||g?null:new Error("Invalid prop `"+c+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}K.propTypes={children:X,render:X},K.displayName="Observer";var ne;(ne=m.g)||(ne=S),Object(h.n)({reactionScheduler:ne}),Object(v.a)()[x]=!0;var ye=0,he={};function Se(t){return he[t]||(he[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+ye+")";return ye++,n}(t)),he[t]}function Fe(t,e){if(Pe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var c=0;c<n.length;c++)if(!Object.hasOwnProperty.call(e,n[c])||!Pe(t[n[c]],e[n[c]]))return!1;return!0}function Pe(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function me(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Me=Se("patchMixins"),ke=Se("patchedDefinition");function Ge(t,e){for(var n=this,i=arguments.length,c=new Array(i>2?i-2:0),s=2;s<i;s++)c[s-2]=arguments[s];e.locks++;try{var p;return t!=null&&(p=t.apply(this,c)),p}finally{e.locks--,e.locks===0&&e.methods.forEach(function(g){g.apply(n,c)})}}function ot(t,e){return function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];Ge.call.apply(Ge,[this,t,e].concat(i))}}function Ot(t,e,n){var i=function(g,b){var E=g[Me]=g[Me]||{},P=E[b]=E[b]||{};return P.locks=P.locks||0,P.methods=P.methods||[],P}(t,e);i.methods.indexOf(n)<0&&i.methods.push(n);var c=Object.getOwnPropertyDescriptor(t,e);if(!c||!c[ke]){var s=t[e],p=Ke(t,e,c?c.enumerable:void 0,i,s);Object.defineProperty(t,e,p)}}function Ke(t,e,n,i,c){var s,p=ot(c,i);return(s={})[ke]=!0,s.get=function(){return p},s.set=function(g){if(this===t)p=ot(g,i);else{var b=Ke(this,e,n,i,g);Object.defineProperty(this,e,b)}},s.configurable=!0,s.enumerable=n,s}var Qe=h.a||"$mobx",yt=Se("isMobXReactObserver"),le=Se("isUnmounted"),se=Se("skipRender"),ge=Se("isForcingUpdate");function Ae(t){var e=t.prototype;if(t[yt]?He(e):t[yt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==At)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=At;It(e,"props"),It(e,"state");var n=e.render;return e.render=function(){return Ue.call(this,n)},Ot(e,"componentWillUnmount",function(){var i;(i=this.render[Qe])===null||i===void 0||i.dispose(),this[le]=!0,!this.render[Qe]&&He(this)}),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Ue(t){var e=this;me(this,se,!1),me(this,ge,!1);var n=He(this),i=t.bind(this),c=!1,s=new h.c(n+".render()",function(){if(!c&&(c=!0,e[le]!==!0)){var g=!0;try{me(e,ge,!0),e[se]||m.a.prototype.forceUpdate.call(e),g=!1}finally{me(e,ge,!1),g&&s.dispose()}}});function p(){c=!1;var g=void 0,b=void 0;if(s.track(function(){try{b=Object(h.d)(!1,i)}catch(E){g=E}}),g)throw g;return b}return s.reactComponent=this,p[Qe]=s,this.render=p,p.call(this)}function At(t,e){return this.state!==e||!Fe(this.props,t)}function It(t,e){var n=Se("reactProp_"+e+"_valueHolder"),i=Se("reactProp_"+e+"_atomHolder");function c(){return this[i]||me(this,i,Object(h.o)("reactive "+e)),this[i]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var s=!1;return h.f&&h.e&&(s=Object(h.f)(!0)),c.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(s),this[n]},set:function(s){this[ge]||Fe(this[n],s)?me(this,n,s):(me(this,n,s),me(this,se,!0),c.call(this).reportChanged(),me(this,se,!1))}})}var Tt=typeof Symbol=="function"&&Symbol.for,wt=Tt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,Ne=Tt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function dt(t){if(t.isMobxInjector,Ne&&t.$$typeof===Ne)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(wt&&t.$$typeof===wt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(K,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?Ae(t):z(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var lt=function(t,e){for(var n=-1,i=t==null?0:t.length,c=Array(i);++n<i;)c[n]=e(t[n],n,t);return c},$t=function(){this.__data__=[],this.size=0},gn=function(t,e){return t===e||t!=t&&e!=e},Gt=function(t,e){for(var n=t.length;n--;)if(gn(t[n][0],e))return n;return-1},un=Array.prototype.splice,Sn=function(t){var e=this.__data__,n=Gt(e,t);return!(n<0)&&(n==e.length-1?e.pop():un.call(e,n,1),--this.size,!0)},In=function(t){var e=this.__data__,n=Gt(e,t);return n<0?void 0:e[n][1]},Bt=function(t){return Gt(this.__data__,t)>-1},Zn=function(t,e){var n=this.__data__,i=Gt(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function re(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}re.prototype.clear=$t,re.prototype.delete=Sn,re.prototype.get=In,re.prototype.has=Bt,re.prototype.set=Zn;var ve=re,ue=function(){this.__data__=new ve,this.size=0},Oe=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Je=function(t){return this.__data__.get(t)},Ze=function(t){return this.__data__.has(t)},vt=o(31),qt=vt.a.Symbol,sr=Object.prototype,Or=sr.hasOwnProperty,Qn=sr.toString,rr=qt?qt.toStringTag:void 0,ct=function(t){var e=Or.call(t,rr),n=t[rr];try{t[rr]=void 0;var i=!0}catch{}var c=Qn.call(t);return i&&(e?t[rr]=n:delete t[rr]),c},Et=Object.prototype.toString,Mt=function(t){return Et.call(t)},zt=qt?qt.toStringTag:void 0,wn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":zt&&zt in Object(t)?ct(t):Mt(t)},Wn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Qo,Io=function(t){if(!Wn(t))return!1;var e=wn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ei=vt.a["__core-js_shared__"],Ji=(Qo=/[^.]+$/.exec(ei&&ei.keys&&ei.keys.IE_PROTO||""))?"Symbol(src)_1."+Qo:"",Qc=function(t){return!!Ji&&Ji in t},es=Function.prototype.toString,so=function(t){if(t!=null){try{return es.call(t)}catch{}try{return t+""}catch{}}return""},Ea=/^\[object .+?Constructor\]$/,ht=Function.prototype,ef=Object.prototype,ts=ht.toString,ns=ef.hasOwnProperty,Fr=RegExp("^"+ts.call(ns).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zr=function(t){return!(!Wn(t)||Qc(t))&&(Io(t)?Fr:Ea).test(so(t))},nu=function(t,e){return t==null?void 0:t[e]},xo=function(t,e){var n=nu(t,e);return Zr(n)?n:void 0},lo=xo(vt.a,"Map"),Eo=xo(Object,"create"),rs=function(){this.__data__=Eo?Eo(null):{},this.size=0},os=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},fl=Object.prototype.hasOwnProperty,Sa=function(t){var e=this.__data__;if(Eo){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return fl.call(e,t)?e[t]:void 0},pl=Object.prototype.hasOwnProperty,is=function(t){var e=this.__data__;return Eo?e[t]!==void 0:pl.call(e,t)},tf=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Eo&&e===void 0?"__lodash_hash_undefined__":e,this};function Si(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Si.prototype.clear=rs,Si.prototype.delete=os,Si.prototype.get=Sa,Si.prototype.has=is,Si.prototype.set=tf;var dl=Si,ti=function(){this.size=0,this.__data__={hash:new dl,map:new(lo||ve),string:new dl}},as=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ru=function(t,e){var n=t.__data__;return as(e)?n[typeof e=="string"?"string":"hash"]:n.map},us=function(t){var e=ru(this,t).delete(t);return this.size-=e?1:0,e},ss=function(t){return ru(this,t).get(t)},nf=function(t){return ru(this,t).has(t)},hl=function(t,e){var n=ru(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function _n(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}_n.prototype.clear=ti,_n.prototype.delete=us,_n.prototype.get=ss,_n.prototype.has=nf,_n.prototype.set=hl;var mn=_n,yl=function(t,e){var n=this.__data__;if(n instanceof ve){var i=n.__data__;if(!lo||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new mn(i)}return n.set(t,e),this.size=n.size,this};function Zi(t){var e=this.__data__=new ve(t);this.size=e.size}Zi.prototype.clear=ue,Zi.prototype.delete=Oe,Zi.prototype.get=Je,Zi.prototype.has=Ze,Zi.prototype.set=yl;var ni=Zi,ls=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},vl=function(t){return this.__data__.has(t)};function Xn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new mn;++e<n;)this.add(t[e])}Xn.prototype.add=Xn.prototype.push=ls,Xn.prototype.has=vl;var cs=Xn,ja=function(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},fs=function(t,e){return t.has(e)},ou=function(t,e,n,i,c,s){var p=1&n,g=t.length,b=e.length;if(g!=b&&!(p&&b>g))return!1;var E=s.get(t),P=s.get(e);if(E&&P)return E==e&&P==t;var C=-1,L=!0,Y=2&n?new cs:void 0;for(s.set(t,e),s.set(e,t);++C<g;){var te=t[C],ie=e[C];if(i)var _e=p?i(ie,te,C,e,t,s):i(te,ie,C,t,e,s);if(_e!==void 0){if(_e)continue;L=!1;break}if(Y){if(!ja(e,function(be,Ee){if(!fs(Y,Ee)&&(te===be||c(te,be,n,i,s)))return Y.push(Ee)})){L=!1;break}}else if(te!==ie&&!c(te,ie,n,i,s)){L=!1;break}}return s.delete(t),s.delete(e),L},wr=vt.a.Uint8Array,ps=function(t){var e=-1,n=Array(t.size);return t.forEach(function(i,c){n[++e]=[c,i]}),n},gl=function(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n},ds=qt?qt.prototype:void 0,iu=ds?ds.valueOf:void 0,Qi=function(t,e,n,i,c,s,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new wr(t),new wr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var g=ps;case"[object Set]":var b=1&i;if(g||(g=gl),t.size!=e.size&&!b)return!1;var E=p.get(t);if(E)return E==e;i|=2,p.set(t,e);var P=ou(g(t),g(e),i,c,s,p);return p.delete(t),P;case"[object Symbol]":if(iu)return iu.call(t)==iu.call(e)}return!1},ri=function(t,e){for(var n=-1,i=e.length,c=t.length;++n<i;)t[c+n]=e[n];return t},Pn=Array.isArray,rf=function(t,e,n){var i=e(t);return Pn(t)?i:ri(i,n(t))},Ur=function(t,e){for(var n=-1,i=t==null?0:t.length,c=0,s=[];++n<i;){var p=t[n];e(p,n,t)&&(s[c++]=p)}return s},of=function(){return[]},ml=Object.prototype.propertyIsEnumerable,Tr=Object.getOwnPropertySymbols,co=Tr?function(t){return t==null?[]:(t=Object(t),Ur(Tr(t),function(e){return ml.call(t,e)}))}:of,hs=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i},fn=function(t){return t!=null&&typeof t=="object"},lr=function(t){return fn(t)&&wn(t)=="[object Arguments]"},au=Object.prototype,bl=au.hasOwnProperty,ys=au.propertyIsEnumerable,uu=lr(function(){return arguments}())?lr:function(t){return fn(t)&&bl.call(t,"callee")&&!ys.call(t,"callee")},Lo=uu,oi=o(48),ea=/^(?:0|[1-9]\d*)$/,Wr=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&ea.test(t))&&t>-1&&t%1==0&&t<e},ii=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},sn={};sn["[object Float32Array]"]=sn["[object Float64Array]"]=sn["[object Int8Array]"]=sn["[object Int16Array]"]=sn["[object Int32Array]"]=sn["[object Uint8Array]"]=sn["[object Uint8ClampedArray]"]=sn["[object Uint16Array]"]=sn["[object Uint32Array]"]=!0,sn["[object Arguments]"]=sn["[object Array]"]=sn["[object ArrayBuffer]"]=sn["[object Boolean]"]=sn["[object DataView]"]=sn["[object Date]"]=sn["[object Error]"]=sn["[object Function]"]=sn["[object Map]"]=sn["[object Number]"]=sn["[object Object]"]=sn["[object RegExp]"]=sn["[object Set]"]=sn["[object String]"]=sn["[object WeakMap]"]=!1;var $r=function(t){return fn(t)&&ii(t.length)&&!!sn[wn(t)]},Bo=function(t){return function(e){return t(e)}},mr=o(49),su=mr.a&&mr.a.isTypedArray,Aa=su?Bo(su):$r,vs=Object.prototype.hasOwnProperty,$n=function(t,e){var n=Pn(t),i=!n&&Lo(t),c=!n&&!i&&Object(oi.a)(t),s=!n&&!i&&!c&&Aa(t),p=n||i||c||s,g=p?hs(t.length,String):[],b=g.length;for(var E in t)!e&&!vs.call(t,E)||p&&(E=="length"||c&&(E=="offset"||E=="parent")||s&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||Wr(E,b))||g.push(E);return g},lu=Object.prototype,ai=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||lu)},fo=function(t,e){return function(n){return t(e(n))}},gs=fo(Object.keys,Object),af=Object.prototype.hasOwnProperty,ms=function(t){if(!ai(t))return gs(t);var e=[];for(var n in Object(t))af.call(t,n)&&n!="constructor"&&e.push(n);return e},er=function(t){return t!=null&&ii(t.length)&&!Io(t)},Pa=function(t){return er(t)?$n(t):ms(t)},zo=function(t){return rf(t,Pa,co)},kr=Object.prototype.hasOwnProperty,bs=function(t,e,n,i,c,s){var p=1&n,g=zo(t),b=g.length;if(b!=zo(e).length&&!p)return!1;for(var E=b;E--;){var P=g[E];if(!(p?P in e:kr.call(e,P)))return!1}var C=s.get(t),L=s.get(e);if(C&&L)return C==e&&L==t;var Y=!0;s.set(t,e),s.set(e,t);for(var te=p;++E<b;){var ie=t[P=g[E]],_e=e[P];if(i)var be=p?i(_e,ie,P,e,t,s):i(ie,_e,P,t,e,s);if(!(be===void 0?ie===_e||c(ie,_e,n,i,s):be)){Y=!1;break}te||(te=P=="constructor")}if(Y&&!te){var Ee=t.constructor,Ie=e.constructor;Ee==Ie||!("constructor"in t)||!("constructor"in e)||typeof Ee=="function"&&Ee instanceof Ee&&typeof Ie=="function"&&Ie instanceof Ie||(Y=!1)}return s.delete(t),s.delete(e),Y},Qr=xo(vt.a,"DataView"),ji=xo(vt.a,"Promise"),cu=xo(vt.a,"Set"),Fo=xo(vt.a,"WeakMap"),eo="[object Map]",Gr="[object Promise]",po="[object Set]",Uo="[object WeakMap]",xe="[object DataView]",Re=so(Qr),Be=so(lo),rt=so(ji),Vt=so(cu),tn=so(Fo),Nn=wn;(Qr&&Nn(new Qr(new ArrayBuffer(1)))!=xe||lo&&Nn(new lo)!=eo||ji&&Nn(ji.resolve())!=Gr||cu&&Nn(new cu)!=po||Fo&&Nn(new Fo)!=Uo)&&(Nn=function(t){var e=wn(t),n=e=="[object Object]"?t.constructor:void 0,i=n?so(n):"";if(i)switch(i){case Re:return xe;case Be:return eo;case rt:return Gr;case Vt:return po;case tn:return Uo}return e});var O=Nn,w="[object Arguments]",k="[object Array]",B="[object Object]",Z=Object.prototype.hasOwnProperty,de=function(t,e,n,i,c,s){var p=Pn(t),g=Pn(e),b=p?k:O(t),E=g?k:O(e),P=(b=b==w?B:b)==B,C=(E=E==w?B:E)==B,L=b==E;if(L&&Object(oi.a)(t)){if(!Object(oi.a)(e))return!1;p=!0,P=!1}if(L&&!P)return s||(s=new ni),p||Aa(t)?ou(t,e,n,i,c,s):Qi(t,e,b,n,i,c,s);if(!(1&n)){var Y=P&&Z.call(t,"__wrapped__"),te=C&&Z.call(e,"__wrapped__");if(Y||te){var ie=Y?t.value():t,_e=te?e.value():e;return s||(s=new ni),c(ie,_e,n,i,s)}}return!!L&&(s||(s=new ni),bs(t,e,n,i,c,s))},je=function t(e,n,i,c,s){return e===n||(e==null||n==null||!fn(e)&&!fn(n)?e!=e&&n!=n:de(e,n,i,c,t,s))},$e=function(t,e,n,i){var c=n.length,s=c;if(t==null)return!s;for(t=Object(t);c--;){var p=n[c];if(p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++c<s;){var g=(p=n[c])[0],b=t[g],E=p[1];if(p[2]){if(b===void 0&&!(g in t))return!1}else{var P=new ni,C;if(!(C===void 0?je(E,b,3,i,P):C))return!1}}return!0},ft=function(t){return t==t&&!Wn(t)},Zt=function(t){for(var e=Pa(t),n=e.length;n--;){var i=e[n],c=t[i];e[n]=[i,c,ft(c)]}return e},it=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},jn=function(t){var e=Zt(t);return e.length==1&&e[0][2]?it(e[0][0],e[0][1]):function(n){return n===t||$e(n,t,e)}},Ht=function(t){return typeof t=="symbol"||fn(t)&&wn(t)=="[object Symbol]"},dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ho=/^\w*$/,zn=function(t,e){if(Pn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ht(t))||ho.test(t)||!dn.test(t)||e!=null&&t in Object(e)};function Vr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var i=arguments,c=e?e.apply(this,i):i[0],s=n.cache;if(s.has(c))return s.get(c);var p=t.apply(this,i);return n.cache=s.set(c,p)||s,p};return n.cache=new(Vr.Cache||mn),n}Vr.Cache=mn;var ui=Vr,si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ma=/\\(\\)?/g,_s=function(t){var e=ui(t,function(i){return n.size===500&&n.clear(),i}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(si,function(n,i,c,s){e.push(c?s.replace(Ma,"$1"):i||n)}),e}),Ai=qt?qt.prototype:void 0,fu=Ai?Ai.toString:void 0,Nr=function t(e){if(typeof e=="string")return e;if(Pn(e))return lt(e,t)+"";if(Ht(e))return fu?fu.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ta=function(t){return t==null?"":Nr(t)},ta=function(t,e){return Pn(t)?t:zn(t,e)?[t]:_s(Ta(t))},Pi=function(t){if(typeof t=="string"||Ht(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Mi=function(t,e){for(var n=0,i=(e=ta(e,t)).length;t!=null&&n<i;)t=t[Pi(e[n++])];return n&&n==i?t:void 0},pu=function(t,e,n){var i=t==null?void 0:Mi(t,e);return i===void 0?n:i},ov=function(t,e){return t!=null&&e in Object(t)},iv=function(t,e,n){for(var i=-1,c=(e=ta(e,t)).length,s=!1;++i<c;){var p=Pi(e[i]);if(!(s=t!=null&&n(t,p)))break;t=t[p]}return s||++i!=c?s:!!(c=t==null?0:t.length)&&ii(c)&&Wr(p,c)&&(Pn(t)||Lo(t))},nd=function(t,e){return t!=null&&iv(t,e,ov)},_l=function(t,e){return zn(t)&&ft(e)?it(Pi(t),e):function(n){var i=pu(n,t);return i===void 0&&i===e?nd(n,t):je(e,i,3)}},du=function(t){return t},uf=function(t){return function(e){return e==null?void 0:e[t]}},av=function(t){return function(e){return Mi(e,t)}},rd=function(t){return zn(t)?uf(Pi(t)):av(t)},sf=function(t){return typeof t=="function"?t:t==null?du:typeof t=="object"?Pn(t)?_l(t[0],t[1]):jn(t):rd(t)},od=function(t){return function(e,n,i){for(var c=-1,s=Object(e),p=i(e),g=p.length;g--;){var b=p[++c];if(n(s[b],b,s)===!1)break}return e}}(),br=function(t,e){return function(n,i){if(n==null)return n;if(!er(n))return t(n,i);for(var c=n.length,s=-1,p=Object(n);++s<c&&i(p[s],s,p)!==!1;);return n}}(function(t,e){return t&&od(t,e,Pa)}),Dr=function(t,e){var n=-1,i=er(t)?Array(t.length):[];return br(t,function(c,s,p){i[++n]=e(c,s,p)}),i},Ol=function(t,e){return(Pn(t)?lt:Dr)(t,sf(e))};Object(h.n)({isolateGlobalState:!0});var wl=function(){try{var t=xo(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xl=function(t,e,n){e=="__proto__"&&wl?wl(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},uv=Object.prototype.hasOwnProperty,hu=function(t,e,n){var i=t[e];uv.call(t,e)&&gn(i,n)&&(n!==void 0||e in t)||xl(t,e,n)},yu=function(t,e,n,i){var c=!n;n||(n={});for(var s=-1,p=e.length;++s<p;){var g=e[s],b=void 0;b===void 0&&(b=t[g]),c?xl(n,g,b):hu(n,g,b)}return n},lf=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ka=Math.max,vu=function(t,e,n){return e=ka(e===void 0?t.length-1:e,0),function(){for(var i=arguments,c=-1,s=ka(i.length-e,0),p=Array(s);++c<s;)p[c]=i[e+c];c=-1;for(var g=Array(e+1);++c<e;)g[c]=i[c];return g[e]=n(p),lf(t,this,g)}},Os=function(t){return function(){return t}},El=wl?function(t,e){return wl(t,"toString",{configurable:!0,enumerable:!1,value:Os(e),writable:!0})}:du,gu=Date.now,sv=function(t){var e=0,n=0;return function(){var i=gu(),c=16-(i-n);if(n=i,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},id=sv(El),lv=function(t,e){return id(vu(t,e,du),t+"")},cv=function(t,e,n){if(!Wn(n))return!1;var i=typeof e;return!!(i=="number"?er(n)&&Wr(e,n.length):i=="string"&&e in n)&&gn(n[e],t)},ad=function(t){return lv(function(e,n){var i=-1,c=n.length,s=c>1?n[c-1]:void 0,p=c>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(c--,s):void 0,p&&cv(n[0],n[1],p)&&(s=c<3?void 0:s,c=1),e=Object(e);++i<c;){var g=n[i];g&&t(e,g,i,s)}return e})},Sl=Object.prototype.hasOwnProperty,jr=ad(function(t,e){if(ai(e)||er(e))yu(e,Pa(e),t);else for(var n in e)Sl.call(e,n)&&hu(t,n,e[n])}),ud=function(t,e,n,i){if(!Wn(t))return t;for(var c=-1,s=(e=ta(e,t)).length,p=s-1,g=t;g!=null&&++c<s;){var b=Pi(e[c]),E=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(c!=p){var P=g[b];(E=void 0)==void 0&&(E=Wn(P)?P:Wr(e[c+1])?[]:{})}hu(g,b,E),g=g[b]}return t},F=function(t,e,n){for(var i=-1,c=e.length,s={};++i<c;){var p=e[i],g=Mi(t,p);n(g,p)&&ud(s,ta(p,t),g)}return s},mu=function(t,e){return F(t,e,function(n,i){return nd(t,i)})},ws=qt?qt.isConcatSpreadable:void 0,So=function(t){return Pn(t)||Lo(t)||!!(ws&&t&&t[ws])},cn=function(e,n,i,c,s){var p=-1,g=e.length;for(i||(i=So),s||(s=[]);++p<g;){var b=e[p];i(b)?ri(s,b):s[s.length]=b}return s},Na=function(t){return t!=null&&t.length?cn(t):[]},An,li,na,jo,cf,ff,sd,ld,jl,bu,xs,cd,pf,ci,Al,ra,yo,df,hf,Ti=function(t){return id(vu(t,void 0,Na),t+"")}(function(t,e){return t==null?{}:mu(t,e)});function Fn(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function fd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tr(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var On,xr,Qt,or,gt,Dn,Pl={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ki=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],yf=(li=tr((An=function(){function t(i){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),Fn(this,"isSilentMode",li,this),Fn(this,"stopZoomGraph",na,this),Fn(this,"stopScrollGraph",jo,this),Fn(this,"stopMoveGraph",cf,this),Fn(this,"adjustEdge",ff,this),Fn(this,"adjustEdgeMiddle",sd,this),Fn(this,"adjustEdgeStartAndEnd",ld,this),Fn(this,"adjustNodePosition",jl,this),Fn(this,"hideAnchors",bu,this),Fn(this,"allowRotation",xs,this),Fn(this,"hoverOutline",cd,this),Fn(this,"nodeSelectedOutline",pf,this),Fn(this,"edgeSelectedOutline",ci,this),Fn(this,"nodeTextEdit",Al,this),Fn(this,"edgeTextEdit",ra,this),Fn(this,"nodeTextDraggable",yo,this),Fn(this,"edgeTextDraggable",df,this),Fn(this,"autoExpand",hf,this),pd(this,"multipleSelectKey",""),pd(this,"defaultConfig",{}),jr(this,this.getConfigDetail(i))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(i){var c=this.getConfigDetail(i);jr(this,c)}},{key:"getConfigDetail",value:function(i){var c=i.isSilentMode,s=i.textEdit,p={};if(c===!1&&jr(p,this.defaultConfig),c===!0&&c!==this.isSilentMode){var g=Ti(Pl,ki);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},jr(p,g)}s===!1&&jr(p,{nodeTextEdit:!1,edgeTextEdit:!1});var b=Ti(i,ki);return jr(p,b)}},{key:"getConfig",value:function(){return Ti(this,ki)}}])&&fd(e.prototype,n),t}()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),na=tr(An.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jo=tr(An.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cf=tr(An.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ff=tr(An.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sd=tr(An.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ld=tr(An.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jl=tr(An.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bu=tr(An.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xs=tr(An.prototype,"allowRotation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cd=tr(An.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pf=tr(An.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ci=tr(An.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Al=tr(An.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ra=tr(An.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yo=tr(An.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),df=tr(An.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hf=tr(An.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tr(An.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(An.prototype,"updateEditConfig"),An.prototype),An);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(On||(On={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(xr||(xr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Qt||(Qt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(or||(or={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(gt||(gt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Dn||(Dn={}));var Gn,Yn,dd,hd,Ml,_u,vf,Ou,Tl;function wu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return gf(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return gf(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Ni(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function fv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Di(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ao(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Gn||(Gn={}));var yd={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},vd=(Yn=function(){function t(i,c){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),Di(this,"MINI_SCALE_SIZE",.2),Di(this,"MAX_SCALE_SIZE",16),Ni(this,"SCALE_X",dd,this),Ni(this,"SKEW_Y",hd,this),Ni(this,"SKEW_X",Ml,this),Ni(this,"SCALE_Y",_u,this),Ni(this,"TRANSLATE_X",vf,this),Ni(this,"TRANSLATE_Y",Ou,this),Ni(this,"ZOOM_SIZE",Tl,this),Di(this,"eventCenter",void 0),Di(this,"translateLimitMinX",void 0),Di(this,"translateLimitMinY",void 0),Di(this,"translateLimitMaxX",void 0),Di(this,"translateLimitMaxY",void 0),this.eventCenter=i;var s=c.stopMoveGraph,p=s!==void 0&&s;this.updateTranslateLimits(p)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(i){this.MINI_SCALE_SIZE=i}},{key:"setZoomMaxSize",value:function(i){this.MAX_SCALE_SIZE=i}},{key:"HtmlPointToCanvasPoint",value:function(i){var c=wu(i,2),s=c[0],p=c[1];return[(s-this.TRANSLATE_X)/this.SCALE_X,(p-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(i){var c=wu(i,2),s=c[0],p=c[1];return[s*this.SCALE_X+this.TRANSLATE_X,p*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(i,c,s){var p=wu(i,2),g=p[0],b=p[1];return[g+c/this.SCALE_X,b+s/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(i,c){return[i/this.SCALE_X,c/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var i=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(i,")")}}},{key:"zoom",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],c=arguments.length>1?arguments[1]:void 0,s=this.SCALE_X,p=this.SCALE_Y;return i===!0?(s+=this.ZOOM_SIZE,p+=this.ZOOM_SIZE):i===!1?(s-=this.ZOOM_SIZE,p-=this.ZOOM_SIZE):typeof i=="number"&&(s=i,p=i),s<this.MINI_SCALE_SIZE||s>this.MAX_SCALE_SIZE||(c&&(this.TRANSLATE_X-=(s-this.SCALE_X)*c[0],this.TRANSLATE_Y-=(p-this.SCALE_Y)*c[1]),this.SCALE_X=s,this.SCALE_Y=p,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(i){this.eventCenter.emit(gt.GRAPH_TRANSFORM,{type:i,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(i,c){this.TRANSLATE_X+i<=this.translateLimitMaxX&&this.TRANSLATE_X+i>=this.translateLimitMinX&&(this.TRANSLATE_X+=i),this.TRANSLATE_Y+c<=this.translateLimitMaxY&&this.TRANSLATE_Y+c>=this.translateLimitMinY&&(this.TRANSLATE_Y+=c),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(i,c,s,p){var g=wu(this.CanvasPointToHtmlPoint([i,c]),2),b=s/2-g[0],E=p/2-g[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=E,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(i){var c=wu(Array.isArray(i)&&i.length===4?i:yd[i.toString()],4);this.translateLimitMinX=c[0],this.translateLimitMinY=c[1],this.translateLimitMaxX=c[2],this.translateLimitMaxY=c[3]}}],n&&fv(e.prototype,n),t}(),dd=Ao(Yn.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hd=Ao(Yn.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ml=Ao(Yn.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_u=Ao(Yn.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vf=Ao(Yn.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ou=Ao(Yn.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Tl=Ao(Yn.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Ao(Yn.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"zoom"),Yn.prototype),Ao(Yn.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"resetZoom"),Yn.prototype),Ao(Yn.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"translate"),Yn.prototype),Ao(Yn.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"focusOn"),Yn.prototype),Yn),kl=function(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t},gd=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},md=Object.prototype.hasOwnProperty,bd=function(t){if(!Wn(t))return gd(t);var e=ai(t),n=[];for(var i in t)(i!="constructor"||!e&&md.call(t,i))&&n.push(i);return n},Nl=function(t){return er(t)?$n(t,!0):bd(t)},mf=o(107),bf=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e},Dl=fo(Object.getPrototypeOf,Object),nn=Object.prototype.hasOwnProperty,pv=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&nn.call(t,"index")&&(n.index=t.index,n.input=t.input),n},_f=function(t){var e=new t.constructor(t.byteLength);return new wr(e).set(new wr(t)),e},Es=function(t,e){var n=_f(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)},_d=/\w*$/,dv=function(t){var e=new t.constructor(t.source,_d.exec(t));return e.lastIndex=t.lastIndex,e},Od=qt?qt.prototype:void 0,vo=Od?Od.valueOf:void 0,hv=function(t){return vo?Object(vo.call(t)):{}},Ss=function(t,e){var n=e?_f(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Of=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return _f(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return Es(t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ss(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return dv(t);case"[object Symbol]":return hv(t)}},wf=Object.create,wd=function(){function t(){}return function(e){if(!Wn(e))return{};if(wf)return wf(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),to=function(t){return typeof t.constructor!="function"||ai(t)?{}:wd(Dl(t))},oa=function(t){return fn(t)&&O(t)=="[object Map]"},Cl=mr.a&&mr.a.isMap,xd=Cl?Bo(Cl):oa,Rl=function(t){return fn(t)&&O(t)=="[object Set]"},xf=mr.a&&mr.a.isSet,Ef=xf?Bo(xf):Rl,Sf="[object Arguments]",Il="[object Function]",jf="[object Object]",bn={};bn[Sf]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn["[object Object]"]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[Il]=bn["[object WeakMap]"]=!1;var yv=function t(e,n,i,c,s,p){var g,b=1&n;if(g!==void 0)return g;if(!Wn(e))return e;var E=Pn(e);if(E)g=pv(e);else{var P=O(e),C=P==Il||P=="[object GeneratorFunction]";if(Object(oi.a)(e))return Object(mf.a)(e,b);if(P==jf||P==Sf||C&&!s)g=C?{}:to(e);else{if(!bn[P])return s?e:{};g=Of(e,P,b)}}p||(p=new ni);var L=p.get(e);if(L)return L;p.set(e,g),Ef(e)?e.forEach(function(te){g.add(t(te,n,i,te,e,p))}):xd(e)&&e.forEach(function(te,ie){g.set(ie,t(te,n,i,ie,e,p))});var Y=E?void 0:zo(e);return kl(Y||e,function(te,ie){Y&&(te=e[ie=te]),hu(g,ie,t(te,n,i,ie,e,p))}),g},xn=function(t){return yv(t,5)},Ll=function(t,e,n){(n!==void 0&&!gn(t[e],n)||n===void 0&&!(e in t))&&xl(t,e,n)},Ed=function(t){return fn(t)&&er(t)},Af=Function.prototype,Sd=Object.prototype,Pf=Af.toString,jd=Sd.hasOwnProperty,Ad=Pf.call(Object),no=function(t){if(!fn(t)||wn(t)!="[object Object]")return!1;var e=Dl(t);if(e===null)return!0;var n=jd.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Pf.call(n)==Ad},Wo=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Bl=function(t){return yu(t,Nl(t))},xu=function(t,e,n,i,c,s,p){var g=Wo(t,n),b=Wo(e,n),E=p.get(b);if(E)Ll(t,n,E);else{var P=void 0,C=P===void 0;if(C){var L=Pn(b),Y=!L&&Object(oi.a)(b),te=!L&&!Y&&Aa(b);P=b,L||Y||te?Pn(g)?P=g:Ed(g)?P=bf(g):Y?(C=!1,P=Object(mf.a)(b,!0)):te?(C=!1,P=Ss(b,!0)):P=[]:no(b)||Lo(b)?(P=g,Lo(g)?P=Bl(g):Wn(g)&&!Io(g)||(P=to(b))):C=!1}C&&(p.set(b,P),c(P,b,i,s,p),p.delete(b)),Ll(t,n,P)}},Pd=function t(e,n,i,c,s){e!==n&&od(n,function(p,g){if(s||(s=new ni),Wn(p))xu(e,n,g,i,t,c,s);else{var b=void 0;b===void 0&&(b=p),Ll(e,g,b)}},Nl)},js=ad(function(t,e,n){Pd(t,e,n)}),Md={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Da=function(t){var e=xn(Md);return t&&(e=js(e,t)),e};o(82),o(166);function As(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Td=function(){function t(){var i,c,s;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),s={},(c="_events")in(i=this)?Object.defineProperty(i,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[c]=s}var e,n;return e=t,(n=[{key:"on",value:function(i,c,s){var p=this;return i==null||i.split(",").forEach(function(g){g=g.trim(),p._events[g]||(p._events[g]=[]),p._events[g].push({callback:c,once:!!s})}),this}},{key:"once",value:function(i,c){var s=this;i==null||i.split(",").forEach(function(p){return p=p.trim(),s.on(p,c,!0)})}},{key:"emit",value:function(i,c){var s=this;i==null||i.split(",").forEach(function(p){var g=s._events[p]||[],b=s._events["*"]||[],E=function(P){for(var C=P.length,L=0;L<C;L++)if(P[L]){var Y=P[L],te=Y.callback;Y.once&&(P.splice(L,1),P.length===0&&delete s._events[p],C--,L--),te.apply(s,[c])}};E(g),E(b)})}},{key:"off",value:function(i,c){var s=this;return i||(this._events={}),i.split(",").forEach(function(p){if(c){for(var g=s._events[p]||[],b=g.length,E=0;E<b;E++)g[E].callback===c&&(g.splice(E,1),b--,E--);g.length===0&&delete s._events[p]}else delete s._events[p]}),this}},{key:"getEvents",value:function(){return this._events}}])&&As(e.prototype,n),t}();function ia(t,e){return e*Math.round(t/e)||t}function zl(t,e){return t%e}function Fl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return Ps(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Ps(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ps(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Ms=function(t,e,n){var i=Fl(t,2),c=i[0],s=i[1],p=Fl(e,2),g=p[0],b=p[1],E=Fl(n,2),P=E[0],C=E[1];return c>g&&c<P&&s>b&&s<C},Ts=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var kd=function(t){return function(e,n,i){var c=Object(e);if(!er(e)){var s=sf(n);e=Pa(e),n=function(g){return s(c[g],g,c)}}var p=t(e,n,i);return p>-1?c[s?e[p]:p]:void 0}},Ul=function(t,e,n,i){for(var c=t.length,s=n+-1;++s<c;)if(e(t[s],s,t))return s;return-1},Nd=/\s/,Mf=function(t){for(var e=t.length;e--&&Nd.test(t.charAt(e)););return e},vv=/^\s+/,Dd=function(t){return t&&t.slice(0,Mf(t)+1).replace(vv,"")},Ci=/^[-+]0x[0-9a-f]+$/i,Cd=/^0b[01]+$/i,Rd=/^0o[0-7]+$/i,gv=parseInt,Wl=function(t){if(typeof t=="number")return t;if(Ht(t))return NaN;if(Wn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Dd(t);var n=Cd.test(t);return n||Rd.test(t)?gv(t.slice(2),n?2:8):Ci.test(t)?NaN:+t},Ri=1/0,Tf=function(t){return t?(t=Wl(t))===Ri||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},kf=function(t){var e=Tf(t),n=e%1;return e==e?n?e-n:e:0},Nf=Math.max,Eu,Ca=kd(function(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var c=n==null?0:kf(n);return c<0&&(c=Nf(i+c,0)),Ul(t,sf(e),c)}),Dt=new Uint8Array(16);function $l(){if(!Eu&&!(Eu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Eu(Dt)}for(var Df=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ra=function(t){return typeof t=="string"&&Df.test(t)},_r=[],Gl=0;Gl<256;++Gl)_r.push((Gl+256).toString(16).substr(1));var Cr=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(_r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]).toLowerCase();if(!Ra(n))throw TypeError("Stringified UUID is invalid");return n},Vl=function(t,e,n){var i=(t=t||{}).random||(t.rng||$l)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,Cr(i)},Ii=function(){return Vl()},mv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(i,c){return i[c.id]=e+Vl(),c.id=i[c.id],i},{});return t.edges.forEach(function(i){i.id=e+Vl(),i.sourceNodeId=n[i.sourceNodeId],i.targetNodeId=n[i.targetNodeId]}),t},go=(o(105),o(127),o(207),function(t,e,n){var i=t.x,c=t.y,s=e.x,p=e.y,g=n.x,b=n.y,E=(b-p)/(g-s),P=p-E*s;return i>=s&&i<=g&&c>=p&&c<=b&&Math.abs(c-E*i+P)<Number.EPSILON});function Ar(t){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function Hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hl(Object(n),!0).forEach(function(i){bv(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var De,Cf,Rf,If,Lf,Id,Yl,Bf,Su,Kl,zf,Ff,ks,Uf,$o,aa,Wf,Ld,Bd,zd,$f,ql=function(t){return t.anchors},Ns=function(t,e){for(var n,i=e.nodes,c=i.length-1;c>=0;c--){var s=i[c];if(_v(t,s)){var p=s.getTargetAnchor(t);if(p){var g={node:s,anchorIndex:p.index,anchor:p.anchor};n&&!Fd(s,n.node,e)||(n=g)}}}return n},Fd=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Go=function(t,e,n,i){return Math.hypot(t-n,e-i)},ua=function(t,e){var n=!1,i=Vn(e);return t.x>=i.minX-0&&t.x<=i.maxX+0&&t.y>=i.minY-0&&t.y<=i.maxY+0&&(n=!0),n},_v=function(t,e){var n=!1,i=Vn(e);return t.x>=i.minX-5&&t.x<=i.maxX+5&&t.y>=i.minY-5&&t.y<=i.maxY+5&&(n=!0),n},Vn=function(t){var e=t.x,n=t.y,i=t.width,c=t.height;return{minX:e-i/2,minY:n-c/2,maxX:e+i/2,maxY:n+c/2,x:e,y:n,width:i,height:c,centerX:e,centerY:n}},Ud=function(t,e,n){var i,c=function(p){var g=p,b=g.x,E=g.y,P=g.width,C=g.height,L=g.radius;return[{x:b-P/2+L,y:E-C/2+L,r:L},{x:b+P/2-L,y:E-C/2+L,r:L},{x:b-P/2+L,y:E+C/2-L,r:L},{x:b+P/2-L,y:E+C/2-L,r:L}]}(n),s=Number.MAX_SAFE_INTEGER;return c.forEach(function(p){var g=Go(t.x,t.y,p.x,p.y);g<s&&(s=g,i=p)}),Jl(t,e,i)},Jl=function(t,e,n){var i,c=n,s=c.x,p=c.y,g=c.r;if(e===Dn.HORIZONTAL){var b=s-Math.sqrt(g*g-(t.y-p)*(t.y-p)),E=s+Math.sqrt(g*g-(t.y-p)*(t.y-p));i={x:Math.abs(b-t.x)<Math.abs(E-t.x)?b:E,y:t.y}}else if(e===Dn.VERTICAL){var P=p-Math.sqrt(g*g-(t.x-s)*(t.x-s)),C=p+Math.sqrt(g*g-(t.x-s)*(t.x-s)),L=Math.abs(P-t.y)<Math.abs(C-t.y)?P:C;i={x:t.x,y:L}}return i},Wd=function(t,e){var n=e,i=!1,c=n.x-n.width/2+n.radius,s=n.x+n.width/2-n.radius,p=n.y-n.height/2+n.radius,g=n.y+n.height/2-n.radius,b=n.x,E=n.y,P=n.width,C=n.height;return t.y===E+C/2||t.y===E-C/2?i=t.x>c&&t.x<s:t.x!==b+P/2&&t.x!==b-P/2||(i=t.y>p&&t.y<g),i},Zl=function(t,e,n){var i,c=n,s=c.x,p=c.y,g=c.rx,b=c.ry;if(e===Dn.HORIZONTAL){var E=s-Math.sqrt(g*g-(t.y-p)*(t.y-p)*g*g/(b*b)),P=s+Math.sqrt(g*g-(t.y-p)*(t.y-p)*g*g/(b*b));i={x:Math.abs(E-t.x)<Math.abs(P-t.x)?E:P,y:t.y}}else if(e===Dn.VERTICAL){var C=p-Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(g*g)),L=p+Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(g*g)),Y=Math.abs(C-t.y)<Math.abs(L-t.y)?C:L;i={x:t.x,y:Y}}return i},$d=function(t,e,n){for(var i,c=n.pointsPosition,s=Number.MAX_SAFE_INTEGER,p=[],g=0;g<c.length;g++)p.push({start:c[g],end:c[(g+1)%c.length]});return p.forEach(function(b){var E=b.start,P=b.end,C=E,L=P;E.x>P.x&&(C=P,L=E);var Y={x:t.x,y:t.y};if(C.x===L.x&&e===Dn.HORIZONTAL&&(Y={x:C.x,y:t.y}),C.y===L.y&&e===Dn.VERTICAL&&(Y={x:t.x,y:C.y}),C.x!==L.x&&C.y!==L.y){var te=(L.y-C.y)/(L.x-C.x),ie=(C.x*L.y-L.x*C.y)/(C.x-L.x);e===Dn.HORIZONTAL?Y={x:(t.y-ie)/te,y:t.y}:e===Dn.VERTICAL&&(Y={x:t.x,y:te*t.x+ie})}if(go(Y,E,P)){var _e=Go(Y.x,Y.y,t.x,t.y);_e<s&&(s=_e,i=Y)}}),i},Gd=function(t,e,n,i){var c=t.x,s=t.y;return e.x>t.x?c=t.x+n/2:e.x<t.x&&(c=t.x-n/2),e.y>t.y?s=t.y+i/2:e.y<t.y&&(s=t.y-i/2),{x:c,y:s}},Vd=function(t){var e=t.rows,n=t.style,i=t.rowsLength,c=t.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=c,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),i>1?e.forEach(function(g){var b=document.createElement("div");b.textContent=g,s.appendChild(b)}):s.textContent=e,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},Ds=function(t){var e=t.rows,n=t.rowsLength,i=t.fontSize,c=0;return e&&e.forEach(function(s){var p=cp(s);c=p>c?p:c}),{width:Math.ceil(c/2)*i+i/4,height:n*(i+2)+i/4}},ju=function(t){return Ar(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},Rr=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},Ov=1e3,wv=999,Gf=function(){return++Ov};function Hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hd(Object(n),!0).forEach(function(i){Po(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ir(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ql(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nt(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Vf=(De=function(){function t(i,c){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Po(this,"id",""),ir(this,"type",Cf,this),ir(this,"sourceNodeId",Rf,this),ir(this,"targetNodeId",If,this),ir(this,"startPoint",Lf,this),ir(this,"endPoint",Id,this),ir(this,"text",Yl,this),ir(this,"properties",Bf,this),ir(this,"points",Su,this),ir(this,"pointsList",Kl,this),ir(this,"isSelected",zf,this),ir(this,"isHovered",Ff,this),ir(this,"isHitable",ks,this),ir(this,"draggable",Uf,this),ir(this,"visible",$o,this),Po(this,"virtual",!1),ir(this,"isAnimation",aa,this),ir(this,"isShowAdjustPoint",Wf,this),Po(this,"graphModel",void 0),ir(this,"zIndex",Ld,this),Po(this,"BaseType",or.EDGE),Po(this,"modelType",Qt.EDGE),ir(this,"state",Bd,this),Po(this,"additionStateData",void 0),Po(this,"sourceAnchorId",""),Po(this,"targetAnchorId",""),Po(this,"menu",void 0),Po(this,"customTextPosition",!1),ir(this,"style",zd,this),ir(this,"arrowConfig",$f,this),this.graphModel=c,this.initEdgeData(i),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(i){if(i.properties||(i.properties={}),!i.id){var c=this.graphModel.idGenerator,s=c&&c(i.type),p=this.createId();i.id=p||s||Ii()}this.arrowConfig.markerEnd="url(#marker-end-".concat(i.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(i.id,")");var g=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=g,jr(this,ch(i)),this.graphModel.overlapMode===Gn.INCREASE&&(this.zIndex=i.zIndex||Gf()),this.setAnchors(),this.initPoints(),this.formatText(i)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return ro(ro({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return ro({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var i=this.graphModel.theme.edgeText;return xn(i)}},{key:"getEdgeAnimationStyle",value:function(){var i=this.graphModel.theme.edgeAnimation;return xn(i)}},{key:"getArrowStyle",value:function(){var i=this.getEdgeStyle(),c=this.getEdgeAnimationStyle(),s=this.graphModel.theme.arrow,p=this.isAnimation?c.stroke:i.stroke;return ro(ro({},i),{},{fill:p,stroke:p},s)}},{key:"getOutlineStyle",value:function(){var i=this.graphModel.theme.outline;return xn(i)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var i,c;return(i=this.graphModel)===null||i===void 0||(c=i.nodesMap[this.sourceNodeId])===null||c===void 0?void 0:c.model}},{key:"targetNode",get:function(){var i,c;return(i=this.graphModel)===null||i===void 0||(c=i.nodesMap[this.targetNodeId])===null||c===void 0?void 0:c.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(i,c,s){var p,g,b=ql(i);return s&&(p=Ca(b,function(E){return E.id===s}))||b.forEach(function(E){var P=dp(E,c);(g===void 0||P<g)&&(g=P,p=E)}),p}},{key:"getEndAnchor",value:function(i,c){var s,p,g=this,b=ql(i);return c&&(s=Ca(b,function(E){return E.id===c}))||b.forEach(function(E){var P=dp(E,g.startPoint);(p===void 0||P<p)&&(p=P,s=E)}),s}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var i=this.text,c=i.x,s=i.y,p=i.value,g={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return p&&(g.text={x:c,y:s,value:p}),this.graphModel.overlapMode===Gn.INCREASE&&(g.zIndex=this.zIndex),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(i,c){this.properties[i]=Rr(c),this.setAttributes()}},{key:"deleteProperty",value:function(i){delete this.properties[i],this.setAttributes()}},{key:"setProperties",value:function(i){this.properties=ro(ro({},Object(h.I)(this.properties)),Rr(i)),this.setAttributes()}},{key:"changeEdgeId",value:function(i){var c=this.arrowConfig,s=c.markerEnd,p=c.markerStart;p&&p==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(i,")")),s&&s==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(i,")")),this.id=i}},{key:"setStyle",value:function(i,c){this.style=ro(ro({},this.style),{},Po({},i,Rr(c)))}},{key:"setStyles",value:function(i){this.style=ro(ro({},this.style),Rr(i))}},{key:"updateStyles",value:function(i){this.style=ro({},Rr(i))}},{key:"formatText",value:function(i){var c=this.textPosition,s=c.x,p=c.y;i.text&&typeof i.text!="string"?Object.prototype.toString.call(i.text)==="[object Object]"&&(this.text={x:i.text.x||s,y:i.text.y||p,value:i.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:i.text||"",x:s,y:p,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var i=this.textPosition,c=i.x,s=i.y;this.text.x=c,this.text.y=s}},{key:"moveText",value:function(i,c){if(this.text){var s=this.text,p=s.x,g=s.y,b=s.value,E=s.draggable,P=s.editable;this.text={value:b,draggable:E,x:p+i,y:g+c,editable:P}}}},{key:"setText",value:function(i){i&&jr(this.text,i)}},{key:"updateText",value:function(i){this.text=ro(ro({},Object(h.I)(this.text)),{},{value:i})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var i=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!i)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:i.x,y:i.y}),this.sourceAnchorId||(this.sourceAnchorId=i.id)}if(!this.targetAnchorId||!this.endPoint){var c=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!c)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:c.x,y:c.y}),this.targetAnchorId||(this.targetAnchorId=c.id)}}},{key:"setSelected",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=i}},{key:"setHovered",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=i}},{key:"setHitable",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=i}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(i,c){this.state=i,this.additionStateData=c}},{key:"updateStartPoint",value:function(i){this.startPoint=i}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c}},{key:"updateEndPoint",value:function(i){this.endPoint=i}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c}},{key:"setZIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=i}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(i){jr(this,i)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,s=i.endPoint;this.updateStartPoint({x:c.x,y:c.y}),this.updateEndPoint({x:s.x,y:s.y})}}],n&&Ql(e.prototype,n),t}(),Cf=Nt(De.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rf=Nt(De.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),If=Nt(De.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lf=Nt(De.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Id=Nt(De.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yl=Nt(De.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Bf=Nt(De.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Su=Nt(De.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kl=Nt(De.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zf=Nt(De.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ff=Nt(De.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ks=Nt(De.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Uf=Nt(De.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$o=Nt(De.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),aa=Nt(De.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wf=Nt(De.prototype,"isShowAdjustPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ld=Nt(De.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bd=Nt(De.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zd=Nt(De.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$f=Nt(De.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Nt(De.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(De.prototype,"sourceNode"),De.prototype),Nt(De.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(De.prototype,"targetNode"),De.prototype),Nt(De.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(De.prototype,"textPosition"),De.prototype),Nt(De.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperty"),De.prototype),Nt(De.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteProperty"),De.prototype),Nt(De.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperties"),De.prototype),Nt(De.prototype,"changeEdgeId",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"changeEdgeId"),De.prototype),Nt(De.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyle"),De.prototype),Nt(De.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyles"),De.prototype),Nt(De.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStyles"),De.prototype),Nt(De.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"formatText"),De.prototype),Nt(De.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"resetTextPosition"),De.prototype),Nt(De.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"moveText"),De.prototype),Nt(De.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setText"),De.prototype),Nt(De.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateText"),De.prototype),Nt(De.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setAnchors"),De.prototype),Nt(De.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setSelected"),De.prototype),Nt(De.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setHovered"),De.prototype),Nt(De.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setHitable"),De.prototype),Nt(De.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"openEdgeAnimation"),De.prototype),Nt(De.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"closeEdgeAnimation"),De.prototype),Nt(De.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setElementState"),De.prototype),Nt(De.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStartPoint"),De.prototype),Nt(De.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"moveStartPoint"),De.prototype),Nt(De.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateEndPoint"),De.prototype),Nt(De.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"moveEndPoint"),De.prototype),Nt(De.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setZIndex"),De.prototype),Nt(De.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"initPoints"),De.prototype),Nt(De.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAttributes"),De.prototype),Nt(De.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustStart"),De.prototype),Nt(De.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustEnd"),De.prototype),Nt(De.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAfterAdjustStartAndEnd"),De.prototype),De),Hf=Vf;function ec(t){return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xf(Object(n),!0).forEach(function(i){qf(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ev(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Au(){return Au=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=Sv(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Au.apply(this,arguments)}function Sv(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=sa(t))!==null;);return t}function Yf(t,e){return Yf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yf(t,e)}function tc(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=sa(t);if(e){var c=sa(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return Yd(this,n)}}function Yd(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kf(t)}function Kf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sa(t){return sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sa(t)}function qf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft,Kd,nc=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Yf(s,p)})(c,t);var e,n,i=tc(c);function c(){var s;xv(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return qf(Kf(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.LINE_EDGE),s}return e=c,(n=[{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.line;return Xd(Xd({},Au(sa(c.prototype),"getEdgeStyle",this).call(this)),xn(s))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Ev(e.prototype,n),c}(Hf);function Pu(t){return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function rc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return qd(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return qd(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function oc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oc(Object(n),!0).forEach(function(i){Zf(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jv(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Av(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Cs(){return Cs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=Ia(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Cs.apply(this,arguments)}function Ia(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Hr(t))!==null;);return t}function Xt(t,e){return Xt=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xt(t,e)}function Pv(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Hr(t);if(e){var c=Hr(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return oo(this,n)}}function oo(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(t)}function Un(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hr(t){return Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(t)}function Zf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Er(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Mo=(Ft=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Xt(s,p)})(c,t);var e,n,i=Pv(c);function c(){var s;Vo(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Zf(Un(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.POLYLINE_EDGE),Zf(Un(s),"draggingPointList",void 0),jv(Un(s),"dbClickPosition",Kd,Un(s)),s}return e=c,(n=[{key:"initEdgeData",value:function(s){this.offset=30,Cs(Hr(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.polyline;return Jf(Jf({},Cs(Hr(c.prototype),"getEdgeStyle",this).call(this)),xn(s))}},{key:"getTextPosition",value:function(){var s,p=(s=this.text)===null||s===void 0?void 0:s.value;if(this.dbClickPosition&&!p){var g=this.dbClickPosition;return{x:g.x,y:g.y}}var b=Bi(this.points),E=rc(sp(b),2),P=E[0],C=E[1];return{x:(P.x+C.x)/2,y:(P.y+C.y)/2}}},{key:"getAfterAnchor",value:function(s,p,g){var b,E;return g.forEach(function(P){var C;s===Dn.HORIZONTAL?C=Math.abs(p.y-P.y):s===Dn.VERTICAL&&(C=Math.abs(p.x-P.x)),(!E||E>C)&&(E=C,b=P)}),b}},{key:"getCrossPoint",value:function(s,p,g){var b;return s===Dn.HORIZONTAL?b={x:g.x,y:p.y}:s===Dn.VERTICAL&&(b={x:p.x,y:g.y}),b}},{key:"removeCrossPoints",value:function(s,p,g){var b=g.map(function(be){return be});if(s===1){var E=b[s],P=b[p],C=b[s-1];if(lc(C,E,this.sourceNode)){if(ca(E,P,this.sourceNode)){var L=lp(E,P,this.sourceNode);L&&(b[s]=L,b.splice(s-1,1),s--,p--)}}else this.sourceNode.anchors.forEach(function(be){(be.x===C.x&&be.x===E.x||be.y===C.y&&be.y===E.y)&&Go(be.x,be.y,E.x,E.y)<Go(C.x,C.y,E.x,E.y)&&(b[s-1]=be)})}if(p===g.length-2){var Y=b[s],te=b[p],ie=b[p+1];if(lc(te,ie,this.targetNode)){if(ca(Y,te,this.targetNode)){var _e=lp(Y,te,this.targetNode);_e&&(b[p]=_e,b.splice(p+1,1))}}else this.targetNode.anchors.forEach(function(be){(be.x===ie.x&&be.x===te.x||be.y===ie.y&&be.y===te.y)&&Go(be.x,be.y,te.x,te.y)<Go(ie.x,ie.y,te.x,te.y)&&(b[p+1]=be)})}return b}},{key:"getDraggingPoints",value:function(s,p,g,b,E){var P=E.map(function(Y){return Y}),C=this.getAfterAnchor(s,g,b),L=this.getCrossPoint(s,g,C);return p==="start"?(P.unshift(L),P.unshift(C)):(P.push(L),P.push(C)),P}},{key:"updateCrossPoints",value:function(s){var p=s.map(function(Ie){return Ie}),g=s[0],b=s[1],E=s[p.length-2],P=s[p.length-1],C=this.sourceNode,L=this.targetNode,Y=C.modelType,te=L.modelType,ie=Du(g,b),_e=p[0];switch(Y){case Qt.RECT_NODE:C.radius!==0&&(Wd(g,C)||(_e=Ud(g,ie,C)));break;case Qt.CIRCLE_NODE:_e=Jl(g,ie,C);break;case Qt.ELLIPSE_NODE:_e=Zl(g,ie,C);break;case Qt.DIAMOND_NODE:case Qt.POLYGON_NODE:_e=$d(g,ie,C)}_e&&(p[0]=_e);var be=Du(E,P),Ee=p[p.length-1];switch(te){case Qt.RECT_NODE:L.radius!==0&&(Wd(P,L)||(Ee=Ud(P,be,L)));break;case Qt.CIRCLE_NODE:Ee=Jl(P,be,L);break;case Qt.ELLIPSE_NODE:Ee=Zl(P,be,L);break;case Qt.DIAMOND_NODE:case Qt.POLYGON_NODE:Ee=$d(P,be,L)}return Ee&&(p[p.length-1]=Ee),p}},{key:"getData",value:function(){var s=Cs(Hr(c.prototype),"getData",this).call(this),p=this.pointsList.map(function(g){return{x:g.x,y:g.y}});return Object.assign({},s,{pointsList:p})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var s=sc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=s,this.points=s.map(function(p){return"".concat(p.x,",").concat(p.y)}).join(" ")}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,p){this.startPoint.x+=s,this.startPoint.y+=p,this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveEndPoint",value:function(s,p){this.endPoint.x+=s,this.endPoint.y+=p,this.updatePoints()}},{key:"updatePointsList",value:function(s,p){this.pointsList.forEach(function(E){E.x+=s,E.y+=p});var g=this.pointsList[0];this.startPoint=Object.assign({},g);var b=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},b),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(s){return s})}},{key:"dragAppendSimple",value:function(s,p){this.isDragging=!0;var g=s.start,b=s.end,E=s.startIndex,P=s.endIndex,C=s.direction,L=this.pointsList,Y=L;return C===Dn.HORIZONTAL?(L[E]={x:g.x,y:g.y+p.y},L[P]={x:b.x,y:b.y+p.y},Y=this.pointsList.map(function(te){return te})):C===Dn.VERTICAL&&(L[E]={x:g.x+p.x,y:g.y},L[P]={x:b.x+p.x,y:b.y},Y=this.pointsList.map(function(te){return te})),this.updatePointsAfterDrag(Y),this.draggingPointList=Y,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[E]),end:Object.assign({},L[P]),startIndex:E,endIndex:P,direction:C}}},{key:"dragAppend",value:function(s,p){this.isDragging=!0;var g=s.start,b=s.end,E=s.startIndex,P=s.endIndex,C=s.direction,L=this.pointsList;if(C===Dn.HORIZONTAL){L[E]={x:g.x,y:g.y+p.y},L[P]={x:b.x,y:b.y+p.y};var Y=this.pointsList.map(function(et){return et});if(E!==0&&P!==this.pointsList.length-1&&(Y=this.removeCrossPoints(E,P,Y)),E===0){var te={x:g.x,y:g.y+p.y};if(!ua(te,this.sourceNode)){var ie=this.sourceNode.anchors;Y=this.getDraggingPoints(C,"start",te,ie,Y)}}if(P===this.pointsList.length-1){var _e={x:b.x,y:b.y+p.y};if(!ua(_e,this.targetNode)){var be=this.targetNode.anchors;Y=this.getDraggingPoints(C,"end",_e,be,Y)}}this.updatePointsAfterDrag(Y),this.draggingPointList=Y}else if(C===Dn.VERTICAL){L[E]={x:g.x+p.x,y:g.y},L[P]={x:b.x+p.x,y:b.y};var Ee=this.pointsList.map(function(et){return et});if(E!==0&&P!==this.pointsList.length-1&&(Ee=this.removeCrossPoints(E,P,Ee)),E===0){var Ie={x:g.x+p.x,y:g.y};if(!ua(Ie,this.sourceNode)){var nt=this.sourceNode.anchors;Ee=this.getDraggingPoints(C,"start",Ie,nt,Ee)}}if(P===this.pointsList.length-1){var tt={x:b.x+p.x,y:b.y};if(!ua(tt,this.targetNode)){var xt=this.targetNode.anchors;Ee=this.getDraggingPoints(C,"end",tt,xt,Ee)}}this.updatePointsAfterDrag(Ee),this.draggingPointList=Ee}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[E]),end:Object.assign({},L[P]),startIndex:E,endIndex:P,direction:C}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var s=up(Bi(this.points));this.pointsList=s.map(function(b){return b}),this.draggingPointList=[];var p=s[0];this.startPoint=Object.assign({},p);var g=s[s.length-1];this.endPoint=Object.assign({},g)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(s){var p=this.updateCrossPoints(s);this.points=p.map(function(g){return"".concat(g.x,",").concat(g.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var p=s.startPoint,g=s.endPoint,b=s.sourceNode,E=s.targetNode,P=sc({x:p.x,y:p.y},{x:g.x,y:g.y},b,E,this.offset||0);this.pointsList=P,this.initPoints()}}])&&Av(e.prototype,n),c}(Hf),Kd=Er(Ft.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Er(Ft.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"initPoints"),Ft.prototype),Er(Ft.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePoints"),Ft.prototype),Er(Ft.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateStartPoint"),Ft.prototype),Er(Ft.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveStartPoint"),Ft.prototype),Er(Ft.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateEndPoint"),Ft.prototype),Er(Ft.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveEndPoint"),Ft.prototype),Er(Ft.prototype,"updatePointsList",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePointsList"),Ft.prototype),Er(Ft.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendStart"),Ft.prototype),Er(Ft.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendSimple"),Ft.prototype),Er(Ft.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppend"),Ft.prototype),Er(Ft.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendEnd"),Ft.prototype),Er(Ft.prototype,"updatePointsAfterDrag",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePointsAfterDrag"),Ft.prototype),Er(Ft.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustStart"),Ft.prototype),Er(Ft.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustEnd"),Ft.prototype),Er(Ft.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateAfterAdjustStartAndEnd"),Ft.prototype),Ft),Mu=function(t){var e=t.start,n=t.end,i=t.offset,c=t.verticalLength,s=t.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(i/c),E=Math.sqrt(c*c+i*i);return s==="start"?n.x>=e.x?(p.leftX=e.x+E*Math.sin(g+b),p.leftY=e.y-E*Math.cos(g+b),p.rightX=e.x-E*Math.sin(g-b),p.rightY=e.y+E*Math.cos(g-b)):(p.leftX=e.x-E*Math.sin(g+b),p.leftY=e.y+E*Math.cos(g+b),p.rightX=e.x+E*Math.sin(g-b),p.rightY=e.y-E*Math.cos(g-b)):s==="end"&&(n.x>=e.x?(p.leftX=n.x+E*Math.sin(g-b),p.leftY=n.y-E*Math.cos(g-b),p.rightX=n.x-E*Math.sin(g+b),p.rightY=n.y+E*Math.cos(g+b)):(p.leftX=n.x-E*Math.sin(g-b),p.leftY=n.y+E*Math.cos(g-b),p.rightX=n.x+E*Math.sin(g+b),p.rightY=n.y-E*Math.cos(g+b))),p},ic={x:1,y:0,z:0};function Hn(t,e,n,i,c){for(var s=function(te){if(te<0||te>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-te,3)+3*e.x*te*Math.pow(1-te,2)+3*n.x*Math.pow(te,2)*(1-te)+i.x*Math.pow(te,3),y:t.y*Math.pow(1-te,3)+3*e.y*te*Math.pow(1-te,2)+3*n.y*Math.pow(te,2)*(1-te)+i.y*Math.pow(te,3)}},p=0,g=2,b=i.x,E=i.y,P=i;p<c&&g<50;){var C=P=s(1-g/100),L=C.x,Y=C.y;p=Go(b,E,L,Y),g++}return P}function Kn(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Qf(t){return i=function(s,p){return s.x*p.y-s.y*p.x}(e=ic,n=t),c=Math.acos(function(s,p){var g=[s.x,s.y,s.z];return[p.x,p.y,p.z].reduce(function(b,E,P){return b+E*g[P]})}(Kn(e),Kn(n))),i>=0?c:-c;var e,n,i,c}function ep(t){return t*(180/Math.PI)}function Tu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tu(Object(n),!0).forEach(function(i){Jd(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Jd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ac(t){return function(e){if(Array.isArray(e))return tp(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Zd(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xr(t){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(t)}function Li(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||Zd(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zd(t,e){if(t){if(typeof t=="string")return tp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tp(t,e):void 0}}function tp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Qd=function(t,e){var n;switch(t.type){case"line":default:n=new nc(t,e);break;case"polyline":n=new Mo(t,e)}return n},fi=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Yt=function(t){var e=[],n={};return t.forEach(function(i){var c="".concat(i.x,"-").concat(i.y);i.id=c,n[c]=i}),Object.keys(n).forEach(function(i){e.push(n[i])}),e},eh=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Yt(n)},Ir=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},np=function(t,e){var n=Math.abs(t.x-e.centerX),i=Math.abs(t.y-e.centerY);return n/e.width>i/e.height?Dn.HORIZONTAL:Dn.VERTICAL},hn=function(t,e,n){return np(n,e)===Dn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},rp=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY),c=Math.max(t.maxX,e.maxX),s=Math.max(t.maxY,e.maxY);return{centerX:(n+c)/2,centerY:(i+s)/2,minX:n,minY:i,maxX:c,maxY:s,height:s-i,width:c-n}},La=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],i=[];t.forEach(function(P){n.push(P.x),i.push(P.y)});var c=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,i),g=Math.max.apply(Math,i),b=s-c,E=g-p;return e&&(b+=e,E+=e),{centerX:(c+s)/2,centerY:(p+g)/2,maxX:s,maxY:g,minX:c,minY:p,x:(c+s)/2,y:(p+g)/2,height:E,width:b}},la=function(t){var e=t.minX,n=t.minY,i=t.maxX,c=t.maxY;return[{x:e,y:n},{x:i,y:n},{x:i,y:c},{x:e,y:c}]},Rs=function(t,e){var n=t.x,i=t.y;return n<e.minX||n>e.maxX||i<e.minY||i>e.maxY},th=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},nh=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},rh=function(t,e){return th(t,e.x).concat(nh(t,e.y))},Nu=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},uc=function(t,e){var n=0;return e.forEach(function(i){i&&(t.x===i.x&&(n+=-2),t.y===i.y&&(n+=-2))}),n},op=function(t,e,n,i,c){return Nu(t,e)+Nu(t,n)+uc(t,[e,n,i,c])},oh=function t(e,n,i,c,s){s||(s=0),e.unshift(n[c]),i[c]&&i[c]!==c&&s<=100&&t(e,n,i,i[c],s+1)},ih=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},qn=function(t,e,n,i){var c=e.x-t.x,s=e.y-t.y,p=i.x-n.x,g=i.y-n.y,b=(-s*(t.x-n.x)+c*(t.y-n.y))/(-p*s+c*g),E=(p*(t.y-n.y)-g*(t.x-n.x))/(-p*s+c*g);return b>=0&&b<=1&&E>=0&&E<=1},Lr=function(t,e,n){if(n.width===0&&n.height===0)return!1;var i=Li(la(n),4),c=i[0],s=i[1],p=i[2],g=i[3];return qn(t,e,c,s)||qn(t,e,c,g)||qn(t,e,s,p)||qn(t,e,p,g)},ah=function(t,e,n,i){var c=[];return t.forEach(function(s){s!==e&&(s.x!==e.x&&s.y!==e.y||Lr(s,e,n)||Lr(s,e,i)||c.push(s))}),Yt(c)},ip=function(t,e,n,i,c,s,p){var g=[],b=[e],E={},P={},C={};P[e.id]=0,C[e.id]=op(e,n,e);var L={};t.forEach(function(ie){L[ie.id]=ie});for(var Y=function(){var ie=void 0,_e=1/0;if(b.forEach(function(Ee){C[Ee.id]<_e&&(_e=C[Ee.id],ie=Ee)}),ie===n){var be=[];return oh(be,L,E,n.id),{v:be}}ih(b,ie),g.push(ie),ah(t,ie,i,c).forEach(function(Ee){if(g.indexOf(Ee)===-1){b.indexOf(Ee)===-1&&b.push(Ee);var Ie=C[ie.id]+Nu(ie,Ee);P[Ee.id]&&Ie>=P[Ee.id]||(E[Ee.id]=ie.id,P[Ee.id]=Ie,C[Ee.id]=P[Ee.id]+op(Ee,n,e,s,p))}})};b.length;){var te=Y();if(Xr(te)==="object")return te.v}return[e,n]},ap=function(t){return Vn(t)},up=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],i=t[e],c=t[e+1];n.x===i.x&&i.x===c.x||n.y===i.y&&i.y===c.y?t.splice(e,1):e++}return t},sc=function(t,e,n,i,c){var s=ap(n),p=ap(i),g=Ir(s,c),b=Ir(p,c),E=hn(g,s,t),P=hn(b,p,e);if(fi(g,b)){var C=uh(t,e,E,P);return[t,E].concat(ac(C),[P,e])}var L=La([E,P]),Y=rp(g,L),te=rp(b,L),ie=[];ie=(ie=ie.concat(la(Y))).concat(la(te));var _e={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,Y,te].forEach(function(Ee){ie=ie.concat(rh(Ee,_e).filter(function(Ie){return Rs(Ie,g)&&Rs(Ie,b)}))}),[{x:E.x,y:P.y},{x:P.x,y:E.y}].forEach(function(Ee){Rs(Ee,g)&&Rs(Ee,b)&&ie.push(Ee)}),ie.unshift(E),ie.push(P),ie=Yt(ie);var be=ip(ie,E,P,s,p,t,e);return be.unshift(t),be.push(e),be.length>2&&(be=up(be)),Yt(be)},sp=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],i=t[1],c=Go(n.x,n.y,i.x,i.y),s=1;s<t.length-1;s++){var p=t[s],g=t[s+1],b=Go(p.x,p.y,g.x,g.y);b>c&&(c=b,n=p,i=g)}e=[n,i]}return e},lc=function(t,e,n){var i=ua(t,n),c=ua(e,n);return i&&c},ca=function(t,e,n){var i=ua(t,n),c=ua(e,n);return!(i&&c)&&(i||c)},lp=function(t,e,n){for(var i,c,s=Vn(n),p=la(s),g=0;g<p.length;g++)qn(t,e,p[g],p[(g+1)%p.length])&&(c=[p[g],p[(g+1)%p.length]]);return c&&(i=function(b,E,P,C){var L=(E.y-b.y)*(C.x-P.x)-(b.x-E.x)*(P.y-C.y);if(L===0)return!1;var Y=((E.x-b.x)*(C.x-P.x)*(P.y-b.y)+(E.y-b.y)*(C.x-P.x)*b.x-(C.y-P.y)*(E.x-b.x)*P.x)/L,te=-((E.y-b.y)*(C.y-P.y)*(P.x-b.x)+(E.x-b.x)*(C.y-P.y)*b.y-(C.x-P.x)*(E.y-b.y)*P.y)/L;return(Y-b.x)*(Y-E.x)<=0&&(te-b.y)*(te-E.y)<=0&&(Y-P.x)*(Y-C.x)<=0&&(te-P.y)*(te-C.y)<=0&&{x:Y,y:te}}(t,e,c[0],c[1])),i},Du=function(t,e){var n;return t.x===e.x?n=Dn.VERTICAL:t.y===e.y&&(n=Dn.HORIZONTAL),n},Bi=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(i){var c=Li(i.split(","),2),s=c[0],p=c[1];n.push({x:Number(s),y:Number(p)})}),n},uh=function(t,e,n,i){var c=[];if(Du(t,n)===Du(e,i))t.y===n.y?(c.push({x:n.x,y:(n.y+i.y)/2}),c.push({x:i.x,y:(n.y+i.y)/2})):(c.push({x:(n.x+i.x)/2,y:n.y}),c.push({x:(n.x+i.x)/2,y:i.y}));else{var s={x:n.x,y:i.y},p=go(s,t,n),g=go(s,e,i);if(p||g)s={x:i.x,y:n.y};else{var b=sh(s,t,n),E=sh(s,e,i);b&&E&&(s={x:i.x,y:n.y})}c.push(s)}return c},sh=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},cp=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=i>=1&&i<=126||i>=65376&&i<=65439?1:2}return e},fp=null,Mv=function(t,e){fp||(fp=document.createElement("canvas"));var n=fp.getContext("2d");return n.font=e,n.measureText(t).width},lh=function(t){var e,n=t.start,i=t.end;if(n.x===i.x&&n.y===i.y)e="";else{var c={start:n,end:i,offset:10,verticalLength:5},s=Mu(ku(ku({},c),{},{type:"start"})),p=Mu(ku(ku({},c),{},{type:"end"}));e="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Is=function(t){var e=t.start,n=t.end,i=t.sourceNode,c=t.targetNode,s=t.offset,p=Vn(i),g=Vn(c),b=Ir(p,s),E=Ir(g,s);return{sNext:hn(b,p,e),ePre:hn(E,g,n)}},Ls=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Bs(e[0]),Bs(e[1]),Bs(e[2]),Bs(e[3])]},Bs=function(t){var e=Li(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},pp=function(t,e){var n=Li(t,4);return[Hn(n[0],n[1],n[2],n[3],e),t[3]]},zs=function(t,e){for(var n,i=t.x,c=t.y,s=Bi(e),p=Number.MAX_SAFE_INTEGER,g=[],b=0;b<s.length;b++)g.push({start:s[b],end:s[(b+1)%s.length]});if(g.forEach(function(L){var Y=L.start,te=L.end;if(Y.x===te.x){var ie={x:Y.x,y:c};if(go(ie,Y,te)){var _e=Math.abs(Y.x-i);_e<p&&(p=_e,n=ie)}}else if(Y.y===te.y){var be={x:i,y:Y.y};if(go(be,Y,te)){var Ee=Math.abs(Y.y-c);Ee<p&&(p=Ee,n=be)}}}),!n){var E=g[0],P=E.start,C=E.end;n={x:P.x+(C.x-P.x)/2,y:P.y+(C.y-P.y)/2}}return n},ch=function(t){return Ti(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},dp=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Yr(t,e){return typeof e!="function"?function(n,i,c){return Object.assign({type:t.edgeType},c)}:function(n,i,c){var s=e(n,i,c);return s?typeof s=="string"?Object.assign({},c,{type:s}):Object.assign({type:s},c):{type:t.edgeType}}}o(208);var Fs=function(){};function Tv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var To=function(){function t(i){var c=this,s=i.onDragStart,p=s===void 0?Fs:s,g=i.onDragging,b=g===void 0?Fs:g,E=i.onDragEnd,P=E===void 0?Fs:E,C=i.eventType,L=C===void 0?"":C,Y=i.eventCenter,te=Y===void 0?null:Y,ie=i.step,_e=ie===void 0?1:ie,be=i.isStopPropagation,Ee=be===void 0||be,Ie=i.model,nt=Ie===void 0?null:Ie,tt=i.data,xt=tt===void 0?null:tt;(function(et,bt){if(!(et instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,t),cr(this,"onDragStart",void 0),cr(this,"onDragging",void 0),cr(this,"onDragEnd",void 0),cr(this,"step",void 0),cr(this,"isStopPropagation",void 0),cr(this,"isDragging",!1),cr(this,"isStartDragging",!1),cr(this,"startX",0),cr(this,"startY",0),cr(this,"sumDeltaX",0),cr(this,"sumDeltaY",0),cr(this,"eventType",void 0),cr(this,"eventCenter",void 0),cr(this,"model",void 0),cr(this,"data",void 0),cr(this,"startTime",void 0),cr(this,"handleMouseDown",function(et){var bt,at,rn,ln=(bt=window)===null||bt===void 0?void 0:bt.document;if(et.button===0){c.isStopPropagation&&et.stopPropagation(),c.isStartDragging=!0,c.startX=et.clientX,c.startY=et.clientY,ln.addEventListener("mousemove",c.handleMouseMove,!1),ln.addEventListener("mouseup",c.handleMouseUp,!1);var Lt=(at=c.model)===null||at===void 0?void 0:at.getData();(rn=c.eventCenter)===null||rn===void 0||rn.emit(gt["".concat(c.eventType,"_MOUSEDOWN")],{e:et,data:c.data||Lt}),c.startTime=new Date().getTime()}}),cr(this,"handleMouseMove",function(et){if(c.isStopPropagation&&et.stopPropagation(),c.isStartDragging&&(c.sumDeltaX+=et.clientX-c.startX,c.sumDeltaY+=et.clientY-c.startY,c.startX=et.clientX,c.startY=et.clientY,c.step<=1||Math.abs(c.sumDeltaX)>c.step||Math.abs(c.sumDeltaY)>c.step)){var bt,at=c.sumDeltaX%c.step,rn=c.sumDeltaY%c.step,ln=c.sumDeltaX-at,Lt=c.sumDeltaY-rn;c.sumDeltaX=at,c.sumDeltaY=rn;var yn,ar=(bt=c.model)===null||bt===void 0?void 0:bt.getData();c.isDragging||((yn=c.eventCenter)===null||yn===void 0||yn.emit(gt["".concat(c.eventType,"_DRAGSTART")],{e:et,data:c.data||ar}),c.onDragStart({event:et})),c.isDragging=!0,Promise.resolve().then(function(){var ur,Kr;c.onDragging({deltaX:ln,deltaY:Lt,event:et}),(ur=c.eventCenter)===null||ur===void 0||ur.emit(gt["".concat(c.eventType,"_MOUSEMOVE")],{e:et,data:c.data||ar}),(Kr=c.eventCenter)===null||Kr===void 0||Kr.emit(gt["".concat(c.eventType,"_DRAG")],{e:et,data:c.data||ar})})}}),cr(this,"handleMouseUp",function(et){var bt=window.document;c.isStartDragging=!1,c.isStopPropagation&&et.stopPropagation(),Promise.resolve().then(function(){var at,rn,ln;bt.removeEventListener("mousemove",c.handleMouseMove,!1),bt.removeEventListener("mouseup",c.handleMouseUp,!1);var Lt=(at=c.model)===null||at===void 0?void 0:at.getData();(rn=c.eventCenter)===null||rn===void 0||rn.emit(gt["".concat(c.eventType,"_MOUSEUP")],{e:et,data:c.data||Lt}),c.isDragging&&(c.isDragging=!1,c.onDragEnd({event:et}),(ln=c.eventCenter)===null||ln===void 0||ln.emit(gt["".concat(c.eventType,"_DROP")],{e:et,data:c.data||Lt}))})}),cr(this,"cancelDrag",function(){var et,bt=(et=window)===null||et===void 0?void 0:et.document;bt.removeEventListener("mousemove",c.handleMouseMove,!1),bt.removeEventListener("mouseup",c.handleMouseUp,!1),c.onDragEnd({event:null}),c.isDragging=!1}),this.onDragStart=p,this.onDragging=b,this.onDragEnd=P,this.step=_e,this.isStopPropagation=Ee,this.eventType=L,this.eventCenter=te,this.model=nt,this.data=xt}var e,n;return e=t,(n=[{key:"setStep",value:function(i){this.step=i}},{key:"setModel",value:function(i){this.model=i}}])&&Tv(e.prototype,n),t}();function Us(t){return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function hp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function yp(t,e,n){return e&&kv(t.prototype,e),t}function cc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$s(t,e)}function vp(t){var e=fh();return function(){var n,i=Gs(t);if(e){var c=Gs(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return Nv(this,n)}}function Nv(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zi(t)}function zi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ws(t){var e=typeof Map=="function"?new Map:void 0;return Ws=function(n){if(n===null||(i=n,Function.toString.call(i).indexOf("[native code]")===-1))return n;var i;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,c)}function c(){return gp(n,arguments,Gs(this).constructor)}return c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),$s(c,n)},Ws(t)}function gp(t,e,n){return gp=fh()?Reflect.construct:function(i,c,s){var p=[null];p.push.apply(p,c);var g=new(Function.bind.apply(i,p));return s&&$s(g,s.prototype),g},gp.apply(null,arguments)}function fh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $s(t,e){return $s=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$s(t,e)}function Gs(t){return Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gs(t)}function Vs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ph(t,e){return t instanceof Sr&&e instanceof Sr}var dh=function(t){cc(n,t);var e=vp(n);function n(i,c,s){var p;return hp(this,n),Vs(zi(p=e.call(this,3)),"x",void 0),Vs(zi(p),"y",void 0),Vs(zi(p),"z",void 0),p[0]=i,p[1]=c,p[2]=s,p.x=i,p.y=c,p.z=s,Object.setPrototypeOf(zi(p),n.prototype),p}return yp(n,[{key:"add",value:function(i){if(ph(this,i))return new Sr(this.x+i.x,this.y+i.y);var c=this.z+i.z;return new f((this.x+i.x)/c,(this.y+i.y)/c)}},{key:"subtract",value:function(i){if(ph(this,i))return new Sr(this.x-i.x,this.y-i.y);var c=this.z-i.z;return c===0?new Sr(this.x-i.x,this.y-i.y):new f((this.x-i.x)/c,(this.y-i.y)/c)}}]),n}(Ws(Array)),Sr=function(t){cc(n,t);var e=vp(n);function n(i,c,s){var p;return hp(this,n),p=e.call(this,i,c,s??0),Object.setPrototypeOf(zi(p),n.prototype),p}return yp(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(i){var c=this;return i.reduce(function(s,p,g){return s+p*c[g]})}},{key:"cross",value:function(i){return new n(this.y*i.z-this.z*i.y,this.z*i.x-this.x*i.z,this.x*i.y-this.y*i.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var i=this.getLength();return new n(this.x/i,this.y/i)}},{key:"crossZ",value:function(i){return this.x*i.y-this.y*i.x}},{key:"angle",value:function(i){var c=this.crossZ(i),s=Math.acos(this.normalize().dot(i.normalize()));return c>=0?s:-s}}]),n}(dh),f=function(t){cc(n,t);var e=vp(n);function n(i,c){var s;return hp(this,n),s=e.call(this,i,c,1),Object.setPrototypeOf(zi(s),n.prototype),s}return yp(n,[{key:"toString",value:function(){return"Point"}}]),n}(dh);o(67),o(218);function y(t){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(t)}function _(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||R(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T(t){return function(e){if(Array.isArray(e))return V(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||R(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R(t,e){if(t){if(typeof t=="string")return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}function V(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function we(t,e,n){return e&&fe(t.prototype,e),t}function ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}function Ce(t){var e=We();return function(){var n,i=kt(t);if(e){var c=kt(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){if(e&&(y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t){var e=typeof Map=="function"?new Map:void 0;return mt=function(n){if(n===null||(i=n,Function.toString.call(i).indexOf("[native code]")===-1))return n;var i;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,c)}function c(){return Pt(n,arguments,kt(this).constructor)}return c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Xe(c,n)},mt(t)}function Pt(t,e,n){return Pt=We()?Reflect.construct:function(i,c,s){var p=[null];p.push.apply(p,c);var g=new(Function.bind.apply(i,p));return s&&Xe(g,s.prototype),g},Pt.apply(null,arguments)}function We(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xe(t,e){return Xe=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xe(t,e)}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kt(t)}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ce,Ut,an,St,Ct,fr,io,Ho,pr,pi,Fi,Cu,Hs,di=function(t){ze(n,t);var e=Ce(n);function n(){var i;ae(this,n);for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];return st(ut(i=e.call(this,s.length)),"rows",void 0),st(ut(i),"columns",void 0),i.fill(new Array(3)),s.forEach(function(g,b){i[b]=g}),i.columns=s[0].length,i.rows=s.length,Object.setPrototypeOf(ut(i),n.prototype),i}return we(n,[{key:"getRow",value:function(i){return this[i]}},{key:"getColumn",value:function(i){return T(this.map(function(c){return c[i]}))}},{key:"transpose",value:function(){for(var i=[],c=0;c<this.columns;c++)i.push(this.getColumn(c));return Pt(n,i)}},{key:"cross",value:function(i){var c=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===i.rows)for(var s=0;s<this.rows;s++)for(var p=this.getRow(s),g=function(E){var P=i.getColumn(E);c[s][E]=p.reduce(function(C,L,Y){return C+L*P[Y]},0)},b=0;b<i.columns;b++)g(b);return Pt(n,T(c))}},{key:"to2D",value:function(){return this.map(function(i){return[i[0],i[1]]})}},{key:"toPoints",value:function(){return this.map(function(i){return new f(i[0],i[1])})}},{key:"toString",value:function(){var i=_(this[0],2),c=i[0],s=i[1],p=_(this[1],2),g=p[0],b=p[1],E=_(this[2],2),P=E[0],C=E[1];return"matrix(".concat(c," ").concat(s," ").concat(g," ").concat(b," ").concat(P," ").concat(C,")")}},{key:"translate",value:function(i,c){return this.cross(new Ru(i,c))}},{key:"rotate",value:function(i){return this.cross(new fa(i))}},{key:"scale",value:function(i,c){return this.cross(new mp(i,c))}}]),n}(mt(Array)),fa=function(t){ze(n,t);var e=Ce(n);function n(i){var c;return ae(this,n),c=e.call(this,new Sr(+Math.cos(i).toFixed(2),+Math.sin(i).toFixed(2),0),new Sr(-Math.sin(i).toFixed(2),+Math.cos(i).toFixed(2),0),new Sr(0,0,1)),Object.setPrototypeOf(ut(c),n.prototype),c}return we(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(di),mp=function(t){ze(n,t);var e=Ce(n);function n(i,c){var s;return ae(this,n),st(ut(s=e.call(this,new Sr(i,0,0),new Sr(0,c,0),new Sr(0,0,1))),"sx",void 0),st(ut(s),"sy",void 0),s.sx=i,s.sy=c,Object.setPrototypeOf(ut(s),n.prototype),s}return we(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(di),Ru=function(t){ze(n,t);var e=Ce(n);function n(i,c){var s;return ae(this,n),st(ut(s=e.call(this,new Sr(1,0,0),new Sr(0,1,0),new Sr(i,c,1))),"tx",void 0),st(ut(s),"ty",void 0),s.tx=i,s.ty=c,Object.setPrototypeOf(ut(s),n.prototype),s}return we(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(di),Xs={node:!1,edge:!1},bp={node:!0,edge:!0};function Ys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ys(Object(n),!0).forEach(function(i){Wi(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function za(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||Ks(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ui(t){return function(e){if(Array.isArray(e))return Dv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Ks(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ks(t,e){if(t){if(typeof t=="string")return Dv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dv(t,e):void 0}}function Dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function hh(t){return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function hi(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function dj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var K0,q0=200,J0=(ce=function(){function t(i){(function(Y,te){if(!(Y instanceof te))throw new TypeError("Cannot call a class as a function")})(this,t),Wi(this,"rootEl",void 0),hi(this,"width",Ut,this),hi(this,"height",an,this),Wi(this,"theme",void 0),Wi(this,"eventCenter",void 0),Wi(this,"modelMap",new Map),Wi(this,"topElement",void 0),Wi(this,"animation",void 0),Wi(this,"idGenerator",void 0),Wi(this,"edgeGenerator",void 0),Wi(this,"nodeMoveRules",[]),Wi(this,"customTrajectory",void 0),hi(this,"edgeType",St,this),hi(this,"nodes",Ct,this),hi(this,"edges",fr,this),hi(this,"overlapMode",io,this),hi(this,"background",Ho,this),hi(this,"transformModel",pr,this),hi(this,"editConfigModel",pi,this),hi(this,"gridSize",Fi,this),hi(this,"partial",Cu,this),hi(this,"fakerNode",Hs,this);var c,s=i.container,p=i.background,g=p===void 0?{}:p,b=i.grid,E=i.idGenerator,P=i.edgeGenerator,C=i.animation,L=i.customTrajectory;this.background=g,hh(b)==="object"&&(this.gridSize=b.size),this.rootEl=s,this.editConfigModel=new yf(i),this.eventCenter=new Td,this.transformModel=new vd(this.eventCenter,i),this.theme=Da(i.style),this.edgeType=i.edgeType||"polyline",this.width=i.width,this.height=i.height,this.animation=(c=C)&&typeof c!="boolean"?js(xn(Xs),c):xn(c===!0?bp:Xs),this.partial=i.partial,this.overlapMode=i.overlapMode||0,this.idGenerator=E,this.customTrajectory=L,this.edgeGenerator=Yr(this,P),this.width=i.width||this.rootEl.getBoundingClientRect().width,this.height=i.height||this.rootEl.getBoundingClientRect().height,this.flowId=Ii()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(i,c,s){return i[c.id]={index:s,model:c},i},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(i,c,s){return i[c.id]={index:s,model:c},i},{})}},{key:"modelsMap",get:function(){return[].concat(Ui(this.nodes),Ui(this.edges)).reduce(function(i,c){return i[c.id]=c,i},{})}},{key:"sortElements",get:function(){var i=[];this.nodes.forEach(function(E){return i.push(E)}),this.edges.forEach(function(E){return i.push(E)}),i=i.sort(function(E,P){return E.zIndex-P.zIndex});for(var c=[],s=[-200,-200],p=[this.width+q0,this.height+q0],g=0;g<i.length;g++){var b=i[g];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,s,p,!1,!1))&&c.push(b)}return c}},{key:"textEditElement",get:function(){var i=this.nodes.find(function(s){return s.state===On.TEXT_EDIT}),c=this.edges.find(function(s){return s.state===On.TEXT_EDIT});return i||c}},{key:"selectElements",get:function(){var i=new Map;return this.nodes.forEach(function(c){c.isSelected&&i.set(c.id,c)}),this.edges.forEach(function(c){c.isSelected&&i.set(c.id,c)}),i}},{key:"selectNodes",get:function(){var i=[];return this.nodes.forEach(function(c){c.isSelected&&i.push(c)}),i}},{key:"getAreaElement",value:function(i,c){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],E=[];this.nodes.forEach(function(L){return E.push(L)}),this.edges.forEach(function(L){return E.push(L)});for(var P=0;P<E.length;P++){var C=E[P];g&&!C.visible||!this.isElementInArea(C,i,c,s,p)||b.push(C)}return b}},{key:"getModel",value:function(i){return this.modelMap.get(i)}},{key:"getNodeModelById",value:function(i){var c;return this.fakerNode&&i===this.fakerNode.id?this.fakerNode:(c=this.nodesMap[i])===null||c===void 0?void 0:c.model}},{key:"getPointByClient",value:function(i){var c=i.x,s=i.y,p=this.rootEl.getBoundingClientRect(),g={x:c-p.left,y:s-p.top},b=za(this.transformModel.HtmlPointToCanvasPoint([g.x,g.y]),2);return{domOverlayPosition:g,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(i,c,s){var p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(i.BaseType===or.NODE){for(var b=Vn(i=i),E=b.minX,P=b.minY,C=b.maxX,L=b.maxY,Y=[{x:E,y:P},{x:C,y:P},{x:C,y:L},{x:E,y:L}],te=g,ie=0;ie<Y.length;ie++){var _e=Y[ie],be=_e.x,Ee=_e.y,Ie=this.transformModel.CanvasPointToHtmlPoint([be,Ee]),nt=za(Ie,2);if(be=nt[0],Ee=nt[1],Ms([be,Ee],c,s)!==g){te=!g;break}}return te}if(i.BaseType===or.EDGE){var tt=i=i,xt=tt.startPoint,et=tt.endPoint,bt=this.transformModel.CanvasPointToHtmlPoint([xt.x,xt.y]),at=this.transformModel.CanvasPointToHtmlPoint([et.x,et.y]),rn=Ms(bt,c,s),ln=Ms(at,c,s);return p?rn&&ln:rn||ln}return!1}},{key:"graphDataToModel",value:function(i){var c=this;if(this.width&&this.height||this.resize(),!i)return this.nodes=[],void(this.edges=[]);i.nodes?this.nodes=Ol(i.nodes,function(s){return c.getModelAfterSnapToGrid(s)}):this.nodes=[],i.edges?this.edges=Ol(i.edges,function(s){var p=c.getModel(s.type);if(!p)throw new Error("找不到".concat(s.type,"对应的边。"));return new p(s,c)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var i=[];this.edges.forEach(function(s){var p=s.getData();p&&!s.virtual&&i.push(p)});var c=[];return this.nodes.forEach(function(s){var p=s.getData();p&&!s.virtual&&c.push(p)}),{nodes:c,edges:i}}},{key:"modelToHistoryData",value:function(){for(var i=!1,c=[],s=0;s<this.nodes.length;s++){var p=this.nodes[s];if(p.isDragging){i=!0;break}c.push(p.getHistoryData())}if(i)return!1;for(var g=!1,b=[],E=0;E<this.edges.length;E++){var P=this.edges[E];if(P.isDragging){g=!0;break}b.push(P.getHistoryData())}return!g&&{nodes:c,edges:b}}},{key:"getEdgeModelById",value:function(i){var c;return(c=this.edgesMap[i])===null||c===void 0?void 0:c.model}},{key:"getElement",value:function(i){return this.modelsMap[i]}},{key:"getNodeEdges",value:function(i){for(var c=[],s=0;s<this.edges.length;s++){var p=this.edges[s],g=this.edges[s].sourceNodeId===i,b=this.edges[s].targetNodeId===i;(g||b)&&c.push(p)}return c}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],c=this.selectElements,s={nodes:[],edges:[]};return c.forEach(function(p){if(p.BaseType===or.NODE&&s.nodes.push(p.getData()),p.BaseType===or.EDGE){var g=p.getData(),b=c.get(g.sourceNodeId)&&c.get(g.targetNodeId);(i||b)&&s.edges.push(g)}}),s}},{key:"updateAttributes",value:function(i,c){this.getElement(i).updateAttributes(c)}},{key:"changeNodeId",value:function(i,c){return c||(c=Ii()),this.nodesMap[c]?"":this.nodesMap[i]?(this.edges.forEach(function(s){s.sourceNodeId===i&&(s.sourceNodeId=c),s.targetNodeId===i&&(s.targetNodeId=c)}),this.nodesMap[i].model.id=c,this.nodesMap[c]=this.nodesMap[i],c):""}},{key:"changeEdgeId",value:function(i,c){return c||(c=Ii()),this.edgesMap[c]?"":this.edgesMap[i]?(this.edges.forEach(function(s){s.id===i&&s.changeEdgeId(c)}),c):""}},{key:"setFakerNode",value:function(i){this.fakerNode=i}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(i,c){return this.modelMap.set(i,c)}},{key:"toFront",value:function(i){var c,s,p,g=((c=this.nodesMap[i])===null||c===void 0?void 0:c.model)||((s=this.edgesMap[i])===null||s===void 0?void 0:s.model);g&&(this.overlapMode===Gn.DEFAULT&&((p=this.topElement)===null||p===void 0||p.setZIndex(),g.setZIndex(9999),this.topElement=g),this.overlapMode===Gn.INCREASE&&this.setElementZIndex(i,"top"))}},{key:"setElementZIndex",value:function(i,c){var s,p,g,b=((s=this.nodesMap[i])===null||s===void 0?void 0:s.model)||((p=this.edgesMap[i])===null||p===void 0?void 0:p.model);b&&(typeof c=="number"&&(g=c),c==="top"&&(g=Gf()),c==="bottom"&&(g=--wv),b.setZIndex(g))}},{key:"deleteNode",value:function(i){var c=this.nodesMap[i].model.getData();this.deleteEdgeBySource(i),this.deleteEdgeByTarget(i),this.nodes.splice(this.nodesMap[i].index,1),this.eventCenter.emit(gt.NODE_DELETE,{data:c})}},{key:"addNode",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt.NODE_ADD,s=arguments.length>2?arguments[2]:void 0,p=Rr(i);p.id&&this.nodesMap[i.id]&&delete p.id;var g=this.getModelAfterSnapToGrid(p);this.nodes.push(g);var b=g.getData(),E={data:b};return s&&(E.e=s),this.eventCenter.emit(c,E),g}},{key:"getModelAfterSnapToGrid",value:function(i){var c=this.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的节点，请确认是否已注册此类型节点。"));var s=i.x,p=i.y;return s&&p&&(i.x=ia(s,this.gridSize),i.y=ia(p,this.gridSize),hh(i.text)==="object"&&(i.text.x+=i.x-s,i.text.y+=i.y-p)),new c(i,this)}},{key:"cloneNode",value:function(i){var c=this.getNodeModelById(i),s=c.getData();s.x+=30,s.y+=30,delete s.id,s.text&&(s.text.x+=30,s.text.y+=30);var p=this.addNode(s);return p.setSelected(!0),c.setSelected(!1),p.getData()}},{key:"moveNode",value:function(i,c,s){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=this.nodesMap[i];if(g){var b=g.model,E=b.getMoveDistance(c,s,p),P=za(E,2);c=P[0],s=P[1],this.moveEdge(i,c,s)}}},{key:"moveNode2Coordinate",value:function(i,c,s){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=this.nodesMap[i];if(g){var b=g.model,E=b.x,P=b.y,C=c-E,L=s-P;this.moveNode(i,C,L,p)}}},{key:"editText",value:function(i){this.setElementStateById(i,On.TEXT_EDIT)}},{key:"addEdge",value:function(i){var c=Rr(i),s=c.type;s||(s=this.edgeType),c.id&&this.edgesMap[c.id]&&delete c.id;var p=this.getModel(s);if(!p)throw new Error("找不到".concat(s,"对应的边，请确认是否已注册此类型边。"));var g=new p(Ba(Ba({},c),{},{type:s}),this),b=g.getData();return this.edges.push(g),this.eventCenter.emit(gt.EDGE_ADD,{data:b}),g}},{key:"moveEdge",value:function(i,c,s){for(var p=0;p<this.edges.length;p++){var g=this.edges[p],b=g.textPosition,E=b.x,P=b.y,C=this.edges[p].sourceNodeId===i,L=this.edges[p].targetNodeId===i;C&&g.moveStartPoint(c,s),L&&g.moveEndPoint(c,s),(C||L)&&this.handleEdgeTextMove(g,E,P)}}},{key:"handleEdgeTextMove",value:function(i,c,s){var p;if(i.customTextPosition===!0)i.resetTextPosition();else if(i.modelType===Qt.POLYLINE_EDGE&&(p=i.text)!==null&&p!==void 0&&p.value){var g=i.text,b=zs(g,i.points);i.moveText(b.x-g.x,b.y-g.y)}else{var E=i.textPosition,P=E.x,C=E.y;i.moveText(P-c,C-s)}}},{key:"deleteEdgeBySourceAndTarget",value:function(i,c){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===i&&this.edges[s].targetNodeId===c){var p=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(gt.EDGE_DELETE,{data:p})}}},{key:"deleteEdgeById",value:function(i){if(this.edgesMap[i]){var c=this.edgesMap[i].index,s=this.edgesMap[i].model.getData();this.edges.splice(c,1),this.eventCenter.emit(gt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeBySource",value:function(i){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===i){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(gt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeByTarget",value:function(i){for(var c=0;c<this.edges.length;c++)if(this.edges[c].targetNodeId===i){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(gt.EDGE_DELETE,{data:s})}}},{key:"setElementStateById",value:function(i,c,s){this.nodes.forEach(function(p){p.id===i?p.setElementState(c,s):p.setElementState(On.DEFAULT)}),this.edges.forEach(function(p){p.id===i?p.setElementState(c,s):p.setElementState(On.DEFAULT)})}},{key:"updateText",value:function(i,c){this.nodes.forEach(function(s){s.id===i&&s.updateText(c)}),this.edges.forEach(function(s){s.id===i&&s.updateText(c)})}},{key:"selectNodeById",value:function(i){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var p=(c=this.nodesMap[i])===null||c===void 0?void 0:c.model;p==null||p.setSelected(!0)}},{key:"selectEdgeById",value:function(i){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var p=(c=this.edgesMap[i])===null||c===void 0?void 0:c.model;p==null||p.setSelected(!0)}},{key:"selectElementById",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var s=this.getElement(i);s==null||s.setSelected(!0)}},{key:"clearSelectElements",value:function(){var i;this.selectElements.forEach(function(c){c==null||c.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Gn.DEFAULT&&((i=this.topElement)===null||i===void 0||i.setZIndex())}},{key:"moveNodes",value:function(i,c,s){for(var p=this,g=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=i.reduce(function(tt,xt){var et=p.nodesMap[xt].model.getMoveDistance(c,s,g);return tt[xt]=et,tt},{}),E=0;E<this.edges.length;E++){var P=this.edges[E],C=P.textPosition,L=C.x,Y=C.y,te=b[P.sourceNodeId],ie=b[P.targetNodeId],_e=void 0,be=void 0;if(te&&ie&&P.modelType===Qt.POLYLINE_EDGE){var Ee=za(te,2);_e=Ee[0],be=Ee[1],P.updatePointsList(_e,be)}else{if(te){var Ie=za(te,2);_e=Ie[0],be=Ie[1],P.moveStartPoint(_e,be)}if(ie){var nt=za(ie,2);_e=nt[0],be=nt[1],P.moveEndPoint(_e,be)}}(te||ie)&&this.handleEdgeTextMove(P,L,Y)}}},{key:"addNodeMoveRules",value:function(i){this.nodeMoveRules.includes(i)||this.nodeMoveRules.push(i)}},{key:"setDefaultEdgeType",value:function(i){this.edgeType=i}},{key:"changeNodeType",value:function(i,c){var s=this.getNodeModelById(i);if(s){var p=s.getData();p.type=c;var g=this.getModel(c);if(!g)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));var b=new g(p,this);this.nodes.splice(this.nodesMap[i].index,1,b),this.getNodeEdges(i).forEach(function(E){if(E.sourceNodeId===i){var P=Gd(b,E.startPoint,b.width,b.height);E.updateStartPoint(P)}if(E.targetNodeId===i){var C=Gd(b,E.endPoint,b.width,b.height);E.updateEndPoint(C)}})}}},{key:"changeEdgeType",value:function(i,c){var s=this.getEdgeModelById(i);if(s&&s.type!==c){var p=s.getData();p.type=c;var g=this.getModel(c);if(!g)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));delete p.pointsList;var b=new g(p,this);this.edges.splice(this.edgesMap[i].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(i){var c=[];return this.edges.forEach(function(s){s.targetNodeId===i&&c.push(s)}),c}},{key:"getNodeOutgoingEdge",value:function(i){var c=[];return this.edges.forEach(function(s){s.sourceNodeId===i&&c.push(s)}),c}},{key:"getAnchorIncomingEdge",value:function(i){var c=[];return this.edges.forEach(function(s){s.targetAnchorId===i&&c.push(s)}),c}},{key:"getAnchorOutcomingEdge",value:function(i){var c=[];return this.edges.forEach(function(s){s.sourceAnchorId===i&&c.push(s)}),c}},{key:"getNodeIncomingNode",value:function(i){var c=this,s=[];return this.edges.forEach(function(p){p.targetNodeId===i&&s.push(c.nodesMap[p.sourceNodeId].model)}),s}},{key:"getNodeOutgoingNode",value:function(i){var c=this,s=[];return this.edges.forEach(function(p){p.sourceNodeId===i&&s.push(c.nodesMap[p.targetNodeId].model)}),s}},{key:"setTheme",value:function(i){this.theme=Da(Ba(Ba({},this.theme),i))}},{key:"resize",value:function(i,c){this.width=i||this.rootEl.getBoundingClientRect().width,this.height=c||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var i=this.nodes,c=[],s=[];i.forEach(function(C){var L=C.x,Y=C.y,te=C.width,ie=C.height,_e=C.getNodeStyle().strokeWidth,be=_e===void 0?0:_e,Ee=L+te/2+be,Ie=L-te/2-be,nt=Y+ie/2+be,tt=Y-ie/2-be;c=c.concat([Ee,Ie].filter(function(xt){return!Number.isNaN(xt)})),s=s.concat([nt,tt].filter(function(xt){return!Number.isNaN(xt)}))});var p=Math.min.apply(Math,Ui(c)),g=Math.max.apply(Math,Ui(c)),b=Math.min.apply(Math,Ui(s)),E=g-p||0,P=Math.max.apply(Math,Ui(s))-b||0;return{virtualRectWidth:E,virtualRectHeight:P,virtualRectCenterPositionX:p+E/2,virtualRectCenterPositionY:b+P/2}}},{key:"translateCenter",value:function(){var i=this.nodes,c=this.width,s=this.height,p=this.rootEl,g=this.transformModel;if(i.length){var b=c||p.clientWidth,E=s||p.clientHeight,P=this.getVirtualRectSize(),C=P.virtualRectCenterPositionX,L=P.virtualRectCenterPositionY;g.focusOn(C,L,b,E)}}},{key:"fitView",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,s=this.nodes,p=this.width,g=this.height,b=this.rootEl,E=this.transformModel;if(s.length){var P=p||b.clientWidth,C=g||b.clientHeight,L=this.getVirtualRectSize(),Y=L.virtualRectWidth,te=L.virtualRectHeight,ie=L.virtualRectCenterPositionX,_e=L.virtualRectCenterPositionY,be=(Y+c)/P,Ee=(te+i)/C,Ie=0;Ie=1/Math.max(be,Ee);var nt=[P/2,C/2];E.zoom(Ie,nt),E.focusOn(ie,_e,P,C)}}},{key:"openEdgeAnimation",value:function(i){this.getEdgeModelById(i).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(i){this.getEdgeModelById(i).closeEdgeAnimation()}}],n&&dj(e.prototype,n),t}(),Ut=jt(ce.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=jt(ce.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=jt(ce.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=jt(ce.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fr=jt(ce.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),io=jt(ce.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gn.DEFAULT}}),Ho=jt(ce.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=jt(ce.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=jt(ce.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=jt(ce.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cu=jt(ce.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hs=jt(ce.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt(ce.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(ce.prototype,"nodesMap"),ce.prototype),jt(ce.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(ce.prototype,"edgesMap"),ce.prototype),jt(ce.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(ce.prototype,"modelsMap"),ce.prototype),jt(ce.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(ce.prototype,"sortElements"),ce.prototype),jt(ce.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(ce.prototype,"textEditElement"),ce.prototype),jt(ce.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectElements"),ce.prototype),jt(ce.prototype,"selectNodes",[h.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodes"),ce.prototype),jt(ce.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"setFakerNode"),ce.prototype),jt(ce.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"removeFakerNode"),ce.prototype),jt(ce.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"setModel"),ce.prototype),jt(ce.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"toFront"),ce.prototype),jt(ce.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementZIndex"),ce.prototype),jt(ce.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteNode"),ce.prototype),jt(ce.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"addNode"),ce.prototype),jt(ce.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"cloneNode"),ce.prototype),jt(ce.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode"),ce.prototype),jt(ce.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode2Coordinate"),ce.prototype),jt(ce.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"editText"),ce.prototype),jt(ce.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"addEdge"),ce.prototype),jt(ce.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveEdge"),ce.prototype),jt(ce.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySourceAndTarget"),ce.prototype),jt(ce.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeById"),ce.prototype),jt(ce.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySource"),ce.prototype),jt(ce.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeByTarget"),ce.prototype),jt(ce.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementStateById"),ce.prototype),jt(ce.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"updateText"),ce.prototype),jt(ce.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodeById"),ce.prototype),jt(ce.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectEdgeById"),ce.prototype),jt(ce.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectElementById"),ce.prototype),jt(ce.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearSelectElements"),ce.prototype),jt(ce.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNodes"),ce.prototype),jt(ce.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"setDefaultEdgeType"),ce.prototype),jt(ce.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeNodeType"),ce.prototype),jt(ce.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeEdgeType"),ce.prototype),jt(ce.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingEdge"),ce.prototype),jt(ce.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingEdge"),ce.prototype),jt(ce.prototype,"getAnchorIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"getAnchorIncomingEdge"),ce.prototype),jt(ce.prototype,"getAnchorOutcomingEdge",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"getAnchorOutcomingEdge"),ce.prototype),jt(ce.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingNode"),ce.prototype),jt(ce.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingNode"),ce.prototype),jt(ce.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"setTheme"),ce.prototype),jt(ce.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"resize"),ce.prototype),jt(ce.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearData"),ce.prototype),jt(ce.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"translateCenter"),ce.prototype),jt(ce.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"fitView"),ce.prototype),jt(ce.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"openEdgeAnimation"),ce.prototype),jt(ce.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ce.prototype,"closeEdgeAnimation"),ce.prototype),ce),hj=J0;function Cv(t){return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function Rv(){return Rv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rv.apply(this,arguments)}function yj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Iv(t,e){return Iv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Iv(t,e)}function vj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=yh(t);if(e){var c=yh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return gj(this,n)}}function gj(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(t)}function pa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(t)}function Fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z0,mj=Hi(K0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Iv(s,p)})(c,t);var e,n,i=vj(c);function c(s){var p;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,c),Fa(pa(p=i.call(this)),"stepDrag",void 0),Fa(pa(p),"stepScrollX",0),Fa(pa(p),"stepScrollY",0),Fa(pa(p),"onDragging",function(P){var C=P.deltaX,L=P.deltaY;p.setState({isDragging:!0});var Y=p.props.graphModel,te=Y.transformModel;Y.editConfigModel.stopMoveGraph!==!0&&te.translate(C,L)}),Fa(pa(p),"onDragEnd",function(){p.setState({isDragging:!1})}),Fa(pa(p),"zoomHandler",function(P){var C=p.props,L=C.graphModel,Y=L.editConfigModel,te=L.transformModel,ie=L.gridSize,_e=C.graphModel,be=P.deltaX,Ee=P.deltaY;if(Y.stopScrollGraph||P.ctrlKey===!0){if(!Y.stopZoomGraph){P.preventDefault();var Ie=_e.getPointByClient({x:P.clientX,y:P.clientY}).canvasOverlayPosition,nt=Ie.x,tt=Ie.y;te.zoom(P.deltaY<0,[nt,tt])}}else{if(P.preventDefault(),p.stepScrollX+=be,p.stepScrollY+=Ee,Math.abs(p.stepScrollX)>=ie){var xt=p.stepScrollX%ie,et=p.stepScrollX-xt;te.translate(-et*te.SCALE_X,0),p.stepScrollX=xt}if(Math.abs(p.stepScrollY)>=ie){var bt=p.stepScrollY%ie,at=p.stepScrollY-bt;te.translate(0,-at*te.SCALE_Y),p.stepScrollY=bt}}}),Fa(pa(p),"clickHandler",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){var C=p.props.graphModel;C.selectElements.size>0&&C.clearSelectElements(),C.eventCenter.emit(gt.BLANK_CLICK,{e:P})}}),Fa(pa(p),"handleContextMenu",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){P.preventDefault();var C=p.props.graphModel,L=C.getPointByClient({x:P.clientX,y:P.clientY});C.eventCenter.emit(gt.BLANK_CONTEXTMENU,{e:P,position:L})}}),Fa(pa(p),"mouseDownHandler",function(P){var C=p.props.graphModel,L=C.eventCenter,Y=C.editConfigModel,te=C.transformModel.SCALE_X,ie=C.gridSize,_e=P.target,be=!Y.adjustEdge&&!Y.adjustNodePosition;(_e.getAttribute("name")==="canvas-overlay"||be)&&(Y.stopMoveGraph!==!0?(p.stepDrag.setStep(ie*te),p.stepDrag.handleMouseDown(P)):L.emit(gt.BLANK_MOUSEDOWN,{e:P}),p.clickHandler(P))});var g=s.graphModel,b=g.gridSize,E=g.eventCenter;return p.stepDrag=new To({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:E,model:null}),p.state={isDragging:!1},p}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props,g=p.children,b=p.dnd,E=this.state.isDragging;return Object(pe.g)("svg",Rv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:E?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:s},g))}}])&&yj(e.prototype,n),c}(pe.a))||K0;function Lv(t){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function bj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Bv(t,e){return Bv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bv(t,e)}function Oj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=vh(t);if(e){var c=vh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return wj(this,n)}}function wj(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(t)}var xj=Hi(Z0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Bv(s,p)})(c,t);var e,n,i=Oj(c);function c(){return bj(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var s=this.props,p=s.tool,g=s.graphModel,b=p.getTools().map(function(E){return Object(pe.g)(E,{graphModel:g,logicFlow:p.instance})});return p.components=b,b}},{key:"triggerToolRender",value:function(){var s=this.props,p=s.tool,g=s.graphModel,b=document.querySelector("#ToolOverlay_".concat(g.flowId)),E=p.getInstance();E.components.forEach(function(P){return P(E,b)}),E.components=[]}},{key:"render",value:function(){var s=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(s.flowId)},this.getTools())}}])&&_j(e.prototype,n),c}(pe.a))||Z0;function zv(t){return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function Ej(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Fv(t,e){return Fv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Fv(t,e)}function jj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=gh(t);if(e){var c=gh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return Aj(this,n)}}function Aj(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}var Q0,Pj=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Fv(s,p)})(c,t);var e,n,i=jj(c);function c(){return Ej(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:s,className:"lf-background-area"}))}}])&&Sj(e.prototype,n),c}(pe.a);function Uv(t){return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function Mj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Wv(t,e){return Wv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Wv(t,e)}function kj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=mh(t);if(e){var c=mh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return Nj(this,n)}}function Nj(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_(t)}function e_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(t)}function Dj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var t_=Hi(Q0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Wv(s,p)})(c,t);var e,n,i=kj(c);function c(){var s;Mj(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Dj(e_(s=i.call.apply(i,[this].concat(g))),"id",Ii()),s}return e=c,(n=[{key:"renderDot",value:function(){var s=this.props,p=s.config,g=p.color,b=p.thickness,E=b===void 0?2:b,P=s.size,C=s.visible,L=Math.min(Math.max(2,E),P/2),Y=1;return C||(Y=0),Object(pe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:g,opacity:Y})}},{key:"renderMesh",value:function(){var s=this.props,p=s.config,g=p.color,b=p.thickness,E=b===void 0?1:b,P=s.size,C=s.visible,L=Math.min(Math.max(1,E),P/2),Y="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),te=1;return C||(te=0),Object(pe.g)("path",{d:Y,stroke:g,strokeWidth:L,opacity:te})}},{key:"render",value:function(){var s=this.props,p=s.type,g=s.size,b=s.graphModel.transformModel,E=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),P="matrix(".concat(E,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:P,x:"0",y:"0",width:g,height:g},p==="dot"&&this.renderDot(),p==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Tj(e.prototype,n),c}(pe.a))||Q0;t_.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function $v(t){return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function Cj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return n_(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return n_(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var r_,fc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var i=Cj(n,2),c=i[0],s=i[1];(c==="style"||$v(s)!=="object")&&(e[c]=s)}),Object(pe.g)("line",e)};function Gv(t){return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(i){Rj(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Rj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ij(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Vv(t,e){return Vv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vv(t,e)}function Bj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=_h(t);if(e){var c=_h(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return zj(this,n)}}function zj(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}var i_,Fj=Hi(r_=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Vv(s,p)})(c,t);var e,n,i=Bj(c);function c(){return Ij(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.snaplineModel,p=s.position,g=s.isShowHorizontal,b=s.isShowVertical,E=s.getStyle(),P=p.x,C=P===void 0?0:P,L=p.y,Y=L===void 0?0:L,te=bh(bh({x1:-1e5,y1:Y,x2:1e5,y2:Y},E),{},{stroke:g?E.stroke:"none"}),ie=bh(bh({x1:C,y1:-1e5,x2:C,y2:1e5},E),{},{stroke:b?E.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(fc,te),Object(pe.g)(fc,ie))}}])&&Lj(e.prototype,n),c}(pe.a))||r_;function Hv(t){return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function Uj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return a_(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return a_(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Iu(t){var e=t.x,n=t.y,i=t.width,c=t.height,s=t.className,p=t.radius,g=e-i/2,b=n-c/2,E={};return Object.entries(t).forEach(function(P){var C=Uj(P,2),L=C[0],Y=C[1];Hv(Y)!=="object"&&(E[L]=Y)}),E.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",p&&(E.rx=p,E.ry=p),E.x=g,E.y=b,Object(pe.g)("rect",E)}function Xv(t){return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function pc(){return pc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pc.apply(this,arguments)}function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function s_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(i){Wj(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Wj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yv(t,e){return Yv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Yv(t,e)}function Vj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Oh(t);if(e){var c=Oh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return Hj(this,n)}}function Hj(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}Iu.defaultProps={className:"",radius:""};var l_,Xj=Hi(i_=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Yv(s,p)})(c,t);var e,n,i=Vj(c);function c(){return $j(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getNodesOutline",value:function(){var s=this.props.graphModel,p=s.nodes,g=s.editConfigModel,b=g.hoverOutline,E=g.nodeSelectedOutline,P=[];return p.forEach(function(C){if(C.isHovered||C.isSelected){var L=C.isHovered,Y=C.isSelected,te=C.x,ie=C.y,_e=C.width,be=C.height;if(E&&Y||b&&L){var Ee=C.getOutlineStyle(),Ie={};if(Object.keys(Ee).forEach(function(tt){tt!=="hover"&&(Ie[tt]=Ee[tt])}),L){var nt=Ee.hover;Ie=s_(s_({},Ie),nt)}P.push(Object(pe.g)(Iu,pc({transform:C.transform,className:"lf-outline-node",x:te,y:ie,width:_e+10,height:be+10},Ie)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var s=this.props.graphModel,p=s.edges,g=s.editConfigModel,b=g.edgeSelectedOutline,E=g.hoverOutline,P=[],C=0;C<p.length;C++){var L=p[C];(b&&L.isSelected||E&&L.isHovered)&&(L.modelType===Qt.LINE_EDGE?P.push(this.getLineOutline(L)):L.modelType===Qt.POLYLINE_EDGE?P.push(this.getPolylineOutline(L)):L.modelType===Qt.BEZIER_EDGE&&P.push(this.getBezierOutline(L)))}return P}},{key:"getLineOutline",value:function(s){var p=s.startPoint,g=s.endPoint,b=(p.x+g.x)/2,E=(p.y+g.y)/2,P=Math.abs(p.x-g.x)+10,C=Math.abs(p.y-g.y)+10,L=s.getOutlineStyle();return Object(pe.g)(Iu,pc({className:"lf-outline-edge",x:b,y:E,width:P,height:C},L))}},{key:"getPolylineOutline",value:function(s){var p=s.points,g=Bi(p),b=La(g,8),E=b.x,P=b.y,C=b.width,L=b.height,Y=s.getOutlineStyle();return Object(pe.g)(Iu,pc({className:"lf-outline",x:E,y:P,width:C,height:L},Y))}},{key:"getBezierOutline",value:function(s){var p=s.path,g=Ls(p),b=La(g,8),E=b.x,P=b.y,C=b.width,L=b.height,Y=s.getOutlineStyle();return Object(pe.g)(Iu,pc({className:"lf-outline",x:E,y:P,width:C,height:L},Y))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Gj(e.prototype,n),c}(pe.a))||i_;function Kv(t){return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function Yj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return c_(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return c_(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function dc(t){var e=t.x,n=e===void 0?0:e,i=t.y,c=i===void 0?0:i,s=t.r,p=s===void 0?4:s,g=t.className,b={cx:n,cy:c,r:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(E){var P=Yj(E,2),C=P[0],L=P[1];Kv(L)!=="object"&&(b[C]=L)}),b.className=g?"lf-basic-shape ".concat(g):"lf-basic-shape",Object(pe.g)("circle",b)}function qv(t){return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function Kj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return f_(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f_(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _p(){return _p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_p.apply(this,arguments)}function p_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d_(t,e,n){return e&&qj(t.prototype,e),t}function h_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Jv(t,e)}function y_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=xh(t);if(e){var c=xh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return Jj(this,n)}}function Jj(t,e){if(e&&(qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wh(t)}function wh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xh(t)}function Zv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v_,g_=function(t){h_(n,t);var e=y_(n);function n(){var i;return p_(this,n),Zv(wh(i=e.call(this)),"dragHandler",void 0),Zv(wh(i),"onDragging",function(c){var s=c.event,p=i.props,g=p.graphModel,b=p.bezierModel,E=p.type,P=g.getPointByClient({x:s.clientX,y:s.clientY}).canvasOverlayPosition,C=P.x,L=P.y;b.updateAdjustAnchor({x:C,y:L},E),g.eventCenter.emit(gt.EDGE_ADJUST,{data:b.getData()})}),Zv(wh(i),"onDragEnd",function(){i.props.bezierModel.isDragging=!1}),i.dragHandler=new To({onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return d_(n,[{key:"render",value:function(){var i=this,c=this.props.position,s=c.x,p=c.y,g=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(dc,_p({className:"lf-bezier-adjust-anchor",x:s,y:p},g,{onMouseDown:function(b){i.dragHandler.handleMouseDown(b)}}))}}]),n}(pe.a),Zj=Hi(l_=function(t){h_(n,t);var e=y_(n);function n(){return p_(this,n),e.apply(this,arguments)}return d_(n,[{key:"getBezierAdjust",value:function(i,c){var s=i.path,p=i.id,g=Kj(Ls(s),4),b=g[0],E=g[1],P=g[2],C=g[3],L=i.getEdgeStyle().adjustLine,Y=[];return Y.push(Object(pe.g)(fc,_p({x1:b.x,y1:b.y,x2:E.x,y2:E.y},L))),Y.push(Object(pe.g)(g_,{position:E,bezierModel:i,graphModel:c,key:"".concat(p,"_ePre"),type:"sNext"})),Y.push(Object(pe.g)(fc,_p({x1:C.x,y1:C.y,x2:P.x,y2:P.y},L))),Y.push(Object(pe.g)(g_,{position:P,bezierModel:i,graphModel:c,key:"".concat(p,"_sNext"),type:"ePre"})),Y}},{key:"selectedBezierEdge",value:function(){for(var i=this.props.graphModel,c=i.edges,s=[],p=0;p<c.length;p++){var g=c[p];g.isSelected&&g.modelType===Qt.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,i))}return s}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(pe.a))||l_;function Qv(t){return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Qj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function eg(t,e){return eg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eg(t,e)}function tA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Eh(t);if(e){var c=Eh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return nA(this,n)}}function nA(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Eh(t)}var m_,rA=Hi(v_=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&eg(s,p)})(c,t);var e,n,i=tA(c);function c(){return Qj(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:s},p))}}])&&eA(e.prototype,n),c}(pe.a))||v_;function tg(t){return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function ng(){return ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ng.apply(this,arguments)}function oA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rg(t,e){return rg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rg(t,e)}function aA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Sh(t);if(e){var c=Sh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return uA(this,n)}}function uA(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}var sA=Hi(m_=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&rg(s,p)})(c,t);var e,n,i=aA(c);function c(){return oA(this,c),i.apply(this,arguments)}return e=c,n=[{key:"getComponent",value:function(s,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,E=b(s.type);return Object(pe.g)(E,{key:s.id,model:s,graphModel:p,overlay:g})}},{key:"render",value:function(){var s=this,p=this.props,g=p.graphModel,b=p.tool,E=p.options,P=p.dnd,C=p.snaplineModel,L={};E.width&&(L.width="".concat(g.width,"px")),E.height&&(L.height="".concat(g.height,"px"));var Y=E.grid,te=g.fakerNode,ie=g.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":g.flowId,style:L},Object(pe.g)(mj,{graphModel:g,dnd:P},Object(pe.g)("g",{className:"lf-base"},Ol(g.sortElements,function(_e){return s.getComponent(_e,g)})),te?this.getComponent(te,g):""),Object(pe.g)(rA,{graphModel:g},Object(pe.g)(Xj,{graphModel:g}),ie?Object(pe.g)(Zj,{graphModel:g}):"",E.snapline!==!1?Object(pe.g)(Fj,{snaplineModel:C}):""),Object(pe.g)(xj,{graphModel:g,tool:b}),E.background&&Object(pe.g)(Pj,{background:E.background}),E.grid&&Object(pe.g)(t_,ng({},Y,{graphModel:g})))}}],n&&iA(e.prototype,n),c}(pe.a))||m_,lA=sA;function b_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(n),!0).forEach(function(i){Ua(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ua(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fA=function(){function t(i){var c=this;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),Ua(this,"nodeConfig",void 0),Ua(this,"lf",void 0),Ua(this,"fakerNode",void 0),Ua(this,"stopDrag",function(){c.nodeConfig=null,window.document.removeEventListener("mouseup",c.stopDrag)}),Ua(this,"dragEnter",function(p){c.nodeConfig&&!c.fakerNode&&(c.fakerNode=c.lf.createFakerNode(jh(jh({},c.nodeConfig),c.clientToLocalPoint({x:p.clientX,y:p.clientY}))))}),Ua(this,"onDragOver",function(p){if(p.preventDefault(),c.fakerNode){var g=c.clientToLocalPoint({x:p.clientX,y:p.clientY}),b=g.x,E=g.y;c.fakerNode.moveTo(b,E);var P=c.fakerNode.getData();c.lf.setNodeSnapLine(P),c.lf.graphModel.eventCenter.emit(gt.NODE_DND_DRAG,{data:P})}return!1}),Ua(this,"onDragLeave",function(){c.fakerNode&&(c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)}),Ua(this,"onDrop",function(p){c.lf.graphModel&&p&&c.nodeConfig&&(c.lf.addNode(jh(jh({},c.nodeConfig),c.clientToLocalPoint({x:p.clientX,y:p.clientY})),gt.NODE_DND_ADD,p),p.preventDefault(),p.stopPropagation(),c.nodeConfig=null,c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)});var s=i.lf;this.lf=s}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(i){var c=i.x,s=i.y,p=pu(this.lf.options,["grid","size"]),g=this.lf.graphModel.getPointByClient({x:c,y:s}).canvasOverlayPosition,b=g.x,E=g.y;return{x:ia(b,p),y:ia(E,p)}}},{key:"startDrag",value:function(i){var c=this.lf.graphModel.editConfigModel;c!=null&&c.isSilentMode||(this.nodeConfig=i,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&cA(e.prototype,n),t}();function __(t){var e=t.container,n=t.grid,i=t.width,c=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof i=="string"||typeof c=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=js({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),js({},w_,t)}var En,O_,w_={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function og(t){return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function ig(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return x_(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return x_(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(i){S_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pA(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function dA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Op(){return Op=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=yA(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Op.apply(this,arguments)}function yA(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Lu(t))!==null;);return t}function ag(t,e){return ag=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ag(t,e)}function vA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Lu(t);if(e){var c=Lu(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return gA(this,n)}}function gA(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ph(t)}function Ph(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lu(t){return Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lu(t)}function S_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $i(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ug=(En=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&ag(s,p)})(c,t);var e,n,i=vA(c);function c(){var s;dA(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return S_(Ph(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.BEZIER_EDGE),pA(Ph(s),"path",O_,Ph(s)),s}return e=c,(n=[{key:"initEdgeData",value:function(s){this.offset=100,Op(Lu(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.bezier;return Ah(Ah({},Op(Lu(c.prototype),"getEdgeStyle",this).call(this)),xn(s))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var s=0,p=0;return this.pointsList.forEach(function(g){var b=g.x,E=g.y;s+=b,p+=E}),{x:s/this.pointsList.length,y:p/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var s=Op(Lu(c.prototype),"getData",this).call(this),p=this.pointsList.map(function(g){return{x:g.x,y:g.y}});return Ah(Ah({},s),{},{pointsList:p})}},{key:"getControls",value:function(){var s=this.startPoint,p=this.endPoint;return Is({start:s,end:p,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(s){var p=ig(s,4),g=p[0],b=p[1],E=p[2],P=p[3];return"M ".concat(g.x," ").concat(g.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(E.x," ").concat(E.y,`,
    `).concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var s=this.getControls(),p=s.sNext,g=s.ePre;this.updatePath(p,g)}},{key:"updatePath",value:function(s,p){s=xn(s),p=xn(p);var g={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!s||!p){var E=this.getControls();s=E.sNext,p=E.ePre}this.pointsList=[g,s,p,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,p){this.startPoint.x+=s,this.startPoint.y+=p;var g=ig(this.pointsList,3),b=g[1],E=g[2];b.x+=s,b.y+=p,this.updatePath(b,E)}},{key:"moveEndPoint",value:function(s,p){this.endPoint.x+=s,this.endPoint.y+=p;var g=ig(this.pointsList,3),b=g[1],E=g[2];E.x+=s,E.y+=p,this.updatePath(b,E)}},{key:"updateAdjustAnchor",value:function(s,p){p==="sNext"?this.pointsList[1]=s:p==="ePre"&&(this.pointsList[2]=s),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var p=s.startPoint,g=s.endPoint,b=s.sourceNode,E=s.targetNode,P=Is({start:p,end:g,sourceNode:b,targetNode:E,offset:this.offset}),C=P.sNext,L=P.ePre;this.pointsList=[p,C,L,g],this.initPoints()}}])&&hA(e.prototype,n),c}(Hf),O_=$i(En.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$i(En.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"initPoints"),En.prototype),$i(En.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updatePoints"),En.prototype),$i(En.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateStartPoint"),En.prototype),$i(En.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateEndPoint"),En.prototype),$i(En.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"moveStartPoint"),En.prototype),$i(En.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"moveEndPoint"),En.prototype),$i(En.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateAdjustAnchor"),En.prototype),$i(En.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"getAdjustStart"),En.prototype),$i(En.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"getAdjustEnd"),En.prototype),$i(En.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateAfterAdjustStartAndEnd"),En.prototype),En),qe,j_,A_,P_,M_,T_,k_,N_,D_,C_,R_,I_,L_,B_,z_,F_,U_,W_,$_,G_,V_,H_,X_,mA=function(t){return t==null};function bA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||Y_(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sg(t){return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function Y_(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K_(t,e):void 0}}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(i){ko(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dr(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ko(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Wa,J_,$a=(qe=function(){function t(i,c){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),ko(this,"id",""),dr(this,"type",j_,this),dr(this,"x",A_,this),dr(this,"y",P_,this),dr(this,"text",M_,this),dr(this,"properties",T_,this),dr(this,"_width",k_,this),dr(this,"_height",N_,this),dr(this,"anchorsOffset",D_,this),dr(this,"isSelected",C_,this),dr(this,"isHovered",R_,this),dr(this,"isShowAnchor",I_,this),dr(this,"isDragging",L_,this),dr(this,"isHitable",B_,this),dr(this,"draggable",z_,this),dr(this,"visible",F_,this),dr(this,"enableRotate",U_,this),ko(this,"virtual",!1),ko(this,"graphModel",void 0),dr(this,"zIndex",W_,this),dr(this,"state",$_,this),dr(this,"autoToFront",G_,this),dr(this,"style",V_,this),dr(this,"transform",H_,this),dr(this,"_rotate",X_,this),ko(this,"BaseType",or.NODE),ko(this,"modelType",Qt.NODE),ko(this,"additionStateData",void 0),ko(this,"targetRules",[]),ko(this,"sourceRules",[]),ko(this,"moveRules",[]),ko(this,"hasSetTargetRules",!1),ko(this,"hasSetSourceRules",!1),this.graphModel=c,this.initNodeData(i),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(i){this._width=i}},{key:"height",get:function(){return this._height},set:function(i){this._height=i}},{key:"rotate",get:function(){return this._rotate},set:function(i){this._rotate=i;var c=this.x,s=c===void 0?0:c,p=this.y,g=p===void 0?0:p;this.transform=new Ru(-s,-g).rotate(i).translate(s,g).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(i){if(i.properties||(i.properties={}),!i.id){var c=this.graphModel.idGenerator,s=c&&c(i.type),p=this.createId();i.id=p||s||Ii()}this.formatText(i),jr(this,function(g){return Ti(g,["id","type","x","y","text","properties","virtual","rotate"])}(i)),this.graphModel.overlapMode===Gn.INCREASE&&(this.zIndex=i.zIndex||Gf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(i){i.text||(i.text={value:"",x:i.x,y:i.y,draggable:!1,editable:!0}),i.text&&typeof i.text=="string"?i.text={value:i.text,x:i.x,y:i.y,draggable:!1,editable:!0}:i.text&&i.text.editable===void 0&&(i.text.editable=!0)}},{key:"getData",value:function(){var i=this.text,c=i.x,s=i.y,p=i.value,g=this.properties;Object(h.x)(g)&&(g=Object(h.I)(g));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:g};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Gn.INCREASE&&(b.zIndex=this.zIndex),p&&(b.text={x:c,y:s,value:p}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return mo(mo({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var i=this.graphModel.theme.nodeText;return xn(i)}},{key:"getRotateControlStyle",value:function(){var i=this.graphModel.theme.rotateControl;return xn(i)}},{key:"getAnchorStyle",value:function(i){var c=this.graphModel.theme.anchor;return xn(c)}},{key:"getAnchorLineStyle",value:function(i){var c=this.graphModel.theme.anchorLine;return xn(c)}},{key:"getOutlineStyle",value:function(){var i=this.graphModel.theme.outline;return xn(i)}},{key:"isAllowConnectedAsSource",value:function(i,c,s,p){var g=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,E=!0,P=0;P<g.length;P++){var C=g[P];if(!C.validate.call(this,this,i,c,s,p)){E=!1,b=C.message;break}}return{isAllPass:E,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(i,c,s,p){var g=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,E=!0,P=0;P<g.length;P++){var C=g[P];if(!C.validate.call(this,i,this,c,s,p)){E=!1,b=C.message;break}}return{isAllPass:E,msg:b}}},{key:"isAllowMoveNode",value:function(i,c){var s,p=!0,g=!0,b=function(C,L){var Y=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!Y){if(Array.isArray(C)||(Y=Y_(C))||L){Y&&(C=Y);var te=0,ie=function(){};return{s:ie,n:function(){return te>=C.length?{done:!0}:{done:!1,value:C[te++]}},e:function(Ie){throw Ie},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,be=!0,Ee=!1;return{s:function(){Y=Y.call(C)},n:function(){var Ie=Y.next();return be=Ie.done,Ie},e:function(Ie){Ee=!0,_e=Ie},f:function(){try{be||Y.return==null||Y.return()}finally{if(Ee)throw _e}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(s=b.n()).done;){var E=(0,s.value)(this,i,c);if(!E)return!1;if(sg(E)==="object"){var P=E;if(P.x===!1&&P.y===!1)return!1;p=p&&P.x,g=g&&P.y}}}catch(C){b.e(C)}finally{b.f()}return{x:p,y:g}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var i=this.anchorsOffset,c=this.id,s=this.x,p=this.y;return i&&i.length>0?i.map(function(g,b){return g.length?(g=g,{id:"".concat(c,"_").concat(b),x:s+g[0],y:p+g[1]}):mo(mo({},g=g),{},{x:s+g.x,y:p+g.y,id:g.id||"".concat(c,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(i){return function(c,s){for(var p,g=ql(s),b=Number.MAX_SAFE_INTEGER,E=0;E<g.length;E++){var P=Go(c.x,c.y,g[E].x,g[E].y);P<b&&(b=P,p={index:E,anchor:Xl(Xl({},g[E]),{},{x:g[E].x,y:g[E].y,id:g[E].id})})}return p}(i,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var i=this.getAnchorsByOffset(),c=this.x,s=this.y,p=this.rotate;return i.forEach(function(g){var b=g.x,E=g.y,P=bA(new di([b,E,1]).translate(-c,-s).rotate(p).translate(c,s)[0],2),C=P[0],L=P[1];g.x=C,g.y=L}),i}},{key:"getAnchorInfo",value:function(i){if(!mA(i))for(var c=0;c<this.anchors.length;c++){var s=this.anchors[c];if(s.id===i)return s}}},{key:"addNodeMoveRules",value:function(i){this.moveRules.includes(i)||this.moveRules.push(i)}},{key:"move",value:function(i,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,g=!1;if(s)p=!0,g=!0;else{var b=this.isAllowMoveNode(i,c);typeof b=="boolean"?(p=b,g=b):(p=b.x,g=b.y)}if(p){var E=this.x+i;this.x=E,this.text&&this.moveText(i,0)}if(g){var P=this.y+c;this.y=P,this.text&&this.moveText(0,c)}return p||g}},{key:"getMoveDistance",value:function(i,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,g=!1,b=0,E=0;if(s)p=!0,g=!0;else{var P=this.isAllowMoveNode(i,c);typeof P=="boolean"?(p=P,g=P):(p=P.x,g=P.y)}if(p&&i){var C=this.x+i;this.x=C,this.text&&this.moveText(i,0),b=i}if(g&&c){var L=this.y+c;this.y=L,this.text&&this.moveText(0,c),E=c}return[b,E]}},{key:"moveTo",value:function(i,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=i-this.x,g=c-this.y;return!(!s&&!this.isAllowMoveNode(p,g)||(this.text&&this.text&&this.moveText(p,g),this.x=i,this.y=c,0))}},{key:"moveText",value:function(i,c){var s=this.text,p=s.x,g=s.y,b=s.value,E=s.draggable,P=s.editable;this.text={value:b,editable:P,draggable:E,x:p+i,y:g+c}}},{key:"updateText",value:function(i){this.text=mo(mo({},Object(h.I)(this.text)),{},{value:i})}},{key:"setSelected",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=i}},{key:"setHovered",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=i,this.setIsShowAnchor(i)}},{key:"setIsShowAnchor",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=i}},{key:"setEnableRotate",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=i}},{key:"setHitable",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=i}},{key:"setElementState",value:function(i,c){this.state=i,this.additionStateData=c}},{key:"setProperty",value:function(i,c){this.properties=mo(mo({},Object(h.I)(this.properties)),{},ko({},i,Rr(c))),this.setAttributes()}},{key:"setProperties",value:function(i){this.properties=mo(mo({},Object(h.I)(this.properties)),Rr(i)),this.setAttributes()}},{key:"deleteProperty",value:function(i){delete this.properties[i],this.setAttributes()}},{key:"setStyle",value:function(i,c){this.style=mo(mo({},this.style),{},ko({},i,Rr(c)))}},{key:"setStyles",value:function(i){this.style=mo(mo({},this.style),Rr(i))}},{key:"updateStyles",value:function(i){this.style=mo({},Rr(i))}},{key:"setZIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=i}},{key:"updateAttributes",value:function(i){jr(this,i)}}],n&&_A(e.prototype,n),t}(),j_=Jt(qe.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A_=Jt(qe.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P_=Jt(qe.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M_=Jt(qe.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),T_=Jt(qe.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),k_=Jt(qe.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),N_=Jt(qe.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),D_=Jt(qe.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C_=Jt(qe.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R_=Jt(qe.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I_=Jt(qe.prototype,"isShowAnchor",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L_=Jt(qe.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B_=Jt(qe.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z_=Jt(qe.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F_=Jt(qe.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U_=Jt(qe.prototype,"enableRotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),W_=Jt(qe.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$_=Jt(qe.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G_=Jt(qe.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V_=Jt(qe.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),H_=Jt(qe.prototype,"transform",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X_=Jt(qe.prototype,"_rotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jt(qe.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(qe.prototype,"incoming"),qe.prototype),Jt(qe.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(qe.prototype,"outgoing"),qe.prototype),Jt(qe.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"addNodeMoveRules"),qe.prototype),Jt(qe.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"move"),qe.prototype),Jt(qe.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"getMoveDistance"),qe.prototype),Jt(qe.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"moveTo"),qe.prototype),Jt(qe.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"moveText"),qe.prototype),Jt(qe.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateText"),qe.prototype),Jt(qe.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setSelected"),qe.prototype),Jt(qe.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setHovered"),qe.prototype),Jt(qe.prototype,"setIsShowAnchor",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setIsShowAnchor"),qe.prototype),Jt(qe.prototype,"setEnableRotate",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setEnableRotate"),qe.prototype),Jt(qe.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setHitable"),qe.prototype),Jt(qe.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setElementState"),qe.prototype),Jt(qe.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setProperty"),qe.prototype),Jt(qe.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setProperties"),qe.prototype),Jt(qe.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"deleteProperty"),qe.prototype),Jt(qe.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setStyle"),qe.prototype),Jt(qe.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setStyles"),qe.prototype),Jt(qe.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateStyles"),qe.prototype),Jt(qe.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setZIndex"),qe.prototype),Jt(qe.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateAttributes"),qe.prototype),qe);function lg(t){return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function Z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(n),!0).forEach(function(i){e1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function OA(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function wA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cg(){return cg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=EA(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},cg.apply(this,arguments)}function EA(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hc(t))!==null;);return t}function fg(t,e){return fg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fg(t,e)}function SA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=hc(t);if(e){var c=hc(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return jA(this,n)}}function jA(t,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mh(t)}function Mh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(t)}function e1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pg(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ao,t1,n1,dg=(Wa=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&fg(s,p)})(c,t);var e,n,i=SA(c);function c(){var s;wA(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return e1(Mh(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.CIRCLE_NODE),OA(Mh(s),"r",J_,Mh(s)),s}return e=c,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var s=cg(hc(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.circle;return Q_(Q_({},s),xn(p))}},{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.r;return[{x:s,y:p-g,id:"".concat(this.id,"_0")},{x:s+g,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+g,id:"".concat(this.id,"_2")},{x:s-g,y:p,id:"".concat(this.id,"_3")}]}}])&&xA(e.prototype,n),c}($a),J_=pg(Wa.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),pg(Wa.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Wa.prototype,"width"),Wa.prototype),pg(Wa.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Wa.prototype,"height"),Wa.prototype),Wa);o(129);function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function yg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return r1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return r1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(i){u1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function a1(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function AA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function vg(){return vg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=MA(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},vg.apply(this,arguments)}function MA(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=vc(t))!==null;);return t}function gg(t,e){return gg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gg(t,e)}function TA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=vc(t);if(e){var c=vc(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return kA(this,n)}}function kA(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yc(t)}function yc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(t)}function u1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gc(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var da,s1,l1,mg=(ao=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&gg(s,p)})(c,t);var e,n,i=TA(c);function c(){var s;AA(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return u1(yc(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.DIAMOND_NODE),a1(yc(s),"rx",t1,yc(s)),a1(yc(s),"ry",n1,yc(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=vg(vc(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.diamond;return i1(i1({},s),xn(p))}},{key:"points",get:function(){var s=this.x,p=this.y,g=this.rx,b=this.ry;return[[s,p-b],[s+g,p],[s,p+b],[s-g,p]]}},{key:"pointsPosition",get:function(){return this.points.map(function(s){return{x:s[0],y:s[1]}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=yg(g,1)[0];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=yg(g,2)[1];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"getDefaultAnchor",value:function(){var s=this;return this.points.map(function(p,g){var b=yg(p,2);return{x:b[0],y:b[1],id:"".concat(s.id,"_").concat(g)}})}}])&&PA(e.prototype,n),c}($a),t1=gc(ao.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),n1=gc(ao.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),gc(ao.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(ao.prototype,"points"),ao.prototype),gc(ao.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(ao.prototype,"pointsPosition"),ao.prototype),gc(ao.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ao.prototype,"width"),ao.prototype),gc(ao.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ao.prototype,"height"),ao.prototype),ao);function bg(t){return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function f1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(i){d1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function p1(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function NA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _g(){return _g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=CA(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},_g.apply(this,arguments)}function CA(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=bc(t))!==null;);return t}function Og(t,e){return Og=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Og(t,e)}function RA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=bc(t);if(e){var c=bc(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return IA(this,n)}}function IA(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mc(t)}function mc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bc(t){return bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bc(t)}function d1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Th(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var yi,h1,wg=(da=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Og(s,p)})(c,t);var e,n,i=RA(c);function c(){var s;NA(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return d1(mc(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.ELLIPSE_NODE),p1(mc(s),"rx",s1,mc(s)),p1(mc(s),"ry",l1,mc(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=_g(bc(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.ellipse;return f1(f1({},s),xn(p))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.rx,b=this.ry;return[{x:s,y:p-b,id:"".concat(this.id,"_0")},{x:s+g,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b,id:"".concat(this.id,"_2")},{x:s-g,y:p,id:"".concat(this.id,"_3")}]}}])&&DA(e.prototype,n),c}($a),s1=Th(da.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),l1=Th(da.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Th(da.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(da.prototype,"width"),da.prototype),Th(da.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(da.prototype,"height"),da.prototype),da);function xg(t){return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function Eg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return y1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return y1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function g1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(i){m1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function LA(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function BA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Sg(){return Sg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=FA(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Sg.apply(this,arguments)}function FA(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=_c(t))!==null;);return t}function jg(t,e){return jg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jg(t,e)}function UA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=_c(t);if(e){var c=_c(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return WA(this,n)}}function WA(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kh(t)}function kh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _c(t){return _c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_c(t)}function m1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nh(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Ag,b1,Pg=(yi=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&jg(s,p)})(c,t);var e,n,i=UA(c);function c(){var s;BA(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return m1(kh(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.POLYGON_NODE),LA(kh(s),"points",h1,kh(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=Sg(_c(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.polygon;return g1(g1({},s),xn(p))}},{key:"pointsPosition",get:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return this.points.map(function(E){return{x:E[0]+s-g/2,y:E[1]+p-b/2}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=Eg(g,1)[0];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=Eg(g,2)[1];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"getDefaultAnchor",value:function(){var s=this,p=this.x,g=this.y,b=this.width,E=this.height;return this.points.map(function(P,C){var L=Eg(P,2),Y=L[0],te=L[1];return{x:p+Y-b/2,y:g+te-E/2,id:"".concat(s.id,"_").concat(C)}})}}])&&zA(e.prototype,n),c}($a),h1=Nh(yi.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Nh(yi.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(yi.prototype,"pointsPosition"),yi.prototype),Nh(yi.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(yi.prototype,"width"),yi.prototype),Nh(yi.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(yi.prototype,"height"),yi.prototype),yi);function Mg(t){return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(i){w1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $A(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function GA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Tg(){return Tg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=HA(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Tg.apply(this,arguments)}function HA(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Oc(t))!==null;);return t}function kg(t,e){return kg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},kg(t,e)}function XA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Oc(t);if(e){var c=Oc(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return YA(this,n)}}function YA(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dh(t)}function Dh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oc(t){return Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oc(t)}function w1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bu,Ng=(Ag=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&kg(s,p)})(c,t);var e,n,i=XA(c);function c(){var s;GA(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return w1(Dh(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.RECT_NODE),$A(Dh(s),"radius",b1,Dh(s)),s}return e=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return[{x:s,y:p-b/2,id:"".concat(this.id,"_0")},{x:s+g/2,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b/2,id:"".concat(this.id,"_2")},{x:s-g/2,y:p,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var s=Tg(Oc(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.rect;return O1(O1({},s),xn(p))}}])&&VA(e.prototype,n),c}($a),b1=function(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}(Ag.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ag);function Dg(t){return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(i){j1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function KA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Cg(){return Cg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=JA(t,e);if(i){var c=Object.getOwnPropertyDescriptor(i,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Cg.apply(this,arguments)}function JA(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wc(t))!==null;);return t}function Rg(t,e){return Rg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rg(t,e)}function ZA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=wc(t);if(e){var c=wc(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return QA(this,n)}}function QA(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1(t)}function S1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wc(t){return wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wc(t)}function j1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A1(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Ig=(Bu=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Rg(s,p)})(c,t);var e,n,i=ZA(c);function c(){var s;KA(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return j1(S1(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.TEXT_NODE),s}return e=c,(n=[{key:"getTextStyle",value:function(){var s=Cg(wc(c.prototype),"getTextStyle",this).call(this),p=this.graphModel.theme.text;return E1(E1({},s),xn(p))}},{key:"width",get:function(){var s=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return Ds({rows:s,fontSize:p,rowsLength:s.length}).width}},{key:"height",get:function(){var s=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return Ds({rows:s,fontSize:p,rowsLength:s.length}).height}}])&&qA(e.prototype,n),c}($a),A1(Bu.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Bu.prototype,"width"),Bu.prototype),A1(Bu.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Bu.prototype,"height"),Bu.prototype),Bu);function Lg(t){return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function eP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Bg(t,e){return Bg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bg(t,e)}function nP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Ch(t);if(e){var c=Ch(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return rP(this,n)}}function rP(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1(t)}function P1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(t)}function oP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gi,M1,T1,k1,zg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Bg(s,p)})(c,t);var e,n,i=nP(c);function c(){var s;eP(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return oP(P1(s=i.call.apply(i,[this].concat(g))),"modelType",Qt.HTML_NODE),s}return e=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return[{x:s,y:p-b/2,id:"".concat(this.id,"_0")},{x:s+g/2,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b/2,id:"".concat(this.id,"_2")},{x:s-g/2,y:p,id:"".concat(this.id,"_3")}]}}])&&tP(e.prototype,n),c}($a);function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Fg(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function iP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function D1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wp(t,e,n,i,c){var s={};return Object.keys(i).forEach(function(p){s[p]=i[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var C1=(Gi=function(){function t(i){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),D1(this,"graphModel",void 0),Fg(this,"isShowHorizontal",M1,this),Fg(this,"isShowVertical",T1,this),Fg(this,"position",k1,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=i}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(i){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?N1(Object(s),!0).forEach(function(p){D1(i,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):N1(Object(s)).forEach(function(p){Object.defineProperty(i,p,Object.getOwnPropertyDescriptor(s,p))})}return i}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(i,c){for(var s=i.x,p=i.y,g=!1,b=!1,E=0;E<c.length;E++){var P=c[E];if(P.id!==i.id&&(s===P.x&&(g=!0),p===P.y&&(b=!0),g&&b))break}return{isShowVertical:g,isShowHorizontal:b,position:{x:s,y:p}}}},{key:"getHorizontalSnapline",value:function(i,c){var s,p,g=!1,b=i.id;if(b){var E=this.graphModel.fakerNode;if(E&&E.id===b)p=Vn(E);else{var P=this.graphModel.getNodeModelById(b);p=Vn(P)}}for(var C=0;C<c.length;C++){var L=c[C];if(L.id!==i.id){var Y=Vn(L);if(Y.minY===p.minY||Y.maxY===p.minY){g=!0,s=p.minY;break}if(Y.minY===p.maxY||Y.maxY===p.maxY){g=!0,s=p.maxY;break}}}return jr({isShowHorizontal:g,position:{y:s}})}},{key:"getVerticalSnapline",value:function(i,c){var s,p,g=!1,b=i.id;if(b){var E=this.graphModel.fakerNode;if(E&&E.id===b)p=Vn(E);else{var P=this.graphModel.getNodeModelById(b);p=Vn(P)}}for(var C=0;C<c.length;C++){var L=c[C];if(L.id!==i.id){var Y=Vn(L);if(Y.minX===p.minX||Y.maxX===p.minX){g=!0,s=p.minX;break}if(Y.minX===p.maxX||Y.maxX===p.maxX){g=!0,s=p.maxX;break}}}return jr({isShowVertical:g,position:{x:s}})}},{key:"getSnapLinePosition",value:function(i,c){var s=this.getCenterSnapLine(i,c),p=s.isShowHorizontal,g=s.isShowVertical;if(!p){var b=this.getHorizontalSnapline(i,c);b.isShowHorizontal&&(s.isShowHorizontal=b.isShowHorizontal,s.position.y=b.position.y)}if(!g){var E=this.getVerticalSnapline(i,c);E.isShowVertical&&(s.isShowVertical=E.isShowVertical,s.position.x=E.position.x)}return s}},{key:"setSnaplineInfo",value:function(i){var c=i.isShowHorizontal,s=i.isShowVertical,p=i.position;this.position=p,this.isShowHorizontal=c,this.isShowVertical=s}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(i){var c=this.graphModel.nodes,s=this.getSnapLinePosition(i,c);this.setSnaplineInfo(s)}}],n&&iP(e.prototype,n),t}(),M1=wp(Gi.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T1=wp(Gi.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k1=wp(Gi.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wp(Gi.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(Gi.prototype,"clearSnapline"),Gi.prototype),wp(Gi.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(Gi.prototype,"setNodeSnapLine"),Gi.prototype),Gi),xp=new Map,R1=function(t){var e=Ii(),n=window.requestAnimationFrame(function i(){if(t(),xp.get(e)){var c=window.requestAnimationFrame(i);xp.set(e,c)}});return xp.set(e,n),e},Rh=function(t){var e=xp.get(t);e&&(window.cancelAnimationFrame(e),xp.delete(t))};function Ug(t){return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function Ep(){return Ep=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ep.apply(this,arguments)}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(i){ya(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function aP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return L1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return L1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function uP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Wg(t,e){return Wg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Wg(t,e)}function sP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Ih(t);if(e){var c=Ih(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return lP(this,n)}}function lP(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ha(t)}function ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ih(t)}function ya(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cP=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Wg(s,p)})(c,t);var e,n,i=sP(c);function c(){var s;return function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}(this,c),ya(ha(s=i.call(this)),"preTargetNode",void 0),ya(ha(s),"sourceRuleResults",void 0),ya(ha(s),"targetRuleResults",void 0),ya(ha(s),"dragHandler",void 0),ya(ha(s),"t",void 0),ya(ha(s),"onDragStart",function(p){var g=p.event,b=s.props,E=b.anchorData,P=b.nodeModel,C=b.graphModel;C.overlapMode,C.selectNodeById(P.id),P.autoToFront&&C.toFront(P.id),C.eventCenter.emit(gt.ANCHOR_DRAGSTART,{data:E,e:g,nodeModel:P}),s.setState({startX:E.x,startY:E.y,endX:E.x,endY:E.y})}),ya(ha(s),"onDragging",function(p){var g=p.event,b=s.props,E=b.graphModel,P=b.nodeModel,C=b.anchorData,L=E.transformModel,Y=E.eventCenter,te=E.width,ie=E.height,_e=E.editConfigModel,be=_e.autoExpand,Ee=_e.stopMoveGraph,Ie=g.clientX,nt=g.clientY,tt=E.getPointByClient({x:Ie,y:nt}),xt=tt.domOverlayPosition,et=xt.x,bt=xt.y,at=tt.canvasOverlayPosition,rn=at.x,ln=at.y;s.t&&Rh(s.t);var Lt=[];et<10?Lt=[10,0]:et+10>te?Lt=[-10,0]:bt<10?Lt=[0,10]:bt+10>ie&&(Lt=[0,-10]),s.setState({endX:rn,endY:ln,dragging:!0}),s.moveAnchorEnd(rn,ln),Lt.length>0&&!Ee&&be&&(s.t=R1(function(){var yn=aP(Lt,2),ar=yn[0],ur=yn[1];L.translate(ar,ur);var Kr=s.state,Ko=Kr.endX,qo=Kr.endY;s.setState({endX:Ko-ar,endY:qo-ur}),s.moveAnchorEnd(Ko-ar,qo-ur)})),Y.emit(gt.ANCHOR_DRAG,{data:C,e:g,nodeModel:P})}),ya(ha(s),"onDragEnd",function(p){var g=p.event;s.t&&Rh(s.t);var b=s.checkEnd(g);s.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),s.sourceRuleResults.clear(),s.targetRuleResults.clear();var E=s.props,P=E.graphModel,C=E.nodeModel,L=E.anchorData;P.eventCenter.emit(gt.ANCHOR_DRAGEND,{data:L,e:g,nodeModel:C,edgeModel:b})}),ya(ha(s),"checkEnd",function(p){var g=s.props,b=g.graphModel,E=g.nodeModel,P=g.anchorData,C=P.x,L=P.y,Y=P.id,te=(b.edgeType,s.state),ie=te.endX,_e=te.endY,be=te.dragging,Ee=Ns({x:ie,y:_e},b);if(s.preTargetNode&&s.preTargetNode.state!==On.DEFAULT&&s.preTargetNode.setElementState(On.DEFAULT),be&&Ee&&Ee.node){var Ie=Ee.node,nt=Ee.anchor.id,tt="".concat(E.id,"_").concat(Ie.id,"_").concat(nt,"_").concat(Y),xt=s.sourceRuleResults.get(tt)||{},et=xt.isAllPass,bt=xt.msg,at=s.targetRuleResults.get(tt)||{},rn=at.isAllPass,ln=at.msg;if(et&&rn){Ie.setElementState(On.DEFAULT);var Lt=b.edgeGenerator(E.getData(),b.getNodeModelById(Ee.node.id).getData()),yn=b.addEdge(Sp(Sp({},Lt),{},{sourceNodeId:E.id,sourceAnchorId:Y,startPoint:{x:C,y:L},targetNodeId:Ee.node.id,targetAnchorId:Ee.anchor.id,endPoint:{x:Ee.anchor.x,y:Ee.anchor.y}})),ar=s.props.anchorData;return b.eventCenter.emit(gt.ANCHOR_DROP,{data:ar,e:p,nodeModel:E,edgeModel:yn}),yn}var ur=Ie.getData();return b.eventCenter.emit(gt.CONNECTION_NOT_ALLOWED,{data:ur,msg:ln||bt||"不允许添加连线"}),null}}),s.sourceRuleResults=new Map,s.targetRuleResults=new Map,s.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},s.dragHandler=new To({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd}),s}return e=c,(n=[{key:"getAnchorShape",value:function(){var s=this.props,p=s.anchorData,g=s.style,b=s.node.getAnchorShape(p);if(b)return b;var E=p.x,P=p.y,C=Sp(Sp({},g),g.hover);return Object(pe.g)("g",null,Object(pe.g)(dc,Ep({className:"lf-node-anchor-hover"},C,{x:E,y:P})),Object(pe.g)(dc,Ep({className:"lf-node-anchor"},g,{x:E,y:P})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var s=this.props,p=s.graphModel,g=p.getAnchorIncomingEdge,b=p.getAnchorOutcomingEdge,E=s.anchorData.id;return{incomingEdgeList:g(E),outcomingEdgeList:b(E)}}},{key:"moveAnchorEnd",value:function(s,p){var g=this.props,b=g.graphModel,E=g.nodeModel,P=g.anchorData,C=Ns({x:s,y:p},b);if(C){var L=C.node,Y=C.anchor.id;if(this.preTargetNode&&this.preTargetNode!==C.node&&this.preTargetNode.setElementState(On.DEFAULT),P.id===Y)return;this.preTargetNode=L;var te="".concat(E.id,"_").concat(L.id,"_").concat(Y,"_").concat(P.id);if(!this.targetRuleResults.has(te)){var ie=C.anchor,_e=E.isAllowConnectedAsSource(L,P,ie),be=L.isAllowConnectedAsTarget(E,P,ie);this.sourceRuleResults.set(te,ju(_e)),this.targetRuleResults.set(te,ju(be))}var Ee=this.sourceRuleResults.get(te).isAllPass,Ie=this.targetRuleResults.get(te).isAllPass;Ee&&Ie?L.setElementState(On.ALLOW_CONNECT):L.setElementState(On.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==On.DEFAULT&&this.preTargetNode.setElementState(On.DEFAULT)}},{key:"isShowLine",value:function(){var s=this.state,p=s.startX,g=s.startY,b=s.endX,E=s.endY;return Go(p,g,b,E)>10}},{key:"render",value:function(){var s=this,p=this.state,g=p.startX,b=p.startY,E=p.endX,P=p.endY,C=this.props,L=C.anchorData.edgeAddable,Y=C.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(te){L!==!1&&s.dragHandler.handleMouseDown(te)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Sp({sourcePoint:{x:g,y:b},targetPoint:{x:E,y:P}},Y)):Object(pe.g)(fc,Ep({x1:g,y1:b,x2:E,y2:P},Y,{"pointer-events":"none"}))))}}])&&uP(e.prototype,n),c}(pe.a);function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function fP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(i){pP(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $g(t){return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function dP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return z1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return z1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function F1(t){var e=t.x,n=e===void 0?0:e,i=t.y,c=i===void 0?0:i,s=t.value,p=t.fontSize,g=t.fill,b=g===void 0?"currentColor":g,E=t.overflowMode,P=E===void 0?"default":E,C=t.textWidth,L=C===void 0?"":C,Y=t.model,te={textAnchor:"middle","dominant-baseline":"middle",x:n,y:c,fill:b};if(Object.entries(t).forEach(function(nt){var tt=dP(nt,2),xt=tt[0],et=tt[1];$g(et)!=="object"&&(te[xt]=et)}),s){var ie=String(s).split(/[\r\n]/g),_e=ie.length;if(P!=="default"){var be=Y.BaseType,Ee=Y.modelType;if(be===or.NODE&&Ee!==Qt.TEXT_NODE||be===or.EDGE&&L)return function(nt){var tt=nt.value,xt=nt.fontSize,et=nt.model,bt=nt.fontFamily,at=bt===void 0?"":bt,rn=nt.lineHeight,ln=nt.wrapPadding,Lt=ln===void 0?"0, 0":ln,yn=nt.overflowMode,ar=nt.x,ur=nt.y,Kr=et.width,Ko=et.textHeight,qo=nt.textWidth||Kr,ma=String(tt).split(/[\r\n]/g),el=ma.length,uy=Vd({rows:ma,style:{fontSize:"".concat(xt,"px"),width:"".concat(qo,"px"),fontFamily:at,lineHeight:rn,padding:Lt},rowsLength:el,className:"lf-get-text-height"}),tl=et.height>uy?et.height:uy;Ko&&(tl=Ko);var Uu=yn==="ellipsis";return Uu&&(tl=xt+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:qo,height:tl,x:ar-qo/2,y:ur-tl/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:tl,width:qo,padding:Lt}},Object(pe.g)("div",{className:Uu?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Uu?ma.join(""):"",style:fP({},nt)},ma.map(function(Wu){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Wu)})))))}(t)}if(_e>1){var Ie=ie.map(function(nt,tt){var xt=(tt-(_e-1)/2)*(p+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:c+xt},nt)});return Object(pe.g)("text",te,Ie)}return Object(pe.g)("text",te,s)}}function Gg(t){return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vg.apply(this,arguments)}function hP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return U1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return U1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function yP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Hg(t,e){return Hg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Hg(t,e)}function vP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Lh(t);if(e){var c=Lh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return gP(this,n)}}function gP(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zu(t)}function zu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lh(t)}function qs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W1=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Hg(s,p)})(c,t);var e,n,i=vP(c);function c(s){var p;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,c),qs(zu(p=i.call(this)),"dragHandler",void 0),qs(zu(p),"sumDeltaX",0),qs(zu(p),"sumDeltaY",0),qs(zu(p),"stepDrag",void 0),qs(zu(p),"onDragging",function(b){var E=b.deltaX,P=b.deltaY,C=p.props,L=C.model,Y=hP(C.graphModel.transformModel.fixDeltaXY(E,P),2),te=Y[0],ie=Y[1];L.moveText(te,ie)}),qs(zu(p),"dblClickHandler",function(){p.props.editable&&p.props.model.setElementState(On.TEXT_EDIT)}),qs(zu(p),"mouseDownHandle",function(b){var E=p.props,P=E.draggable,C=E.model,L=E.graphModel.editConfigModel.nodeTextDraggable;(P||L)&&(p.stepDrag.model=C,p.stepDrag.handleMouseDown(b))}),s.model;var g=s.draggable;return p.stepDrag=new To({onDragging:p.onDragging,step:1,isStopPropagation:g}),p}return e=c,(n=[{key:"getShape",value:function(){var s=this.props,p=s.model,g=s.graphModel,b=p.text,E=g.editConfigModel,P=b.value,C=b.x,L=b.y,Y=b.editable,te=b.draggable,ie={x:C,y:L,className:"",value:P};Y?ie.className="lf-element-text":te||E.nodeTextDraggable?ie.className="lf-text-draggable":ie.className="lf-text-disabled";var _e=p.getTextStyle();return Object(pe.g)(F1,Vg({},ie,_e,{model:p}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&yP(e.prototype,n),c}(pe.a),mP=pu(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,$1=o(130);function Xg(t){return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function Yg(){return Yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yg.apply(this,arguments)}function bP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kg(t,e){return Kg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Kg(t,e)}function _P(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Bh(t);if(e){var c=Bh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return OP(this,n)}}function OP(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xc(t)}function xc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(t)}function jp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wP=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Kg(s,p)})(c,t);var e,n,i=_P(c);function c(s){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c),jp(xc(p=i.call(this,s)),"style",{}),jp(xc(p),"defaultAngle",void 0),jp(xc(p),"normal",void 0),jp(xc(p),"stepperDrag",void 0),jp(xc(p),"onDragging",function(g){var b,E=g.event,P=p.props,C=P.graphModel,L=P.nodeModel,Y=P.eventCenter,te=C.selectNodes,ie=L.x,_e=L.y,be=E.clientX,Ee=E.clientY,Ie=C.getPointByClient({x:be,y:Ee}).canvasOverlayPosition,nt=Ie.x,tt=Ie.y,xt=new Sr(nt-ie,tt-_e),et=((b=p.normal)===null||b===void 0?void 0:b.angle(xt))-p.defaultAngle,bt=new Ru(-ie,-_e).rotate(et).translate(ie,_e).toString();L.transform=bt,L.rotate=et;var at=Object($1.map)(te,function(ln){return ln.id});at.indexOf(L.id)===-1&&(at=[L.id]);var rn=Object($1.reduce)(at,function(ln,Lt){var yn=C.getNodeModelById(Lt);return ln[Lt]=yn==null?void 0:yn.getMoveDistance(0,0,!1),ln},{});at.forEach(function(ln){C.getNodeEdges(ln).forEach(function(Lt){if(rn[Lt.sourceNodeId]){var yn=C.getNodeModelById(Lt.sourceNodeId).anchors.find(function(ur){return ur.id===Lt.sourceAnchorId});Lt.updateStartPoint(yn)}if(rn[Lt.targetNodeId]){var ar=C.getNodeModelById(Lt.targetNodeId).anchors.find(function(ur){return ur.id===Lt.targetAnchorId});Lt.updateEndPoint(ar)}})}),Y.emit(gt.NODE_ROTATE,{e:E,nodeModel:L})}),p.style=s.style,p.stepperDrag=new To({onDragging:p.onDragging}),p}return e=c,(n=[{key:"render",value:function(){var s=this,p=this.props.nodeModel,g=p.x,b=p.y,E=g+p.width/2+20,P=b-p.height/2-20;return this.normal=new Sr(1,0),this.defaultAngle=this.normal.angle(new Sr(E-g,P-b)),p.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(C){s.stepperDrag.handleMouseDown(C)}},Object(pe.g)(dc,Yg({},this.style,{cx:E,cy:P}))))}}])&&bP(e.prototype,n),c}(pe.a);function qg(t){return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}var xP=["className"];function zh(){return zh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zh.apply(this,arguments)}function EP(t,e){if(t==null)return{};var n,i,c=function(p,g){if(p==null)return{};var b,E,P={},C=Object.keys(p);for(E=0;E<C.length;E++)b=C[E],g.indexOf(b)>=0||(P[b]=p[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function Fh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return G1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return G1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function V1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jg(t,e){return Jg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Jg(t,e)}function SP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Uh(t);if(e){var c=Uh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return jP(this,n)}}function jP(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(t)}function Pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uh(t)}function Br(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ga=function(t){(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&Jg(p,g)})(s,t);var e,n,i,c=SP(s);function s(p){var g;(function(L,Y){if(!(L instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,s),Br(Pr(g=c.call(this)),"t",void 0),Br(Pr(g),"moveOffset",void 0),Br(Pr(g),"stepDrag",void 0),Br(Pr(g),"contextMenuTime",void 0),Br(Pr(g),"mouseUpDrag",void 0),Br(Pr(g),"startTime",void 0),Br(Pr(g),"clickTimer",void 0),Br(Pr(g),"modelDisposer",void 0),Br(Pr(g),"onDragStart",function(L){var Y=L.event,te=Y.clientX,ie=Y.clientY,_e=g.props,be=_e.model,Ee=_e.graphModel.getPointByClient({x:te,y:ie}).canvasOverlayPosition,Ie=Ee.x,nt=Ee.y;g.moveOffset={x:be.x-Ie,y:be.y-nt}}),Br(Pr(g),"onDragging",function(L){var Y=L.event,te=g.props,ie=te.model,_e=te.graphModel,be=_e.editConfigModel,Ee=be.stopMoveGraph,Ie=be.autoExpand,nt=_e.transformModel,tt=_e.selectNodes,xt=_e.width,et=_e.height,bt=_e.gridSize;ie.isDragging=!0;var at=Y.clientX,rn=Y.clientY,ln=_e.getPointByClient({x:at,y:rn}).canvasOverlayPosition,Lt=ln.x,yn=ln.y,ar=Fh(nt.CanvasPointToHtmlPoint([Lt,yn]),2),ur=ar[0],Kr=ar[1];if(Lt+=g.moveOffset.x,yn+=g.moveOffset.y,Lt=ia(Lt,bt),yn=ia(yn,bt),xt&&et){if(!Ie||Ee||!(ur<0||Kr<0||ur>xt||Kr>et)){var Ko=Fh(nt.CanvasPointToHtmlPoint([Lt-ie.width/2,yn-ie.height/2]),2),qo=Ko[0],ma=Ko[1],el=Fh(nt.CanvasPointToHtmlPoint([Lt+ie.width/2,yn+ie.height/2]),2),uy=el[0],tl=el[1],Uu=Math.max(bt,20),Wu=[];qo<0?Wu=[Uu,0]:uy>_e.width?Wu=[-Uu,0]:ma<0?Wu=[0,Uu]:tl>_e.height&&(Wu=[0,-Uu]),g.t&&Rh(g.t);var l2=new Ru(-Lt,-yn).rotate(ie.rotate).translate(Lt,yn).toString();ie.transform=l2;var sy=tt.map(function(ly){return ly.id});sy.indexOf(ie.id)===-1&&(sy=[ie.id]),Wu.length>0&&!Ee&&Ie?g.t=R1(function(){var ly=Fh(Wu,2),SO=ly[0],jO=ly[1];nt.translate(SO,jO);var c2=-SO/nt.SCALE_X,f2=-jO/nt.SCALE_X;_e.moveNodes(sy,c2,f2)}):_e.moveNodes(sy,Lt-ie.x,yn-ie.y)}}else _e.moveNode2Coordinate(ie.id,Lt,yn)}),Br(Pr(g),"onDragEnd",function(){g.t&&Rh(g.t),g.props.model.isDragging=!1}),Br(Pr(g),"handleMouseUp",function(){var L=g.props.model;g.mouseUpDrag=L.isDragging}),Br(Pr(g),"handleClick",function(L){var Y=g.mouseUpDrag===!1;if(g.startTime){var te=g.props,ie=te.model,_e=te.graphModel;if(Y){var be={data:ie.getData(),e:L,position:_e.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},Ee=L.button===2,Ie=L.detail===2;if(!Ee){var nt=_e.editConfigModel,tt=Ts(L,nt);be.isMultiple=tt,ie.isSelected&&!Ie&&tt?(be.isSelected=!1,ie.setSelected(!1)):(_e.selectNodeById(ie.id,tt),be.isSelected=!0,g.toFront()),Ie?(nt.nodeTextEdit&&ie.text.editable&&(ie.setSelected(!1),_e.setElementStateById(ie.id,On.TEXT_EDIT)),_e.eventCenter.emit(gt.NODE_DBCLICK,be)):(_e.eventCenter.emit(gt.ELEMENT_CLICK,be),_e.eventCenter.emit(gt.NODE_CLICK,be))}}}}),Br(Pr(g),"handleContextMenu",function(L){L.preventDefault();var Y=g.props,te=Y.model,ie=Y.graphModel,_e=te.getData(),be=ie.getPointByClient({x:L.clientX,y:L.clientY});ie.setElementStateById(te.id,On.SHOW_MENU,be.domOverlayPosition),te.isSelected||ie.selectNodeById(te.id),ie.eventCenter.emit(gt.NODE_CONTEXTMENU,{data:_e,e:L,position:be}),g.toFront()}),Br(Pr(g),"handleMouseDown",function(L){var Y=g.props,te=Y.model,ie=Y.graphModel;g.startTime=new Date().getTime(),ie.editConfigModel.adjustNodePosition&&te.draggable&&g.stepDrag&&g.stepDrag.handleMouseDown(L)}),Br(Pr(g),"setHoverON",function(L){var Y=g.props,te=Y.model,ie=Y.graphModel;if(!te.isHovered){var _e=te.getData();te.setHovered(!0),ie.eventCenter.emit(gt.NODE_MOUSEENTER,{data:_e,e:L})}}),Br(Pr(g),"setHoverOFF",function(L){var Y=g.props,te=Y.model,ie=Y.graphModel,_e=te.getData();te.isHovered&&(te.setHovered(!1),ie.eventCenter.emit(gt.NODE_MOUSELEAVE,{data:_e,e:L}))}),Br(Pr(g),"onMouseOut",function(L){mP&&g.setHoverOFF(L)});var b=p.graphModel,E=b.gridSize,P=b.eventCenter,C=p.model;return g.stepDrag=new To({onDragStart:g.onDragStart,onDragging:g.onDragging,onDragEnd:g.onDragEnd,step:E,eventType:"NODE",isStopPropagation:!1,eventCenter:P,model:C}),g.modelDisposer=Object(h.F)(function(){return g.props},function(L){L&&L.model&&g.stepDrag.setModel(L.model)}),g}return e=s,i=[{key:"getModel",value:function(p){return p}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(p){return null}},{key:"getAnchors",value:function(){var p=this,g=this.props,b=g.model,E=g.graphModel,P=b.isSelected,C=b.isHitable,L=b.isDragging,Y=b.isShowAnchor;return C&&(P||Y)&&!L?Ol(b.anchors,function(te,ie){var _e=b.getAnchorLineStyle(te),be=b.getAnchorStyle(te);return Object(pe.g)(cP,{anchorData:te,node:p,style:be,edgeStyle:_e,anchorIndex:ie,nodeModel:b,graphModel:E,setHoverOFF:p.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var p=this.props,g=p.model,b=p.graphModel,E=g.isSelected,P=g.isHitable,C=g.enableRotate,L=g.isHovered,Y=g.getRotateControlStyle().style;if(P&&(E||L)&&C)return Object(pe.g)(wP,{graphModel:b,nodeModel:g,eventCenter:b.eventCenter,style:Y})}},{key:"getText",value:function(){var p=this.props,g=p.model,b=p.graphModel;if(g.state===On.TEXT_EDIT)return"";if(g.text){var E=b.editConfigModel,P=!1;return(g.text.draggable||E.nodeTextDraggable)&&(P=!0),Object(pe.g)(W1,{editable:E.nodeTextEdit&&g.text.editable,model:g,graphModel:b,draggable:P})}}},{key:"getStateClassName",value:function(){var p=this.props.model,g=p.state,b=p.isDragging,E=p.isSelected,P="lf-node";switch(g){case On.ALLOW_CONNECT:P+=" lf-node-allow";break;case On.NOT_ALLOW_CONNECT:P+=" lf-node-not-allow";break;default:P+=" lf-node-default"}return b&&(P+=" lf-isDragging"),E&&(P+=" lf-node-selected"),P}},{key:"toFront",value:function(){var p=this.props,g=p.model,b=p.graphModel;g.autoToFront&&b.toFront(g.id)}},{key:"render",value:function(){var p,g=this.props,b=g.model,E=g.graphModel,P=E.editConfigModel,C=P.hideAnchors,L=P.adjustNodePosition,Y=P.allowRotation,te=E.gridSize,ie=E.transformModel.SCALE_X,_e=b.isHitable,be=b.draggable,Ee=b.transform,Ie=b.getOuterGAttributes(),nt=Ie.className,tt=nt===void 0?"":nt,xt=EP(Ie,xP),et=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",{transform:Ee},this.getShape(),this.getText(),Y&&this.getRotateControl()),!C&&this.getAnchors());return _e?(L&&be&&this.stepDrag.setStep(te*ie),p=Object(pe.g)("g",zh({className:"".concat(this.getStateClassName()," ").concat(tt),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},xt),et)):p=Object(pe.g)("g",zh({className:"".concat(this.getStateClassName()," ").concat(tt)},xt),et),p}}])&&V1(e.prototype,n),i&&V1(e,i),s}(pe.a);function Zg(t){return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function Qg(){return Qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qg.apply(this,arguments)}function AP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function em(t,e){return em=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},em(t,e)}function MP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Wh(t);if(e){var c=Wh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return TP(this,n)}}function TP(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wh(t)}var tm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&em(s,p)})(c,t);var e,n,i=MP(c);function c(){return AP(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(pe.g)(Iu,Qg({},p,{x:s.x,y:s.y,width:s.width,height:s.height,radius:s.radius}))}}])&&PP(e.prototype,n),c}(Ga);function nm(t){return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function rm(){return rm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rm.apply(this,arguments)}function kP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function om(t,e){return om=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},om(t,e)}function DP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=$h(t);if(e){var c=$h(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return CP(this,n)}}function CP(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$h(t)}var im=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&om(s,p)})(c,t);var e,n,i=DP(c);function c(){return kP(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.r,E=s.getNodeStyle();return Object(pe.g)(dc,rm({},E,{x:p,y:g,r:b}))}}])&&NP(e.prototype,n),c}(Ga);function am(t){return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function RP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return H1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return H1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function X1(t){var e=t.points,n=t.className,i={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(c){var s=RP(c,2),p=s[0],g=s[1];am(g)!=="object"&&(i[p]=g)}),i.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",i.points=e.map(function(c){return c.join(",")}).join(" "),Object(pe.g)("polygon",i)}function um(t){return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function sm(){return sm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sm.apply(this,arguments)}function IP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lm(t,e){return lm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lm(t,e)}function BP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Gh(t);if(e){var c=Gh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return zP(this,n)}}function zP(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gh(t)}var cm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&lm(s,p)})(c,t);var e,n,i=BP(c);function c(){return IP(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.width,E=s.height,P=s.points,C=s.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(p-b/2," ").concat(g-E/2,")")};return Object(pe.g)("g",L,Object(pe.g)(X1,sm({},C,{points:P,x:p,y:g})))}}])&&LP(e.prototype,n),c}(Ga);function fm(t){return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function pm(){return pm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pm.apply(this,arguments)}function FP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dm(t,e){return dm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},dm(t,e)}function WP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Vh(t);if(e){var c=Vh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return $P(this,n)}}function $P(t,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vh(t)}var hm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&dm(s,p)})(c,t);var e,n,i=WP(c);function c(){return FP(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(X1,pm({},p,{points:s.points,x:s.x,y:s.y})))}}])&&UP(e.prototype,n),c}(Ga);function ym(t){return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function GP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return Y1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Y1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function VP(t){var e=t.x,n=e===void 0?0:e,i=t.y,c=i===void 0?0:i,s=t.rx,p=s===void 0?4:s,g=t.ry,b=g===void 0?4:g,E=t.className,P={cx:n,cy:c,rx:p,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(C){var L=GP(C,2),Y=L[0],te=L[1];ym(te)!=="object"&&(P[Y]=te)}),P.className=E?"lf-basic-shape ".concat(E):"lf-basic-shape",Object(pe.g)("ellipse",P)}function vm(t){return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function gm(){return gm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gm.apply(this,arguments)}function HP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mm(t,e){return mm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mm(t,e)}function YP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Hh(t);if(e){var c=Hh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return KP(this,n)}}function KP(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(t)}var bm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&mm(s,p)})(c,t);var e,n,i=YP(c);function c(){return HP(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(pe.g)(VP,gm({},p,{x:s.x,y:s.y,rx:s.rx,ry:s.ry}))}}])&&XP(e.prototype,n),c}(Ga);function _m(t){return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(i){qP(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Om(t,e){return Om=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Om(t,e)}function QP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Xh(t);if(e){var c=Xh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return eM(this,n)}}function eM(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xh(t)}var wm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Om(s,p)})(c,t);var e,n,i=QP(c);function c(){return JP(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,p=s.getTextStyle(),g=s.width,b=s.height,E=s.x,P=s.y,C=q1(q1({},p.background),{},{x:E,y:P-1,width:g,height:b});return Object(pe.g)(Iu,C)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&ZP(e.prototype,n),c}(Ga);function xm(t){return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function Em(){return Em=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Em.apply(this,arguments)}function tM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Sm(t,e){return Sm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Sm(t,e)}function rM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Yh(t);if(e){var c=Yh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return oM(this,n)}}function oM(t,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ap(t)}function Ap(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yh(t)}function Kh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Sm(s,p)})(c,t);var e,n,i=rM(c);function c(){var s;tM(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Kh(Ap(s=i.call.apply(i,[this].concat(g))),"ref",void 0),Kh(Ap(s),"currentProperties",void 0),Kh(Ap(s),"preProperties",void 0),Kh(Ap(s),"setRef",function(E){s.ref=E}),s}return e=c,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(s){s.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.height,E=s.width,P=s.getNodeStyle();return this.currentProperties=JSON.stringify(s.properties),Object(pe.g)("foreignObject",Em({},P,{x:p-E/2,y:g-b/2,width:E,height:b,ref:this.setRef}))}}])&&nM(e.prototype,n),c}(Ga);function Am(t){return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function Pm(){return Pm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pm.apply(this,arguments)}function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(i){km(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function iM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mm(t,e){return Mm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Mm(t,e)}function aM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=qh(t);if(e){var c=qh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return uM(this,n)}}function uM(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tm(t)}function Tm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qh(t)}function km(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sM=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Mm(s,p)})(c,t);var e,n,i=aM(c);function c(s){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c),km(Tm(p=i.call(this,s)),"setHoverON",function(){p.setState({isHovered:!0})}),km(Tm(p),"setHoverOFF",function(){p.setState({isHovered:!1})}),p.state={isHovered:!1},p}return e=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,p=s.getTextStyle(),g=s.text,b=s.width,E=p.background||{};if(this.state.isHovered&&p.hover&&p.hover.background&&(E=Js(Js({},E),p.hover.background)),g&&g.value&&E.fill!=="transparent"){var P,C=p.fontSize,L=p.overflowMode,Y=p.lineHeight,te=p.wrapPadding,ie=p.textWidth,_e=g.value,be=g.x,Ee=g.y,Ie=String(_e).split(/[\r\n]/g),nt=Ie.length;if(L==="autoWrap"&&ie){var tt=Vd({rows:Ie,style:{fontSize:"".concat(C,"px"),width:"".concat(ie,"px"),lineHeight:Y,padding:te},rowsLength:nt,className:"lf-get-text-height"});P=Js(Js({},E),{},{x:be-1,y:Ee-1,width:ie,height:tt})}else{Ie&&Ie.forEach(function(rn){cp(rn)});var xt=Ds({rows:Ie,fontSize:C,rowsLength:nt}),et=xt.width,bt=xt.height;if(L==="ellipsis"&&(et=ie||b,bt=C+2),typeof E.wrapPadding=="string"){var at=E.wrapPadding.split(",").filter(function(rn){return rn.trim()}).map(function(rn){return parseFloat(rn.trim())});at.length>0&&at.length<=4&&(at.length===1?at=[at[0],at[0],at[0],at[0]]:at.length===2?at=[at[0],at[1],at[0],at[1]]:at.length===3&&(at=[at[0],at[1],at[2],at[1]]),et+=at[1]+at[3],bt+=at[0]+at[2],be+=(at[1]-at[3])/2,Ee+=(at[2]-at[0])/2)}P=Js(Js({},E),{},{x:be-1,y:Ee-1,width:et,height:bt})}return Object(pe.g)(Iu,P)}}},{key:"getShape",value:function(){var s=this.props.model,p=s.text,g=p.value,b=p.x,E=p.y;if(g){var P=Js({x:b,y:E,className:"lf-element-text",value:g},s.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)(F1,Pm({},P,{model:s})))}}}])&&iM(e.prototype,n),c}(W1);function Nm(t){return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var va,lM=["text","sourceAnchorId","targetAnchorId"];function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(i){Yo(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cM(t,e){if(t==null)return{};var n,i,c=function(p,g){if(p==null)return{};var b,E,P={},C=Object.keys(p);for(E=0;E<C.length;E++)b=C[E],g.indexOf(b)>=0||(P[b]=p[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function fM(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return Q1(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Q1(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function pM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Dm(t,e){return Dm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Dm(t,e)}function dM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Jh(t);if(e){var c=Jh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return hM(this,n)}}function hM(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xo(t)}function Xo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jh(t)}function Yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(va||(va={}));var eO=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Dm(s,p)})(c,t);var e,n,i=dM(c);function c(s){var p;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,c),Yo(Xo(p=i.call(this)),"stepDragData",void 0),Yo(Xo(p),"stepDrag",void 0),Yo(Xo(p),"oldEdge",void 0),Yo(Xo(p),"preTargetNode",void 0),Yo(Xo(p),"targetRuleResults",void 0),Yo(Xo(p),"sourceRuleResults",void 0),Yo(Xo(p),"handleMouseDown",function(P){p.stepDrag&&p.stepDrag.handleMouseDown(P)}),Yo(Xo(p),"onDragStart",function(){var P=p.props,C=P.x,L=P.y,Y=P.edgeModel,te=Y.startPoint,ie=Y.endPoint,_e=Y.pointsList;p.oldEdge={startPoint:te,endPoint:ie,pointsList:_e},p.setState({endX:C,endY:L,dragging:!0})}),Yo(Xo(p),"onDragging",function(P){var C=P.deltaX,L=P.deltaY,Y=p.state,te=Y.endX,ie=Y.endY,_e=p.props,be=_e.graphModel,Ee=_e.type,Ie=be.transformModel,nt=be.editConfigModel,tt=fM(Ie.moveCanvasPointByHtml([te,ie],C,L),2),xt=tt[0],et=tt[1];p.setState({endX:xt,endY:et,dragging:!0});var bt=p.props.edgeModel,at=Ns({x:te,y:ie},be);if(at&&at.node&&p.isAllowAdjust(at).pass){var rn,ln=bt.startPoint,Lt=bt.endPoint,yn=bt.sourceNode,ar=bt.targetNode;Ee===va.SOURCE?rn={startPoint:{x:at.anchor.x,y:at.anchor.y},endPoint:{x:Lt.x,y:Lt.y},sourceNode:at.node,targetNode:ar}:Ee===va.TARGET&&(rn={startPoint:{x:ln.x,y:ln.y},endPoint:{x:at.anchor.x,y:at.anchor.y},sourceNode:yn,targetNode:at.node}),bt.updateAfterAdjustStartAndEnd(rn)}else Ee===va.SOURCE?bt.updateStartPoint({x:xt,y:et}):Ee===va.TARGET&&bt.updateEndPoint({x:xt,y:et});bt.text.value&&nt.adjustEdge&&bt.setText(Object.assign({},bt.text,bt.textPosition))}),Yo(Xo(p),"onDragEnd",function(P){var C=P.event;try{var L;p.setState({dragging:!1});var Y=p.props,te=Y.graphModel,ie=Y.edgeModel,_e=Y.type,be=p.state,Ee=be.endX,Ie=be.endY,nt=be.dragging,tt=Ns({x:Ee,y:Ie},te);if(!nt)return;var xt,et=!1;if(tt&&tt.node){var bt=p.isAllowAdjust(tt),at=bt.pass,rn=bt.msg,ln=bt.newTargetNode;if(at){var Lt=ie.getData(),yn=Lt.text,ar=Lt.sourceAnchorId,ur=ar===void 0?"":ar,Kr=Lt.targetAnchorId;xt=Va(Va({sourceAnchorId:ur,targetAnchorId:Kr===void 0?"":Kr},cM(Lt,lM)),{},{text:(yn==null?void 0:yn.value)||""}),_e===va.SOURCE?(xt=Va(Va({},te.edgeGenerator(te.getNodeModelById(tt.node.id).getData(),te.getNodeModelById(ie.targetNodeId).getData(),xt)),{},{sourceNodeId:tt.node.id,sourceAnchorId:tt.anchor.id,startPoint:{x:tt.anchor.x,y:tt.anchor.y},targetNodeId:ie.targetNodeId,endPoint:Va({},ie.endPoint)}),ie.sourceNodeId===tt.node.id&&ie.sourceAnchorId===tt.anchor.id&&(et=!0)):_e===va.TARGET&&(xt=Va(Va({},te.edgeGenerator(te.getNodeModelById(ie.sourceNodeId).getData(),te.getNodeModelById(tt.node.id).getData(),xt)),{},{sourceNodeId:ie.sourceNodeId,startPoint:Va({},ie.startPoint),targetNodeId:tt.node.id,targetAnchorId:tt.anchor.id,endPoint:{x:tt.anchor.x,y:tt.anchor.y}}),ie.targetNodeId===tt.node.id&&ie.targetAnchorId===tt.anchor.id&&(et=!0))}else{et=!0;var Ko=ln.getData();te.eventCenter.emit(gt.CONNECTION_NOT_ALLOWED,{data:Ko,msg:rn})}}else et=!0;if(et)p.recoveryEdge();else{var qo=ie.getData();te.deleteEdgeById(ie.id);var ma=te.addEdge(Va({},xt));te.eventCenter.emit(gt.EDGE_EXCHANGE_NODE,{data:{newEdge:ma.getData(),oldEdge:qo}})}(L=p.preTargetNode)===null||L===void 0||L.setElementState(On.DEFAULT)}finally{p.props.graphModel.eventCenter.emit(gt.ADJUST_POINT_DRAGEND,{e:C,data:p.stepDragData})}}),Yo(Xo(p),"recoveryEdge",function(){var P=p.props.edgeModel,C=p.oldEdge,L=C.startPoint,Y=C.endPoint,te=C.pointsList;P.updateStartPoint(L),P.updateEndPoint(Y),P.modelType!==Qt.LINE_EDGE&&(P.pointsList=te,P.initPoints())}),Yo(Xo(p),"getAdjustPointStyle",function(){var P=p.props,C=P.graphModel.theme;return P.edgeModel,C.edgeAdjust}),p.state={dragging:!1,endX:0,endY:0},p.targetRuleResults=new Map,p.sourceRuleResults=new Map;var g=s.type,b=s.edgeModel,E=s.graphModel.eventCenter;return p.stepDragData={type:g,edgeData:b.getData()},p.stepDrag=new To({onDragStart:p.onDragStart,onDragging:p.onDragging,onDragEnd:p.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:E,data:p.stepDragData}),p}return e=c,(n=[{key:"isAllowAdjust",value:function(s){var p=this.props,g=p.edgeModel,b=g.id,E=g.sourceNode,P=g.targetNode,C=g.sourceAnchorId,L=g.targetAnchorId,Y=p.type,te=null,ie=null,_e=null,be=null;if(Y===va.SOURCE?(te=s.node,ie=P,_e=s.anchor,be=P.getAnchorInfo(L)):(te=E,ie=s.node,be=s.anchor,_e=E.getAnchorInfo(C)),this.preTargetNode&&this.preTargetNode!==s.node&&this.preTargetNode.setElementState(On.DEFAULT),this.preTargetNode=s.node,be.id===_e.id)return{pass:!1,msg:"",newTargetNode:ie};var Ee="".concat(te.id,"_").concat(ie.id,"_").concat(_e.id,"_").concat(be.id);if(!this.targetRuleResults.has(Ee)){var Ie=te.isAllowConnectedAsSource(ie,_e,be,b),nt=ie.isAllowConnectedAsTarget(te,_e,be,b);this.sourceRuleResults.set(Ee,ju(Ie)),this.targetRuleResults.set(Ee,ju(nt))}var tt=this.sourceRuleResults.get(Ee),xt=tt.isAllPass,et=tt.msg,bt=this.targetRuleResults.get(Ee),at=bt.isAllPass,rn=bt.msg,ln=xt&&at?On.ALLOW_CONNECT:On.NOT_ALLOW_CONNECT;return Y===va.SOURCE?te.setElementState(ln):ie.setElementState(ln),{pass:xt&&at,msg:rn||et,newTargetNode:ie}}},{key:"render",value:function(){var s=this.props,p=s.x,g=s.y,b=s.getAdjustPointShape,E=s.edgeModel,P=this.state.dragging;return Object(pe.g)("g",{pointerEvents:P?"none":"",onMouseDown:this.handleMouseDown},P?"":b(p,g,E))}}])&&pM(e.prototype,n),c}(pe.a);function Cm(t){return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function Pp(){return Pp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pp.apply(this,arguments)}function yM(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return tO(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return tO(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function vM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Rm(t,e){return Rm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rm(t,e)}function mM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Zh(t);if(e){var c=Zh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return bM(this,n)}}function bM(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vi(t)}function Vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zh(t)}function ga(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mp=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Rm(s,p)})(c,t);var e,n,i=mM(c);function c(){var s;vM(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return ga(Vi(s=i.call.apply(i,[this].concat(g))),"startTime",void 0),ga(Vi(s),"contextMenuTime",void 0),ga(Vi(s),"clickTimer",void 0),ga(Vi(s),"textRef",Object(pe.f)()),ga(Vi(s),"handleHover",function(E,P){var C=s.props,L=C.model,Y=C.graphModel.eventCenter;L.setHovered(E);var te=E?gt.EDGE_MOUSEENTER:gt.EDGE_MOUSELEAVE,ie=L.getData();Y.emit(te,{data:ie,e:P})}),ga(Vi(s),"setHoverON",function(E){s.props.model.isHovered||(s.textRef&&s.textRef.current&&s.textRef.current.setHoverON(),s.handleHover(!0,E))}),ga(Vi(s),"setHoverOFF",function(E){s.props.model.isHovered&&(s.textRef&&s.textRef.current&&s.textRef.current.setHoverOFF(),s.handleHover(!1,E))}),ga(Vi(s),"handleContextMenu",function(E){E.preventDefault(),s.contextMenuTime=new Date().getTime(),s.clickTimer&&clearTimeout(s.clickTimer);var P=s.props,C=P.model,L=P.graphModel,Y=L.getPointByClient({x:E.clientX,y:E.clientY});L.setElementStateById(C.id,On.SHOW_MENU,Y.domOverlayPosition),s.toFront(),C.isSelected||L.selectEdgeById(C.id);var te=C==null?void 0:C.getData();L.eventCenter.emit(gt.EDGE_CONTEXTMENU,{data:te,e:E,position:Y})}),ga(Vi(s),"handleMouseDown",function(E){E.stopPropagation(),s.startTime=new Date().getTime()}),ga(Vi(s),"handleMouseUp",function(E){if(s.startTime&&!(new Date().getTime()-s.startTime>200||E.button===2)){var P=E.detail===2,C=s.props,L=C.model,Y=C.graphModel,te=L==null?void 0:L.getData(),ie=Y.getPointByClient({x:E.clientX,y:E.clientY});if(P){var _e=Y.editConfigModel,be=Y.textEditElement;if(be&&be.id===L.id&&Y.setElementStateById(L.id,On.DEFAULT),_e.edgeTextEdit&&L.text.editable&&Y.setElementStateById(L.id,On.TEXT_EDIT),L.modelType===Qt.POLYLINE_EDGE){var Ee=L,Ie=Y.getPointByClient({x:E.x,y:E.y}).canvasOverlayPosition,nt=Ie.x,tt=Ie.y,xt=zs({x:nt,y:tt},Ee.points);Ee.dbClickPosition=xt}Y.eventCenter.emit(gt.EDGE_DBCLICK,{data:te,e:E,position:ie})}else Y.eventCenter.emit(gt.ELEMENT_CLICK,{data:te,e:E,position:ie}),Y.eventCenter.emit(gt.EDGE_CLICK,{data:te,e:E,position:ie});var et=Y.editConfigModel;Y.selectEdgeById(L.id,Ts(E,et)),s.toFront()}}),s}return e=c,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var s=this.props,p=s.model,g=s.graphModel;if(p.state===On.TEXT_EDIT)return null;var b=!1,E=g.editConfigModel;return(p.text.draggable||E.edgeTextDraggable)&&(b=!0),Object(pe.g)(sM,{ref:this.textRef,editable:E.edgeTextEdit&&p.text.editable,model:p,graphModel:g,draggable:b})}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=s.isSelected;return{start:p,end:g,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model;return[s.startPoint,s.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var s=this.props.model,p=s.id,g=s.getArrowStyle(),b=g.refY,E=b===void 0?0:b,P=g.refX,C=P===void 0?2:P,L=yM(this.getLastTwoPoints(),2),Y=L[0],te=L[1],ie="auto";return Y!==null&&te!==null&&(ie=ep(Qf({x:te.x-Y.x,y:te.y-Y.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(p),refX:-C,refY:E,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(p),refX:C,refY:E,overflow:"visible",orient:ie,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var s=this.props.model.getArrowStyle();return s.stroke,s.strokeWidth,s.offset,s.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var s=this.props.model.getArrowStyle(),p=s.stroke,g=s.strokeWidth,b=s.offset,E=s.verticalLength;return Object(pe.g)("path",{stroke:p,fill:p,strokeWidth:g,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(E," L ").concat(b," ").concat(E," Z")})}},{key:"getAdjustPointShape",value:function(s,p,g){var b=g.getAdjustPointStyle();return Object(pe.g)(dc,Pp({className:"lf-edge-adjust-point"},b,{x:s,y:p}))}},{key:"getAdjustPoints",value:function(){var s=this.props,p=s.model,g=s.graphModel,b=p.getAdjustStart(),E=p.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(eO,Pp({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:g})),Object(pe.g)(eO,Pp({type:"TARGET"},E,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:g})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var s=this.props,p=s.graphModel,g=s.model;p.toFront(g.id)}},{key:"render",value:function(){var s=this.props,p=s.model,g=p.isSelected,b=p.isHitable,E=p.isShowAdjustPoint;return s.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",g&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),E&&g?this.getAdjustPoints():"")}}])&&gM(e.prototype,n),c}(pe.a);function Im(t){return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function _M(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return nO(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return nO(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Tp=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var i=_M(n,2),c=i[0],s=i[1],p=Im(s);c!=="style"&&p==="object"||(e[c]=s)}),Object(pe.g)("path",e)};function Lm(t){return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function Bm(){return Bm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bm.apply(this,arguments)}function OM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zm(t,e){return zm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zm(t,e)}function xM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=Qh(t);if(e){var c=Qh(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return EM(this,n)}}function EM(t,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qh(t)}var Fm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&zm(s,p)})(c,t);var e,n,i=xM(c);function c(){return OM(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=s.isAnimation,E=s.arrowConfig,P=s.getEdgeStyle(),C=s.getEdgeAnimationStyle(),L=C.strokeDasharray,Y=C.stroke,te=C.strokeDashoffset,ie=C.animationName,_e=C.animationDuration,be=C.animationIterationCount,Ee=C.animationTimingFunction,Ie=C.animationDirection;return Object(pe.g)(fc,Bm({},P,{x1:p.x,y1:p.y,x2:g.x,y2:g.y},E,b?{strokeDasharray:L,stroke:Y,style:{strokeDashoffset:te,animationName:ie,animationDuration:_e,animationIterationCount:be,animationTimingFunction:Ee,animationDirection:Ie}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=lh({start:p,end:g}),E=b.d,P=b.strokeWidth,C=b.fill,L=b.strokeDasharray,Y=b.stroke;return Object(pe.g)(Tp,{d:E,fill:C,strokeWidth:P,stroke:Y,strokeDasharray:L})}}])&&wM(e.prototype,n),c}(Mp);function Um(t){return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function SM(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return rO(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return rO(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var jM=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var i=SM(n,2),c=i[0],s=i[1];(c==="style"||Um(s)!=="object")&&(e[c]=s)}),Object(pe.g)("polyline",e)};function Wm(t){return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(i){Xa(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $m(){return $m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$m.apply(this,arguments)}function AM(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return iO(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return iO(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function PM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gm(t,e){return Gm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Gm(t,e)}function MM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=ty(t);if(e){var c=ty(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return TM(this,n)}}function TM(t,e){if(e&&(Wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ha(t)}function Ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ty(t)}function Xa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Gm(s,p)})(c,t);var e,n,i=MM(c);function c(){var s;return function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}(this,c),Xa(Ha(s=i.call(this)),"drag",void 0),Xa(Ha(s),"isDragging",void 0),Xa(Ha(s),"isShowAdjustPointTemp",void 0),Xa(Ha(s),"appendInfo",void 0),Xa(Ha(s),"onDragStart",function(){var p=s.props.model;p.dragAppendStart(),s.isShowAdjustPointTemp=p.isShowAdjustPoint,p.isShowAdjustPoint=!1}),Xa(Ha(s),"onDragging",function(p){var g=p.deltaX,b=p.deltaY,E=s.props,P=E.model,C=E.graphModel;s.isDragging=!0;var L=C.transformModel,Y=C.editConfigModel,te=AM(L.fixDeltaXY(g,b),2),ie=te[0],_e=te[1],be=P,Ee=Y.adjustEdgeMiddle;s.appendInfo=Ee?be.dragAppendSimple(s.appendInfo,{x:ie,y:_e}):be.dragAppend(s.appendInfo,{x:ie,y:_e})}),Xa(Ha(s),"onDragEnd",function(){var p=s.props,g=p.model,b=p.graphModel.eventCenter,E=g;E.dragAppendEnd(),s.isDragging=!1,E.isShowAdjustPoint=s.isShowAdjustPointTemp,s.appendInfo=void 0,b.emit(gt.EDGE_ADJUST,{data:E.getData()})}),Xa(Ha(s),"beforeDragStart",function(p,g){g.dragAble&&s.drag.handleMouseDown(p),s.appendInfo=g}),s.drag=new To({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd,isStopPropagation:!1}),s}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.points,g=s.isAnimation,b=s.arrowConfig,E=s.getEdgeStyle(),P=s.getEdgeAnimationStyle(),C=P.strokeDasharray,L=P.stroke,Y=P.strokeDashoffset,te=P.animationName,ie=P.animationDuration,_e=P.animationIterationCount,be=P.animationTimingFunction,Ee=P.animationDirection;return Object(pe.g)(jM,$m({points:p},E,b,g?{strokeDasharray:C,stroke:L,style:{strokeDashoffset:Y,animationName:te,animationDuration:ie,animationIterationCount:_e,animationTimingFunction:be,animationDirection:Ee}}:{}))}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=s.points,g=s.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:g},E=Bi(p);return E.length>=2&&(b.start=E[E.length-2],b.end=E[E.length-1]),b}},{key:"getLastTwoPoints",value:function(){var s=this.props.model.points,p=Bi(s);return p.length>=2?[p[p.length-2],p[p.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(s){var p,g=s.start,b=s.end;if(g.x===b.x&&g.y===b.y)p="";else{var E={start:g,end:b,offset:10,verticalLength:5},P=Mu(ey(ey({},E),{},{type:"start"})),C=Mu(ey(ey({},E),{},{type:"end"}));p="M".concat(P.leftX," ").concat(P.leftY,` 
      L`).concat(P.rightX," ").concat(P.rightY,` 
      L`).concat(C.rightX," ").concat(C.rightY,`
      L`).concat(C.leftX," ").concat(C.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(s){var p=this.getAppendAttributes(s),g=p.d,b=p.strokeWidth,E=p.fill,P=p.strokeDasharray,C=p.stroke;return Object(pe.g)(Tp,{d:g,fill:E,strokeWidth:b,stroke:C,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var s=this,p=this.props,g=p.model,b=p.graphModel,E=g.pointsList,P=g.draggable,C=[],L=E.length,Y=function(ie){var _e="lf-polyline-append",be={start:{x:E[ie].x,y:E[ie].y},end:{x:E[ie+1].x,y:E[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},Ee=Object(pe.g)("g",{className:_e},s.getAppendShape(be)),Ie=b.editConfigModel,nt=Ie.adjustEdge,tt=Ie.adjustEdgeMiddle;if(nt&&P){var xt=be.startIndex,et=be.endIndex,bt=tt&&(xt===0||et===L-1);be.dragAble=!bt,be.start.x===be.end.x?(be.dragAble&&(_e+="-ew-resize"),be.direction=Dn.VERTICAL):be.start.y===be.end.y&&(be.dragAble&&(_e+="-ns-resize"),be.direction=Dn.HORIZONTAL),Ee=Object(pe.g)("g",{className:s.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(at){return s.beforeDragStart(at,be)}},Object(pe.g)("g",{className:_e},s.getAppendShape(be)))}C.push(Ee)},te=0;te<L-1;te++)Y(te);return Object(pe.g)("g",null,C)}}])&&PM(e.prototype,n),c}(Mp);function Hm(t){return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function kM(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return aO(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aO(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Xm(){return Xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xm.apply(this,arguments)}function NM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ym(t,e){return Ym=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ym(t,e)}function CM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=ny(t);if(e){var c=ny(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return RM(this,n)}}function RM(t,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ny(t)}var Km=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Ym(s,p)})(c,t);var e,n,i=CM(c);function c(){return NM(this,c),i.apply(this,arguments)}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.getEdgeStyle(),g=s.path,b=s.isAnimation,E=s.arrowConfig,P=s.getEdgeAnimationStyle(),C=P.strokeDasharray,L=P.stroke,Y=P.strokeDashoffset,te=P.animationName,ie=P.animationDuration,_e=P.animationIterationCount,be=P.animationTimingFunction,Ee=P.animationDirection;return Object(pe.g)(Tp,Xm({d:g},p,E,b?{strokeDasharray:C,stroke:L,style:{strokeDashoffset:Y,animationName:te,animationDuration:ie,animationIterationCount:_e,animationTimingFunction:be,animationDirection:Ee}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model.path;return Object(pe.g)(Tp,{d:s,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=this.state.hover,g=s.isSelected,b=s.getArrowStyle().offset,E=s.pointsList.map(function(C){return{x:C.x,y:C.y}}),P=kM(pp(E,b),2);return{start:P[0],end:P[1],hover:p,isSelected:g}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model,p=s.getArrowStyle().offset,g=s.pointsList.map(function(b){return{x:b.x,y:b.y}});return pp(g,p)}}])&&DM(e.prototype,n),c}(Mp);function qm(t){return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function IM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jm(t,e){return Jm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Jm(t,e)}function zM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=ry(t);if(e){var c=ry(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return FM(this,n)}}function FM(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ry(t)}var UM=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Jm(s,p)})(c,t);var e,n,i=zM(c);function c(){return LM(this,c),i.apply(this,arguments)}return e=c,n=[{key:"getArrowAttributes",value:function(){var s=this.props,p=s.arrowInfo,g=s.style,b=p.start,E=p.end,P={start:b,end:E,offset:g.offset,verticalLength:g.verticalLength,type:"end"},C=Mu(P),L=C.leftX,Y=C.leftY,te=C.rightX,ie=C.rightY;return function(_e){for(var be=1;be<arguments.length;be++){var Ee=arguments[be]!=null?arguments[be]:{};be%2?uO(Object(Ee),!0).forEach(function(Ie){IM(_e,Ie,Ee[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(Ee)):uO(Object(Ee)).forEach(function(Ie){Object.defineProperty(_e,Ie,Object.getOwnPropertyDescriptor(Ee,Ie))})}return _e}({d:"M".concat(L," ").concat(Y," L").concat(E.x," ").concat(E.y," L").concat(te," ").concat(ie," z")},g)}},{key:"getShape",value:function(){var s=this.getArrowAttributes(),p=s.d,g=s.strokeWidth,b=s.stroke,E=s.fill;return Object(pe.g)(Tp,{d:p,fill:E,strokeWidth:g,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&BM(e.prototype,n),c}(pe.a),sO=function(t,e){return je(t,e)},WM=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Zm=function(){return vt.a.Date.now()},$M=Math.max,GM=Math.min,VM=function(t,e,n){var i,c,s,p,g,b,E=0,P=!1,C=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function Y(Ie){var nt=i,tt=c;return i=c=void 0,E=Ie,p=t.apply(tt,nt)}function te(Ie){return E=Ie,g=setTimeout(_e,e),P?Y(Ie):p}function ie(Ie){var nt=Ie-b;return b===void 0||nt>=e||nt<0||C&&Ie-E>=s}function _e(){var Ie=Zm();if(ie(Ie))return be(Ie);g=setTimeout(_e,function(nt){var tt=e-(nt-b);return C?GM(tt,s-(nt-E)):tt}(Ie))}function be(Ie){return g=void 0,L&&i?Y(Ie):(i=c=void 0,p)}function Ee(){var Ie=Zm(),nt=ie(Ie);if(i=arguments,c=this,b=Ie,nt){if(g===void 0)return te(b);if(C)return clearTimeout(g),g=setTimeout(_e,e),Y(b)}return g===void 0&&(g=setTimeout(_e,e)),p}return e=Wl(e)||0,Wn(n)&&(P=!!n.leading,s=(C="maxWait"in n)?$M(Wl(n.maxWait)||0,e):s,L="trailing"in n?!!n.trailing:L),Ee.cancel=function(){g!==void 0&&clearTimeout(g),E=0,i=b=c=g=void 0},Ee.flush=function(){return g===void 0?p:be(Zm())},Ee},HM=o(172);function XM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Fu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lO,cO,fO,YM=function(){function t(i){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),Fu(this,"undos",[]),Fu(this,"redos",[]),Fu(this,"callbacks",[]),Fu(this,"stopWatch",null),Fu(this,"curData",null),Fu(this,"maxSize",50),Fu(this,"waitTime",100),Fu(this,"eventCenter",void 0),this.eventCenter=i}var e,n;return e=t,(n=[{key:"add",value:function(i){sO(WM(this.undos),i)||(this.undos.push(i),sO(this.curData,i)||(this.redos=[]),this.eventCenter.emit(gt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var i=this.undos.pop();this.redos.push(i);var c=this.undos.pop();return this.curData=xn(c),c}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var i=this.redos.pop();return this.curData=xn(i),i}}},{key:"watch",value:function(i){var c=this;this.stopWatch&&this.stopWatch(),this.undos.push(i.modelToGraphData()),this.stopWatch=Object(HM.a)(i,VM(function(){var s=i.modelToHistoryData();s&&c.add(s)},this.waitTime))}}])&&XM(e.prototype,n),t}();function Qm(t){return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function KM(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,i){if(n){if(typeof n=="string")return pO(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return pO(n,i)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(i){Qs(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hO(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function eb(t,e){return eb=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eb(t,e)}function qM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=oy(t);if(e){var c=oy(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return JM(this,n)}}function JM(t,e){if(e&&(Qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ec(t)}function Ec(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oy(t)}function Qs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yO,vO,gO,tb=Hi((fO=cO=function(t){(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&eb(p,g)})(s,t);var e,n,i,c=qM(s);function s(){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),Qs(Ec(p=c.call(this)),"ref",Object(pe.f)()),Qs(Ec(p),"__prevText",{type:"",text:"",id:""}),Qs(Ec(p),"keyupHandler",function(g){var b=p.props.graphModel.textEditElement;g.key==="Enter"&&g.altKey&&b.setElementState(0)}),Qs(Ec(p),"inputHandler",function(g){var b=g.target.innerText,E=p.props.graphModel.textEditElement;p.__prevText={type:E.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:E.id}}),Qs(Ec(p),"keydownHandler",function(g){g.stopPropagation()}),p.state={style:{left:0,top:0}},p}return e=s,i=[{key:"getDerivedStateFromProps",value:function(p){var g,b=p.graphModel,E=b.transformModel,P=b.theme,C=P.inputText,L=b.textEditElement;if(L){var Y;if((Y=L.text)===null||Y===void 0||!Y.value)if(L.BaseType===or.EDGE){var te=(L=L).text,ie=L.textPosition,_e=ie.x,be=ie.y;te.x=_e,te.y=be,L.setText(te)}else L=L;var Ee={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(L.BaseType===or.EDGE){var Ie=P.edgeText,nt=Ie.overflowMode,tt=Ie.lineHeight,xt=Ie.wrapPadding,et=Ie.textWidth;et&&nt==="autoWrap"&&(g=Zs(Zs({},Ee),{},{width:et,minWidth:et,lineHeight:tt,padding:xt}))}else if(L.BaseType===or.NODE){var bt=P.nodeText,at=bt.overflowMode,rn=bt.lineHeight,ln=bt.wrapPadding,Lt=bt.textWidth,yn=L,ar=yn.width,ur=yn.modelType,Kr=yn.textWidth||Lt||ar;(ur!==Qt.TEXT_NODE&&at==="autoWrap"||ur===Qt.TEXT_NODE&&Lt)&&(g=Zs(Zs({},Ee),{},{width:Kr,minWidth:Kr,lineHeight:rn,padding:ln}))}var Ko=L.text,qo=Ko.x,ma=Ko.y,el=KM(E.CanvasPointToHtmlPoint([qo,ma]),2);return{style:Zs(Zs({left:el[0],top:el[1]},g),C)}}}}],(n=[{key:"componentDidUpdate",value:function(){var p=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var g=this.__prevText,b=g.text,E=g.id;p.updateText(E,b),p.eventCenter.emit(gt.TEXT_UPDATE,Zs({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(p){if(window.getSelection!==void 0&&document.createRange!==void 0){var g=document.createRange();g.selectNodeContents(p),g.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(g)}}},{key:"render",value:function(){var p,g=this.props.graphModel.textEditElement,b=this.state.style;return g?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:g.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(p=g.text)===null||p===void 0?void 0:p.value):null}}])&&hO(e.prototype,n),i&&hO(e,i),s}(pe.a),Qs(cO,"toolName","textEdit"),lO=fO))||lO,ZM=function(t){return t.modelType===Qt.LINE_EDGE?function(e){var n=e.startPoint,i=e.endPoint,c=(n.x+i.x)/2,s=(n.y+i.y)/2,p=Math.abs(n.x-i.x)+10,g=Math.abs(n.y-i.y)+10;return{x:c-p/2,y:s-g/2,x1:c+p/2,y1:s+g/2}}(t):t.modelType===Qt.POLYLINE_EDGE?function(e){var n=e.points,i=Bi(n),c=La(i,8),s=c.x,p=c.y,g=c.width,b=c.height;return{x:s-g/2,y:p-b/2,x1:s+g/2,y1:p+b/2}}(t):t.modelType===Qt.BEZIER_EDGE?function(e){var n=e.path,i=Ls(n),c=La(i,8),s=c.x,p=c.y,g=c.width,b=c.height;return{x:s-g/2,y:p-b/2,x1:s+g/2,y1:p+b/2}}(t):void 0};function nb(t){return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function mO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,E=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!i||g.length!==i);b=!0);}catch(P){E=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(E)throw p}}return g}}(t,e)||bO(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function QM(t){return function(e){if(Array.isArray(e))return rb(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||bO(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bO(t,e){if(t){if(typeof t=="string")return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rb(t,e):void 0}}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e2(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ob(t,e){return ob=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ob(t,e)}function t2(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=iy(t);if(e){var c=iy(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return n2(this,n)}}function n2(t,e){if(e&&(nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sc(t)}function Sc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},iy(t)}function jc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ib=Hi((gO=vO=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&ob(s,p)})(c,t);var e,n,i=t2(c);function c(s){var p;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,c),jc(Sc(p=i.call(this)),"stepDrag",void 0),jc(Sc(p),"handleMouseDown",function(P){p.stepDrag.handleMouseDown(P)}),jc(Sc(p),"handleWheelEvent",function(P){var C,L;P.preventDefault();var Y=P.deltaX,te=P.deltaY,ie=P.clientX,_e=P.clientY,be=P.ctrlKey,Ee=new WheelEvent("wheel",{deltaX:Y,deltaY:te,clientX:ie,clientY:_e,ctrlKey:be});(C=p.props.logicFlow.container)===null||C===void 0||(L=C.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||L===void 0||L.dispatchEvent(Ee)}),jc(Sc(p),"onDragging",function(P){var C=P.deltaX,L=P.deltaY,Y=p.props.graphModel,te=Y.getSelectElements(!0);Y.moveNodes(te.nodes.map(function(ie){return ie.id}),C,L)}),jc(Sc(p),"handleContextMenu",function(P){P.preventDefault();var C=p.props,L=C.graphModel,Y=C.graphModel,te=Y.eventCenter,ie=Y.selectElements,_e=L.getPointByClient({x:P.clientX,y:P.clientY}),be={nodes:[],edges:[]};QM(ie.values()).forEach(function(Ee){Ee.BaseType===or.NODE&&be.nodes.push(Ee.getData()),Ee.BaseType===or.EDGE&&be.edges.push(Ee.getData())}),te.emit(gt.SELECTION_CONTEXTMENU,{data:be,e:P,position:_e})});var g=s.graphModel,b=g.gridSize,E=g.eventCenter;return p.stepDrag=new To({onDragging:p.onDragging,step:b,eventType:"SELECTION",eventCenter:E}),p}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel,p=s.selectElements,g=s.transformModel;if(!(p.size<=1)){var b=Number.MAX_SAFE_INTEGER,E=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER;p.forEach(function(ie){var _e={x:0,y:0,x1:0,y1:0};ie.BaseType===or.NODE&&(_e=function(be){var Ee=be.x,Ie=be.y,nt=be.width,tt=be.height;return{x:Ee-nt/2,y:Ie-tt/2,x1:Ee+nt/2,y1:Ie+tt/2}}(ie)),ie.BaseType===or.EDGE&&(_e=ZM(ie)),b=Math.min(b,_e.x),E=Math.min(E,_e.y),P=Math.max(P,_e.x1),C=Math.max(C,_e.y1)});var L=mO(g.CanvasPointToHtmlPoint([b,E]),2);b=L[0],E=L[1];var Y=mO(g.CanvasPointToHtmlPoint([P,C]),2);P=Y[0],C=Y[1];var te={left:"".concat(b-10,"px"),top:"".concat(E-10,"px"),width:"".concat(P-b+20,"px"),height:"".concat(C-E+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:te,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&e2(e.prototype,n),c}(pe.a),jc(vO,"toolName","multipleSelect"),yO=gO))||yO;function r2(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ay(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o2=function(){function t(i){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),ay(this,"tools",void 0),ay(this,"components",void 0),ay(this,"toolMap",new Map),ay(this,"instance",void 0),this.instance=i,this.isDisabledTool(tb.toolName)||this.registerTool(tb.toolName,tb),this.isDisabledTool(ib.toolName)||this.registerTool(ib.toolName,ib);var c=i.graphModel;c.eventCenter.on("".concat(gt.GRAPH_TRANSFORM,",").concat(gt.NODE_CLICK,",").concat(gt.BLANK_CLICK," "),function(){var s=c.textEditElement,p=c.editConfigModel,g=p.edgeTextEdit,b=p.nodeTextEdit;(g||b)&&s&&c.textEditElement.setElementState(On.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(i){return this.instance.options.disabledTools.indexOf(i)!==-1}},{key:"registerTool",value:function(i,c){this.toolMap.set(i,c)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&r2(e.prototype,n),t}(),i2=o(173),a2=o.n(i2);function u2(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ab(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _O=function(){function t(i){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),ab(this,"mousetrap",void 0),ab(this,"options",void 0),ab(this,"target",void 0),i.keyboard||(i.keyboard={enabled:!1}),this.options=i;var c=i.lf;this.target=c.container,this.mousetrap=new a2.a(this.target),i.keyboard.enabled&&!c.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var i=this,c=this.options.keyboard.shortcuts;if(c)if(Pn(c))c.forEach(function(b){var E=b.keys,P=b.callback,C=b.action;return i.on(E,P,C)});else{var s=c.keys,p=c.callback,g=c.action;this.on(s,p,g)}}},{key:"on",value:function(i,c,s){this.mousetrap.bind(this.getKeys(i),c,s)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(i,c){this.mousetrap.unbind(this.getKeys(i),c)}},{key:"enable",value:function(i){(this.disabled||i)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(i){var c=this;return(Array.isArray(i)?i:[i]).map(function(s){return c.formatKey(s)})}},{key:"formatKey",value:function(i){return i.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&u2(e.prototype,n),t}(),s2=_O,Ya=null;function OO(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function wO(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var Ac=40,ub=40;function sb(t){return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(t)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(i){nr(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function EO(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lb=Symbol("plugin register by Logicflow.use"),cb=function(){function t(c){var s,p,g=this;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,t),nr(this,"container",void 0),nr(this,"width",void 0),nr(this,"height",void 0),nr(this,"graphModel",void 0),nr(this,"history",void 0),nr(this,"viewMap",new Map),nr(this,"tool",void 0),nr(this,"keyboard",void 0),nr(this,"dnd",void 0),nr(this,"options",void 0),nr(this,"snaplineModel",void 0),nr(this,"components",[]),nr(this,"plugins",void 0),nr(this,"extension",{}),nr(this,"adapterIn",void 0),nr(this,"adapterOut",void 0),nr(this,"getView",function(b){return g.viewMap.get(b)}),c=__(c),this.options=c,this.container=this.initContainer(c.container),this.plugins=c.plugins,this.graphModel=new hj(kp({},c)),this.tool=new o2(this),this.history=new YM(this.graphModel.eventCenter),this.dnd=new fA({lf:this}),this.keyboard=new s2({lf:this,keyboard:c.keyboard}),c.snapline!==!1&&(this.snaplineModel=new C1(this.graphModel),s=this.graphModel.eventCenter,p=this.snaplineModel,s.on("node:mousemove",function(b){var E=b.data;p.setNodeSnapLine(E)}),s.on("node:mouseup",function(){p.clearSnapline()})),function(b,E){var P=b.keyboard,C=P.options.keyboard;P.on(["cmd + c","ctrl + c"],function(){if(ub=Ac,!C.enabled||E.textEditElement)return!0;var L=b.options.guards,Y=E.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(Y)||Y.nodes.length===0&&Y.edges.length===0?(Ya=null,!0):((Ya=Y).nodes.forEach(function(te){return OO(te,Ac)}),Ya.edges.forEach(function(te){return wO(te,Ac)}),!1)}),P.on(["cmd + v","ctrl + v"],function(){if(!C.enabled||E.textEditElement)return!0;if(Ya&&(Ya.nodes||Ya.edges)){b.clearSelectElements();var L=b.addElements(Ya,ub);if(!L)return!0;L.nodes.forEach(function(Y){return b.selectElementById(Y.id,!0)}),L.edges.forEach(function(Y){return b.selectElementById(Y.id,!0)}),Ya.nodes.forEach(function(Y){return OO(Y,Ac)}),Ya.edges.forEach(function(Y){return wO(Y,Ac)}),ub+=Ac}return!1}),P.on(["cmd + z","ctrl + z"],function(){return!C.enabled||!!E.textEditElement||(b.undo(),!1)}),P.on(["cmd + y","ctrl + y"],function(){return!C.enabled||!!E.textEditElement||(b.redo(),!1)}),P.on(["backspace"],function(){if(!C.enabled||E.textEditElement)return!0;var L=E.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(Y){return b.deleteEdge(Y.id)}),L.nodes.forEach(function(Y){return b.deleteNode(Y.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(c.disabledPlugins)}var e,n,i;return e=t,n=[{key:"register",value:function(c,s){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof c=="string"){var g={BaseEdge:Mp,BaseEdgeModel:Vf,BaseNode:Ga,BaseNodeModel:$a,RectNode:tm,RectNodeModel:Ng,CircleNode:im,CircleNodeModel:dg,PolygonNode:cm,PolygonNodeModel:Pg,TextNode:wm,TextNodeModel:Ig,LineEdge:Fm,LineEdgeModel:nc,DiamondNode:hm,DiamondNodeModel:mg,PolylineEdge:Vm,PolylineEdgeModel:Mo,BezierEdge:Km,BezierEdgeModel:ug,EllipseNode:bm,EllipseNodeModel:wg,HtmlNode:jm,HtmlNodeModel:zg,h:pe.g,type:c};this.viewMap.forEach(function(L){var Y=L.extendKey;Y&&(g[Y]=L)}),this.graphModel.modelMap.forEach(function(L){var Y=L.extendKey;Y&&(g[Y]=L)});var b=s(g),E=b.view,P=b.model,C=E;p&&!C.isObervered&&(C.isObervered=!0,C=dt(C)),this.setView(c,C),this.graphModel.setModel(c,P)}else this.registerElement(c)}},{key:"registerElement",value:function(c){var s=c.view;c.isObserverView===!1||s.isObervered||(s.isObervered=!0,s=dt(s)),this.setView(c.type,s),this.graphModel.setModel(c.type,c.model)}},{key:"batchRegister",value:function(){var c=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(p){c.registerElement(p)})}},{key:"defaultRegister",value:function(){this.registerElement({view:tm,model:Ng,type:"rect"}),this.registerElement({type:"circle",view:im,model:dg}),this.registerElement({type:"polygon",view:cm,model:Pg}),this.registerElement({type:"line",view:Fm,model:nc}),this.registerElement({type:"polyline",view:Vm,model:Mo}),this.registerElement({type:"bezier",view:Km,model:ug}),this.registerElement({type:"text",view:wm,model:Ig}),this.registerElement({type:"ellipse",view:bm,model:wg}),this.registerElement({type:"diamond",view:hm,model:mg}),this.registerElement({type:"html",view:jm,model:zg})}},{key:"selectElementById",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(c,s),!s&&p&&this.graphModel.toFront(c)}},{key:"focusOn",value:function(c){var s=this.graphModel.transformModel,p=c.coordinate,g=c.id;if(!p){var b=this.getNodeModelById(g);b&&(p=b.getData());var E=this.getEdgeModelById(g);E&&(p=E.textPosition)}var P=p,C=P.x,L=P.y;s.focusOn(C,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(c){this.graphModel.setTheme(c)}},{key:"resize",value:function(c,s){this.graphModel.resize(c,s),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(c){this.graphModel.setDefaultEdgeType(c)}},{key:"updateText",value:function(c,s){this.graphModel.updateText(c,s)}},{key:"deleteElement",value:function(c){var s,p,g,b=this.getModelById(c);return!!b&&(p=(g=(nr(s={},or.NODE,this.deleteNode),nr(s,or.EDGE,this.deleteEdge),s)[b.BaseType])===null||g===void 0?void 0:g.call(this,c))!==null&&p!==void 0&&p}},{key:"getModelById",value:function(c){return this.graphModel.getElement(c)}},{key:"getDataById",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getData()}},{key:"changeNodeType",value:function(c,s){this.graphModel.changeNodeType(c,s)}},{key:"changeEdgeType",value:function(c,s){this.graphModel.changeEdgeType(c,s)}},{key:"getNodeEdges",value:function(c){return this.graphModel.getNodeEdges(c)}},{key:"addNode",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt.NODE_ADD,p=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(c,s,p)}},{key:"deleteNode",value:function(c){var s=this.graphModel.getNodeModelById(c);if(!s)return!1;var p=s.getData(),g=this.options.guards,b=!g||!g.beforeDelete||g.beforeDelete(p);return b&&this.graphModel.deleteNode(c),b}},{key:"cloneNode",value:function(c){var s=this.graphModel.getNodeModelById(c).getData(),p=this.options.guards;if(!p||!p.beforeClone||p.beforeClone(s))return this.graphModel.cloneNode(c)}},{key:"changeNodeId",value:function(c,s){return this.graphModel.changeNodeId(c,s)}},{key:"getNodeModelById",value:function(c){return this.graphModel.getNodeModelById(c)}},{key:"getNodeDataById",value:function(c){var s;return(s=this.graphModel.getNodeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"addEdge",value:function(c){return this.graphModel.addEdge(c)}},{key:"deleteEdge",value:function(c){var s=this.options.guards,p=this.graphModel.edgesMap[c];if(!p)return!1;var g=p.model.getData(),b=!s||!s.beforeDelete||s.beforeDelete(g);return b&&this.graphModel.deleteEdgeById(c),b}},{key:"deleteEdgeByNodeId",value:function(c){var s=c.sourceNodeId,p=c.targetNodeId;s&&p?this.graphModel.deleteEdgeBySourceAndTarget(s,p):s?this.graphModel.deleteEdgeBySource(s):p&&this.graphModel.deleteEdgeByTarget(p)}},{key:"changeEdgeId",value:function(c,s){return this.graphModel.changeEdgeId(c,s)}},{key:"getEdgeModelById",value:function(c){var s;return(s=this.graphModel.edgesMap[c])===null||s===void 0?void 0:s.model}},{key:"getEdgeModels",value:function(c){var s=this.graphModel.edges,p=c.sourceNodeId,g=c.targetNodeId;if(p&&g){var b=[];return s.forEach(function(C){C.sourceNodeId===p&&C.targetNodeId===g&&b.push(C)}),b}if(p){var E=[];return s.forEach(function(C){C.sourceNodeId===p&&E.push(C)}),E}if(g){var P=[];return s.forEach(function(C){C.targetNodeId===g&&P.push(C)}),P}return[]}},{key:"getEdgeDataById",value:function(c){var s;return(s=this.getEdgeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"getNodeIncomingEdge",value:function(c){return this.graphModel.getNodeIncomingEdge(c)}},{key:"getNodeOutgoingEdge",value:function(c){return this.graphModel.getNodeOutgoingEdge(c)}},{key:"getNodeIncomingNode",value:function(c){return this.graphModel.getNodeIncomingNode(c)}},{key:"getNodeOutgoingNode",value:function(c){return this.graphModel.getNodeOutgoingNode(c)}},{key:"editText",value:function(c){this.graphModel.editText(c)}},{key:"setProperties",value:function(c,s){var p;(p=this.graphModel.getElement(c))===null||p===void 0||p.setProperties(Rr(s))}},{key:"deleteProperty",value:function(c,s){var p;(p=this.graphModel.getElement(c))===null||p===void 0||p.deleteProperty(s)}},{key:"getProperties",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getProperties()}},{key:"toFront",value:function(c){this.graphModel.toFront(c)}},{key:"setElementZIndex",value:function(c,s){return this.graphModel.setElementZIndex(c,s)}},{key:"addElements",value:function(c){for(var s=this,p=c.nodes,g=c.edges,b={},E={nodes:[],edges:[]},P=0;P<p.length;P++){var C=p[P],L=C.id,Y=this.addNode(C);if(!Y)return;L&&(b[L]=Y.id),E.nodes.push(Y)}return g.forEach(function(te){var ie=te.sourceNodeId,_e=te.targetNodeId;b[ie]&&(ie=b[ie]),b[_e]&&(_e=b[_e]);var be=s.graphModel.addEdge(kp(kp({},te),{},{sourceNodeId:ie,targetNodeId:_e}));E.edges.push(be)}),E}},{key:"getAreaElement",value:function(c,s){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],g=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(c,s,p,g,b).map(function(E){return E.getData()})}},{key:"getSelectElements",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(c)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var c=this.graphModel.modelToGraphData();if(this.adapterOut){for(var s=arguments.length,p=new Array(s),g=0;g<s;g++)p[g]=arguments[g];return this.adapterOut.apply(this,[c].concat(p))}return c}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(c){var s=this.graphModel,p=s.editConfigModel,g=s.transformModel;p.updateEditConfig(c),(c==null?void 0:c.stopMoveGraph)!==void 0&&g.updateTranslateLimits(c.stopMoveGraph),c!=null&&c.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(c,s){return this.graphModel.getPointByClient({x:c,y:s})}},{key:"undo",value:function(){if(this.history.undoAble()){var c=Rr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"redo",value:function(){if(this.history.redoAble()){var c=Rr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"zoom",value:function(c,s){return this.graphModel.transformModel.zoom(c,s)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(c){this.graphModel.transformModel.setZoomMiniSize(c)}},{key:"setZoomMaxSize",value:function(c){this.graphModel.transformModel.setZoomMaxSize(c)}},{key:"getTransform",value:function(){var c=this.graphModel.transformModel;return{SCALE_X:c.SCALE_X,SCALE_Y:c.SCALE_Y,TRANSLATE_X:c.TRANSLATE_X,TRANSLATE_Y:c.TRANSLATE_Y}}},{key:"translate",value:function(c,s){this.graphModel.transformModel.translate(c,s)}},{key:"resetTranslate",value:function(){var c=this.graphModel.transformModel,s=c.TRANSLATE_X,p=c.TRANSLATE_Y;this.translate(-s,-p)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(c,s){s===void 0&&(s=c),this.graphModel.fitView(c,s)}},{key:"openEdgeAnimation",value:function(c){this.graphModel.openEdgeAnimation(c)}},{key:"closeEdgeAnimation",value:function(c){this.graphModel.closeEdgeAnimation(c)}},{key:"on",value:function(c,s){this.graphModel.eventCenter.on(c,s)}},{key:"off",value:function(c,s){this.graphModel.eventCenter.off(c,s)}},{key:"once",value:function(c,s){this.graphModel.eventCenter.once(c,s)}},{key:"emit",value:function(c,s){this.graphModel.eventCenter.emit(c,s)}},{key:"initContainer",value:function(c){var s=document.createElement("div");return s.style.position="relative",s.style.width="100%",s.style.height="100%",c.innerHTML="",c.appendChild(s),s}},{key:"installPlugins",value:function(){var c,s=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=(c=this.plugins)!==null&&c!==void 0?c:t.extensions;g.forEach(function(b){var E=null,P=null;b[lb]?(E=b.extension,P=b.props):E=b;var C=E.pluginName||E.name;p.indexOf(C)===-1&&s.installPlugin(E,P)})}},{key:"installPlugin",value:function(c,s){if(sb(c)==="object"){var p=c.install,g=c.render;return p&&p.call(c,this,t),g&&this.components.push(g.bind(c)),void(this.extension[c.pluginName]=c)}var b=c,E=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:s});E.render&&this.components.push(E.render.bind(E)),this.extension[b.pluginName]=E}},{key:"updateAttributes",value:function(c,s){this.graphModel.updateAttributes(c,s)}},{key:"createFakerNode",value:function(c){var s=this.graphModel.modelMap.get(c.type);if(s){var p=new s(kp(kp({},c),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(p),p}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(c){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(c)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(c,s){this.viewMap.set(c,s)}},{key:"renderRawData",value:function(c){this.graphModel.graphDataToModel(Rr(c)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(lA,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(gt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(c=this.adapterIn(c)),this.renderRawData(c)}}],i=[{key:"use",value:function(c,s){var p,g,b=c.pluginName;b||(b=c.name);var E=(p=this.extensions.get(b))===null||p===void 0?void 0:p.extension;E&&E.destroy&&E.destroy(),this.extensions.set(b,(nr(g={},lb,lb),nr(g,"extension",c),nr(g,"props",s),g))}}],n&&EO(e.prototype,n),i&&EO(e,i),t}();function Hi(t){return dt(t)}nr(cb,"extensions",new Map),l.default=cb}])})})(Gb,Gb.exports);var Ye=Gb.exports;const Cp=kx(Ye);var J4=function(){function r(){globalThis._ids=this,this._ids=new Set}return r.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},r.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},r}(),Z4=(globalThis==null?void 0:globalThis._ids)||new J4;function Kc(){return Z4.next()}var gS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){gS(a,r);function a(u,l){var o=this;return u.id||(u.id="Event_"+Kc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=r.call(this,u,l)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedTargetRules=function(){var u=r.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(l),u},a.extendKey="StartEventModel",a})(Ye.CircleNodeModel);(function(r){gS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.extendKey="StartEventNode",a})(Ye.CircleNode);var mS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),wy=function(){return wy=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},wy.apply(this,arguments)};(function(r){mS(a,r);function a(u,l){var o=this;return u.id||(u.id="Event_"+Kc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=r.call(this,u,l)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedSourceRules=function(){var u=r.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(l),u},a.extendKey="EndEventModel",a})(Ye.CircleNodeModel);(function(r){mS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var u=this.props.model,l=u.getNodeStyle(),o=u.x,d=u.y,h=u.r,m=r.prototype.getShape.call(this);return Ye.h("g",{},m,Ye.h("circle",wy(wy({},l),{cx:o,cy:d,r:h-5})))},a.extendKey="EndEventView",a})(Ye.CircleNode);var bS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Bp=function(){return Bp=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Bp.apply(this,arguments)};(function(r){bS(a,r);function a(u,l){var o=this;return u.id||(u.id="Gateway_"+Kc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=r.call(this,u,l)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return a.extendKey="ExclusiveGatewayModel",a})(Ye.PolygonNodeModel);(function(r){bS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.points,v=u.getNodeStyle();return Ye.h("g",{transform:"matrix(1 0 0 1 "+(l-d/2)+" "+(o-h/2)+")"},Ye.h("polygon",Bp(Bp({},v),{x:l,y:o,points:m})),Ye.h("path",Bp({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},a.extendKey="ExclusiveGatewayNode",a})(Ye.PolygonNode);var _S=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),xy=function(){return xy=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},xy.apply(this,arguments)};(function(r){_S(a,r);function a(u,l){var o=this;return u.id||(u.id="Activity_"+Kc()),o=r.call(this,u,l)||this,o}return a.extendKey="UserTaskModel",a})(Ye.RectNodeModel);(function(r){_S(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.getNodeStyle();return Ye.h("svg",{x:l-d/2+5,y:o-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ye.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.radius,v=u.getNodeStyle();return Ye.h("g",{},[Ye.h("rect",xy(xy({},v),{x:l-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h})),this.getLabelShape()])},a.extendKey="UserTaskNode",a})(Ye.RectNode);var OS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Vb=function(){return Vb=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Vb.apply(this,arguments)};(function(r){OS(a,r);function a(u,l){var o=this;return u.id||(u.id="Activity_"+Kc()),o=r.call(this,u,l)||this,o}return a.extendKey="ServiceTaskModel",a})(Ye.RectNodeModel);(function(r){OS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.getNodeStyle();return Ye.h("svg",{x:l-d/2+5,y:o-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ye.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.radius,v=u.getNodeStyle();return Ye.h("g",{},[Ye.h("rect",Vb({x:l-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h},v)),this.getLabelShape()])},a.extendKey="ServiceTaskNode",a})(Ye.RectNode);var wS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){wS(a,r);function a(u,l){var o=this;return u.id||(u.id="Flow_"+Kc()),o=r.call(this,u,l)||this,o}return a.extendKey="SequenceFlowModel",a})(Ye.PolylineEdgeModel);(function(r){wS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.extendKey="SequenceFlowEdge",a})(Ye.PolylineEdge);var lw={width:40,height:40},cw={width:40,height:40},fw={width:40,height:40},pw={width:100,height:80},dw={width:100,height:80},Q4=function(){function r(){globalThis._ids=this,this._ids=new Set}return r.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},r.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},r}(),e5=(globalThis==null?void 0:globalThis._ids)||new Q4;function hw(){return e5.next()}function xS(r){return Object.prototype.toString.call(r)}function t5(r){return"  ".repeat(r)}function Ey(r){var a=r;return xS(r)==="[object Object]"?(a={},Object.keys(r).forEach(function(u){var l=u;u.charAt(0)==="-"&&(l=u.substring(1)),a[l]=Ey(r[u])})):Array.isArray(r)&&(a=[],r.forEach(function(u,l){a[l]=Ey(u)})),a}function n5(r){var a=r;try{typeof a!="string"&&(a=JSON.parse(r))}catch{a=JSON.stringify(Ey(r)).replace(/"/g,"'")}return a}var Pc=`	
`;function dy(r,a,u){var l=t5(u),o="";if(a==="#text")return Pc+l+r;if(a==="#cdata-section")return Pc+l+"<![CDATA["+r+"]]>";if(a==="#comment")return Pc+l+"<!--"+r+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+n5(r)+'"';if(Array.isArray(r))r.forEach(function(v){o+=dy(v,a,u+1)});else if(xS(r)==="[object Object]"){var d=Object.keys(r),h="",m="";o+=(u===0?"":Pc+l)+"<"+a,d.forEach(function(v){v.charAt(0)==="-"?h+=dy(r[v],v,u+1):m+=dy(r[v],v,u+1)}),o+=h+(m!==""?">"+m+(Pc+l)+"</"+a+">":" />")}else o+=Pc+l+("<"+a+">"+r.toString()+"</"+a+">");return o}function r5(r){var a="";for(var u in r)a+=dy(r[u],u,0);return a}var Oo=function(){};Oo.ObjTree=function(){return this};Oo.ObjTree.VERSION="0.23";Oo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Oo.ObjTree.prototype.attr_prefix="-";Oo.ObjTree.prototype.parseXML=function(r){var a;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(r,"application/xml");if(!l)return;a=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(r),a=u.documentElement);if(a)return this.parseDOM(a)};Oo.ObjTree.prototype.parseHTTP=function(r,a,u){var l={};for(var o in a)l[o]=a[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var d=this,h=u,m=l.onComplete;l.onComplete=function(S){var j;S&&S.responseXML&&S.responseXML.documentElement&&(j=d.parseDOM(S.responseXML.documentElement)),h(j,S),m&&m(S)}}else l.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){l.uri=r;var x=new HTTP.Request(l);x&&(v=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(r,l);x&&(v=x.transport)}if(u)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Oo.ObjTree.prototype.parseDOM=function(r){if(r){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(r);if(this.__force_array[r.nodeName]&&(u=[u]),r.nodeType!=11){var l={};l[r.nodeName]=u,u=l}return u}};Oo.ObjTree.prototype.parseElement=function(r){if(r.nodeType!=7){if(r.nodeType==3||r.nodeType==4||r.nodeType==8){var a=r.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:r.nodeValue}var u=null,l={};if(r.attributes&&r.attributes.length){u={};for(var o=0;o<r.attributes.length;o++){var d=r.attributes[o].nodeName;if(typeof d=="string"){var h=r.attributes[o].nodeValue;try{h=JSON.parse(r.attributes[o].nodeValue.replace(/'/g,'"'))}catch{h=r.attributes[o].nodeValue}h&&(d=this.attr_prefix+d,typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}if(r.childNodes&&r.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<r.childNodes.length&&m;o++){var v=r.childNodes[o].nodeType;v==3||v==4||v==8||(m=!1)}if(m){u||(u="");for(var o=0;o<r.childNodes.length;o++)u+=r.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<r.childNodes.length;o++){var d=r.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(r.childNodes[o]);h&&(typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}}else u===null&&(u={});return u}};Oo.ObjTree.prototype.addNode=function(r,a,u,l){this.__force_array[a]?(u==1&&(r[a]=[]),r[a][r[a].length]=l):u==1?r[a]=l:u==2?r[a]=[r[a],l]:r[a][r[a].length]=l};Oo.ObjTree.prototype.writeXML=function(r){var a=this.hash_to_xml(null,r);return this.xmlDecl+a};Oo.ObjTree.prototype.hash_to_xml=function(r,a){var u=[],l=[];for(var o in a)if(a.hasOwnProperty(o)){var d=a[o];o.charAt(0)!=this.attr_prefix?typeof d>"u"||d==null?u[u.length]="<"+o+" />":typeof d=="object"&&d.constructor==Array?u[u.length]=this.array_to_xml(o,d):typeof d=="object"?u[u.length]=this.hash_to_xml(o,d):u[u.length]=this.scalar_to_xml(o,d):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=l.join(""),m=u.join("");return typeof r>"u"||r==null||(u.length>0?m.match(/\n/)?m="<"+r+h+`>
`+m+"</"+r+`>
`:m="<"+r+h+">"+m+"</"+r+`>
`:m="<"+r+h+` />
`),m};Oo.ObjTree.prototype.array_to_xml=function(r,a){for(var u=[],l=0;l<a.length;l++){var o=a[l];typeof o>"u"||o==null?u[u.length]="<"+r+" />":typeof o=="object"&&o.constructor==Array?u[u.length]=this.array_to_xml(r,o):typeof o=="object"?u[u.length]=this.hash_to_xml(r,o):u[u.length]=this.scalar_to_xml(r,o)}return u.join("")};Oo.ObjTree.prototype.scalar_to_xml=function(r,a){return r=="#text"?this.xml_escape(a):"<"+r+">"+this.xml_escape(a)+"</"+r+`>
`};Oo.ObjTree.prototype.xml_escape=function(r){return r.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var o5=function(r){return new Oo.ObjTree().parseXML(r)},i5=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Hb=function(){return Hb=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Hb.apply(this,arguments)},Zy=function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},Oa;(function(r){r.START="bpmn:startEvent",r.END="bpmn:endEvent",r.GATEWAY="bpmn:exclusiveGateway",r.USER="bpmn:userTask",r.SYSTEM="bpmn:serviceTask",r.FLOW="bpmn:sequenceFlow"})(Oa||(Oa={}));var ES=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],yw=["properties","startPoint","endPoint","pointsList"];function vw(r){var a=r?yw.concat(r):yw;return function(u){function l(o){var d={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(h){return l(h)}):(Object.entries(o).forEach(function(h){var m=Zy(h,2),v=m[0],x=m[1];typeof x!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?d[v]=x:d["-"+v]=x:a.includes(v)?d["-"+v]=l(x):d[v]=l(x)}),d)}return l(u)}}function Sy(r){var a={};return Object.entries(r).forEach(function(u){var l=Zy(u,2),o=l[0],d=l[1];o.indexOf("-")===0?a[o.substring(1)]=Ey(d):typeof d=="string"?a[o]=d:Object.prototype.toString.call(d)==="[object Object]"?a[o]=Sy(d):Array.isArray(d)?a[o]=d.map(function(h){return Sy(h)}):a[o]=d}),a}function a5(r,a,u){var l=new Map;a.nodes.forEach(function(d){var h,m={"-id":d.id};if(!((h=d.text)===null||h===void 0)&&h.value&&(m["-name"]=d.text.value),d.properties){var v=vw(u)(d.properties);Object.assign(m,v)}l.set(d.id,m),r[d.type]?Array.isArray(r[d.type])?r[d.type].push(m):r[d.type]=[r[d.type],m]:r[d.type]=m});var o=a.edges.map(function(d){var h,m,v=l.get(d.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(d.id):v["bpmn:incoming"]=[v["bpmn:incoming"],d.id]:v["bpmn:incoming"]=d.id;var x={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((h=d.text)===null||h===void 0)&&h.value&&(x["-name"]=(m=d.text)===null||m===void 0?void 0:m.value),d.properties){var S=vw(u)(d.properties);Object.assign(x,S)}return x});a.edges.forEach(function(d){var h=l.get(d.sourceNodeId);h["bpmn:outgoing"]?Array.isArray(h["bpmn:outgoing"])?h["bpmn:outgoing"].push(d.id):h["bpmn:outgoing"]=[h["bpmn:outgoing"],d.id]:h["bpmn:outgoing"]=d.id}),r[Oa.FLOW]=o}function u5(r,a){r["bpmndi:BPMNEdge"]=a.edges.map(function(u){var l,o=u.id,d=u.pointsList.map(function(m){var v=m.x,x=m.y;return{"-x":v,"-y":x}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((l=u.text)===null||l===void 0)&&l.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),h}),r["bpmndi:BPMNShape"]=a.nodes.map(function(u){var l,o=u.id,d=100,h=80,m=u.x,v=u.y,x=Qu.shapeConfigMap.get(u.type);x&&(d=x.width,h=x.height),m-=d/2,v-=h/2;var S={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":v,"-width":d,"-height":h}};return!((l=u.text)===null||l===void 0)&&l.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function s5(r){var a=[],u=[],l=r["bpmn:definitions"];if(l){var o=l["bpmn:process"];Object.keys(o).forEach(function(d){if(d.indexOf("bpmn:")===0){var h=o[d];if(d===Oa.FLOW){var m=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=c5(h,m)}else{var v=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];a=a.concat(l5(h,v,d))}}})}return{nodes:a,edges:u}}function l5(r,a,u){var l=[];if(Array.isArray(r))r.forEach(function(h){var m;Array.isArray(a)?m=a.find(function(x){return x["-bpmnElement"]===h["-id"]}):m=a;var v=gw(m,u,h);l.push(v)});else{var o=void 0;Array.isArray(a)?o=a.find(function(h){return h["-bpmnElement"]===r["-id"]}):o=a;var d=gw(o,u,r);l.push(d)}return l}function gw(r,a,u){var l=Number(r["dc:Bounds"]["-x"]),o=Number(r["dc:Bounds"]["-y"]),d=u["-name"],h=Qu.shapeConfigMap.get(a);h&&(l+=h.width/2,o+=h.height/2);var m;Object.entries(u).forEach(function(j){var A=Zy(j,2),M=A[0],D=A[1];ES.indexOf(M)===-1&&(m||(m={}),m[M]=D)}),m&&(m=Sy(m));var v;if(d&&(v={x:l,y:o,value:d},r["bpmndi:BPMNLabel"]&&r["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=r["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(x["-x"])+Number(x["-width"])/2,v.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:r["-bpmnElement"],type:a,x:l,y:o,properties:m};return v&&(S.text=v),S}function c5(r,a){var u=[];if(Array.isArray(r))r.forEach(function(o){var d;Array.isArray(a)?d=a.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=a,u.push(mw(d,o))});else{var l=void 0;Array.isArray(a)?l=a.find(function(o){return o["-bpmnElement"]===r["-id"]}):l=a,u.push(mw(l,r))}return u}function mw(r,a){var u,l=a["-name"];if(l){var o=r["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;l.split(`
`).forEach(function(v){d<v.length&&(d=v.length)}),u={value:l,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h;Object.entries(a).forEach(function(v){var x=Zy(v,2),S=x[0],j=x[1];ES.indexOf(S)===-1&&(h||(h={}),h[S]=j)}),h&&(h=Sy(h));var m={id:a["-id"],type:Oa.FLOW,pointsList:r["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:h};return u&&(m.text=u),m}var Qu=function(){function r(a){var u=this,l=a.lf;this.adapterOut=function(o,d){var h=Hb({},u.processAttributes);a5(h,o,d);var m={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};u5(m,o);var v=u.definitionAttributes;v["bpmn:process"]=h,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var x={"bpmn:definitions":v};return x},this.adapterIn=function(o){if(o)return s5(o)},l.adapterIn=function(o){return u.adapterIn(o)},l.adapterOut=function(o,d){return u.adapterOut(o,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+hw()},this.definitionAttributes={"-id":"Definitions_"+hw(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return r.prototype.setCustomShape=function(a,u){r.shapeConfigMap.set(a,u)},r.pluginName="bpmn-adapter",r.shapeConfigMap=new Map,r}();Qu.shapeConfigMap.set(Oa.START,{width:lw.width,height:lw.height});Qu.shapeConfigMap.set(Oa.END,{width:cw.width,height:cw.height});Qu.shapeConfigMap.set(Oa.GATEWAY,{width:fw.width,height:fw.height});Qu.shapeConfigMap.set(Oa.SYSTEM,{width:pw.width,height:pw.height});Qu.shapeConfigMap.set(Oa.USER,{width:dw.width,height:dw.height});(function(r){i5(a,r);function a(u){var l=r.call(this,u)||this;l.adapterXmlIn=function(d){var h=o5(d);return l.adapterIn(h)},l.adapterXmlOut=function(d,h){var m=l.adapterOut(d,h);return r5(m)};var o=u.lf;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l}return a.pluginName="bpmnXmlAdapter",a})(Qu);var f5=function(){function r(){globalThis._ids=this,this._ids=new Set}return r.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},r.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},r}(),p5=(globalThis==null?void 0:globalThis._ids)||new f5;function d5(){return p5.next()}Ye.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Ye.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ye.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Ye.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});Ye.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var C0,yr,SS,nl,bw,jS,Xb,R0,Yb,Kb,qb={},AS=[],h5=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,I0=Array.isArray;function Gu(r,a){for(var u in a)r[u]=a[u];return r}function PS(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function zp(r,a,u){var l,o,d,h={};for(d in a)d=="key"?l=a[d]:d=="ref"?o=a[d]:h[d]=a[d];if(arguments.length>2&&(h.children=arguments.length>3?C0.call(arguments,2):u),typeof r=="function"&&r.defaultProps!=null)for(d in r.defaultProps)h[d]===void 0&&(h[d]=r.defaultProps[d]);return hy(r,h,l,o,null)}function hy(r,a,u,l,o){var d={type:r,props:a,key:u,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++SS,__i:-1,__u:0};return o==null&&yr.vnode!=null&&yr.vnode(d),d}function L0(r){return r.children}function Rc(r,a){this.props=r,this.context=a}function Bc(r,a){if(a==null)return r.__?Bc(r.__,r.__i+1):null;for(var u;a<r.__k.length;a++)if((u=r.__k[a])!=null&&u.__e!=null)return u.__e;return typeof r.type=="function"?Bc(r):null}function MS(r){var a,u;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,a=0;a<r.__k.length;a++)if((u=r.__k[a])!=null&&u.__e!=null){r.__e=r.__c.base=u.__e;break}return MS(r)}}function _w(r){(!r.__d&&(r.__d=!0)&&nl.push(r)&&!jy.__r++||bw!==yr.debounceRendering)&&((bw=yr.debounceRendering)||jS)(jy)}function jy(){var r,a,u,l,o,d,h,m;for(nl.sort(Xb);r=nl.shift();)r.__d&&(a=nl.length,l=void 0,d=(o=(u=r).__v).__e,h=[],m=[],u.__P&&((l=Gu({},o)).__v=o.__v+1,yr.vnode&&yr.vnode(l),NS(u.__P,l,o,u.__n,u.__P.namespaceURI,32&o.__u?[d]:null,h,d??Bc(o),!!(32&o.__u),m),l.__v=o.__v,l.__.__k[l.__i]=l,g5(h,l,m),l.__e!=d&&MS(l)),nl.length>a&&nl.sort(Xb));jy.__r=0}function TS(r,a,u,l,o,d,h,m,v,x,S){var j,A,M,D,N,I=l&&l.__k||AS,U=a.length;for(u.__d=v,y5(u,a,I),v=u.__d,j=0;j<U;j++)(M=u.__k[j])!=null&&(A=M.__i===-1?qb:I[M.__i]||qb,M.__i=j,NS(r,M,A,o,d,h,m,v,x,S),D=M.__e,M.ref&&A.ref!=M.ref&&(A.ref&&B0(A.ref,null,M),S.push(M.ref,M.__c||D,M)),N==null&&D!=null&&(N=D),65536&M.__u||A.__k===M.__k?v=kS(M,v,r):typeof M.type=="function"&&M.__d!==void 0?v=M.__d:D&&(v=D.nextSibling),M.__d=void 0,M.__u&=-196609);u.__d=v,u.__e=N}function y5(r,a,u){var l,o,d,h,m,v=a.length,x=u.length,S=x,j=0;for(r.__k=[],l=0;l<v;l++)(o=a[l])!=null&&typeof o!="boolean"&&typeof o!="function"?(h=l+j,(o=r.__k[l]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?hy(null,o,null,null,null):I0(o)?hy(L0,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?hy(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=r,o.__b=r.__b+1,d=null,(m=o.__i=v5(o,u,h,S))!==-1&&(S--,(d=u[m])&&(d.__u|=131072)),d==null||d.__v===null?(m==-1&&j--,typeof o.type!="function"&&(o.__u|=65536)):m!==h&&(m==h-1?j--:m==h+1?j++:(m>h?j--:j++,o.__u|=65536))):o=r.__k[l]=null;if(S)for(l=0;l<x;l++)(d=u[l])!=null&&!(131072&d.__u)&&(d.__e==r.__d&&(r.__d=Bc(d)),DS(d,d))}function kS(r,a,u){var l,o;if(typeof r.type=="function"){for(l=r.__k,o=0;l&&o<l.length;o++)l[o]&&(l[o].__=r,a=kS(l[o],a,u));return a}r.__e!=a&&(a&&r.type&&!u.contains(a)&&(a=Bc(r)),u.insertBefore(r.__e,a||null),a=r.__e);do a=a&&a.nextSibling;while(a!=null&&a.nodeType===8);return a}function v5(r,a,u,l){var o=r.key,d=r.type,h=u-1,m=u+1,v=a[u];if(v===null||v&&o==v.key&&d===v.type&&!(131072&v.__u))return u;if(l>(v!=null&&!(131072&v.__u)?1:0))for(;h>=0||m<a.length;){if(h>=0){if((v=a[h])&&!(131072&v.__u)&&o==v.key&&d===v.type)return h;h--}if(m<a.length){if((v=a[m])&&!(131072&v.__u)&&o==v.key&&d===v.type)return m;m++}}return-1}function Ow(r,a,u){a[0]==="-"?r.setProperty(a,u??""):r[a]=u==null?"":typeof u!="number"||h5.test(a)?u:u+"px"}function fy(r,a,u,l,o){var d;e:if(a==="style")if(typeof u=="string")r.style.cssText=u;else{if(typeof l=="string"&&(r.style.cssText=l=""),l)for(a in l)u&&a in u||Ow(r.style,a,"");if(u)for(a in u)l&&u[a]===l[a]||Ow(r.style,a,u[a])}else if(a[0]==="o"&&a[1]==="n")d=a!==(a=a.replace(/(PointerCapture)$|Capture$/i,"$1")),a=a.toLowerCase()in r||a==="onFocusOut"||a==="onFocusIn"?a.toLowerCase().slice(2):a.slice(2),r.l||(r.l={}),r.l[a+d]=u,u?l?u.u=l.u:(u.u=R0,r.addEventListener(a,d?Kb:Yb,d)):r.removeEventListener(a,d?Kb:Yb,d);else{if(o=="http://www.w3.org/2000/svg")a=a.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(a!="width"&&a!="height"&&a!="href"&&a!="list"&&a!="form"&&a!="tabIndex"&&a!="download"&&a!="rowSpan"&&a!="colSpan"&&a!="role"&&a!="popover"&&a in r)try{r[a]=u??"";break e}catch{}typeof u=="function"||(u==null||u===!1&&a[4]!=="-"?r.removeAttribute(a):r.setAttribute(a,a=="popover"&&u==1?"":u))}}function ww(r){return function(a){if(this.l){var u=this.l[a.type+r];if(a.t==null)a.t=R0++;else if(a.t<u.u)return;return u(yr.event?yr.event(a):a)}}}function NS(r,a,u,l,o,d,h,m,v,x){var S,j,A,M,D,N,I,U,$,q,oe,J,Q,ee,G,z,H=a.type;if(a.constructor!==void 0)return null;128&u.__u&&(v=!!(32&u.__u),d=[m=a.__e=u.__e]),(S=yr.__b)&&S(a);e:if(typeof H=="function")try{if(U=a.props,$="prototype"in H&&H.prototype.render,q=(S=H.contextType)&&l[S.__c],oe=S?q?q.props.value:S.__:l,u.__c?I=(j=a.__c=u.__c).__=j.__E:($?a.__c=j=new H(U,oe):(a.__c=j=new Rc(U,oe),j.constructor=H,j.render=b5),q&&q.sub(j),j.props=U,j.state||(j.state={}),j.context=oe,j.__n=l,A=j.__d=!0,j.__h=[],j._sb=[]),$&&j.__s==null&&(j.__s=j.state),$&&H.getDerivedStateFromProps!=null&&(j.__s==j.state&&(j.__s=Gu({},j.__s)),Gu(j.__s,H.getDerivedStateFromProps(U,j.__s))),M=j.props,D=j.state,j.__v=a,A)$&&H.getDerivedStateFromProps==null&&j.componentWillMount!=null&&j.componentWillMount(),$&&j.componentDidMount!=null&&j.__h.push(j.componentDidMount);else{if($&&H.getDerivedStateFromProps==null&&U!==M&&j.componentWillReceiveProps!=null&&j.componentWillReceiveProps(U,oe),!j.__e&&(j.shouldComponentUpdate!=null&&j.shouldComponentUpdate(U,j.__s,oe)===!1||a.__v===u.__v)){for(a.__v!==u.__v&&(j.props=U,j.state=j.__s,j.__d=!1),a.__e=u.__e,a.__k=u.__k,a.__k.some(function(K){K&&(K.__=a)}),J=0;J<j._sb.length;J++)j.__h.push(j._sb[J]);j._sb=[],j.__h.length&&h.push(j);break e}j.componentWillUpdate!=null&&j.componentWillUpdate(U,j.__s,oe),$&&j.componentDidUpdate!=null&&j.__h.push(function(){j.componentDidUpdate(M,D,N)})}if(j.context=oe,j.props=U,j.__P=r,j.__e=!1,Q=yr.__r,ee=0,$){for(j.state=j.__s,j.__d=!1,Q&&Q(a),S=j.render(j.props,j.state,j.context),G=0;G<j._sb.length;G++)j.__h.push(j._sb[G]);j._sb=[]}else do j.__d=!1,Q&&Q(a),S=j.render(j.props,j.state,j.context),j.state=j.__s;while(j.__d&&++ee<25);j.state=j.__s,j.getChildContext!=null&&(l=Gu(Gu({},l),j.getChildContext())),$&&!A&&j.getSnapshotBeforeUpdate!=null&&(N=j.getSnapshotBeforeUpdate(M,D)),TS(r,I0(z=S!=null&&S.type===L0&&S.key==null?S.props.children:S)?z:[z],a,u,l,o,d,h,m,v,x),j.base=a.__e,a.__u&=-161,j.__h.length&&h.push(j),I&&(j.__E=j.__=null)}catch(K){if(a.__v=null,v||d!=null){for(a.__u|=v?160:32;m&&m.nodeType===8&&m.nextSibling;)m=m.nextSibling;d[d.indexOf(m)]=null,a.__e=m}else a.__e=u.__e,a.__k=u.__k;yr.__e(K,a,u)}else d==null&&a.__v===u.__v?(a.__k=u.__k,a.__e=u.__e):a.__e=m5(u.__e,a,u,l,o,d,h,v,x);(S=yr.diffed)&&S(a)}function g5(r,a,u){a.__d=void 0;for(var l=0;l<u.length;l++)B0(u[l],u[++l],u[++l]);yr.__c&&yr.__c(a,r),r.some(function(o){try{r=o.__h,o.__h=[],r.some(function(d){d.call(o)})}catch(d){yr.__e(d,o.__v)}})}function m5(r,a,u,l,o,d,h,m,v){var x,S,j,A,M,D,N,I=u.props,U=a.props,$=a.type;if($==="svg"?o="http://www.w3.org/2000/svg":$==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),d!=null){for(x=0;x<d.length;x++)if((M=d[x])&&"setAttribute"in M==!!$&&($?M.localName===$:M.nodeType===3)){r=M,d[x]=null;break}}if(r==null){if($===null)return document.createTextNode(U);r=document.createElementNS(o,$,U.is&&U),m&&(yr.__m&&yr.__m(a,d),m=!1),d=null}if($===null)I===U||m&&r.data===U||(r.data=U);else{if(d=d&&C0.call(r.childNodes),I=u.props||qb,!m&&d!=null)for(I={},x=0;x<r.attributes.length;x++)I[(M=r.attributes[x]).name]=M.value;for(x in I)if(M=I[x],x!="children"){if(x=="dangerouslySetInnerHTML")j=M;else if(!(x in U)){if(x=="value"&&"defaultValue"in U||x=="checked"&&"defaultChecked"in U)continue;fy(r,x,null,M,o)}}for(x in U)M=U[x],x=="children"?A=M:x=="dangerouslySetInnerHTML"?S=M:x=="value"?D=M:x=="checked"?N=M:m&&typeof M!="function"||I[x]===M||fy(r,x,M,I[x],o);if(S)m||j&&(S.__html===j.__html||S.__html===r.innerHTML)||(r.innerHTML=S.__html),a.__k=[];else if(j&&(r.innerHTML=""),TS(r,I0(A)?A:[A],a,u,l,$==="foreignObject"?"http://www.w3.org/1999/xhtml":o,d,h,d?d[0]:u.__k&&Bc(u,0),m,v),d!=null)for(x=d.length;x--;)PS(d[x]);m||(x="value",$==="progress"&&D==null?r.removeAttribute("value"):D!==void 0&&(D!==r[x]||$==="progress"&&!D||$==="option"&&D!==I[x])&&fy(r,x,D,I[x],o),x="checked",N!==void 0&&N!==r[x]&&fy(r,x,N,I[x],o))}return r}function B0(r,a,u){try{if(typeof r=="function"){var l=typeof r.__u=="function";l&&r.__u(),l&&a==null||(r.__u=r(a))}else r.current=a}catch(o){yr.__e(o,u)}}function DS(r,a,u){var l,o;if(yr.unmount&&yr.unmount(r),(l=r.ref)&&(l.current&&l.current!==r.__e||B0(l,null,a)),(l=r.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(d){yr.__e(d,a)}l.base=l.__P=null}if(l=r.__k)for(o=0;o<l.length;o++)l[o]&&DS(l[o],a,u||typeof r.type!="function");u||PS(r.__e),r.__c=r.__=r.__e=r.__d=void 0}function b5(r,a,u){return this.constructor(r,u)}C0=AS.slice,yr={__e:function(r,a,u,l){for(var o,d,h;a=a.__;)if((o=a.__c)&&!o.__)try{if((d=o.constructor)&&d.getDerivedStateFromError!=null&&(o.setState(d.getDerivedStateFromError(r)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(r,l||{}),h=o.__d),h)return o.__E=o}catch(m){r=m}throw r}},SS=0,Rc.prototype.setState=function(r,a){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Gu({},this.state),typeof r=="function"&&(r=r(Gu({},u),this.props)),r&&Gu(u,r),r!=null&&this.__v&&(a&&this._sb.push(a),_w(this))},Rc.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),_w(this))},Rc.prototype.render=L0,nl=[],jS=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xb=function(r,a){return r.__v.__b-a.__v.__b},jy.__r=0,R0=0,Yb=ww(!1),Kb=ww(!0);var Fp=function(){return Fp=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Fp.apply(this,arguments)};function z0(r){var a=r.x,u=r.y,l=r.width,o=r.height,d=r.radius,h=r.className,m=a-l/2,v=u-o/2,x=Fp(Fp({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},r),{x:m,y:v});return Ye.h("rect",Fp({},x))}z0.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Nc;(function(r){r.NODE="node",r.CIRCLE_NODE="circle-node",r.POLYGON_NODE="polygon-node",r.RECT_NODE="rect-node",r.HTML_NODE="html-node",r.TEXT_NODE="text-node",r.ELLIPSE_NODE="ellipse-node",r.DIAMOND_NODE="diamond-node",r.EDGE="edge",r.LINE_EDGE="line-edge",r.POLYLINE_EDGE="polyline-edge",r.BEZIER_EDGE="bezier-edge",r.GRAPH="graph"})(Nc||(Nc={}));var _5=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),rl=function(){return rl=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},rl.apply(this,arguments)},O5=function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},w5=Ye.LogicFlowUtil.StepDrag,x5=function(r){_5(a,r);function a(u){var l=r.call(this)||this;return l.updatePosition=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel,v=m.x,x=m.y;l.nodeModel.x=v+d/2,l.nodeModel.y=x+h/2,l.nodeModel.moveText(d/2,h/2)},l.getResize=function(o){var d=o.index,h=o.deltaX,m=o.deltaY,v=o.width,x=o.height,S=o.PCTResizeInfo,j=o.pct,A=j===void 0?1:j,M=o.freezeWidth,D=M===void 0?!1:M,N=o.freezeHeight,I=N===void 0?!1:N,U={width:v,height:x,deltaX:h,deltaY:m};if(S){var $=4,q=0,oe=0;switch(d){case 0:oe=(h*-1-m)/$;break;case 1:oe=(h-m)/$;break;case 2:oe=(h+m)/$;break;case 3:oe=(h*-1+m)/$;break}oe!==0&&(q=Math.round(oe/S.ResizeBasis.basisHeight*1e5)/1e3),S.ResizePCT.widthPCT=Math.max(Math.min(S.ResizePCT.widthPCT+q,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit),S.ResizePCT.hightPCT=Math.max(Math.min(S.ResizePCT.hightPCT+q,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit);var J=Math.round(S.ResizePCT.widthPCT*S.ResizeBasis.basisWidth/100),Q=Math.round(S.ResizePCT.hightPCT*S.ResizeBasis.basisHeight/100);switch(d){case 0:h=v-J,m=x-Q;break;case 1:h=J-v,m=x-Q;break;case 2:h=J-v,m=Q-x;break;case 3:h=v-J,m=Q-x;break}return U.width=J,U.height=Q,U.deltaX=h/A,U.deltaY=m/A,U}switch(d){case 0:U.width=D?v:v-h*A,U.height=I?x:x-m*A;break;case 1:U.width=D?v:v+h*A,U.height=I?x:x-m*A;break;case 2:U.width=D?v:v+h*A,U.height=I?x:x+m*A;break;case 3:U.width=D?v:v-h*A,U.height=I?x:x+m*A;break}return U},l.updateEdgePointByAnchors=function(){var o=l.nodeModel,d=o.id,h=o.anchors,m=l.getNodeEdges(d);m.sourceEdges.forEach(function(v){var x=h.find(function(S){return S.id===v.sourceAnchorId});v.updateStartPoint({x:x.x,y:x.y})}),m.targetEdges.forEach(function(v){var x=h.find(function(S){return S.id===v.targetAnchorId});v.updateEndPoint({x:x.x,y:x.y})})},l.updateRect=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel,v=m.id,x=m.x,S=m.y,j=m.width,A=m.height,M=m.radius,D=m.PCTResizeInfo,N=l.nodeModel,I=N.minWidth,U=N.minHeight,$=N.maxWidth,q=N.maxHeight,oe=l.index,J=I===$,Q=U===q,ee=l.getResize({index:oe,deltaX:d,deltaY:h,width:j,height:A,PCTResizeInfo:D,pct:1,freezeWidth:J,freezeHeight:Q});if(ee.width<I||ee.width>$||ee.height<U||ee.height>q){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:J?0:ee.deltaX,deltaY:Q?0:ee.deltaY}),l.nodeModel.width=ee.width,l.nodeModel.height=ee.height,l.nodeModel.setProperties({nodeSize:{width:ee.width,height:ee.height}}),l.getNodeEdges(v);var G={x,y:S,width:j,height:A,radius:M},z={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:M};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:G,afterNode:z})},l.updateEllipse=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel,v=m.id,x=m.rx,S=m.ry,j=m.x,A=m.y,M=m.PCTResizeInfo,D=l.index,N=l.nodeModel,I=N.minWidth,U=N.minHeight,$=N.maxWidth,q=N.maxHeight,oe=I===$,J=U===q,Q=x,ee=S,G=l.getResize({index:D,deltaX:d,deltaY:h,width:Q,height:ee,PCTResizeInfo:M,pct:1/2,freezeWidth:oe,freezeHeight:J});if(G.width<I/2||G.width>$/2||G.height<U/2||G.height>q/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:oe?0:G.deltaX,deltaY:J?0:G.deltaY}),l.nodeModel.rx=G.width,l.nodeModel.ry=G.height,l.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}}),l.getNodeEdges(v);var z={x:j,y:A},H={rx:G.width,ry:G.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:rl(rl({},z),{rx:x,ry:S}),afterNode:H})},l.updateDiamond=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel;m.id;var v=m.rx,x=m.ry,S=m.x,j=m.y,A=m.PCTResizeInfo,M=l.index,D=l.nodeModel,N=D.minWidth,I=D.minHeight,U=D.maxWidth,$=D.maxHeight,q=N===U,oe=I===$,J=v,Q=x,ee=l.getResize({index:M,deltaX:d,deltaY:h,width:J,height:Q,PCTResizeInfo:A,pct:1/2,freezeWidth:q,freezeHeight:oe});if(ee.width<N/2||ee.width>U/2||ee.height<I/2||ee.height>$/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:q?0:ee.deltaX,deltaY:oe?0:ee.deltaY}),l.nodeModel.rx=ee.width,l.nodeModel.ry=ee.height,l.nodeModel.setProperties({nodeSize:{rx:ee.width,ry:ee.height}});var G={x:S,y:j,rx:v,ry:x},z={rx:ee.width,ry:ee.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:G,afterNode:z})},l.eventEmit=function(o){var d=o.beforeNode,h=o.afterNode,m=l.nodeModel,v=m.id,x=m.modelType,S=m.type,j=rl({id:v,modelType:x,type:S},d),A=rl({id:v,modelType:x,type:S},h);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:j,newNodeSize:A})},l.onDragging=function(o){var d,h=o.deltaX,m=o.deltaY,v=l.graphModel.transformModel,x=l.nodeModel.modelType;d=O5(v.fixDeltaXY(h,m),2),h=d[0],m=d[1],x===Nc.RECT_NODE||x===Nc.HTML_NODE?l.updateRect({deltaX:h,deltaY:m}):x===Nc.ELLIPSE_NODE?l.updateEllipse({deltaX:h,deltaY:m}):x===Nc.DIAMOND_NODE&&l.updateDiamond({deltaX:h,deltaY:m})},l.onDragEnd=function(){var o=l.graphModel.gridSize,d=o===void 0?1:o,h=d*Math.round(l.nodeModel.x/d),m=d*Math.round(l.nodeModel.y/d);l.nodeModel.moveTo(h,m),l.updateEdgePointByAnchors()},l.index=u.index,l.nodeModel=u.model,l.graphModel=u.graphModel,l.state={},l.dragHandler=new w5({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return a.prototype.getNodeEdges=function(u){for(var l=this.graphModel,o=l.edges,d=[],h=[],m=0;m<o.length;m++){var v=o[m];v.sourceNodeId===u?d.push(v):o[m].targetNodeId===u&&h.push(v)}return{sourceEdges:d,targetEdges:h}},a.prototype.render=function(){var u=this.props,l=u.x,o=u.y,d=u.index,h=u.model,m=h.getControlPointStyle();return zp("g",{className:"lf-resize-control-"+d},zp(z0,rl({className:"lf-node-control"},{x:l,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},a}(Rc),E5=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Ay=function(){return Ay=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Ay.apply(this,arguments)},Qy=function(r){E5(a,r);function a(){var u=r.call(this)||this;return u.state={},u}return a.prototype.getResizeControl=function(){var u=this.props,l=u.model,o=u.graphModel,d=l.x,h=l.y,m=l.width,v=l.height,x={minX:d-m/2,minY:h-v/2,maxX:d+m/2,maxY:h+v/2},S=x.minX,j=x.minY,A=x.maxX,M=x.maxY,D=[{x:S,y:j},{x:A,y:j},{x:A,y:M},{x:S,y:M}];return D.map(function(N,I){return zp(x5,Ay({index:I},N,{model:l,graphModel:o}))})},a.prototype.getGroupSolid=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.getResizeOutlineStyle();return zp(z0,Ay({fill:"none"},m,{x:l,y:o,width:d,height:h}))},a.prototype.render=function(){return zp("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},a}(Rc),CS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),S5=function(r){CS(a,r);function a(u,l){var o=r.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.resize=function(u,l){console.log(u,l)},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a}(Ye.RectNodeModel),j5=function(r){CS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ye.h(Qy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return r.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a}(Ye.RectNode),RS={type:"rect",view:j5,model:S5},IS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){IS(a,r);function a(u,l){var o=r.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Ye.EllipseNodeModel);(function(r){IS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ye.h(Qy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return r.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model,o=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),l.isSelected&&!o?this.getControlGroup():"")},a})(Ye.EllipseNode);var Jb=function(){return Jb=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Jb.apply(this,arguments)};function A5(r){var a=r.fillOpacity,u=a===void 0?1:a,l=r.strokeWidth,o=l===void 0?1:l,d=r.strokeOpacity,h=d===void 0?1:d,m=r.fill,v=m===void 0?"transparent":m,x=r.stroke,S=x===void 0?"#000":x,j=r.points,A=r.className,M=A===void 0?"lf-basic-shape":A,D={fill:v,fillOpacity:u,strokeWidth:o,stroke:S,strokeOpacity:h,points:"",className:M};return D.points=j.map(function(N){return N.join(",")}).join(" "),Ye.h("polygon",Jb({},D))}var LS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Zb=function(){return Zb=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Zb.apply(this,arguments)};(function(r){LS(a,r);function a(u,l){var o=r.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Ye.DiamondNodeModel);(function(r){LS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ye.h(Qy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){var u=this.props.model,l=u.points,o=u.getNodeStyle();return Ye.h("g",null,Ye.h(A5,Zb({},o,{points:l})))},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a})(Ye.DiamondNode);var BS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){BS(a,r);function a(u,l){var o=r.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Ye.HtmlNodeModel);(function(r){BS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ye.h(Qy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return r.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Ye.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a})(Ye.HtmlNode);var zS=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Py=function(){return Py=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Py.apply(this,arguments)},P5=function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},M5=function(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(P5(arguments[a]));return r},xw=500,Ew=300,T5=-1e4;(function(r){zS(a,r);function a(){var u=r!==null&&r.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=xw,u.unfoldedHight=Ew,u.childrenLastFoldStatus={},u}return a.prototype.initNodeData=function(u){var l=this;r.prototype.initNodeData.call(this,u);var o=[];Array.isArray(u.children)&&(o=u.children),this.children=new Set(o),this.width=xw,this.height=Ew,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=T5,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},a.prototype.getResizeOutlineStyle=function(){var u=r.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},a.prototype.foldGroup=function(u){var l=this;if(u!==this.isFolded){this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var h=l.graphModel.getElement(d),m=h.isFolded;if(h.isGroup&&!h.isFolded&&h.foldGroup(u),h.isGroup&&!u){var v=l.childrenLastFoldStatus[d];v!==void 0&&v!==h.isFolded&&h.foldGroup(v)}l.childrenLastFoldStatus[d]=m,h.visible=!u,o=o.concat(h.incoming.edges.concat(h.outgoing.edges))}),this.foldEdge(u,o)}},a.prototype.getAnchorStyle=function(u){var l=r.prototype.getAnchorStyle.call(this,u);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},a.prototype.foldEdge=function(u,l){var o=this;l.forEach(function(d,h){var m=d.id,v=d.sourceNodeId,x=d.targetNodeId,S=d.startPoint,j=d.endPoint,A=d.type,M=d.text,D=d.getProperties(),N={id:m+"__"+h,sourceNodeId:v,targetNodeId:x,startPoint:S,endPoint:j,type:A,properties:D,text:M==null?void 0:M.value};d.virtual&&o.graphModel.deleteEdgeById(d.id);var I=o.graphModel.group.getNodeGroup(x);I||(I=o.graphModel.getNodeModelById(x));var U=o.graphModel.group.getNodeGroup(v);U||(U=o.graphModel.getNodeModelById(v)),u&&d.visible!==!1&&(o.children.has(v)||o.id===v?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(I.id!==o.id||U.id!==o.id)&&o.createVirtualEdge(N),d.visible=!1),!u&&d.visible===!1&&(I&&I.isGroup&&I.isFolded?(N.targetNodeId=I.id,N.endPoint=void 0,o.createVirtualEdge(N)):U&&U.isGroup&&U.isFolded?(N.sourceNodeId=U.id,N.startPoint=void 0,o.createVirtualEdge(N)):d.visible=!0)})},a.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var l=this.graphModel.addEdge(u);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},a.prototype.isInRange=function(u){var l=u.x1,o=u.y1,d=u.x2,h=u.y2;return l>=this.x-this.width/2&&d<=this.x+this.width/2&&o>=this.y-this.height/2&&h<=this.y+this.height/2},a.prototype.isAllowMoveTo=function(u){var l=u.x1,o=u.y1,d=u.x2,h=u.y2;return{x:l>=this.x-this.width/2&&d<=this.x+this.width/2,y:o>=this.y-this.height/2&&h<=this.y+this.height/2}},a.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},a.prototype.addChild=function(u){this.children.add(u),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},a.prototype.removeChild=function(u){this.children.delete(u),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},a.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},a.prototype.getData=function(){var u=this,l=r.prototype.getData.call(this);l.children=[],this.children.forEach(function(d){var h=u.graphModel.getNodeModelById(d);h&&!h.virtual&&l.children.push(d)});var o=l.properties;return delete o.groupAddable,delete o.isFolded,l},a.prototype.getHistoryData=function(){var u=r.prototype.getData.call(this);u.children=M5(this.children),u.isGroup=!0;var l=u.properties;return delete l.groupAddable,l.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},a.prototype.isAllowAppendIn=function(u){return!0},a.prototype.toBack=function(){this.zIndex--},a})(RS.model);(function(r){zS(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props.model,l=u.resizable,o=u.properties;return l&&!o.isFolded?r.prototype.getControlGroup.call(this):null},a.prototype.getAddableShape=function(){var u=this.props.model,l=u.width,o=u.height,d=u.x,h=u.y,m=u.radius,v=u.properties;if(!v.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),j=l+x+8,A=o+x+8;return Ye.h("rect",Py(Py({},S),{width:j,height:A,x:d-j/2,y:h-A/2,rx:m,ry:m}))},a.prototype.getFoldIcon=function(){var u=this.props.model,l=u.x-u.width/2+5,o=u.y-u.height/2+5;if(!u.foldable)return null;var d=Ye.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" M"+(l+7)+","+(o+2)+" "+(l+7)+","+(o+10):"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" "});return Ye.h("g",{},[Ye.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),d])},a.prototype.getResizeShape=function(){return Ye.h("g",{},[this.getAddableShape(),r.prototype.getResizeShape.call(this),this.getFoldIcon()])},a})(RS.view);var Sw=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Up=function(){return Up=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Up.apply(this,arguments)};function k5(r){var a=function(l){Sw(o,l);function o(d,h){var m=this;d.id||(d.id="Flow_"+d5());var v=Up(Up(Up({},{}),d.properties),{isDefaultFlow:!1});return d.properties=v,m=l.call(this,d,h)||this,m}return o.extendKey="SequenceFlowModel",o}(Ye.PolylineEdgeModel),u=function(l){Sw(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var d=this.props.model,h=d.properties.isDefaultFlow;return h?Ye.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Ye.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Ye.PolylineEdge);return{type:"bpmn:sequenceFlow",view:u,model:a}}k5();var jw={width:40,height:40},Aw={width:40,height:40},Pw={width:100,height:80},My={width:100,height:80},Mw={width:100,height:80},Tw={width:100,height:80},kw={width:100,height:80},Nw={width:100,height:80},Dw={width:100,height:80},Cw={width:100,height:80},wo=function(){};wo.ObjTree=function(){return this};wo.ObjTree.VERSION="0.23";wo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;wo.ObjTree.prototype.attr_prefix="-";wo.ObjTree.prototype.parseXML=function(r){var a;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(r,"application/xml");if(!l)return;a=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(r),a=u.documentElement);if(a){var o=this.parseDOM(a);return o}};wo.ObjTree.prototype.parseHTTP=function(r,a,u){var l={};for(var o in a)l[o]=a[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var d=this,h=u,m=l.onComplete;l.onComplete=function(S){var j;S&&S.responseXML&&S.responseXML.documentElement&&(j=d.parseDOM(S.responseXML.documentElement)),h(j,S),m&&m(S)}}else l.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){l.uri=r;var x=new HTTP.Request(l);x&&(v=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(r,l);x&&(v=x.transport)}if(u)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};wo.ObjTree.prototype.parseDOM=function(r){if(r){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(r);if(this.__force_array[r.nodeName]&&(u=[u]),r.nodeType!==11){var l={};l[r.nodeName]=u,u=l}return u}};wo.ObjTree.prototype.parseElement=function(r){if(r.nodeType!==7){if(r.nodeType===3||r.nodeType===4||r.nodeType===8){var a=r.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:r.nodeValue}var u=null,l={};if(r.attributes&&r.attributes.length){u={};for(var o=0;o<r.attributes.length;o++){var d=r.attributes[o].nodeName;if(typeof d=="string"){var h=r.attributes[o].nodeValue;try{h=JSON.parse(r.attributes[o].nodeValue.replace(/'/g,'"'))}catch{h=r.attributes[o].nodeValue}h!=null&&(d=this.attr_prefix+d,typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}if(r.childNodes&&r.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<r.childNodes.length&&m;o++){var v=r.childNodes[o].nodeType;v===3||v===4||v===8||(m=!1)}if(m){u||(u="");for(var o=0;o<r.childNodes.length;o++)u+=r.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<r.childNodes.length;o++){var d=r.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(r.childNodes[o]);h&&(typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}}else u===null&&(u={});return u}};wo.ObjTree.prototype.addNode=function(r,a,u,l){this.__force_array[a]?(u===1&&(r[a]=[]),r[a][r[a].length]=l):u===1?r[a]=l:u===2?r[a]=[r[a],l]:r[a][r[a].length]=l};wo.ObjTree.prototype.writeXML=function(r){var a=this.hash_to_xml(null,r);return this.xmlDecl+a};wo.ObjTree.prototype.hash_to_xml=function(r,a){var u=[],l=[];for(var o in a)if(a!=null&&a.hasOwnProperty(o)){var d=a[o];o.charAt(0)!==this.attr_prefix?typeof d>"u"||d==null?u[u.length]="<"+o+" />":typeof d=="object"&&d.constructor===Array?u[u.length]=this.array_to_xml(o,d):typeof d=="object"?u[u.length]=this.hash_to_xml(o,d):u[u.length]=this.scalar_to_xml(o,d):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=l.join(""),m=u.join("");return typeof r>"u"||r==null||(u.length>0?m.match(/\n/)?m="<"+r+h+`>
`+m+"</"+r+`>
`:m="<"+r+h+">"+m+"</"+r+`>
`:m="<"+r+h+` />
`),m};wo.ObjTree.prototype.array_to_xml=function(r,a){for(var u=[],l=0;l<a.length;l++){var o=a[l];typeof o>"u"||o==null?u[u.length]="<"+r+" />":typeof o=="object"&&o.constructor===Array?u[u.length]=this.array_to_xml(r,o):typeof o=="object"?u[u.length]=this.hash_to_xml(r,o):u[u.length]=this.scalar_to_xml(r,o)}return u.join("")};wo.ObjTree.prototype.scalar_to_xml=function(r,a){return r==="#text"?this.xml_escape(a):"<"+r+">"+this.xml_escape(a)+"</"+r+`>
`};wo.ObjTree.prototype.xml_escape=function(r){return r.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var N5=function(r){return new wo.ObjTree().parseXML(r)};function FS(r){return Object.prototype.toString.call(r)}function Rw(r){return"  ".repeat(r)}function Ty(r){return FS(r)==="[object Object]"?Object.keys(r).reduce(function(a,u){var l=u;return u.charAt(0)==="-"&&(l=u.substring(1)),a[l]=Ty(r[u]),a},{}):Array.isArray(r)?r.map(function(a){return Ty(a)}):r}function D5(r){var a=r;try{typeof a!="string"&&(a=JSON.parse(r))}catch{a=JSON.stringify(Ty(r)).replace(/"/g,"'")}return a}var Iw=`	
`;function yy(r,a,u){var l=Rw(u),o="",d=Iw+l;if(a==="-json")return"";if(a==="#text")return d+r;if(a==="#cdata-section")return d+"<![CDATA["+r+"]]>";if(a==="#comment")return d+"<!--"+r+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+D5(r)+'"';if(Array.isArray(r))o+=r.map(function(x){return yy(x,a,u+1)}).join("");else if(FS(r)==="[object Object]"){var h=Object.keys(r),m="",v=r["-json"]?Iw+Rw(u+1)+r["-json"]:"";o+=(u===0?"":d)+"<"+a,h.forEach(function(x){x.charAt(0)==="-"?m+=yy(r[x],x,u+1):v+=yy(r[x],x,u+1)}),o+=m+(v!==""?">"+v+d+"</"+a+">":" />")}else o+=d+"<"+a+">"+r.toString()+"</"+a+">";return o}function C5(r){var a="";for(var u in r)a+=yy(r[u],u,0);return a}var R5=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Qb=function(){return Qb=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Qb.apply(this,arguments)},Lw=function(r,a){var u={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(u[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(r);o<l.length;o++)a.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(r,l[o])&&(u[l[o]]=r[l[o]]);return u},F0=function(r){var a=typeof Symbol=="function"&&Symbol.iterator,u=a&&r[a],l=0;if(u)return u.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},qc=function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},Ic=function(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(qc(arguments[a]));return r},bo;(function(r){r.START="bpmn:startEvent",r.END="bpmn:endEvent",r.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",r.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",r.BOUNDARY="bpmn:boundaryEvent",r.PARALLEL_GATEWAY="bpmn:parallelGateway",r.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",r.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",r.USER="bpmn:userTask",r.SYSTEM="bpmn:serviceTask",r.FLOW="bpmn:sequenceFlow",r.SUBPROCESS="bpmn:subProcess"})(bo||(bo={}));var US=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],I5=["properties","startPoint","endPoint","pointsList"],ky={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},WS=function(r,a){var u=Object.keys(a||{});return u.forEach(function(l){if(r[l]){var o=a[l],d=o.in,h=o.out;d&&(r[l].in=d),h&&(r[l].out=h)}else r[l]=a[l]}),r},vi={"bpmn:startEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=vi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:intermediateCatchEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=vi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:intermediateThrowEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=vi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:boundaryEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=vi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:sequenceFlow":{out:function(r){var a=r.properties,u=a.expressionType,l=a.condition;return l?u==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(r){var a=r.properties,u=a.timerType,l=a.timerValue,o=a.definitionId,d=function(){return"<bpmn:"+u+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+u+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(u&&l?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(r,a){var u,l,o,d,h=r,m=a["-id"],v="",x="";try{for(var S=F0(Object.keys(a)),j=S.next();!j.done;j=S.next()){var A=j.value;A.includes("bpmn:")&&(o=qc(A.split(":"),2),v=o[1],x=(d=a[A])===null||d===void 0?void 0:d["#text"])}}catch(M){u={error:M}}finally{try{j&&!j.done&&(l=S.return)&&l.call(S)}finally{if(u)throw u.error}}return{"-definitionId":m,"-definitionType":h,"-timerType":v,"-timerValue":x}}},"bpmn:conditionExpression":{in:function(r,a){var u,l="",o="";return a["#cdata-section"]?(o="cdata",l=((u=/^\$\{(.*)\}$/g.exec(a["#cdata-section"]))===null||u===void 0?void 0:u[1])||""):a["#text"]&&(o="normal",l=a["#text"]),{"-condition":l,"-expressionType":o}}}};function L5(r){var a=r??{},u=a.retainedAttrsFields,l=a.excludeFields,o=a.transformer,d=new Set(Ic(I5,u||[])),h={in:new Set(Ic(ky.in,(l==null?void 0:l.in)||[])),out:new Set(Ic(ky.out,(l==null?void 0:l.out)||[]))};return vi=WS(vi,o),function(m){var v=m.nodes,x=m.edges;function S(j,A){var M,D,N;if((j==null?void 0:j.flag)!==1){var I;if((I=vi[j.type])&&I.out){var U=I.out(j),$=Object.keys(U);$.length>0&&$.forEach(function(H){j[H]=U[H]})}j!=null&&j.children&&(j.children=j.children.map(function(H){var K=v.find(function(X){return X.id===H})||x.find(function(X){return X.id===H});return K||{}}));var q={};if(typeof j=="string")return j;if(Array.isArray(j))return j.map(function(H){return S(H,"")}).filter(function(H){return H!=null});try{for(var oe=F0(Object.entries(j)),J=oe.next();!J.done;J=oe.next()){var Q=qc(J.value,2),ee=Q[0],G=Q[1];if(((N=G)===null||N===void 0?void 0:N.flag)===1)return;var z=[A,ee].filter(function(H){return H}).join(".");h.out.has(z)||(typeof G!="object"?ee.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(ee)?q[ee]=G:q["-"+ee]=G:d.has(z)?q["-"+ee]=S(G,z):q[ee]=S(G,z))}}catch(H){M={error:H}}finally{try{J&&!J.done&&(D=oe.return)&&D.call(oe)}finally{if(M)throw M.error}}return q}}return S(m,"")}}function Ny(r){var a,u,l={};try{for(var o=F0(Object.entries(r)),d=o.next();!d.done;d=o.next()){var h=qc(d.value,2),m=h[0],v=h[1];m.indexOf("-")===0?l[m.substring(1)]=Ty(v):typeof v=="string"?l[m]=v:Object.prototype.toString.call(v)==="[object Object]"?l[m]=Ny(v):Array.isArray(v)?l[m]=v.map(function(x){return Ny(x)}):l[m]=v}}catch(x){a={error:x}}finally{try{d&&!d.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}return l}function B5(r,a,u){var l,o=new Map,d=L5(u)(a);d.nodes.forEach(function(m){var v=m["-id"],x=m["-type"],S=m.text,j=m.children,A=Lw(m,["-id","-type","text","children"]),M={"-id":v};S!=null&&S["-value"]&&(M["-name"]=S["-value"]),A["-json"]&&(M["-json"]=A["-json"]),A["-properties"]&&Object.assign(M,A["-properties"]),j&&(M.children=j),r[x]||(r[x]=[]),r[x].push(M),o.set(v,M)});var h=d.edges.map(function(m){var v=m["-id"];m["-type"];var x=m["-sourceNodeId"],S=m["-targetNodeId"],j=m.text,A=Lw(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),M=o.get(S);M["bpmn:incoming"]||(M["bpmn:incoming"]=[]),M["bpmn:incoming"].push(v);var D={"-id":v,"-sourceRef":x,"-targetRef":S};return j!=null&&j["-value"]&&(D["-name"]=j["-value"]),A["-json"]&&(D["-json"]=A["-json"]),A["-properties"]&&Object.assign(D,A["-properties"]),D});return a.edges.forEach(function(m){var v=m.sourceNodeId,x=m.id,S=o.get(v);S["bpmn:outgoing"]||(S["bpmn:outgoing"]=[]),S["bpmn:outgoing"].push(x)}),(l=r["bpmn:subProcess"])===null||l===void 0||l.forEach(function(m){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},x=[];m.children.forEach(function(N){var I,U=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(q){U[q]&&U[q].forEach(function(oe){v[q].add(oe)})});var $=(I=r[N["-type"]])===null||I===void 0?void 0:I.findIndex(function(q){return q["-id"]===N["-id"]});$>=0&&r[N["-type"]].splice($,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(U)});var S=v["bpmn:incoming"],j=v["bpmn:outgoing"];j.forEach(function(N){S.has(N)&&x.push(N)});for(var A=function(N){var I=h.findIndex(function(U){return U["-id"]===x[N]});I>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(h[I]),h.splice(I,1)):N++,M=N},M,D=0;D<x.length;)A(D),D=M;delete m.children}),r[bo.FLOW]=h,r}function z5(r,a){r["bpmndi:BPMNEdge"]=a.edges.map(function(u){var l,o=u.id,d=u.pointsList.map(function(m){var v=m.x,x=m.y;return{"-x":v,"-y":x}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((l=u.text)===null||l===void 0)&&l.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),h}),r["bpmndi:BPMNShape"]=a.nodes.map(function(u){var l,o=u.id,d=100,h=80,m=u.x,v=u.y,x=Ro.shapeConfigMap.get(u.type);x&&(d=x.width,h=x.height),m-=d/2,v-=h/2;var S={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":v,"-width":d,"-height":h}};return!((l=u.text)===null||l===void 0)&&l.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}var F5=["bpmn:incoming","bpmn:outgoing"];function U5(r,a){var u=[],l=[],o=new Map,d=a??{},h=d.transformer,m=d.excludeFields,v={in:new Set(Ic(ky.in,(m==null?void 0:m.in)||[])),out:new Set(Ic(ky.out,(m==null?void 0:m.out)||[]))};vi=WS(vi,h);var x=r["bpmn:definitions"];if(x){var S=x["bpmn:process"];(function(A,M){M.forEach(function(D){try{Object.keys(A).forEach(function(N){try{D(N)}catch(I){console.error(I)}})}catch(N){console.error(N)}})})(S,[function(A){function M(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(I){var U;I.indexOf("bpmn:")===0&&!F5.includes(I)&&(S[I]||(S[I]=[]),!Array.isArray(S[I])&&(S[I]=[S[I]]),Array.isArray(N[I])?(U=S[I]).push.apply(U,Ic(N[I])):S[I].push(N[I]),Array.isArray(N[I])?N[I].forEach(function($){!I.includes("Flow")&&N["-children"].push($["-id"])}):!I.includes("Flow")&&N["-children"].push(N[I]["-id"]),delete N[I])})}if(A==="bpmn:subProcess"){var D=S[A];Array.isArray(D)?D.forEach(function(N){A==="bpmn:subProcess"&&M(N)}):M(D)}},function(A){var M=function(N){Object.keys(N).forEach(function(I){var U,$;if(I.includes("bpmn:")){var q={};vi[I]&&vi[I].in?(q=($=(U=vi[I]).in)===null||$===void 0?void 0:$.call(U,I,W.cloneDeep(N[I])),delete N[I]):D(N[I]);var oe=void 0;(oe=Reflect.ownKeys(q)).length>0&&oe.forEach(function(J){Reflect.set(N,J,q[J])})}})};function D(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(I){D(I)}):typeof N=="object"&&M(N)}D(S[A])},function(A){if(A.indexOf("bpmn:")===0){var M=S[A];if(A==="bpmn:sequenceFlow"){var D=x["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=$5(M,D)}else{var N=x["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(A==="bpmn:boundaryEvent"){var I=S[A],U=function($){var q=$["-attachedToRef"],oe=o.get(q);oe["-boundaryEvents"]||(oe["-boundaryEvents"]=[]),oe["-boundaryEvents"].push($["-id"])};Array.isArray(I)?I.forEach(function($){U($)}):U(I)}u=u.concat(W5(M,N,A))}}}])}var j=function(A,M,D){Object.keys(A).forEach(function(N){var I=D?D+"."+N:N;M.has(I)?delete A[N]:typeof A[N]=="object"&&j(A[N],M,I)})};return u.forEach(function(A){var M,D;if(!((M=a==null?void 0:a.mapping)===null||M===void 0)&&M.in){var N=(D=a==null?void 0:a.mapping)===null||D===void 0?void 0:D.in,I=A.type;N[I]&&(A.type=N[I])}j(A,v.in,"")}),l.forEach(function(A){var M,D;if(!((M=a==null?void 0:a.mapping)===null||M===void 0)&&M.in){var N=(D=a==null?void 0:a.mapping)===null||D===void 0?void 0:D.in,I=A.type;N[I]&&(A.type=N[I])}j(A,v.in,"")}),{nodes:u,edges:l}}function W5(r,a,u){var l=[];if(Array.isArray(r))r.forEach(function(h){var m;Array.isArray(a)?m=a.find(function(x){return x["-bpmnElement"]===h["-id"]}):m=a;var v=Bw(m,u,h);l.push(v)});else{var o=void 0;Array.isArray(a)?o=a.find(function(h){return h["-bpmnElement"]===r["-id"]}):o=a;var d=Bw(o,u,r);l.push(d)}return l}function Bw(r,a,u){var l=Number(r["dc:Bounds"]["-x"]),o=Number(r["dc:Bounds"]["-y"]),d=u["-children"],h=u["-name"],m=Ro.shapeConfigMap.get(a);m&&(l+=m.width/2,o+=m.height/2);var v={};Object.entries(u).forEach(function(A){var M=qc(A,2),D=M[0],N=M[1];US.includes(D)||(v[D]=N)}),v=Ny(v);var x;if(h&&(x={x:l,y:o,value:h},r["bpmndi:BPMNLabel"]&&r["bpmndi:BPMNLabel"]["dc:Bounds"])){var S=r["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(S["-x"])+Number(S["-width"])/2,x.y=Number(S["-y"])+Number(S["-height"])/2}var j={id:r["-bpmnElement"],type:a,x:l,y:o,properties:v};return d&&(j.children=d),x&&(j.text=x),j}function $5(r,a){var u=[];if(Array.isArray(r))r.forEach(function(o){var d;Array.isArray(a)?d=a.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=a,u.push(zw(d,o))});else{var l=void 0;Array.isArray(a)?l=a.find(function(o){return o["-bpmnElement"]===r["-id"]}):l=a,u.push(zw(l,r))}return u}function zw(r,a){var u,l=a["-name"];if(l){var o=r["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;l.split(`
`).forEach(function(x){d<x.length&&(d=x.length)}),u={value:l,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h={};Object.entries(a).forEach(function(x){var S=qc(x,2),j=S[0],A=S[1];US.includes(j)||(h[j]=A)}),h=Ny(h);var m=r["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),v={id:a["-id"],type:bo.FLOW,pointsList:m,sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:h};return u&&(v.text=u),v}var Ro=function(){function r(a){var u=this,l=a.lf;this.adapterOut=function(o,d){var h,m,v=Qb({},u.processAttributes);B5(v,o,d);var x={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};z5(x,o);var S=u.definitionAttributes;S["bpmn:process"]=v,S["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":x};var j={"bpmn:definitions":S};if(!((h=d==null?void 0:d.mapping)===null||h===void 0)&&h.out){var A=(m=d==null?void 0:d.mapping)===null||m===void 0?void 0:m.out,M=function(D){Array.isArray(D)&&D.forEach(function(N){return M(N)}),typeof D=="object"&&Object.keys(D).forEach(function(N){var I;(I=A[N])?(D[I]=W.cloneDeep(D[N]),delete D[N],M(D[I])):M(D[N])})};M(j)}return j},this.adapterIn=function(o,d){if(o)return U5(o,d)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return r.prototype.setCustomShape=function(a,u){r.shapeConfigMap.set(a,u)},r.pluginName="bpmn-adapter",r.shapeConfigMap=new Map,r}();Ro.shapeConfigMap.set(bo.START,{width:jw.width,height:jw.height});Ro.shapeConfigMap.set(bo.END,{width:Aw.width,height:Aw.height});Ro.shapeConfigMap.set(bo.INTERMEDIATE_CATCH,{width:My.width,height:My.height});Ro.shapeConfigMap.set(bo.INTERMEDIATE_THROW,{width:My.width,height:My.height});Ro.shapeConfigMap.set(bo.BOUNDARY,{width:Pw.width,height:Pw.height});Ro.shapeConfigMap.set(bo.PARALLEL_GATEWAY,{width:Mw.width,height:Mw.height});Ro.shapeConfigMap.set(bo.INCLUSIVE_GATEWAY,{width:Tw.width,height:Tw.height});Ro.shapeConfigMap.set(bo.EXCLUSIVE_GATEWAY,{width:kw.width,height:kw.height});Ro.shapeConfigMap.set(bo.SYSTEM,{width:Nw.width,height:Nw.height});Ro.shapeConfigMap.set(bo.USER,{width:Dw.width,height:Dw.height});Ro.shapeConfigMap.set(bo.SUBPROCESS,{width:Cw.width,height:Cw.height});(function(r){R5(a,r);function a(u){var l=r.call(this,u)||this;l.adapterXmlIn=function(h){var m=N5(h);return l.adapterIn(m,l.props)},l.adapterXmlOut=function(h){var m=l.adapterOut(h,l.props);return C5(m)};var o=u.lf,d=u.props;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l.props=d,l}return a.pluginName="BPMNAdapter",a})(Ro);var Fw;(function(r){r.HORIZONTAL="horizontal",r.VERTICAL="vertical"})(Fw||(Fw={}));var G5=function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},V5=function(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(G5(arguments[a]));return r},H5=function(){function r(a){var u=this,l=a.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){u.lf.redo()}}],this.lf=l}return r.prototype.render=function(a,u){this.destroy();var l=this.getControlTool();this.toolEl=l,u.appendChild(l),this.domContainer=u},r.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},r.prototype.addItem=function(a){this.controlItems.push(a)},r.prototype.removeItem=function(a){var u=this.controlItems.findIndex(function(l){return l.key===a});return u==-1?null:this.controlItems.splice(u,1)[0]},r.prototype.getControlTool=function(){var a=this,u="lf-control-item",l="lf-control-item disabled",o=document.createElement("div"),d=[];return o.className="lf-control",this.controlItems.forEach(function(h){var m=document.createElement("div"),v=document.createElement("i"),x=document.createElement("span");switch(m.className=l,h.onClick&&(m.onclick=h.onClick.bind(null,a.lf)),h.onMouseEnter&&(m.onmouseenter=h.onMouseEnter.bind(null,a.lf)),h.onMouseLeave&&(m.onmouseleave=h.onMouseLeave.bind(null,a.lf)),v.className=h.iconClass,x.className="lf-control-text",x.title=h.title,x.innerText=h.text,m.append(v,x),h.text){case"上一步":a.lf.on("history:change",function(S){var j=S.data.undoAble;m.className=j?u:l});break;case"下一步":a.lf.on("history:change",function(S){var j=S.data.redoAble;m.className=j?u:l});break;default:m.className=u;break}d.push(m)}),o.append.apply(o,V5(d)),o},r.pluginName="control",r}(),X5=function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},Y5=function(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(X5(arguments[a]));return r},Rp="lf:defaultNodeMenu",Ip="lf:defaultEdgeMenu",Lp="lf:defaultGraphMenu",Uw="lf:defaultSelectionMenu",K5=function(){function r(a){var u=this,l=a.lf;this.lf=l;var o=l.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(d){u.setMenuConfig(d)},this.lf.addMenuConfig=function(d){u.addMenuConfig(d)},this.lf.setMenuByType=function(d){u.setMenuByType(d)})}return r.prototype.init=function(){var a=this,u=[{text:"删除",callback:function(d){a.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){a.lf.graphModel.editText(d.id)}},{text:"复制",callback:function(d){a.lf.cloneNode(d.id)}}];this.menuTypeMap.set(Rp,u);var l=[{text:"删除",callback:function(d){a.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){a.lf.graphModel.editText(d.id)}}];this.menuTypeMap.set(Ip,l),this.menuTypeMap.set(Lp,[]);var o=[{text:"删除",callback:function(d){a.lf.clearSelectElements(),d.edges.forEach(function(h){return a.lf.deleteEdge(h.id)}),d.nodes.forEach(function(h){return a.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(Uw,o)},r.prototype.render=function(a,u){var l=this;a.options.isSilentMode||(this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var d=o.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,v=h.domOverlayPosition,x=v.x,S=v.y,j=d.id,A=l.lf.graphModel.getNodeModelById(j),M=[],D=l.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?M=A.menu:D?M=D:M=l.menuTypeMap.get(Rp),l.__currentData=d,l.showMenu(x,S,M,{width:A.width,height:A.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,v=h.domOverlayPosition,x=v.x,S=v.y,j=d.id,A=l.lf.graphModel.getEdgeModelById(j),M=[],D=l.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?M=A.menu:D?M=D:M=l.menuTypeMap.get(Ip),l.__currentData=d,l.showMenu(x,S,M,{width:A.width,height:A.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var d=o.position,h=l.menuTypeMap.get(Lp),m=d.domOverlayPosition,v=m.x,x=m.y;l.showMenu(v,x,h)}),this.lf.on("selection:contextmenu",function(o){var d=o.data,h=o.position,m=l.menuTypeMap.get(Uw),v=h.domOverlayPosition,x=v.x,S=v.y;l.__currentData=d,l.showMenu(x,S,m)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"}))},r.prototype.destroy=function(){var a;(a=this===null||this===void 0?void 0:this.__container)===null||a===void 0||a.removeChild(this.__menuDOM),this.__menuDOM=null},r.prototype.showMenu=function(a,u,l,o){if(!(!l||!l.length)){var d=this.__menuDOM;if(d.innerHTML="",d.append.apply(d,Y5(this.__getMenuDom(l))),!!d.children.length){if(d.style.display="block",!o){d.style.top=u+"px",d.style.left=a+"px";return}var h=o.width,m=o.height,v=o.clientX,x=o.clientY,S=this.lf.graphModel,j=d.offsetWidth,A=!0,M=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,D=M-v,N=S.rootEl.getBoundingClientRect(),I=N.left+N.width;I<M&&(D=I-v),D<j&&(A=!1),A?d.style.left=a+"px":d.style.left=a-h+"px";var U=d.offsetHeight,$=!0,q=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,oe=q-x,J=N.top+N.height;J<q&&(oe=J-x),oe<U&&($=!1),$?d.style.top=u+"px":d.style.top=u-m+"px"}}},r.prototype.setMenuByType=function(a){!a.type||!a.menu||this.menuTypeMap.set(a.type,a.menu)},r.prototype.__getMenuDom=function(a){var u=[];return a&&a.length>0&&a.forEach(function(l){var o=document.createElement("li");if(l.className?o.className="lf-menu-item "+l.className:o.className="lf-menu-item",l.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",o.appendChild(d)}var h=document.createElement("span");h.className="lf-menu-item-text",l.text&&(h.innerText=l.text),o.appendChild(h),o.onclickCallback=l.callback,u.push(o)}),u},r.prototype.setMenuConfig=function(a){a&&(a.nodeMenu!==void 0&&this.menuTypeMap.set(Rp,a.nodeMenu?a.nodeMenu:[]),a.edgeMenu!==void 0&&this.menuTypeMap.set(Ip,a.edgeMenu?a.edgeMenu:[]),a.graphMenu!==void 0&&this.menuTypeMap.set(Lp,a.graphMenu?a.graphMenu:[]))},r.prototype.addMenuConfig=function(a){if(a){if(Array.isArray(a.nodeMenu)){var u=this.menuTypeMap.get(Rp);this.menuTypeMap.set(Rp,u.concat(a.nodeMenu))}if(Array.isArray(a.edgeMenu)){var u=this.menuTypeMap.get(Ip);this.menuTypeMap.set(Ip,u.concat(a.edgeMenu))}if(Array.isArray(a.graphMenu)){var u=this.menuTypeMap.get(Lp);this.menuTypeMap.set(Lp,u.concat(a.graphMenu))}}},r.prototype.changeMenuItem=function(a,u){if(a==="add")this.addMenuConfig(u);else if(a==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},r.pluginName="menu",r}(),q5=function(){function r(a){var u=this,l=a.lf;this.lf=l,this.lf.setPatternItems=function(o){u.setPatternItems(o)}}return r.prototype.render=function(a,u){var l=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){l.panelEl.appendChild(l.createDndItem(o))}),u.appendChild(this.panelEl),this.domContainer=u},r.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},r.prototype.setPatternItems=function(a){this.shapeList=a,this.domContainer&&this.render(this.lf,this.domContainer)},r.prototype.createDndItem=function(a){var u=this,l=document.createElement("div");l.className=a.className?"lf-dnd-item "+a.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",a.icon&&(o.style.backgroundImage="url("+a.icon+")"),l.appendChild(o),a.label){var d=document.createElement("div");d.innerText=a.label,d.className="lf-dnd-text",l.appendChild(d)}return a.disabled?(l.classList.add("disabled"),l.onmousedown=function(){a.callback&&a.callback(u.lf,u.domContainer)},l):(l.onmousedown=function(){a.type&&u.lf.dnd.startDrag({type:a.type,properties:a.properties,text:a.text}),a.callback&&a.callback(u.lf,u.domContainer)},l.ondblclick=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:h,data:a})},l.onclick=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:h,data:a})},l.oncontextmenu=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:h,data:a})},l)},r.pluginName="dndPanel",r}(),J5=function(){function r(a){var u=this,l=a.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(d){var h=u.lf.getPointByClient(d.clientX,d.clientY).domOverlayPosition,m=h.x,v=h.y;u.endPoint={x:m,y:v};var x=u.startPoint,S=x.x,j=x.y,A=u.wrapper.style,M=S,D=j,N=m-S,I=v-j;m<S&&(M=m,N=S-m),v<j&&(D=v,I=j-v),A.left=M+"px",A.top=D+"px",A.width=N+"px",A.height=I+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var d=u.startPoint,h=d.x,m=d.y,v=u.endPoint,x=v.x,S=v.y;if(!(Math.abs(x-h)<10&&Math.abs(S-m)<10)){var j=[Math.min(h,x),Math.min(m,S)],A=[Math.max(h,x),Math.max(m,S)],M=u.lf.graphModel.getAreaElement(j,A,u.isWholeEdge,u.isWholeNode,!0),D=u.lf.graphModel.group;M.forEach(function(N){(!D||!D.getNodeGroup(N.id))&&u.lf.selectElementById(N.id,!0)}),u.lf.emit("selection:selected",M)}},this.lf=l;var o=l.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,l.openSelectionSelect=function(){u.openSelectionSelect()},l.closeSelectionSelect=function(){u.closeSelectionSelect()}}return r.prototype.render=function(a,u){var l=this;this.__domContainer=u,a.on("blank:mousedown",function(o){var d=o.e,h=a.getEditConfig();if(!(!h.stopMoveGraph||l.__disabled)){var m=d.button===2;if(!m){var v=a.getPointByClient(d.clientX,d.clientY).domOverlayPosition,x=v.x,S=v.y;l.startPoint={x,y:S},l.endPoint={x,y:S};var j=document.createElement("div");j.className="lf-selection-select",j.oncontextmenu=function(M){M.preventDefault()},j.style.top=l.startPoint.y+"px",j.style.left=l.startPoint.x+"px",u.appendChild(j),l.wrapper=j,document.addEventListener("mousemove",l.__draw),document.addEventListener("mouseup",l.__drawOff)}}})},r.prototype.setSelectionSense=function(a,u){a===void 0&&(a=!0),u===void 0&&(u=!0),this.isWholeEdge=a,this.isWholeNode=u},r.prototype.openSelectionSelect=function(){var a=this.lf.getEditConfig().stopMoveGraph;a||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},r.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},r.prototype.open=function(){this.__disabled=!1},r.prototype.close=function(){this.__disabled=!0},r.pluginName="selectionSelect",r}(),$S=function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Dc=function(){return Dc=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Dc.apply(this,arguments)},Wp=function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},Z5={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function Q5(r){for(var a=r,u=1;u<a.length-1;){var l=Wp(a[u-1],2),o=l[0],d=l[1],h=Wp(a[u],2),m=h[0],v=h[1],x=Wp(a[u+1],2),S=x[0],j=x[1];o===m&&m===S||d===v&&v===j?a.splice(u,1):u++}return a}function e8(r,a,u,l){var o=[r[0],r[1]],d=[r[0],r[1]];switch(u){case"tl":return a==="tr"?(o[1]+=l,d[0]+=l):a==="lb"&&(o[0]+=l,d[1]+=l),[o,d];case"tr":return a==="tl"?(o[1]+=l,d[0]-=l):a==="rb"&&(o[0]-=l,d[1]+=l),[o,d];case"bl":return a==="br"?(o[1]-=l,d[0]+=l):a==="lt"&&(o[0]+=l,d[1]-=l),[o,d];case"br":return a==="bl"?(o[1]-=l,d[0]-=l):a==="rt"&&(o[0]-=l,d[1]-=l),[o,d];default:return[]}}function t8(r,a,u,l){var o,d="",h="";r[0]===a[0]?d=r[1]>a[1]?"t":"b":r[1]===a[1]&&(d=r[0]>a[0]?"l":"r"),a[0]===u[0]?h=a[1]>u[1]?"t":"b":a[1]===u[1]&&(h=a[0]>u[0]?"l":"r");var m=Math.min(Math.hypot(a[0]-r[0],a[1]-r[1])/2,Math.hypot(u[0]-a[0],u[1]-a[1])/2,l)||1/5*l,v=""+d+h,x=Z5[v]||"-",S="L "+r[0]+" "+r[1];if(x==="-")S+="L "+a[0]+" "+a[1]+" L "+u[0]+" "+u[1];else{var j=Wp(e8(a,v,x,m),2),A=j[0],M=j[1];A&&M&&(S+="L "+A[0]+" "+A[1]+" Q "+a[0]+" "+a[1]+" "+M[0]+" "+M[1],o=Wp(M,2),a[0]=o[0],a[1]=o[1])}return S}function n8(r,a){var u=0,l="";if(r.length===2)l+="M"+r[u][0]+" "+r[u++][1]+" L "+r[u][0]+" "+r[u][1];else{for(l+="M"+r[u][0]+" "+r[u++][1];u+1<r.length;){var o=r[u-1],d=r[u],h=r[u+++1];l+=t8(o,d,h,a)}l+="L "+r[u][0]+" "+r[u][1]}return l}(function(r){$S(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getEdge=function(){var u=this.props.model,l=u.points,o=u.isAnimation,d=u.arrowConfig,h=u.radius,m=h===void 0?5:h,v=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=Q5(l.split(" ").map(function(M){return M.split(",").map(function(D){return+D})})),j=n8(S,m),A=Dc(Dc(Dc({style:o?x:{}},v),d),{fill:"none"});return Ye.h("path",Dc({d:j},A))},a})(Ye.PolylineEdge);(function(r){$S(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a})(Ye.PolylineEdgeModel);class r8 extends Ye.CircleNodeModel{initNodeData(a){super.initNodeData(a),this.r=20}}class o8 extends Ye.CircleNode{}const i8={type:"start",model:r8,view:o8};class a8 extends Ye.RectNodeModel{initNodeData(a){super.initNodeData(a),this.width=100,this.height=80,this.radius=5}getNodeStyle(){return super.getNodeStyle()}}class u8 extends Ye.RectNode{}const s8={type:"between",model:a8,view:u8};class GS extends Ye.PolygonNodeModel{constructor(a,u){a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),super(a,u),this.points=[[25,0],[50,25],[25,50],[0,25]]}}Np(GS,"extendKey","SerialModel");class VS extends Ye.PolygonNode{getShape(){const{model:a}=this.props,{x:u,y:l,width:o,height:d,points:h}=a,m=a.getNodeStyle();return Ye.h("g",{transform:`matrix(1 0 0 1 ${u-o/2} ${l-d/2})`},Ye.h("polygon",{...m,x:u,y:l,points:h}),Ye.h("path",{d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",...m}))}}Np(VS,"extendKey","SerialNode");const l8={type:"serial",view:VS,model:GS};class HS extends Ye.PolygonNodeModel{constructor(a,u){a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),super(a,u),this.points=[[25,0],[50,25],[25,50],[0,25]]}}Np(HS,"extendKey","ParallelModel");class XS extends Ye.PolygonNode{getShape(){const{model:a}=this.props,{x:u,y:l,width:o,height:d,points:h}=a,m=a.getNodeStyle();return Ye.h("g",{transform:`matrix(1 0 0 1 ${u-o/2} ${l-d/2})`},Ye.h("polygon",{...m,x:u,y:l,points:h}),Ye.h("path",{d:"m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z",...m}))}}Np(XS,"extendKey","ParallelNode");const c8={type:"parallel",view:XS,model:HS};class f8 extends Ye.CircleNodeModel{initNodeData(a){super.initNodeData(a),this.r=20}}class p8 extends Ye.CircleNode{}const d8={type:"end",model:f8,view:p8};class h8 extends Ye.PolylineEdgeModel{setAttributes(){this.offset=20}getEdgeStyle(){const a=super.getEdgeStyle(),{properties:u}=this;return u.isActived&&(a.strokeDasharray="4 4"),a}getData(){const a=super.getData();return a.sourceAnchorId=this.sourceAnchorId,a.targetAnchorId=this.targetAnchorId,a}}const y8={type:"skip",view:Ye.PolylineEdge,model:h8},v8=Hu("i",{class:"el-icon-question"},null,-1),g8=eu({name:"Start"}),m8=Object.assign(g8,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(r,{emit:a}){const l=Mn(r.modelValue),o=a;return hr(()=>l,d=>{d&&o("change",d)},{deep:!0}),l.value.listenerType&&(l.value.listenerType=l.value.listenerType.split(",")),(d,h)=>{const m=Wt("el-input"),v=Wt("el-form-item"),x=Wt("el-option"),S=Wt("el-select"),j=Wt("el-tooltip"),A=Wt("el-form");return Ln(),mi("div",null,[Le(A,{ref:"formRef",model:Te(l),"label-width":"120px",size:"small",disabled:r.disabled},{default:pt(()=>[Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeCode"},()=>[Le(v,{label:"节点编码"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=M=>Te(l).nodeCode=M),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})]),Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeName"},()=>[Le(v,{label:"节点名称"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=M=>Te(l).nodeName=M),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})]),Jn(d.$slots,"form-item-task-listenerType",{model:Te(l),field:"listenerType"},()=>[Le(v,{label:"监听器类型"},{default:pt(()=>[Le(S,{modelValue:Te(l).listenerType,"onUpdate:modelValue":h[2]||(h[2]=M=>Te(l).listenerType=M),multiple:""},{default:pt(()=>[Le(x,{label:"任务创建",value:"create"}),Le(x,{label:"任务开始办理",value:"start"}),Le(x,{label:"分派监听器",value:"assignment"}),Le(x,{label:"权限认证",value:"permission"}),Le(x,{label:"任务完成",value:"finish"})]),_:1},8,["modelValue"])]),_:1})]),Jn(d.$slots,"form-item-task-listenerPath",{model:Te(l),field:"listenerPath"},()=>[Le(v,{label:"监听器路径",description:"输入监听器的路径，以@@分隔,顺序与监听器类型一致"},{default:pt(()=>[Le(m,{type:"textarea",modelValue:Te(l).listenerPath,"onUpdate:modelValue":h[3]||(h[3]=M=>Te(l).listenerPath=M),rows:"8"},null,8,["modelValue"]),Le(j,{class:"item",effect:"dark",content:"输入监听器的路径，以@@分隔，顺序与监听器类型一致"},{default:pt(()=>[v8]),_:1})]),_:1})])]),_:3},8,["model","disabled"])])}}});var U0={exports:{}},YS=function(a,u){return function(){for(var o=new Array(arguments.length),d=0;d<o.length;d++)o[d]=arguments[d];return a.apply(u,o)}},b8=YS,W0=Object.prototype.toString,$0=function(r){return function(a){var u=W0.call(a);return r[u]||(r[u]=u.slice(8,-1).toLowerCase())}}(Object.create(null));function cl(r){return r=r.toLowerCase(),function(u){return $0(u)===r}}function G0(r){return Array.isArray(r)}function Dy(r){return typeof r>"u"}function _8(r){return r!==null&&!Dy(r)&&r.constructor!==null&&!Dy(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var KS=cl("ArrayBuffer");function O8(r){var a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(r):a=r&&r.buffer&&KS(r.buffer),a}function w8(r){return typeof r=="string"}function x8(r){return typeof r=="number"}function qS(r){return r!==null&&typeof r=="object"}function vy(r){if($0(r)!=="object")return!1;var a=Object.getPrototypeOf(r);return a===null||a===Object.prototype}var E8=cl("Date"),S8=cl("File"),j8=cl("Blob"),A8=cl("FileList");function V0(r){return W0.call(r)==="[object Function]"}function P8(r){return qS(r)&&V0(r.pipe)}function M8(r){var a="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||W0.call(r)===a||V0(r.toString)&&r.toString()===a)}var T8=cl("URLSearchParams");function k8(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function N8(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function H0(r,a){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),G0(r))for(var u=0,l=r.length;u<l;u++)a.call(null,r[u],u,r);else for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.call(null,r[o],o,r)}function e0(){var r={};function a(o,d){vy(r[d])&&vy(o)?r[d]=e0(r[d],o):vy(o)?r[d]=e0({},o):G0(o)?r[d]=o.slice():r[d]=o}for(var u=0,l=arguments.length;u<l;u++)H0(arguments[u],a);return r}function D8(r,a,u){return H0(a,function(o,d){u&&typeof o=="function"?r[d]=b8(o,u):r[d]=o}),r}function C8(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function R8(r,a,u,l){r.prototype=Object.create(a.prototype,l),r.prototype.constructor=r,u&&Object.assign(r.prototype,u)}function I8(r,a,u){var l,o,d,h={};a=a||{};do{for(l=Object.getOwnPropertyNames(r),o=l.length;o-- >0;)d=l[o],h[d]||(a[d]=r[d],h[d]=!0);r=Object.getPrototypeOf(r)}while(r&&(!u||u(r,a))&&r!==Object.prototype);return a}function L8(r,a,u){r=String(r),(u===void 0||u>r.length)&&(u=r.length),u-=a.length;var l=r.indexOf(a,u);return l!==-1&&l===u}function B8(r){if(!r)return null;var a=r.length;if(Dy(a))return null;for(var u=new Array(a);a-- >0;)u[a]=r[a];return u}var z8=function(r){return function(a){return r&&a instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Jr={isArray:G0,isArrayBuffer:KS,isBuffer:_8,isFormData:M8,isArrayBufferView:O8,isString:w8,isNumber:x8,isObject:qS,isPlainObject:vy,isUndefined:Dy,isDate:E8,isFile:S8,isBlob:j8,isFunction:V0,isStream:P8,isURLSearchParams:T8,isStandardBrowserEnv:N8,forEach:H0,merge:e0,extend:D8,trim:k8,stripBOM:C8,inherits:R8,toFlatObject:I8,kindOf:$0,kindOfTest:cl,endsWith:L8,toArray:B8,isTypedArray:z8,isFileList:A8},Mc=Jr;function Ww(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var JS=function(a,u,l){if(!u)return a;var o;if(l)o=l(u);else if(Mc.isURLSearchParams(u))o=u.toString();else{var d=[];Mc.forEach(u,function(v,x){v===null||typeof v>"u"||(Mc.isArray(v)?x=x+"[]":v=[v],Mc.forEach(v,function(j){Mc.isDate(j)?j=j.toISOString():Mc.isObject(j)&&(j=JSON.stringify(j)),d.push(Ww(x)+"="+Ww(j))}))}),o=d.join("&")}if(o){var h=a.indexOf("#");h!==-1&&(a=a.slice(0,h)),a+=(a.indexOf("?")===-1?"?":"&")+o}return a},F8=Jr;function ev(){this.handlers=[]}ev.prototype.use=function(a,u,l){return this.handlers.push({fulfilled:a,rejected:u,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1};ev.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)};ev.prototype.forEach=function(a){F8.forEach(this.handlers,function(l){l!==null&&a(l)})};var U8=ev,W8=Jr,$8=function(a,u){W8.forEach(a,function(o,d){d!==u&&d.toUpperCase()===u.toUpperCase()&&(a[u]=o,delete a[d])})},ZS=Jr;function zc(r,a,u,l,o){Error.call(this),this.message=r,this.name="AxiosError",a&&(this.code=a),u&&(this.config=u),l&&(this.request=l),o&&(this.response=o)}ZS.inherits(zc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var QS=zc.prototype,ej={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){ej[r]={value:r}});Object.defineProperties(zc,ej);Object.defineProperty(QS,"isAxiosError",{value:!0});zc.from=function(r,a,u,l,o,d){var h=Object.create(QS);return ZS.toFlatObject(r,h,function(v){return v!==Error.prototype}),zc.call(h,r.message,a,u,l,o),h.name=r.name,d&&Object.assign(h,d),h};var Jc=zc,tj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xi=Jr;function G8(r,a){a=a||new FormData;var u=[];function l(d){return d===null?"":Xi.isDate(d)?d.toISOString():Xi.isArrayBuffer(d)||Xi.isTypedArray(d)?typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function o(d,h){if(Xi.isPlainObject(d)||Xi.isArray(d)){if(u.indexOf(d)!==-1)throw Error("Circular reference detected in "+h);u.push(d),Xi.forEach(d,function(v,x){if(!Xi.isUndefined(v)){var S=h?h+"."+x:x,j;if(v&&!h&&typeof v=="object"){if(Xi.endsWith(x,"{}"))v=JSON.stringify(v);else if(Xi.endsWith(x,"[]")&&(j=Xi.toArray(v))){j.forEach(function(A){!Xi.isUndefined(A)&&a.append(S,l(A))});return}}o(v,S)}}),u.pop()}else a.append(h,l(d))}return o(r),a}var nj=G8,_b,$w;function V8(){if($w)return _b;$w=1;var r=Jc;return _b=function(u,l,o){var d=o.config.validateStatus;!o.status||!d||d(o.status)?u(o):l(new r("Request failed with status code "+o.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))},_b}var Ob,Gw;function H8(){if(Gw)return Ob;Gw=1;var r=Jr;return Ob=r.isStandardBrowserEnv()?function(){return{write:function(l,o,d,h,m,v){var x=[];x.push(l+"="+encodeURIComponent(o)),r.isNumber(d)&&x.push("expires="+new Date(d).toGMTString()),r.isString(h)&&x.push("path="+h),r.isString(m)&&x.push("domain="+m),v===!0&&x.push("secure"),document.cookie=x.join("; ")},read:function(l){var o=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ob}var X8=function(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)},Y8=function(a,u){return u?a.replace(/\/+$/,"")+"/"+u.replace(/^\/+/,""):a},K8=X8,q8=Y8,rj=function(a,u){return a&&!K8(u)?q8(a,u):u},wb,Vw;function J8(){if(Vw)return wb;Vw=1;var r=Jr,a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return wb=function(l){var o={},d,h,m;return l&&r.forEach(l.split(`
`),function(x){if(m=x.indexOf(":"),d=r.trim(x.substr(0,m)).toLowerCase(),h=r.trim(x.substr(m+1)),d){if(o[d]&&a.indexOf(d)>=0)return;d==="set-cookie"?o[d]=(o[d]?o[d]:[]).concat([h]):o[d]=o[d]?o[d]+", "+h:h}}),o},wb}var xb,Hw;function Z8(){if(Hw)return xb;Hw=1;var r=Jr;return xb=r.isStandardBrowserEnv()?function(){var u=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a"),o;function d(h){var m=h;return u&&(l.setAttribute("href",m),m=l.href),l.setAttribute("href",m),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return o=d(window.location.href),function(m){var v=r.isString(m)?d(m):m;return v.protocol===o.protocol&&v.host===o.host}}():function(){return function(){return!0}}(),xb}var Eb,Xw;function tv(){if(Xw)return Eb;Xw=1;var r=Jc,a=Jr;function u(l){r.call(this,l??"canceled",r.ERR_CANCELED),this.name="CanceledError"}return a.inherits(u,r,{__CANCEL__:!0}),Eb=u,Eb}var Sb,Yw;function Q8(){return Yw||(Yw=1,Sb=function(a){var u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return u&&u[1]||""}),Sb}var jb,Kw;function qw(){if(Kw)return jb;Kw=1;var r=Jr,a=V8(),u=H8(),l=JS,o=rj,d=J8(),h=Z8(),m=tj,v=Jc,x=tv(),S=Q8();return jb=function(A){return new Promise(function(D,N){var I=A.data,U=A.headers,$=A.responseType,q;function oe(){A.cancelToken&&A.cancelToken.unsubscribe(q),A.signal&&A.signal.removeEventListener("abort",q)}r.isFormData(I)&&r.isStandardBrowserEnv()&&delete U["Content-Type"];var J=new XMLHttpRequest;if(A.auth){var Q=A.auth.username||"",ee=A.auth.password?unescape(encodeURIComponent(A.auth.password)):"";U.Authorization="Basic "+btoa(Q+":"+ee)}var G=o(A.baseURL,A.url);J.open(A.method.toUpperCase(),l(G,A.params,A.paramsSerializer),!0),J.timeout=A.timeout;function z(){if(J){var X="getAllResponseHeaders"in J?d(J.getAllResponseHeaders()):null,ne=!$||$==="text"||$==="json"?J.responseText:J.response,ye={data:ne,status:J.status,statusText:J.statusText,headers:X,config:A,request:J};a(function(Se){D(Se),oe()},function(Se){N(Se),oe()},ye),J=null}}if("onloadend"in J?J.onloadend=z:J.onreadystatechange=function(){!J||J.readyState!==4||J.status===0&&!(J.responseURL&&J.responseURL.indexOf("file:")===0)||setTimeout(z)},J.onabort=function(){J&&(N(new v("Request aborted",v.ECONNABORTED,A,J)),J=null)},J.onerror=function(){N(new v("Network Error",v.ERR_NETWORK,A,J,J)),J=null},J.ontimeout=function(){var ne=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded",ye=A.transitional||m;A.timeoutErrorMessage&&(ne=A.timeoutErrorMessage),N(new v(ne,ye.clarifyTimeoutError?v.ETIMEDOUT:v.ECONNABORTED,A,J)),J=null},r.isStandardBrowserEnv()){var H=(A.withCredentials||h(G))&&A.xsrfCookieName?u.read(A.xsrfCookieName):void 0;H&&(U[A.xsrfHeaderName]=H)}"setRequestHeader"in J&&r.forEach(U,function(ne,ye){typeof I>"u"&&ye.toLowerCase()==="content-type"?delete U[ye]:J.setRequestHeader(ye,ne)}),r.isUndefined(A.withCredentials)||(J.withCredentials=!!A.withCredentials),$&&$!=="json"&&(J.responseType=A.responseType),typeof A.onDownloadProgress=="function"&&J.addEventListener("progress",A.onDownloadProgress),typeof A.onUploadProgress=="function"&&J.upload&&J.upload.addEventListener("progress",A.onUploadProgress),(A.cancelToken||A.signal)&&(q=function(X){J&&(N(!X||X&&X.type?new x:X),J.abort(),J=null)},A.cancelToken&&A.cancelToken.subscribe(q),A.signal&&(A.signal.aborted?q():A.signal.addEventListener("abort",q))),I||(I=null);var K=S(G);if(K&&["http","https","file"].indexOf(K)===-1){N(new v("Unsupported protocol "+K+":",v.ERR_BAD_REQUEST,A));return}J.send(I)})},jb}var Ab,Jw;function e7(){return Jw||(Jw=1,Ab=null),Ab}var zr=Jr,Zw=$8,Qw=Jc,t7=tj,n7=nj,r7={"Content-Type":"application/x-www-form-urlencoded"};function ex(r,a){!zr.isUndefined(r)&&zr.isUndefined(r["Content-Type"])&&(r["Content-Type"]=a)}function o7(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=qw()),r}function i7(r,a,u){if(zr.isString(r))try{return(a||JSON.parse)(r),zr.trim(r)}catch(l){if(l.name!=="SyntaxError")throw l}return(0,JSON.stringify)(r)}var nv={transitional:t7,adapter:o7(),transformRequest:[function(a,u){if(Zw(u,"Accept"),Zw(u,"Content-Type"),zr.isFormData(a)||zr.isArrayBuffer(a)||zr.isBuffer(a)||zr.isStream(a)||zr.isFile(a)||zr.isBlob(a))return a;if(zr.isArrayBufferView(a))return a.buffer;if(zr.isURLSearchParams(a))return ex(u,"application/x-www-form-urlencoded;charset=utf-8"),a.toString();var l=zr.isObject(a),o=u&&u["Content-Type"],d;if((d=zr.isFileList(a))||l&&o==="multipart/form-data"){var h=this.env&&this.env.FormData;return n7(d?{"files[]":a}:a,h&&new h)}else if(l||o==="application/json")return ex(u,"application/json"),i7(a);return a}],transformResponse:[function(a){var u=this.transitional||nv.transitional,l=u&&u.silentJSONParsing,o=u&&u.forcedJSONParsing,d=!l&&this.responseType==="json";if(d||o&&zr.isString(a)&&a.length)try{return JSON.parse(a)}catch(h){if(d)throw h.name==="SyntaxError"?Qw.from(h,Qw.ERR_BAD_RESPONSE,this,null,this.response):h}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:e7()},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};zr.forEach(["delete","get","head"],function(a){nv.headers[a]={}});zr.forEach(["post","put","patch"],function(a){nv.headers[a]=zr.merge(r7)});var X0=nv,a7=Jr,u7=X0,s7=function(a,u,l){var o=this||u7;return a7.forEach(l,function(h){a=h.call(o,a,u)}),a},Pb,tx;function oj(){return tx||(tx=1,Pb=function(a){return!!(a&&a.__CANCEL__)}),Pb}var nx=Jr,Mb=s7,l7=oj(),c7=X0,f7=tv();function Tb(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new f7}var p7=function(a){Tb(a),a.headers=a.headers||{},a.data=Mb.call(a,a.data,a.headers,a.transformRequest),a.headers=nx.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),nx.forEach(["delete","get","head","post","put","patch","common"],function(o){delete a.headers[o]});var u=a.adapter||c7.adapter;return u(a).then(function(o){return Tb(a),o.data=Mb.call(a,o.data,o.headers,a.transformResponse),o},function(o){return l7(o)||(Tb(a),o&&o.response&&(o.response.data=Mb.call(a,o.response.data,o.response.headers,a.transformResponse))),Promise.reject(o)})},Jo=Jr,ij=function(a,u){u=u||{};var l={};function o(S,j){return Jo.isPlainObject(S)&&Jo.isPlainObject(j)?Jo.merge(S,j):Jo.isPlainObject(j)?Jo.merge({},j):Jo.isArray(j)?j.slice():j}function d(S){if(Jo.isUndefined(u[S])){if(!Jo.isUndefined(a[S]))return o(void 0,a[S])}else return o(a[S],u[S])}function h(S){if(!Jo.isUndefined(u[S]))return o(void 0,u[S])}function m(S){if(Jo.isUndefined(u[S])){if(!Jo.isUndefined(a[S]))return o(void 0,a[S])}else return o(void 0,u[S])}function v(S){if(S in u)return o(a[S],u[S]);if(S in a)return o(void 0,a[S])}var x={url:h,method:h,data:h,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:v};return Jo.forEach(Object.keys(a).concat(Object.keys(u)),function(j){var A=x[j]||d,M=A(j);Jo.isUndefined(M)&&A!==v||(l[j]=M)}),l},kb,rx;function aj(){return rx||(rx=1,kb={version:"0.27.2"}),kb}var d7=aj().version,$u=Jc,Y0={};["object","boolean","number","function","string","symbol"].forEach(function(r,a){Y0[r]=function(l){return typeof l===r||"a"+(a<1?"n ":" ")+r}});var ox={};Y0.transitional=function(a,u,l){function o(d,h){return"[Axios v"+d7+"] Transitional option '"+d+"'"+h+(l?". "+l:"")}return function(d,h,m){if(a===!1)throw new $u(o(h," has been removed"+(u?" in "+u:"")),$u.ERR_DEPRECATED);return u&&!ox[h]&&(ox[h]=!0,console.warn(o(h," has been deprecated since v"+u+" and will be removed in the near future"))),a?a(d,h,m):!0}};function h7(r,a,u){if(typeof r!="object")throw new $u("options must be an object",$u.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(r),o=l.length;o-- >0;){var d=l[o],h=a[d];if(h){var m=r[d],v=m===void 0||h(m,d,r);if(v!==!0)throw new $u("option "+d+" must be "+v,$u.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new $u("Unknown option "+d,$u.ERR_BAD_OPTION)}}var y7={assertOptions:h7,validators:Y0},uj=Jr,v7=JS,ix=U8,ax=p7,rv=ij,g7=rj,sj=y7,Tc=sj.validators;function Fc(r){this.defaults=r,this.interceptors={request:new ix,response:new ix}}Fc.prototype.request=function(a,u){typeof a=="string"?(u=u||{},u.url=a):u=a||{},u=rv(this.defaults,u),u.method?u.method=u.method.toLowerCase():this.defaults.method?u.method=this.defaults.method.toLowerCase():u.method="get";var l=u.transitional;l!==void 0&&sj.assertOptions(l,{silentJSONParsing:Tc.transitional(Tc.boolean),forcedJSONParsing:Tc.transitional(Tc.boolean),clarifyTimeoutError:Tc.transitional(Tc.boolean)},!1);var o=[],d=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(u)===!1||(d=d&&M.synchronous,o.unshift(M.fulfilled,M.rejected))});var h=[];this.interceptors.response.forEach(function(M){h.push(M.fulfilled,M.rejected)});var m;if(!d){var v=[ax,void 0];for(Array.prototype.unshift.apply(v,o),v=v.concat(h),m=Promise.resolve(u);v.length;)m=m.then(v.shift(),v.shift());return m}for(var x=u;o.length;){var S=o.shift(),j=o.shift();try{x=S(x)}catch(A){j(A);break}}try{m=ax(x)}catch(A){return Promise.reject(A)}for(;h.length;)m=m.then(h.shift(),h.shift());return m};Fc.prototype.getUri=function(a){a=rv(this.defaults,a);var u=g7(a.baseURL,a.url);return v7(u,a.params,a.paramsSerializer)};uj.forEach(["delete","get","head","options"],function(a){Fc.prototype[a]=function(u,l){return this.request(rv(l||{},{method:a,url:u,data:(l||{}).data}))}});uj.forEach(["post","put","patch"],function(a){function u(l){return function(d,h,m){return this.request(rv(m||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Fc.prototype[a]=u(),Fc.prototype[a+"Form"]=u(!0)});var m7=Fc,Nb,ux;function b7(){if(ux)return Nb;ux=1;var r=tv();function a(u){if(typeof u!="function")throw new TypeError("executor must be a function.");var l;this.promise=new Promise(function(h){l=h});var o=this;this.promise.then(function(d){if(o._listeners){var h,m=o._listeners.length;for(h=0;h<m;h++)o._listeners[h](d);o._listeners=null}}),this.promise.then=function(d){var h,m=new Promise(function(v){o.subscribe(v),h=v}).then(d);return m.cancel=function(){o.unsubscribe(h)},m},u(function(h){o.reason||(o.reason=new r(h),l(o.reason))})}return a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]},a.prototype.unsubscribe=function(l){if(this._listeners){var o=this._listeners.indexOf(l);o!==-1&&this._listeners.splice(o,1)}},a.source=function(){var l,o=new a(function(h){l=h});return{token:o,cancel:l}},Nb=a,Nb}var Db,sx;function _7(){return sx||(sx=1,Db=function(a){return function(l){return a.apply(null,l)}}),Db}var Cb,lx;function O7(){if(lx)return Cb;lx=1;var r=Jr;return Cb=function(u){return r.isObject(u)&&u.isAxiosError===!0},Cb}var cx=Jr,w7=YS,gy=m7,x7=ij,E7=X0;function lj(r){var a=new gy(r),u=w7(gy.prototype.request,a);return cx.extend(u,gy.prototype,a),cx.extend(u,a),u.create=function(o){return lj(x7(r,o))},u}var Do=lj(E7);Do.Axios=gy;Do.CanceledError=tv();Do.CancelToken=b7();Do.isCancel=oj();Do.VERSION=aj().version;Do.toFormData=nj;Do.AxiosError=Jc;Do.Cancel=Do.CanceledError;Do.all=function(a){return Promise.all(a)};Do.spread=_7();Do.isAxiosError=O7();U0.exports=Do;U0.exports.default=Do;var S7=U0.exports,j7=S7;const cj=kx(j7);cj.defaults.headers["Content-Type"]="application/json;charset=utf-8";const Zc=cj.create({baseURL:"",timeout:1e4});Zc.interceptors.request.use(r=>{const a=(r.headers||{}).repeatSubmit===!1;if(r.method==="get"&&r.params){let u=r.url+"?"+iT(r.params);u=u.slice(0,-1),r.params={},r.url=u}if(!a&&(r.method==="post"||r.method==="put")){const u={url:r.url,data:typeof r.data=="object"?JSON.stringify(r.data):r.data,time:new Date().getTime()},l=Object.keys(JSON.stringify(u)).length,o=5*1024*1024;if(l>=o)return console.warn(`[${r.url}]: 请求数据大小超出允许的5M限制，无法进行防重复提交验证。`),r;const d=fb.session.getJSON("sessionObj");if(d==null||d==="")fb.session.setJSON("sessionObj",u);else{const h=d.url,m=d.data,v=d.time;if(m===u.data&&u.time-v<1e3&&h===u.url){const S="数据正在处理，请勿重复提交";return console.warn(`[${h}]: `+S),Promise.reject(new Error(S))}else fb.session.setJSON("sessionObj",u)}}return r},r=>{console.log(r),Promise.reject(r)});Zc.interceptors.response.use(r=>{const a=r.data.code||200,u=r.data.msg;return r.request.responseType==="blob"||r.request.responseType==="arraybuffer"?r.data:a!==200?(aT.error({title:u}),Promise.reject(new Error(u))):Promise.resolve(r.data)},r=>{console.log("err"+r);let{message:a}=r;return a=="Network Error"?a="后端接口连接异常":a.includes("timeout")?a="系统接口请求超时":a.includes("Request failed with status code")&&(a="系统接口"+a.substr(a.length-3)+"异常"),uT({message:a,type:"error",duration:5*1e3}),Promise.reject(r)});function A7(r){return Zc({url:"/warm-flow-ui/save-xml",method:"post",data:r})}function P7(r){return Zc({url:"/warm-flow-ui/xml-string/"+r,method:"get"})}function M7(){return Zc({url:"/warm-flow-ui/handler-type",method:"get"})}function T7(r){return Zc({url:"/warm-flow-ui/handler-result",method:"get",params:r})}const k7={class:"app-container"},N7={class:"head-container"},D7={class:"head-container"},C7=eu({name:"User"}),R7=Object.assign(C7,{props:{userVisible:{type:Boolean},selectUser:{type:Array,default:()=>[]}},emits:["update:userVisible","handleUserSelect"],setup(r,{emit:a}){const{proxy:u}=Cx(),l=r,o=Mn("用户"),d=Mn([]),h=Mn(!0),m=Mn(!0),v=Mn(0),x=Mn([]),S=Mn(""),j=Mn(void 0),A=Mn([{key:0,label:"入库主键",visible:!0},{key:1,label:"权限编码",visible:!0},{key:2,label:"权限名称",visible:!0},{key:3,label:"权限分组",visible:!0},{key:4,label:"创建时间",visible:!0}]),M=Mn([]),D=Nx({queryParams:{pageNum:1,pageSize:10,userName:void 0,status:"0",groupId:void 0},checkAllInfo:{isIndeterminate:!1,isChecked:!1}}),{queryParams:N,checkAllInfo:I}=sT(D),U=a,$=(ne,ye)=>ne?ye.label.indexOf(ne)!==-1:!0;hr(S,ne=>{u.$refs.groupTreeRef.filter(ne)}),hr(()=>l.selectUser,(ne,ye)=>{ye?u.$nextTick(()=>{M.value=M.value.filter(he=>{let Se=ne?ne.findIndex(Fe=>Fe===he.storageId):-1;return d.value.forEach(Fe=>{Fe.storageId===he.storageId&&(Fe.isChecked=Se!==-1)}),Se!==-1})}):M.value=ne?ne.map(he=>({storageId:he})).filter(he=>he.storageId):[]},{deep:!0,immediate:!0});function q(){h.value=!0;let ne=u.addDateRange(N.value,x.value);ne.handlerType=o.value,M7().then(ye=>{}),T7(ne).then(ye=>{h.value=!1;let he=ye.data[0].handlerAuths;he.rows.forEach(Se=>{Se.isChecked=M.value.findIndex(Fe=>Fe.storageId===Se.storageId)!==-1}),d.value=he.rows,v.value=he.total,j.value=ye.data[0].treeSelections,G()})}function oe(ne){N.value.groupId=ne.id,Q()}function J(){N.value.groupId=void 0,Q()}function Q(){N.value.pageNum=1,q()}function ee(){x.value=[],u.$refs.queryRef.resetFields(),N.value.groupId=void 0,u.$refs.groupTreeRef.setCurrentKey(null),Q()}function G(){const ne=d.value.length;let ye=0;d.value.map(he=>{he.isChecked&&(ye+=1)}),I.value.isChecked=ne===ye&&ne>0,I.value.isIndeterminate=ye>0&&ye<ne}function z(ne){d.value.forEach(he=>{he.storageId===ne.storageId&&(he.isChecked=!he.isChecked)});const ye=[...M.value];if(ne.isChecked)ye.findIndex(he=>he.storageId===ne.storageId)===-1&&ye.push({storageId:ne.storageId});else{const he=ye.findIndex(Se=>Se.storageId===ne.storageId);he!==-1&&ye.splice(he,1)}M.value=ye,G()}function H(ne){d.value.forEach(Se=>{Se.storageId===ne&&(Se.isChecked=!Se.isChecked)});const ye=M.value,he=ye.findIndex(Se=>Se.storageId===ne);he!==-1&&ye.splice(he,1),M.value=ye,G()}function K(){U("update:userVisible",!1)}function X(){U("handleUserSelect",M.value),K()}return q(),(ne,ye)=>{const he=Wt("el-input"),Se=Wt("el-tree"),Fe=Wt("el-col"),Pe=Wt("el-form-item"),me=Wt("el-date-picker"),Me=Wt("el-button"),ke=Wt("el-form"),Ge=Wt("el-tag"),ot=Wt("el-row"),Ot=Wt("el-tab-pane"),Ke=Wt("el-tabs"),Qe=Wt("el-checkbox"),yt=Wt("el-table-column"),le=Wt("el-table"),se=Wt("el-pagination"),ge=lT("loading");return Ln(),mi("div",k7,[Le(ot,{gutter:20},{default:pt(()=>[Le(Fe,{span:4,xs:24},{default:pt(()=>[Hu("div",N7,[Le(he,{modelValue:Te(S),"onUpdate:modelValue":ye[0]||(ye[0]=Ae=>Xu(S)?S.value=Ae:null),placeholder:"请输入部门名称",clearable:"","prefix-icon":"Search",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),Hu("div",D7,[Le(Se,{data:Te(j),props:{label:"label",children:"children"},"expand-on-click-node":!1,"filter-node-method":$,ref:"groupTreeRef","node-key":"id","highlight-current":"","default-expand-all":"",onNodeClick:oe},null,8,["data"])])]),_:1}),Le(Fe,{span:20,xs:24},{default:pt(()=>[pb(Le(ke,{model:Te(N),ref:"queryRef",inline:!0,"label-width":"68px"},{default:pt(()=>[Le(Pe,{label:"权限编码",prop:"handlerCode"},{default:pt(()=>[Le(he,{modelValue:Te(N).handlerCode,"onUpdate:modelValue":ye[1]||(ye[1]=Ae=>Te(N).handlerCode=Ae),placeholder:"请输入权限编码",clearable:"",style:{width:"240px"},onKeyup:PO(Q,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),Le(Pe,{label:"权限名称",prop:"handlerName"},{default:pt(()=>[Le(he,{modelValue:Te(N).handlerName,"onUpdate:modelValue":ye[2]||(ye[2]=Ae=>Te(N).handlerName=Ae),placeholder:"请输入权限名称",clearable:"",style:{width:"240px"},onKeyup:PO(Q,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),Le(Pe,{label:"创建时间",style:{width:"308px"}},{default:pt(()=>[Le(me,{modelValue:Te(x),"onUpdate:modelValue":ye[3]||(ye[3]=Ae=>Xu(x)?x.value=Ae:null),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),Le(Pe,null,{default:pt(()=>[Le(Me,{type:"primary",icon:"Search",onClick:Q},{default:pt(()=>[ba("搜索")]),_:1}),Le(Me,{icon:"Refresh",onClick:ee},{default:pt(()=>[ba("重置")]),_:1}),Le(Me,{type:"primary",disabled:Te(M).length===0,onClick:X},{default:pt(()=>[ba("确 定")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"]),[[MO,Te(m)]]),Le(ot,{gutter:10,class:"mb8"},{default:pt(()=>[(Ln(!0),mi(Dx,null,By(Te(M),Ae=>(Ln(),uo(Ge,{style:{"margin-right":"10px"},key:Ae.storageId,closable:"",onClose:He=>H(Ae.storageId)},{default:pt(()=>[ba(TO(Ae.storageId),1)]),_:2},1032,["onClose"]))),128))]),_:1}),Le(Ke,{type:"border-card",class:"Tabs",modelValue:Te(o),"onUpdate:modelValue":ye[4]||(ye[4]=Ae=>Xu(o)?o.value=Ae:null),onTabChange:J},{default:pt(()=>[Le(Ot,{label:"用户",name:"用户"}),Le(Ot,{label:"角色",name:"角色"}),Le(Ot,{label:"部门",name:"部门"})]),_:1},8,["modelValue"]),pb((Ln(),uo(le,{data:Te(d),onRowClick:z},{default:pt(()=>[Le(yt,{width:"50",align:"center"},{default:pt(Ae=>[Le(Qe,{modelValue:Ae.row.isChecked,"onUpdate:modelValue":He=>Ae.row.isChecked=He,onChange:He=>z(Ae.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),Te(A)[0].visible?(Ln(),uo(yt,{label:"入库主键",align:"center",key:"storageId",prop:"storageId"})):qr("",!0),Te(A)[1].visible?(Ln(),uo(yt,{label:"权限编码",align:"center",key:"handlerCode",prop:"handlerCode","show-overflow-tooltip":!0})):qr("",!0),Te(A)[2].visible?(Ln(),uo(yt,{label:"权限名称",align:"center",key:"handlerName",prop:"handlerName","show-overflow-tooltip":!0})):qr("",!0),Te(A)[3].visible?(Ln(),uo(yt,{label:"权限分组",align:"center",key:"groupName",prop:"groupName","show-overflow-tooltip":!0})):qr("",!0),Te(A)[4].visible?(Ln(),uo(yt,{key:4,label:"创建时间",align:"center",prop:"createTime",width:"160"},{default:pt(Ae=>[Hu("span",null,TO(ne.parseTime(Ae.row.createTime)),1)]),_:1})):qr("",!0)]),_:1},8,["data"])),[[ge,Te(h)]]),pb(Le(se,{style:{"margin-top":"10px",float:"right"},"current-page":Te(N).pageNum,"onUpdate:currentPage":ye[5]||(ye[5]=Ae=>Te(N).pageNum=Ae),"page-size":Te(N).pageSize,"onUpdate:pageSize":ye[6]||(ye[6]=Ae=>Te(N).pageSize=Ae),total:Te(v),onSizeChange:q,onCurrentChange:q},null,8,["current-page","page-size","total"]),[[MO,Te(v)>0]])]),_:1})]),_:1})])}}}),I7=Ly(R7,[["__scopeId","data-v-2aec537a"]]),L7=r=>(cT("data-v-80a7fd0f"),r=r(),fT(),r),B7={class:"between"},z7={class:"flex-hc"},F7={class:"flex-hc"},U7={class:"flex-hc"},W7=L7(()=>Hu("div",{class:"placeholder"},"票签比例范围：(0-100)的值",-1)),$7=eu({name:"Between"}),G7=Object.assign($7,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(r,{emit:a}){const l=Mn(r.modelValue),o=Nx({nodeRatio:[{required:!1,message:"请输入",trigger:"change"},{pattern:/^(?:[1-9]\d?|0\.\d{1,3}|[1-9]\d?\.\d{1,3})$/,message:"请输入(0, 100)的值，最多保留三位小数",trigger:["change","blur"]}]}),d=Mn(!1),h=a;hr(()=>l,A=>{A&&h("change",A)},{deep:!0});function m(A){l.value.permissionFlag.splice(A,1)}function v(){l.value.permissionFlag.push("")}function x(){l.value.permissionFlag=l.value.permissionFlag?l.value.permissionFlag.split(","):[""],l.value.listenerType&&(l.value.listenerType=l.value.listenerType.split(","))}function S(){d.value=!0}function j(A){l.value.permissionFlag=A.map(M=>M.storageId).filter(M=>M)}return x(),(A,M)=>{const D=Wt("el-input"),N=Wt("el-form-item"),I=Wt("WarningFilled"),U=Wt("el-icon"),$=Wt("el-tooltip"),q=Wt("el-radio"),oe=Wt("el-radio-group"),J=Wt("Close"),Q=Wt("Plus"),ee=Wt("el-button"),G=Wt("el-option"),z=Wt("el-select"),H=Wt("el-form"),K=Wt("el-dialog");return Ln(),mi("div",B7,[Le(H,{ref:"formRef",model:Te(l),"label-width":"120px",size:"small",rules:Te(o),disabled:r.disabled},{default:pt(()=>[Jn(A.$slots,"form-item-task-nodeCode",{model:Te(l),field:"nodeCode"},()=>[Le(N,{label:"节点编码"},{default:pt(()=>[Le(D,{modelValue:Te(l).nodeCode,"onUpdate:modelValue":M[0]||(M[0]=X=>Te(l).nodeCode=X),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})],!0),Jn(A.$slots,"form-item-task-nodeName",{model:Te(l),field:"nodeName"},()=>[Le(N,{label:"节点名称"},{default:pt(()=>[Le(D,{modelValue:Te(l).nodeName,"onUpdate:modelValue":M[1]||(M[1]=X=>Te(l).nodeName=X),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})],!0),Jn(A.$slots,"form-item-task-collaborativeWay",{model:Te(l),field:"collaborativeWay"},()=>[Le(N,{label:"协作方式"},{default:pt(()=>[Le(oe,{modelValue:Te(l).collaborativeWay,"onUpdate:modelValue":M[2]||(M[2]=X=>Te(l).collaborativeWay=X)},{default:pt(()=>[Te(l).collaborativeWay==="1"?(Ln(),uo(q,{key:0,label:"1"},{default:pt(()=>[Hu("span",z7,[ba(" 或签 "),Le($,{class:"box-item",effect:"dark",content:"只需一个人审批"},{default:pt(()=>[Le(U,{size:14,class:"ml5"},{default:pt(()=>[Le(I)]),_:1})]),_:1})])]),_:1})):qr("",!0),Te(l).collaborativeWay==="2"?(Ln(),uo(q,{key:1,label:"2"},{default:pt(()=>[Hu("span",F7,[ba(" 票签 "),Le($,{class:"box-item",effect:"dark",content:"部分办理人审批，只支持选择用户"},{default:pt(()=>[Le(U,{size:14,class:"ml5"},{default:pt(()=>[Le(I)]),_:1})]),_:1})])]),_:1})):qr("",!0),Te(l).collaborativeWay==="3"?(Ln(),uo(q,{key:2,label:"3"},{default:pt(()=>[Hu("span",U7,[ba(" 会签 "),Le($,{class:"box-item",effect:"dark",content:"所有办理都需要审批，只支持选择用户"},{default:pt(()=>[Le(U,{size:14,class:"ml5"},{default:pt(()=>[Le(I)]),_:1})]),_:1})])]),_:1})):qr("",!0)]),_:1},8,["modelValue"])]),_:1})],!0),Te(l).collaborativeWay==="2"?Jn(A.$slots,"form-item-task-nodeRatio",{key:0,model:Te(l),field:"nodeRatio"},()=>[Le(N,{label:"票签占比",prop:"nodeRatio"},{default:pt(()=>[Le(D,{modelValue:Te(l).nodeRatio,"onUpdate:modelValue":M[3]||(M[3]=X=>Te(l).nodeRatio=X),type:"number",placeholder:"请输入"},null,8,["modelValue"]),W7]),_:1})],!0):qr("",!0),Jn(A.$slots,"form-item-task-permissionFlag",{model:Te(l),field:"permissionFlag"},()=>[Le(N,{label:"办理人输入",class:"permissionItem"},{default:pt(()=>[(Ln(!0),mi(Dx,null,By(Te(l).permissionFlag,(X,ne)=>(Ln(),mi("div",{key:ne,class:"inputGroup"},[Le(D,{modelValue:Te(l).permissionFlag[ne],"onUpdate:modelValue":ye=>Te(l).permissionFlag[ne]=ye},null,8,["modelValue","onUpdate:modelValue"]),Te(l).permissionFlag.length!==1?(Ln(),uo(J,{key:0,class:"Icon",onClick:ye=>m(ne)},null,8,["onClick"])):qr("",!0),ne===Te(l).permissionFlag.length-1?(Ln(),uo(Q,{key:1,class:"Icon",onClick:v})):qr("",!0),ne===Te(l).permissionFlag.length-1?(Ln(),uo(ee,{key:2,class:"btn",onClick:S},{default:pt(()=>[ba("选择")]),_:1})):qr("",!0)]))),128))]),_:1})],!0),Jn(A.$slots,"form-item-task-skipAnyNode",{model:Te(l),field:"skipAnyNode"},()=>[Le(N,{label:"是否可以跳转任意节点"},{default:pt(()=>[Le(oe,{modelValue:Te(l).skipAnyNode,"onUpdate:modelValue":M[4]||(M[4]=X=>Te(l).skipAnyNode=X)},{default:pt(()=>[Le(q,{label:"N"},{default:pt(()=>[ba("否")]),_:1}),Le(q,{label:"Y"},{default:pt(()=>[ba("是")]),_:1})]),_:1},8,["modelValue"])]),_:1})],!0),Jn(A.$slots,"form-item-task-listenerType",{model:Te(l),field:"listenerType"},()=>[Le(N,{label:"监听器类型"},{default:pt(()=>[Le(z,{modelValue:Te(l).listenerType,"onUpdate:modelValue":M[5]||(M[5]=X=>Te(l).listenerType=X),multiple:""},{default:pt(()=>[Le(G,{label:"任务创建",value:"create"}),Le(G,{label:"任务开始办理",value:"start"}),Le(G,{label:"分派监听器",value:"assignment"}),Le(G,{label:"权限认证",value:"permission"}),Le(G,{label:"任务完成",value:"finish"})]),_:1},8,["modelValue"])]),_:1})],!0),Jn(A.$slots,"form-item-task-listenerPath",{model:Te(l),field:"listenerPath"},()=>[Le(N,{label:"监听器路径",description:"输入监听器的路径，以@@分隔,顺序与监听器类型一致"},{default:pt(()=>[Le(D,{type:"textarea",modelValue:Te(l).listenerPath,"onUpdate:modelValue":M[6]||(M[6]=X=>Te(l).listenerPath=X),rows:"8"},null,8,["modelValue"]),Le($,{class:"box-item",effect:"dark",content:"输入监听器的路径，以@@分隔，顺序与监听器类型一致"},{default:pt(()=>[Le(U,{size:14,class:"mt5"},{default:pt(()=>[Le(I)]),_:1})]),_:1})]),_:1})],!0),Jn(A.$slots,"form-item-task-formCustom",{model:Te(l),field:"formCustom"},()=>[Le(N,{label:"审批表单是否自定义"},{default:pt(()=>[Le(z,{modelValue:Te(l).formCustom,"onUpdate:modelValue":M[7]||(M[7]=X=>Te(l).formCustom=X)},{default:pt(()=>[Le(G,{label:"使用流程表单",value:""}),Le(G,{label:"节点表单路径",value:"N"})]),_:1},8,["modelValue"])]),_:1})],!0),Te(l).formCustom==="N"?Jn(A.$slots,"form-item-task-formPath",{key:1,model:Te(l),field:"formPath"},()=>[Le(N,{label:"审批表单路径"},{default:pt(()=>[Le(D,{modelValue:Te(l).formPath,"onUpdate:modelValue":M[8]||(M[8]=X=>Te(l).formPath=X)},null,8,["modelValue"])]),_:1})],!0):qr("",!0)]),_:3},8,["model","rules","disabled"]),Te(d)?(Ln(),uo(K,{key:0,title:"办理人选择",modelValue:Te(d),"onUpdate:modelValue":M[11]||(M[11]=X=>Xu(d)?d.value=X:null),width:"80%","append-to-body":""},{default:pt(()=>[Le(Te(I7),{selectUser:Te(l).permissionFlag,"onUpdate:selectUser":M[9]||(M[9]=X=>Te(l).permissionFlag=X),userVisible:Te(d),"onUpdate:userVisible":M[10]||(M[10]=X=>Xu(d)?d.value=X:null),onHandleUserSelect:j},null,8,["selectUser","userVisible"])]),_:1},8,["modelValue"])):qr("",!0)])}}}),V7=Ly(G7,[["__scopeId","data-v-80a7fd0f"]]),H7=eu({name:"Serial"}),X7=Object.assign(H7,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(r,{emit:a}){const l=Mn(r.modelValue),o=a;return hr(()=>l,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=Wt("el-input"),v=Wt("el-form-item"),x=Wt("el-form");return Ln(),mi("div",null,[Le(x,{ref:"formRef",model:Te(l),"label-width":"120px",size:"small",disabled:r.disabled},{default:pt(()=>[Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeCode"},()=>[Le(v,{label:"节点编码"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=S=>Te(l).nodeCode=S),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})]),Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeName"},()=>[Le(v,{label:"节点名称"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=S=>Te(l).nodeName=S),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),Y7=eu({name:"Parallel"}),K7=Object.assign(Y7,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(r,{emit:a}){const l=Mn(r.modelValue),o=a;return hr(()=>l,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=Wt("el-input"),v=Wt("el-form-item"),x=Wt("el-form");return Ln(),mi("div",null,[Le(x,{ref:"formRef",model:Te(l),"label-width":"120px",size:"small",disabled:r.disabled},{default:pt(()=>[Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeCode"},()=>[Le(v,{label:"节点编码"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=S=>Te(l).nodeCode=S),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})]),Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeName"},()=>[Le(v,{label:"节点名称"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=S=>Te(l).nodeName=S),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),q7=eu({name:"End"}),J7=Object.assign(q7,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(r,{emit:a}){const l=Mn(r.modelValue),o=a;return hr(()=>l,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=Wt("el-input"),v=Wt("el-form-item"),x=Wt("el-form");return Ln(),mi("div",null,[Le(x,{ref:"formRef",model:Te(l),"label-width":"120px",size:"small",disabled:r.disabled},{default:pt(()=>[Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeCode"},()=>[Le(v,{label:"节点编码"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=S=>Te(l).nodeCode=S),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})]),Jn(d.$slots,"form-item-task-name",{model:Te(l),field:"nodeName"},()=>[Le(v,{label:"节点名称"},{default:pt(()=>[Le(m,{modelValue:Te(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=S=>Te(l).nodeName=S),disabled:r.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),Z7=eu({name:"Skip"}),Q7=Object.assign(Z7,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1},skipConditionShow:{type:Boolean,default:!0}},emits:["change"],setup(r,{emit:a}){var m;const u=r,l=Mn(!1),o=Mn(u.modelValue),d=a;hr(()=>o,v=>{v=v.value;let x=v.skipCondition;x="@@"+v.conditionType+"@@|",v.conditionType!=="spel"&&(x=x+(v.condition?v.condition:"")+"@@"+v.conditionType+"@@"),v.skipCondition=x+(v.conditionValue?v.conditionValue:""),v&&d("change",v)},{deep:!0});function h(v){l.value=v==="spel"}return((m=u.modelValue)==null?void 0:m.conditionType)==="spel"&&(l.value=!0),(v,x)=>{const S=Wt("el-input"),j=Wt("el-form-item"),A=Wt("el-option"),M=Wt("el-select"),D=Wt("el-form");return Ln(),mi("div",null,[Le(D,{ref:"formRef",model:Te(o),"label-width":"120px",size:"small",disabled:r.disabled},{default:pt(()=>[r.skipConditionShow?Jn(v.$slots,"form-item-task-skipName",{key:0,model:Te(o),field:"skipName"},()=>[Le(j,{label:"跳转名称"},{default:pt(()=>[Le(S,{modelValue:Te(o).skipName,"onUpdate:modelValue":x[0]||(x[0]=N=>Te(o).skipName=N),placeholder:"跳转名称"},null,8,["modelValue"])]),_:1})]):qr("",!0),Jn(v.$slots,"form-item-task-skipType",{model:Te(o),field:"skipType"},()=>[Le(j,{label:"跳转类型"},{default:pt(()=>[Le(M,{modelValue:Te(o).skipType,"onUpdate:modelValue":x[1]||(x[1]=N=>Te(o).skipType=N)},{default:pt(()=>[Le(A,{sel:"",label:"审批通过",value:"PASS"}),Le(A,{label:"退回",value:"REJECT"})]),_:1},8,["modelValue"])]),_:1})]),r.skipConditionShow?Jn(v.$slots,"form-item-task-skipCondition",{key:1,model:Te(o),field:"skipCondition"},()=>[Le(j,{label:"跳转条件"},{default:pt(()=>[Te(l)?qr("",!0):(Ln(),uo(S,{key:0,modelValue:Te(o).condition,"onUpdate:modelValue":x[2]||(x[2]=N=>Te(o).condition=N),placeholder:"条件名",style:{width:"20%"}},null,8,["modelValue"])),Le(M,{modelValue:Te(o).conditionType,"onUpdate:modelValue":x[3]||(x[3]=N=>Te(o).conditionType=N),placeholder:"请选择条件方式",style:{width:"35%","margin-left":"1%"},onChange:h},{default:pt(()=>[Le(A,{label:"大于",value:"gt"}),Le(A,{label:"大于等于",value:"ge"}),Le(A,{label:"等于",value:"eq"}),Le(A,{label:"不等于",value:"ne"}),Le(A,{label:"小于",value:"lt"}),Le(A,{label:"小于等于",value:"le"}),Le(A,{label:"包含",value:"like"}),Le(A,{label:"不包含",value:"notNike"}),Le(A,{label:"spel表达式",value:"spel"})]),_:1},8,["modelValue"]),Le(S,{modelValue:Te(o).conditionValue,"onUpdate:modelValue":x[4]||(x[4]=N=>Te(o).conditionValue=N),placeholder:"条件值",style:{width:"42%","margin-left":"1%","margin-right":"1%"}},null,8,["modelValue"])]),_:1})]):qr("",!0)]),_:3},8,["model","disabled"])])}}}),eB=eu({name:"Definition"}),tB=Object.assign(eB,{props:{value:{type:Object,default(){return{}}},node:{type:Object,default(){return{}}},lf:{type:Object,default(){return null}},disabled:{type:Boolean,default:!1},skipConditionShow:{type:Boolean,default:!0}},setup(r,{expose:a}){const u={start:m8,between:V7,serial:X7,parallel:K7,end:J7,skip:Q7},l=r,o=Mn(!1),d=Mn({}),h=Mn(void 0),m=Mn(null),v=kO(()=>l.node&&l.node.type==="skip"?"设置边属性":l.node&&l.node.type==="serial"?"设置串行网关属性":l.node&&l.node.type==="parallel"?"设置并行网关属性":l.node&&l.node.type==="start"?"设置开始属性":l.node&&l.node.type==="end"?"设置结束属性":"设置中间属性"),x=kO(()=>{if(!(!l.node||!l.node.type))return u[l.node.type]});hr(()=>l.node,A=>{if(A)if(h.value=A.id,A.type==="skip"){let M=A.properties.skipCondition,D=M?M.split("@@|"):[],N=D&&D.length>0?D[1]:[],I,U,$="";D&&D.length>0&&D[0]==="@@spel"?(U="spel",$=N):D&&D.length>0&&D[0]!=="@@spel"&&(I=N&&N.length>0?N.split("@@")[0]:"",U=N&&N.length>0?N.split("@@")[1]:"",$=N&&N.length>0?N.split("@@")[2]:""),d.value={nodeType:A.type,skipType:A.properties.skipType,skipName:A.text instanceof Object?A.text.value:A.text,skipCondition:M,condition:I,conditionType:U,conditionValue:$}}else{let M=A.properties.nodeRatio||"";A.properties.collaborativeWay||(A.properties.collaborativeWay=M==="0.000"?"1":M==="100.000"?"3":M?"2":"1"),A.properties.formCustom=JSON.stringify(A.properties)==="{}"?"N":A.properties.formCustom||"",d.value={nodeType:A.type,nodeCode:A.id,...A.properties,nodeName:A.text instanceof Object?A.text.value:A.text}}}),hr(()=>d.value.nodeCode,A=>{m.value=A}),hr(()=>d.value.skipType,A=>{l.lf.setProperties(h.value,{skipType:A})}),hr(()=>d.value.nodeName,A=>{l.lf.updateText(h.value,A),l.lf.setProperties(h.value,{nodeName:A})}),hr(()=>d.value.collaborativeWay,A=>{l.lf.setProperties(h.value,{nodeRatio:A==="1"?"0.000":A==="3"?"100.000":""})}),hr(()=>d.value.nodeRatio,A=>{l.lf.setProperties(h.value,{nodeRatio:A})}),hr(()=>d.value.permissionFlag,A=>{l.lf.setProperties(h.value,{permissionFlag:Array.isArray(A)?A.filter(M=>M).join(","):A})},{deep:!0}),hr(()=>d.value.skipAnyNode,A=>{l.lf.setProperties(h.value,{skipAnyNode:A})}),hr(()=>d.value.listenerType,A=>{Array.isArray(A)||(A=[A]);let M=A.join(",");l.lf.setProperties(h.value,{listenerType:M})}),hr(()=>d.value.listenerPath,A=>{l.lf.setProperties(h.value,{listenerPath:A})}),hr(()=>d.value.formCustom,A=>{l.lf.setProperties(h.value,{formCustom:A||""})}),hr(()=>d.value.formPath,A=>{l.lf.setProperties(h.value,{formPath:A})}),hr(()=>d.value.skipName,A=>{["skip"].includes(l.node.type)&&(l.lf.updateText(h.value,A),l.lf.setProperties(h.value,{skipName:A}))}),hr(()=>d.value.skipCondition,A=>{l.lf.setProperties(h.value,{skipCondition:A})});function S(){o.value=!0}function j(){var A;m.value&&h.value&&(["skip"].includes((A=l.node)==null?void 0:A.type)?l.lf.getEdgeModelById(m.value)||l.lf.changeEdgeId(h.value,m.value):l.lf.getNodeModelById(m.value)||l.lf.changeNodeId(h.value,m.value)),o.value=!1}return a({show:S,handleClose:j}),(A,M)=>{const D=Wt("el-drawer");return Ln(),mi("div",null,[Le(D,{ref:"drawerRef",title:Te(v),"destroy-on-close":"",modelValue:Te(o),"onUpdate:modelValue":M[1]||(M[1]=N=>Xu(o)?o.value=N:null),direction:"rtl","append-to-body":!0,"before-close":j},{default:pt(()=>[(Ln(),uo(pT(Te(x)),{modelValue:Te(d),"onUpdate:modelValue":M[0]||(M[0]=N=>Xu(d)?d.value=N:null),disabled:r.disabled,skipConditionShow:r.skipConditionShow},Rx({_:2},[By(A.$slots,(N,I)=>({name:I,fn:pt(U=>[Jn(A.$slots,I,Ix(Lx(U||{})),void 0,!0)])}))]),1032,["modelValue","disabled","skipConditionShow"]))]),_:3},8,["title","modelValue"])])}}}),nB=Ly(tB,[["__scopeId","data-v-28f218c9"]]),rB=r=>{let a=null;return window.DOMParser?a=new DOMParser().parseFromString(r,"text/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(r)),a},oB=["start","between","serial","parallel","end"],fj=["flowCode","flowName","version","fromCustom","fromPath"],pj=["nodeType","nodeCode","nodeName","coordinate","nodeRatio","permissionFlag","skipAnyNode","listenerType","listenerPath","formCustom","formPath"],iB=["skipName","skipType","coordinate","skipCondition"],aB=r=>{const a={nodes:[],edges:[]},l=rB(r).getElementsByTagName("definition");if(!l.length)return a;let o=null;fj.forEach(A=>{o=l[0].getAttribute(A),o&&(a[A]=o)});let d=null,h=null,m={};if(d=l[0].getElementsByTagName("node"),d.length)for(var v=0,x=d.length;v<x;v++){h=d[v],m={text:{},properties:{}},pj.forEach(N=>{if(o=h.getAttribute(N),o)if(N==="nodeType")m.type=o;else if(N==="nodeCode")m.id=o;else if(N==="coordinate"){const I=o.split("|"),U=I[0].split(",");if(m.x=parseInt(U[0]),m.y=parseInt(U[1]),I.length===2){const $=I[1].split(",");m.text.x=parseInt($[0]),m.text.y=parseInt($[1])}}else N==="nodeName"?m.text.value=o:m.properties[N]=o}),a.nodes.push(m);let A=null,M=null,D={};A=h.getElementsByTagName("skip");for(var S=0,j=A.length;S<j;S++){M=A[S],D={text:{},properties:{}},D.id=M.getAttribute("id"),D.type="skip",D.sourceNodeId=m.id,D.targetNodeId=M.textContent,D.text={value:M.getAttribute("skipName")},D.properties.skipCondition=M.getAttribute("skipCondition"),D.properties.skipName=M.getAttribute("skipName"),D.properties.skipType=M.getAttribute("skipType");const N=M.getAttribute("expr");N&&(D.properties.expr=N);const I=M.getAttribute("coordinate");if(I){const U=I.split("|");if(D.pointsList=[],U[0].split(";").forEach($=>{const q=$.split(",");D.pointsList.push({x:parseInt(q[0]),y:parseInt(q[1])})}),D.startPoint=D.pointsList[0],D.endPoint=D.pointsList[D.pointsList.length-1],U.length>1){let $=U[1].split(",");D.text.x=parseInt($[0]),D.text.y=parseInt($[1])}}a.edges.push(D)}}return a},uB=r=>{let a="";const u={flowCode:r.flowCode,flowName:r.flowName,version:r.version,fromCustom:r.fromCustom,fromPath:r.fromPath},l=()=>r.nodes.find(S=>S.type==="start"),o=S=>r.edges.filter(j=>j.sourceNodeId===S).map(j=>r.nodes.find(A=>A.id===j.targetNodeId)),d=S=>r.edges.filter(j=>j.sourceNodeId===S).map(j=>{var M;let A="";for(let D=0;D<j.pointsList.length;D++)A=A+parseInt(j.pointsList[D].x)+","+parseInt(j.pointsList[D].y),D!==j.pointsList.length-1&&(A=A+";");return j.text&&(A=A+"|"+parseInt(j.text.x)+","+parseInt(j.text.y)),{skipType:j.properties.skipType,skipCondition:j.properties.skipCondition,skipName:((M=j==null?void 0:j.text)==null?void 0:M.value)||j.properties.skipName,textContent:j.targetNodeId,coordinate:A}}),h=S=>{let j="";return S.text&&(j="|"+S.text.x+","+S.text.y),{nodeType:S.type,nodeCode:S.id,nodeName:S.text instanceof String||S.text===void 0?S.text:S.text.value,permissionFlag:S.properties.permissionFlag,nodeRatio:S.properties.nodeRatio,skipAnyNode:S.properties.skipAnyNode,listenerType:S.properties.listenerType,listenerPath:S.properties.listenerPath,coordinate:S.x+","+S.y+j,skip:d(S.id),formCustom:S.properties.formCustom,formPath:S.properties.formPath}},m=S=>(S=S.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),S),v=S=>{const j=S.type;u[j+"_"+S.id]||(u[j+"_"+S.id]=h(S),o(S.id).forEach(M=>{v(M)}))},x=l();return x?(v(x),a=`<?xml version="1.0" encoding="UTF-8"?>
`,a+="<definition",Object.keys(u).forEach(S=>{const j=u[S];fj.includes(S)&&j&&(a+=" "+S+'="'+m(j)+'"')}),a+=`>
`,Object.keys(u).forEach(S=>{const j=u[S];let A=S.split("_")[0];oB.includes(A)&&(a+="	<node",Object.keys(j).forEach(M=>{pj.includes(M)&&j[M]&&(a+=" "+M+'="'+m(j[M])+'"')}),a+=`>
	`,j.skip&&j.skip.forEach(M=>{a+="	<skip",Object.keys(M).forEach(D=>{iB.includes(D)&&M[D]&&(a+=" "+D+'="'+m(M[D])+'"')}),a+=">",a+=M.textContent+`</skip>
`}),a+=`	</node>
`)}),a+="</definition>",a):""},sB={class:"container",ref:"container"},lB=eu({name:"Design"}),cB=Object.assign(lB,{setup(r){const{proxy:a}=Cx(),u=Mn(null),l=Mn(null),o=Mn(null),d=Mn(!1),h=Mn({}),m=Mn({}),v=Mn({}),x=Mn(""),S=Mn(!0);function j(){l.value=a.$route.params&&a.$route.params.id,a.$route.query.disabled==="true"&&(d.value=!0)}dT(()=>{I(),u.value=new Cp({container:a.$refs.container,grid:!0}),N(),A(),M(),D(),U(),l.value&&P7(l.value).then(q=>{x.value=q.data,x.value&&(v.value=aB(x.value),u.value.render(v.value))})});function A(){u.value.extension.dndPanel.setPatternItems([{type:"start",text:"开始",label:"开始节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"between",text:"中间节点-或签",label:"中间节点-或签",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node",properties:{collaborativeWay:"1"}},{type:"between",text:"中间节点-票签",label:"中间节点-票签",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node",properties:{collaborativeWay:"2"}},{type:"between",text:"中间节点-会签",label:"中间节点-会签",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node",properties:{collaborativeWay:"3"}},{type:"serial",text:"",label:"互斥网关",properties:{},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"parallel",text:"",label:"并行网关",properties:{},icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAuMTQxOTM3MjU1ODU5Mzc1IiBoZWlnaHQ9IjIwLjE0MTkzNzI1NTg1OTM3NSIgdmlld0JveD0iMCAwIDIwLjE0MTkzNzI1NTg1OTM3NSAyMC4xNDE5MzcyNTU4NTkzNzUiIGZpbGw9Im5vbmUiPg0KPHBhdGggZD0iTTE5LjI2MzMgNy45NDk2N0wxMi4xOTIzIDAuODc4NjY5QzExLjAyMDcgLTAuMjkyODkyIDkuMTIxMjMgLTAuMjkyODkyIDcuOTQ5NjcgMC44Nzg2NjlMMC44Nzg2NyA3Ljk0OTY3Qy0wLjI5Mjg5MiA5LjEyMTIzIC0wLjI5Mjg5MiAxMS4wMjA3IDAuODc4NjcgMTIuMTkyM0w3Ljk0OTY3IDE5LjI2MzNDOS4xMjEyMyAyMC40MzQ4IDExLjAyMDcgMjAuNDM0OCAxMi4xOTIzIDE5LjI2MzNMMTkuMjYzMyAxMi4xOTIzQzIwLjQzNDggMTEuMDIwNyAyMC40MzQ4IDkuMTIxMjMgMTkuMjYzMyA3Ljk0OTY3Wk05LjM2Mzg3IDIuMjkyODdDOS43NTQzOSAxLjkwMjM1IDEwLjM4NzUgMS45MDIzNSAxMC43NzgxIDIuMjkyODdMMTcuODQ5MSA5LjM2Mzg3QzE4LjIzOTYgOS43NTQzOSAxOC4yMzk2IDEwLjM4NzUgMTcuODQ5MSAxMC43NzgxTDEwLjc3ODEgMTcuODQ5MUMxMC4zODc1IDE4LjIzOTYgOS43NTQzOSAxOC4yMzk2IDkuMzYzODcgMTcuODQ5MUwyLjI5Mjg3IDEwLjc3ODFDMS45MDIzNSAxMC4zODc1IDEuOTAyMzUgOS43NTQzOSAyLjI5Mjg3IDkuMzYzODdMOS4zNjM4NyAyLjI5Mjg3Wk05LjI0OTk3IDkuMDQ5OTdMOS4yNDk5NyA2LjQ5OTk2QzkuMjQ5OTcgNS45NDc2OCA5LjY5NzY4IDUuNDk5OTYgMTAuMjUgNS40OTk5NkMxMC44MDIzIDUuNDk5OTYgMTEuMjUgNS45NDc2OCAxMS4yNSA2LjQ5OTk2TDExLjI1IDkuMDQ5OTdMMTMuNDYgOS4wNDk5N0MxNC4wMTIzIDkuMDQ5OTcgMTQuNDYgOS40OTc2OCAxNC40NiAxMC4wNUMxNC40NiAxMC42MDIzIDE0LjAxMjMgMTEuMDUgMTMuNDYgMTEuMDVMMTEuMjUgMTEuMDVMMTEuMjUgMTMuMjVDMTEuMjUgMTMuODAyMyAxMC44MDIzIDE0LjI1IDEwLjI1IDE0LjI1QzkuNjk3NjggMTQuMjUgOS4yNDk5NyAxMy44MDIzIDkuMjQ5OTcgMTMuMjVMOS4yNDk5NyAxMS4wNUw2LjcwOTk3IDExLjA1QzYuMTU3NjggMTEuMDUgNS43MDk5NyAxMC42MDIzIDUuNzA5OTcgMTAuMDVDNS43MDk5NyA5LjQ5NzY4IDYuMTU3NjggOS4wNDk5NyA2LjcwOTk3IDkuMDQ5OTdMOS4yNDk5NyA5LjA0OTk3WiIgZmlsbC1ydWxlPSJldmVub2RkIiAgZmlsbD0iIzI5ODZGRiIgPg0KPC9wYXRoPg0KPC9zdmc+DQo="},{type:"end",text:"结束",label:"结束节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}])}function M(){d.value||(u.value.extension.control.addItem({iconClass:"lf-control-clear",title:"clear",text:"清空",onClick:(q,oe)=>{q.clearData()}}),u.value.extension.control.addItem({iconClass:"lf-control-save",title:"",text:"保存",onClick:(q,oe)=>{let J=q.getGraphData();v.value.nodes=J.nodes,v.value.edges=J.edges,console.log("value.value:",v.value);let Q=uB(v.value);console.log("xmlString.value:",Q);let ee={xmlString:Q,id:l.value};A7(ee).then(G=>{a.$modal.msgSuccess("保存成功"),G.code===200&&$()})}}))}function D(){u.value.extension.menu.addMenuConfig({nodeMenu:[{text:"属性",callback(q){alert(`
          节点id：${q.id}
          节点类型：${q.type}
          节点坐标：(x: ${q.x}, y: ${q.y})
          文本坐标：(x: ${q.text.x}, y: ${q.text.y})`)}}],edgeMenu:[{text:"属性",callback(q){alert(`
          边id：${q.id}
          边类型：${q.type}
          边坐标：(x: ${q.x}, y: ${q.y})
          文本坐标：(x: ${q.text.x}, y: ${q.text.y})
          源节点id：${q.sourceNodeId}
          目标节点id：${q.targetNodeId}`)}}]})}function N(){u.value.register(i8),u.value.register(s8),u.value.register(l8),u.value.register(c8),u.value.register(d8),u.value.register(y8)}function I(){Cp.use(q5),Cp.use(J5),Cp.use(H5),Cp.use(K5)}function U(){const{eventCenter:q}=u.value.graphModel;q.on("node:click",oe=>{o.value=oe.data,a.$nextTick(()=>{m.value.show()})}),q.on("edge:click",oe=>{o.value=oe.data;const J=u.value.getNodeModelById(o.value.sourceNodeId);S.value=J.type==="serial",a.$nextTick(()=>{m.value.show(J.nodeType==="serial")})}),q.on("edge:add",oe=>{u.value.changeEdgeType(oe.data.id,"skip"),u.value.setProperties(oe.data.id,{skipType:"PASS"})}),q.on("blank:click",()=>{o.value=null,a.$nextTick(()=>{m.value.handleClose()})})}function $(){window.parent.postMessage({method:"close"},"*")}return j(),(q,oe)=>(Ln(),mi("div",sB,[Le(nB,{ref_key:"propertySettingRef",ref:m,node:Te(o),modelValue:Te(h),"onUpdate:modelValue":oe[0]||(oe[0]=J=>Xu(h)?h.value=J:null),lf:Te(u),disabled:Te(d),skipConditionShow:Te(S)},Rx({_:2},[By(q.$slots,(J,Q)=>({name:Q,fn:pt(ee=>[Jn(q.$slots,Q,Ix(Lx(ee||{})),void 0,!0)])}))]),1032,["node","modelValue","lf","disabled","skipConditionShow"])],512))}}),dB=Ly(cB,[["__scopeId","data-v-92efd6f7"]]);export{dB as default};
