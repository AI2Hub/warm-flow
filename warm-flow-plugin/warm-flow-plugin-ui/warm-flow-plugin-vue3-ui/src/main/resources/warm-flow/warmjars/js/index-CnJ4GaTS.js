var IP=Object.defineProperty;var LP=(i,a,u)=>a in i?IP(i,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[a]=u;var Op=(i,a,u)=>(LP(i,typeof a!="symbol"?a+"":a,u),u);import{i as $a,b as Gi,t as on,W as F1,a as mi,c as Dp,d as Ha,r as Qs,n as ew,e as hi,f as bi,g as Rn,s as zP,h as $i,j as bb,k as BP,l as Cp,m as yi,o as Rp,p as tw,q as Wu,u as Ip,v as To,w as nw,x as Xa,y as rw,z as Gu,A as Vu,B as Oy,C as pn,D as Lp,E as Nc,F as In,G as Va,H as ko,I as el,J as zp,K as _i,L as vr,M as en,N as tl,O as FP,P as Dc,Q as ow,R as ha,S as iw,T as aw,U as eb,V as Mr,X as UP,Y as WP,Z as Bp,_ as uw,$ as nl,a0 as sw,a1 as Ya,a2 as lw,a3 as _b,a4 as GP,a5 as Cc,a6 as VP,a7 as Bu,a8 as Fp,a9 as cw,aa as wy,ab as xy,ac as kc,ad as Ob,ae as wb,af as fw,ag as pw,ah as $P,ai as dw,aj as hw,ak as HP,al as yw,am as XP,an as YP,ao as KP,ap as qP,aq as ay,ar as ZP,as as vw,at as JP,au as QP,av as gw,aw as mw,ax as xb,ay as bw,az as eM,aA as tM,aB as nM,aC as rM,aD as Zs,aE as oM,aF as iM,aG as aM,aH as uM,aI as sM,aJ as lM,aK as cM,aL as fM,aM as pM,aN as dM,aO as hM,aP as yM,aQ as vM,aR as gM,aS as mM,aT as bM,aU as _M,aV as OM,aW as wM,aX as xM,aY as EM,aZ as SM,a_ as jM,a$ as AM,b0 as PM,b1 as MM,b2 as Sn,b3 as hr,b4 as Yt,b5 as kn,b6 as Yo,b7 as We,b8 as lt,b9 as Zn,ba as Me,bb as Fu,bc as Ka,bd as rl,be as _w,bf as kM,bg as TM,bh as Js,bi as Hm,bj as NM,bk as Ga,bl as U1,bm as ty,bn as jc,bo as Br,bp as W1,bq as Eb,br as Mo,bs as Sb,bt as jb,bu as DM,bv as CM,bw as G1,bx as Ow,by as ww,bz as RM,bA as IM}from"./index-CHhVGh1M.js";var LM=NaN;function V1(i){return typeof i=="number"?i:$a(i)?LM:+i}function Ey(i,a){return function(u,c){var o;if(u===void 0&&c===void 0)return a;if(u!==void 0&&(o=u),c!==void 0){if(o===void 0)return c;typeof u=="string"||typeof c=="string"?(u=Gi(u),c=Gi(c)):(u=V1(u),c=V1(c)),o=i(u,c)}return o}}var zM=Ey(function(i,a){return i+a},0),BM="Expected a function";function FM(i,a){if(typeof a!="function")throw new TypeError(BM);return i=on(i),function(){if(--i<1)return a.apply(this,arguments)}}var uy=F1&&new F1,xw=uy?function(i,a){return uy.set(i,a),i}:mi;function Np(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=Dp(i.prototype),c=i.apply(u,a);return Ha(c)?c:u}}var UM=1;function WM(i,a,u){var c=a&UM,o=Np(i);function d(){var h=this&&this!==Qs&&this instanceof d?o:i;return h.apply(c?u:this,arguments)}return d}var GM=Math.max;function Ew(i,a,u,c){for(var o=-1,d=i.length,h=u.length,m=-1,v=a.length,x=GM(d-h,0),S=Array(v+x),j=!c;++m<v;)S[m]=a[m];for(;++o<h;)(j||o<d)&&(S[u[o]]=i[o]);for(;x--;)S[m++]=i[o++];return S}var VM=Math.max;function Sw(i,a,u,c){for(var o=-1,d=i.length,h=-1,m=u.length,v=-1,x=a.length,S=VM(d-m,0),j=Array(S+x),P=!c;++o<S;)j[o]=i[o];for(var k=o;++v<x;)j[k+v]=a[v];for(;++h<m;)(P||o<d)&&(j[k+u[h]]=i[o++]);return j}function $M(i,a){for(var u=i.length,c=0;u--;)i[u]===a&&++c;return c}function Sy(){}var HM=4294967295;function vn(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=HM,this.__views__=[]}vn.prototype=Dp(Sy.prototype);vn.prototype.constructor=vn;var Ab=uy?function(i){return uy.get(i)}:ew,Ac={},XM=Object.prototype,YM=XM.hasOwnProperty;function ny(i){for(var a=i.name+"",u=Ac[a],c=YM.call(Ac,a)?u.length:0;c--;){var o=u[c],d=o.func;if(d==null||d==i)return o.name}return a}function vi(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}vi.prototype=Dp(Sy.prototype);vi.prototype.constructor=vi;function jw(i){if(i instanceof vn)return i.clone();var a=new vi(i.__wrapped__,i.__chain__);return a.__actions__=hi(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}var KM=Object.prototype,qM=KM.hasOwnProperty;function U(i){if(bi(i)&&!Rn(i)&&!(i instanceof vn)){if(i instanceof vi)return i;if(qM.call(i,"__wrapped__"))return jw(i)}return new vi(i)}U.prototype=Sy.prototype;U.prototype.constructor=U;function tb(i){var a=ny(i),u=U[a];if(typeof u!="function"||!(a in vn.prototype))return!1;if(i===u)return!0;var c=Ab(u);return!!c&&i===c[0]}var Aw=zP(xw),ZM=/\{\n\/\* \[wrapped with (.+)\] \*/,JM=/,? & /;function QM(i){var a=i.match(ZM);return a?a[1].split(JM):[]}var e2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function t2(i,a){var u=a.length;if(!u)return i;var c=u-1;return a[c]=(u>1?"& ":"")+a[c],a=a.join(u>2?", ":" "),i.replace(e2,`{
/* [wrapped with `+a+`] */
`)}var n2=1,r2=2,o2=8,i2=16,a2=32,u2=64,s2=128,l2=256,c2=512,f2=[["ary",s2],["bind",n2],["bindKey",r2],["curry",o2],["curryRight",i2],["flip",c2],["partial",a2],["partialRight",u2],["rearg",l2]];function p2(i,a){return $i(f2,function(u){var c="_."+u[0];a&u[1]&&!bb(i,c)&&i.push(c)}),i.sort()}function Pw(i,a,u){var c=a+"";return BP(i,t2(c,p2(QM(c),u)))}var d2=1,h2=2,y2=4,v2=8,$1=32,H1=64;function Mw(i,a,u,c,o,d,h,m,v,x){var S=a&v2,j=S?h:void 0,P=S?void 0:h,k=S?d:void 0,D=S?void 0:d;a|=S?$1:H1,a&=~(S?H1:$1),a&y2||(a&=~(d2|h2));var N=[i,a,o,k,j,D,P,m,v,x],R=u.apply(void 0,N);return tb(i)&&Aw(R,N),R.placeholder=c,Pw(R,i,a)}function Rc(i){var a=i;return a.placeholder}var g2=Math.min;function m2(i,a){for(var u=i.length,c=g2(a.length,u),o=hi(i);c--;){var d=a[c];i[c]=Cp(d,u)?o[d]:void 0}return i}var X1="__lodash_placeholder__";function Uu(i,a){for(var u=-1,c=i.length,o=0,d=[];++u<c;){var h=i[u];(h===a||h===X1)&&(i[u]=X1,d[o++]=u)}return d}var b2=1,_2=2,O2=8,w2=16,x2=128,E2=512;function jy(i,a,u,c,o,d,h,m,v,x){var S=a&x2,j=a&b2,P=a&_2,k=a&(O2|w2),D=a&E2,N=P?void 0:Np(i);function R(){for(var W=arguments.length,G=Array(W),K=W;K--;)G[K]=arguments[K];if(k)var oe=Rc(R),re=$M(G,oe);if(c&&(G=Ew(G,c,o,k)),d&&(G=Sw(G,d,h,k)),W-=re,k&&W<x){var Z=Uu(G,oe);return Mw(i,a,jy,R.placeholder,u,G,Z,m,v,x-W)}var Q=j?u:this,$=P?Q[i]:i;return W=G.length,m?G=m2(G,m):D&&W>1&&G.reverse(),S&&v<W&&(G.length=v),this&&this!==Qs&&this instanceof R&&($=N||Np($)),$.apply(Q,G)}return R}function S2(i,a,u){var c=Np(i);function o(){for(var d=arguments.length,h=Array(d),m=d,v=Rc(o);m--;)h[m]=arguments[m];var x=d<3&&h[0]!==v&&h[d-1]!==v?[]:Uu(h,v);if(d-=x.length,d<u)return Mw(i,a,jy,o.placeholder,void 0,h,x,void 0,void 0,u-d);var S=this&&this!==Qs&&this instanceof o?c:i;return yi(S,this,h)}return o}var j2=1;function A2(i,a,u,c){var o=a&j2,d=Np(i);function h(){for(var m=-1,v=arguments.length,x=-1,S=c.length,j=Array(S+v),P=this&&this!==Qs&&this instanceof h?d:i;++x<S;)j[x]=c[x];for(;v--;)j[x++]=arguments[++m];return yi(P,o?u:this,j)}return h}var Y1="__lodash_placeholder__",Xm=1,P2=2,M2=4,K1=8,wp=128,q1=256,k2=Math.min;function T2(i,a){var u=i[1],c=a[1],o=u|c,d=o<(Xm|P2|wp),h=c==wp&&u==K1||c==wp&&u==q1&&i[7].length<=a[8]||c==(wp|q1)&&a[7].length<=a[8]&&u==K1;if(!(d||h))return i;c&Xm&&(i[2]=a[2],o|=u&Xm?0:M2);var m=a[3];if(m){var v=i[3];i[3]=v?Ew(v,m,a[4]):m,i[4]=v?Uu(i[3],Y1):a[4]}return m=a[5],m&&(v=i[5],i[5]=v?Sw(v,m,a[6]):m,i[6]=v?Uu(i[5],Y1):a[6]),m=a[7],m&&(i[7]=m),c&wp&&(i[8]=i[8]==null?a[8]:k2(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=o,i}var N2="Expected a function",Z1=1,D2=2,Ym=8,Km=16,qm=32,J1=64,Q1=Math.max;function qa(i,a,u,c,o,d,h,m){var v=a&D2;if(!v&&typeof i!="function")throw new TypeError(N2);var x=c?c.length:0;if(x||(a&=~(qm|J1),c=o=void 0),h=h===void 0?h:Q1(on(h),0),m=m===void 0?m:on(m),x-=o?o.length:0,a&J1){var S=c,j=o;c=o=void 0}var P=v?void 0:Ab(i),k=[i,a,u,c,o,S,j,d,h,m];if(P&&T2(k,P),i=k[0],a=k[1],u=k[2],c=k[3],o=k[4],m=k[9]=k[9]===void 0?v?0:i.length:Q1(k[9]-x,0),!m&&a&(Ym|Km)&&(a&=~(Ym|Km)),!a||a==Z1)var D=WM(i,a,u);else a==Ym||a==Km?D=S2(i,a,m):(a==qm||a==(Z1|qm))&&!o.length?D=A2(i,a,u,c):D=jy.apply(void 0,k);var N=P?xw:Aw;return Pw(N(D,k),i,a)}var C2=128;function kw(i,a,u){return a=u?void 0:a,a=i&&a==null?i.length:a,qa(i,C2,void 0,void 0,void 0,void 0,a)}var R2=Object.prototype,I2=R2.hasOwnProperty,L2=Rp(function(i,a){if(tw(a)||Wu(a)){Ip(a,To(a),i);return}for(var u in a)I2.call(a,u)&&nw(i,u,a[u])}),eO=Rp(function(i,a){Ip(a,Xa(a),i)}),sy=Rp(function(i,a,u,c){Ip(a,Xa(a),i,c)}),z2=Rp(function(i,a,u,c){Ip(a,To(a),i,c)});function Pb(i,a){for(var u=-1,c=a.length,o=Array(c),d=i==null;++u<c;)o[u]=d?void 0:rw(i,a[u]);return o}var B2=Gu(Pb),F2="[object DOMException]",U2="[object Error]";function Mb(i){if(!bi(i))return!1;var a=Vu(i);return a==U2||a==F2||typeof i.message=="string"&&typeof i.name=="string"&&!Oy(i)}var Tw=pn(function(i,a){try{return yi(i,void 0,a)}catch(u){return Mb(u)?u:new Error(u)}}),W2="Expected a function";function Nw(i,a){var u;if(typeof a!="function")throw new TypeError(W2);return i=on(i),function(){return--i>0&&(u=a.apply(this,arguments)),i<=1&&(a=void 0),u}}var G2=1,V2=32,Ay=pn(function(i,a,u){var c=G2;if(u.length){var o=Uu(u,Rc(Ay));c|=V2}return qa(i,c,a,u,o)});Ay.placeholder={};var $2=Gu(function(i,a){return $i(a,function(u){u=Lp(u),Nc(i,u,Ay(i[u],i))}),i}),H2=1,X2=2,Y2=32,kb=pn(function(i,a,u){var c=H2|X2;if(u.length){var o=Uu(u,Rc(kb));c|=Y2}return qa(a,c,i,u,o)});kb.placeholder={};function gi(i,a,u){var c=-1,o=i.length;a<0&&(a=-a>o?0:o+a),u=u>o?o:u,u<0&&(u+=o),o=a>u?0:u-a>>>0,a>>>=0;for(var d=Array(o);++c<o;)d[c]=i[c+a];return d}function $u(i,a,u){var c=i.length;return u=u===void 0?c:u,!a&&u>=c?i:gi(i,a,u)}var K2="\\ud800-\\udfff",q2="\\u0300-\\u036f",Z2="\\ufe20-\\ufe2f",J2="\\u20d0-\\u20ff",Q2=q2+Z2+J2,ek="\\ufe0e\\ufe0f",tk="\\u200d",nk=RegExp("["+tk+K2+Q2+ek+"]");function Ic(i){return nk.test(i)}function rk(i){return i.split("")}var Dw="\\ud800-\\udfff",ok="\\u0300-\\u036f",ik="\\ufe20-\\ufe2f",ak="\\u20d0-\\u20ff",uk=ok+ik+ak,sk="\\ufe0e\\ufe0f",lk="["+Dw+"]",nb="["+uk+"]",rb="\\ud83c[\\udffb-\\udfff]",ck="(?:"+nb+"|"+rb+")",Cw="[^"+Dw+"]",Rw="(?:\\ud83c[\\udde6-\\uddff]){2}",Iw="[\\ud800-\\udbff][\\udc00-\\udfff]",fk="\\u200d",Lw=ck+"?",zw="["+sk+"]?",pk="(?:"+fk+"(?:"+[Cw,Rw,Iw].join("|")+")"+zw+Lw+")*",dk=zw+Lw+pk,hk="(?:"+[Cw+nb+"?",nb,Rw,Iw,lk].join("|")+")",yk=RegExp(rb+"(?="+rb+")|"+hk+dk,"g");function vk(i){return i.match(yk)||[]}function Vi(i){return Ic(i)?vk(i):rk(i)}function Bw(i){return function(a){a=In(a);var u=Ic(a)?Vi(a):void 0,c=u?u[0]:a.charAt(0),o=u?$u(u,1).join(""):a.slice(1);return c[i]()+o}}var Tb=Bw("toUpperCase");function Fw(i){return Tb(In(i).toLowerCase())}function Nb(i,a,u,c){var o=-1,d=i==null?0:i.length;for(c&&d&&(u=i[++o]);++o<d;)u=a(u,i[o],o,i);return u}function Db(i){return function(a){return i==null?void 0:i[a]}}var gk={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mk=Db(gk),bk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_k="\\u0300-\\u036f",Ok="\\ufe20-\\ufe2f",wk="\\u20d0-\\u20ff",xk=_k+Ok+wk,Ek="["+xk+"]",Sk=RegExp(Ek,"g");function Uw(i){return i=In(i),i&&i.replace(bk,mk).replace(Sk,"")}var jk=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Ak(i){return i.match(jk)||[]}var Pk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Mk(i){return Pk.test(i)}var Ww="\\ud800-\\udfff",kk="\\u0300-\\u036f",Tk="\\ufe20-\\ufe2f",Nk="\\u20d0-\\u20ff",Dk=kk+Tk+Nk,Gw="\\u2700-\\u27bf",Vw="a-z\\xdf-\\xf6\\xf8-\\xff",Ck="\\xac\\xb1\\xd7\\xf7",Rk="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ik="\\u2000-\\u206f",Lk=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$w="A-Z\\xc0-\\xd6\\xd8-\\xde",zk="\\ufe0e\\ufe0f",Hw=Ck+Rk+Ik+Lk,Xw="['’]",tO="["+Hw+"]",Bk="["+Dk+"]",Yw="\\d+",Fk="["+Gw+"]",Kw="["+Vw+"]",qw="[^"+Ww+Hw+Yw+Gw+Vw+$w+"]",Uk="\\ud83c[\\udffb-\\udfff]",Wk="(?:"+Bk+"|"+Uk+")",Gk="[^"+Ww+"]",Zw="(?:\\ud83c[\\udde6-\\uddff]){2}",Jw="[\\ud800-\\udbff][\\udc00-\\udfff]",xc="["+$w+"]",Vk="\\u200d",nO="(?:"+Kw+"|"+qw+")",$k="(?:"+xc+"|"+qw+")",rO="(?:"+Xw+"(?:d|ll|m|re|s|t|ve))?",oO="(?:"+Xw+"(?:D|LL|M|RE|S|T|VE))?",Qw=Wk+"?",ex="["+zk+"]?",Hk="(?:"+Vk+"(?:"+[Gk,Zw,Jw].join("|")+")"+ex+Qw+")*",Xk="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kk=ex+Qw+Hk,qk="(?:"+[Fk,Zw,Jw].join("|")+")"+Kk,Zk=RegExp([xc+"?"+Kw+"+"+rO+"(?="+[tO,xc,"$"].join("|")+")",$k+"+"+oO+"(?="+[tO,xc+nO,"$"].join("|")+")",xc+"?"+nO+"+"+rO,xc+"+"+oO,Yk,Xk,Yw,qk].join("|"),"g");function Jk(i){return i.match(Zk)||[]}function tx(i,a,u){return i=In(i),a=u?void 0:a,a===void 0?Mk(i)?Jk(i):Ak(i):i.match(a)||[]}var Qk="['’]",eT=RegExp(Qk,"g");function Lc(i){return function(a){return Nb(tx(Uw(a).replace(eT,"")),i,"")}}var tT=Lc(function(i,a,u){return a=a.toLowerCase(),i+(u?Fw(a):a)}),nT=Qs.isFinite,rT=Math.min;function Cb(i){var a=Math[i];return function(u,c){if(u=Va(u),c=c==null?0:rT(on(c),292),c&&nT(u)){var o=(In(u)+"e").split("e"),d=a(o[0]+"e"+(+o[1]+c));return o=(In(d)+"e").split("e"),+(o[0]+"e"+(+o[1]-c))}return a(u)}}var oT=Cb("ceil");function nx(i){var a=U(i);return a.__chain__=!0,a}var iT=Math.ceil,aT=Math.max;function uT(i,a,u){(u?ko(i,a,u):a===void 0)?a=1:a=aT(on(a),0);var c=i==null?0:i.length;if(!c||a<1)return[];for(var o=0,d=0,h=Array(iT(c/a));o<c;)h[d++]=gi(i,o,o+=a);return h}function ol(i,a,u){return i===i&&(u!==void 0&&(i=i<=u?i:u),a!==void 0&&(i=i>=a?i:a)),i}function sT(i,a,u){return u===void 0&&(u=a,a=void 0),u!==void 0&&(u=Va(u),u=u===u?u:0),a!==void 0&&(a=Va(a),a=a===a?a:0),ol(Va(i),a,u)}var lT=1,cT=4;function fT(i,a){return a=typeof a=="function"?a:void 0,el(i,lT|cT,a)}var pT=4;function dT(i,a){return a=typeof a=="function"?a:void 0,el(i,pT,a)}function hT(){return new vi(this.value(),this.__chain__)}function yT(i){for(var a=-1,u=i==null?0:i.length,c=0,o=[];++a<u;){var d=i[a];d&&(o[c++]=d)}return o}function vT(){var i=arguments.length;if(!i)return[];for(var a=Array(i-1),u=arguments[0],c=i;c--;)a[c-1]=arguments[c];return zp(Rn(u)?hi(u):[u],_i(a,1))}var gT="Expected a function";function mT(i){var a=i==null?0:i.length,u=en;return i=a?vr(i,function(c){if(typeof c[1]!="function")throw new TypeError(gT);return[u(c[0]),c[1]]}):[],pn(function(c){for(var o=-1;++o<a;){var d=i[o];if(yi(d[0],this,c))return yi(d[1],this,c)}})}function rx(i,a,u){var c=u.length;if(i==null)return!c;for(i=Object(i);c--;){var o=u[c],d=a[o],h=i[o];if(h===void 0&&!(o in i)||!d(h))return!1}return!0}function bT(i){var a=To(i);return function(u){return rx(u,i,a)}}var _T=1;function OT(i){return bT(el(i,_T))}function wT(i,a){return a==null||rx(i,a,To(a))}function xT(i,a,u,c){for(var o=-1,d=i==null?0:i.length;++o<d;){var h=i[o];a(c,h,u(h),i)}return c}function ET(i,a,u,c){return tl(i,function(o,d,h){a(c,o,u(o),h)}),c}function Py(i,a){return function(u,c){var o=Rn(u)?xT:ET,d=a?a():{};return o(u,i,en(c),d)}}var ST=Object.prototype,jT=ST.hasOwnProperty,AT=Py(function(i,a,u){jT.call(i,u)?++i[u]:Nc(i,u,1)});function PT(i,a){var u=Dp(i);return a==null?u:FP(u,a)}var MT=8;function Rb(i,a,u){a=u?void 0:a;var c=qa(i,MT,void 0,void 0,void 0,void 0,void 0,a);return c.placeholder=Rb.placeholder,c}Rb.placeholder={};var kT=16;function Ib(i,a,u){a=u?void 0:a;var c=qa(i,kT,void 0,void 0,void 0,void 0,void 0,a);return c.placeholder=Ib.placeholder,c}Ib.placeholder={};function TT(i,a){return i==null||i!==i?a:i}var ox=Object.prototype,NT=ox.hasOwnProperty,DT=pn(function(i,a){i=Object(i);var u=-1,c=a.length,o=c>2?a[2]:void 0;for(o&&ko(a[0],a[1],o)&&(c=1);++u<c;)for(var d=a[u],h=Xa(d),m=-1,v=h.length;++m<v;){var x=h[m],S=i[x];(S===void 0||Dc(S,ox[x])&&!NT.call(i,x))&&(i[x]=d[x])}return i});function ix(i,a,u,c,o,d){return Ha(i)&&Ha(a)&&(d.set(a,i),ow(i,a,void 0,ix,d),d.delete(a)),i}var ax=Rp(function(i,a,u,c){ow(i,a,u,c)}),CT=pn(function(i){return i.push(void 0,ix),yi(ax,void 0,i)}),RT="Expected a function";function ux(i,a,u){if(typeof i!="function")throw new TypeError(RT);return setTimeout(function(){i.apply(void 0,u)},a)}var IT=pn(function(i,a){return ux(i,1,a)}),LT=pn(function(i,a,u){return ux(i,Va(a)||0,u)}),zT=200;function Up(i,a,u,c){var o=-1,d=bb,h=!0,m=i.length,v=[],x=a.length;if(!m)return v;u&&(a=vr(a,ha(u))),c?(d=aw,h=!1):a.length>=zT&&(d=eb,h=!1,a=new iw(a));e:for(;++o<m;){var S=i[o],j=u==null?S:u(S);if(S=c||S!==0?S:0,h&&j===j){for(var P=x;P--;)if(a[P]===j)continue e;v.push(S)}else d(a,j,c)||v.push(S)}return v}var BT=pn(function(i,a){return Mr(i)?Up(i,_i(a,1,Mr,!0)):[]});function Ko(i){var a=i==null?0:i.length;return a?i[a-1]:void 0}var FT=pn(function(i,a){var u=Ko(a);return Mr(u)&&(u=void 0),Mr(i)?Up(i,_i(a,1,Mr,!0),en(u)):[]}),UT=pn(function(i,a){var u=Ko(a);return Mr(u)&&(u=void 0),Mr(i)?Up(i,_i(a,1,Mr,!0),void 0,u):[]}),WT=Ey(function(i,a){return i/a},1);function GT(i,a,u){var c=i==null?0:i.length;return c?(a=u||a===void 0?1:on(a),gi(i,a<0?0:a,c)):[]}function VT(i,a,u){var c=i==null?0:i.length;return c?(a=u||a===void 0?1:on(a),a=c-a,gi(i,0,a<0?0:a)):[]}function My(i,a,u,c){for(var o=i.length,d=c?o:-1;(c?d--:++d<o)&&a(i[d],d,i););return u?gi(i,c?0:d,c?d+1:o):gi(i,c?d+1:0,c?o:d)}function $T(i,a){return i&&i.length?My(i,en(a),!0,!0):[]}function HT(i,a){return i&&i.length?My(i,en(a),!0):[]}function va(i){return typeof i=="function"?i:mi}function iO(i,a){var u=Rn(i)?$i:tl;return u(i,va(a))}function XT(i,a){for(var u=i==null?0:i.length;u--&&a(i[u],u,i)!==!1;);return i}var sx=UP(!0);function Lb(i,a){return i&&sx(i,a,To)}var lx=WP(Lb,!0);function aO(i,a){var u=Rn(i)?XT:lx;return u(i,va(a))}function YT(i,a,u){i=In(i),a=Gi(a);var c=i.length;u=u===void 0?c:ol(on(u),0,c);var o=u;return u-=a.length,u>=0&&i.slice(u,o)==a}function KT(i,a){return vr(a,function(u){return[u,i[u]]})}function qT(i){var a=-1,u=Array(i.size);return i.forEach(function(c){u[++a]=[c,c]}),u}var ZT="[object Map]",JT="[object Set]";function cx(i){return function(a){var u=Bp(a);return u==ZT?uw(a):u==JT?qT(a):KT(a,i(a))}}var uO=cx(To),sO=cx(Xa),QT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eN=Db(QT),fx=/[&<>"']/g,tN=RegExp(fx.source);function px(i){return i=In(i),i&&tN.test(i)?i.replace(fx,eN):i}var dx=/[\\^$.*+?()[\]{}|]/g,nN=RegExp(dx.source);function rN(i){return i=In(i),i&&nN.test(i)?i.replace(dx,"\\$&"):i}function hx(i,a){for(var u=-1,c=i==null?0:i.length;++u<c;)if(!a(i[u],u,i))return!1;return!0}function oN(i,a){var u=!0;return tl(i,function(c,o,d){return u=!!a(c,o,d),u}),u}function iN(i,a,u){var c=Rn(i)?hx:oN;return u&&ko(i,a,u)&&(a=void 0),c(i,en(a))}var aN=4294967295;function yx(i){return i?ol(on(i),0,aN):0}function uN(i,a,u,c){var o=i.length;for(u=on(u),u<0&&(u=-u>o?0:o+u),c=c===void 0||c>o?o:on(c),c<0&&(c+=o),c=u>c?0:yx(c);u<c;)i[u++]=a;return i}function sN(i,a,u,c){var o=i==null?0:i.length;return o?(u&&typeof u!="number"&&ko(i,a,u)&&(u=0,c=o),uN(i,a,u,c)):[]}function vx(i,a){var u=[];return tl(i,function(c,o,d){a(c,o,d)&&u.push(c)}),u}function lN(i,a){var u=Rn(i)?nl:vx;return u(i,en(a))}function gx(i){return function(a,u,c){var o=Object(a);if(!Wu(a)){var d=en(u);a=To(a),u=function(m){return d(o[m],m,o)}}var h=i(a,u,c);return h>-1?o[d?a[h]:h]:void 0}}var cN=Math.max;function mx(i,a,u){var c=i==null?0:i.length;if(!c)return-1;var o=u==null?0:on(u);return o<0&&(o=cN(c+o,0)),sw(i,en(a),o)}var fN=gx(mx);function bx(i,a,u){var c;return u(i,function(o,d,h){if(a(o,d,h))return c=d,!1}),c}function pN(i,a){return bx(i,en(a),Ya)}var dN=gx(lw);function hN(i,a){return bx(i,en(a),Lb)}function lO(i){return i&&i.length?i[0]:void 0}var yN=1/0;function vN(i,a){return _i(_b(i,a),yN)}function gN(i,a,u){return u=u===void 0?1:on(u),_i(_b(i,a),u)}function mN(i,a){var u=i==null?0:i.length;return u?(a=a===void 0?1:on(a),_i(i,a)):[]}var bN=512;function _N(i){return qa(i,bN)}var ON=Cb("floor"),wN="Expected a function",xN=8,EN=32,SN=128,jN=256;function _x(i){return Gu(function(a){var u=a.length,c=u,o=vi.prototype.thru;for(i&&a.reverse();c--;){var d=a[c];if(typeof d!="function")throw new TypeError(wN);if(o&&!h&&ny(d)=="wrapper")var h=new vi([],!0)}for(c=h?c:u;++c<u;){d=a[c];var m=ny(d),v=m=="wrapper"?Ab(d):void 0;v&&tb(v[0])&&v[1]==(SN|xN|EN|jN)&&!v[4].length&&v[9]==1?h=h[ny(v[0])].apply(h,v[3]):h=d.length==1&&tb(d)?h[m]():h.thru(d)}return function(){var x=arguments,S=x[0];if(h&&x.length==1&&Rn(S))return h.plant(S).value();for(var j=0,P=u?a[j].apply(this,x):S;++j<u;)P=a[j].call(this,P);return P}})}var AN=_x(),PN=_x(!0);function MN(i,a){return i==null?i:GP(i,va(a),Xa)}function kN(i,a){return i==null?i:sx(i,va(a),Xa)}function TN(i,a){return i&&Ya(i,va(a))}function NN(i,a){return i&&Lb(i,va(a))}function ky(i,a){return nl(a,function(u){return Cc(i[u])})}function DN(i){return i==null?[]:ky(i,To(i))}function CN(i){return i==null?[]:ky(i,Xa(i))}var RN=Object.prototype,IN=RN.hasOwnProperty,LN=Py(function(i,a,u){IN.call(i,u)?i[u].push(a):Nc(i,u,[a])});function zb(i,a){return i>a}function Ty(i){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=Va(a),u=Va(u)),i(a,u)}}var zN=Ty(zb),BN=Ty(function(i,a){return i>=a}),FN=Object.prototype,UN=FN.hasOwnProperty;function WN(i,a){return i!=null&&UN.call(i,a)}function GN(i,a){return i!=null&&VP(i,a,WN)}var VN=Math.max,$N=Math.min;function HN(i,a,u){return i>=$N(a,u)&&i<VN(a,u)}function XN(i,a,u){return a=Bu(a),u===void 0?(u=a,a=0):u=Bu(u),i=Va(i),HN(i,a,u)}var YN="[object String]";function Ny(i){return typeof i=="string"||!Rn(i)&&bi(i)&&Vu(i)==YN}function Bb(i,a){return vr(a,function(u){return i[u]})}function zc(i){return i==null?[]:Bb(i,To(i))}var KN=Math.max;function qN(i,a,u,c){i=Wu(i)?i:zc(i),u=u&&!c?on(u):0;var o=i.length;return u<0&&(u=KN(o+u,0)),Ny(i)?u<=o&&i.indexOf(a,u)>-1:!!o&&Fp(i,a,u)>-1}var ZN=Math.max;function JN(i,a,u){var c=i==null?0:i.length;if(!c)return-1;var o=u==null?0:on(u);return o<0&&(o=ZN(c+o,0)),Fp(i,a,o)}function QN(i){var a=i==null?0:i.length;return a?gi(i,0,-1):[]}var eD=Math.min;function Fb(i,a,u){for(var c=u?aw:bb,o=i[0].length,d=i.length,h=d,m=Array(d),v=1/0,x=[];h--;){var S=i[h];h&&a&&(S=vr(S,ha(a))),v=eD(S.length,v),m[h]=!u&&(a||o>=120&&S.length>=120)?new iw(h&&S):void 0}S=i[0];var j=-1,P=m[0];e:for(;++j<o&&x.length<v;){var k=S[j],D=a?a(k):k;if(k=u||k!==0?k:0,!(P?eb(P,D):c(x,D,u))){for(h=d;--h;){var N=m[h];if(!(N?eb(N,D):c(i[h],D,u)))continue e}P&&P.push(D),x.push(k)}}return x}function Ub(i){return Mr(i)?i:[]}var tD=pn(function(i){var a=vr(i,Ub);return a.length&&a[0]===i[0]?Fb(a):[]}),nD=pn(function(i){var a=Ko(i),u=vr(i,Ub);return a===Ko(u)?a=void 0:u.pop(),u.length&&u[0]===i[0]?Fb(u,en(a)):[]}),rD=pn(function(i){var a=Ko(i),u=vr(i,Ub);return a=typeof a=="function"?a:void 0,a&&u.pop(),u.length&&u[0]===i[0]?Fb(u,void 0,a):[]});function oD(i,a,u,c){return Ya(i,function(o,d,h){a(c,u(o),d,h)}),c}function Ox(i,a){return function(u,c){return oD(u,i,a(c),{})}}var iD=Object.prototype,aD=iD.toString,uD=Ox(function(i,a,u){a!=null&&typeof a.toString!="function"&&(a=aD.call(a)),i[a]=u},cw(mi)),wx=Object.prototype,sD=wx.hasOwnProperty,lD=wx.toString,cD=Ox(function(i,a,u){a!=null&&typeof a.toString!="function"&&(a=lD.call(a)),sD.call(i,a)?i[a].push(u):i[a]=[u]},en);function xx(i,a){return a.length<2?i:wy(i,gi(a,0,-1))}function Wp(i,a,u){a=xy(a,i),i=xx(i,a);var c=i==null?i:i[Lp(Ko(a))];return c==null?void 0:yi(c,i,u)}var fD=pn(Wp),pD=pn(function(i,a,u){var c=-1,o=typeof a=="function",d=Wu(i)?Array(i.length):[];return tl(i,function(h){d[++c]=o?yi(a,h,u):Wp(h,a,u)}),d}),dD="[object ArrayBuffer]";function hD(i){return bi(i)&&Vu(i)==dD}var cO=kc&&kc.isArrayBuffer,yD=cO?ha(cO):hD,vD="[object Boolean]";function gD(i){return i===!0||i===!1||bi(i)&&Vu(i)==vD}var mD="[object Date]";function bD(i){return bi(i)&&Vu(i)==mD}var fO=kc&&kc.isDate,_D=fO?ha(fO):bD;function OD(i){return bi(i)&&i.nodeType===1&&!Oy(i)}var wD="[object Map]",xD="[object Set]",ED=Object.prototype,SD=ED.hasOwnProperty;function jD(i){if(i==null)return!0;if(Wu(i)&&(Rn(i)||typeof i=="string"||typeof i.splice=="function"||Ob(i)||wb(i)||fw(i)))return!i.length;var a=Bp(i);if(a==wD||a==xD)return!i.size;if(tw(i))return!pw(i).length;for(var u in i)if(SD.call(i,u))return!1;return!0}function AD(i,a,u){u=typeof u=="function"?u:void 0;var c=u?u(i,a):void 0;return c===void 0?$P(i,a,void 0,u):!!c}var PD=Qs.isFinite;function MD(i){return typeof i=="number"&&PD(i)}function Ex(i){return typeof i=="number"&&i==on(i)}function kD(i,a){return i===a||dw(i,a,hw(a))}function TD(i,a,u){return u=typeof u=="function"?u:void 0,dw(i,a,hw(a),u)}var ND="[object Number]";function Sx(i){return typeof i=="number"||bi(i)&&Vu(i)==ND}function DD(i){return Sx(i)&&i!=+i}var CD=HP?Cc:yw,RD="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function ID(i){if(CD(i))throw new Error(RD);return XP(i)}function LD(i){return i===null}var zD="[object RegExp]";function BD(i){return bi(i)&&Vu(i)==zD}var pO=kc&&kc.isRegExp,Wb=pO?ha(pO):BD,dO=9007199254740991;function FD(i){return Ex(i)&&i>=-dO&&i<=dO}var UD="[object WeakMap]";function WD(i){return bi(i)&&Bp(i)==UD}var GD="[object WeakSet]";function VD(i){return bi(i)&&Vu(i)==GD}var $D=1;function HD(i){return en(typeof i=="function"?i:el(i,$D))}var XD=Array.prototype,YD=XD.join;function KD(i,a){return i==null?"":YD.call(i,a)}var qD=Lc(function(i,a,u){return i+(u?"-":"")+a.toLowerCase()}),ZD=Py(function(i,a,u){Nc(i,u,a)});function JD(i,a,u){for(var c=u+1;c--;)if(i[c]===a)return c;return c}var QD=Math.max,eC=Math.min;function tC(i,a,u){var c=i==null?0:i.length;if(!c)return-1;var o=c;return u!==void 0&&(o=on(u),o=o<0?QD(c+o,0):eC(o,c-1)),a===a?JD(i,a,o):sw(i,YP,o,!0)}var nC=Lc(function(i,a,u){return i+(u?" ":"")+a.toLowerCase()}),rC=Bw("toLowerCase");function Gb(i,a){return i<a}var oC=Ty(Gb),iC=Ty(function(i,a){return i<=a});function aC(i,a){var u={};return a=en(a),Ya(i,function(c,o,d){Nc(u,a(c,o,d),c)}),u}function uC(i,a){var u={};return a=en(a),Ya(i,function(c,o,d){Nc(u,o,a(c,o,d))}),u}var sC=1;function lC(i){return KP(el(i,sC))}var cC=1;function fC(i,a){return qP(i,el(a,cC))}function Dy(i,a,u){for(var c=-1,o=i.length;++c<o;){var d=i[c],h=a(d);if(h!=null&&(m===void 0?h===h&&!$a(h):u(h,m)))var m=h,v=d}return v}function pC(i){return i&&i.length?Dy(i,mi,zb):void 0}function dC(i,a){return i&&i.length?Dy(i,en(a),zb):void 0}function Vb(i,a){for(var u,c=-1,o=i.length;++c<o;){var d=a(i[c]);d!==void 0&&(u=u===void 0?d:u+d)}return u}var hC=NaN;function jx(i,a){var u=i==null?0:i.length;return u?Vb(i,a)/u:hC}function yC(i){return jx(i,mi)}function vC(i,a){return jx(i,en(a))}var gC=pn(function(i,a){return function(u){return Wp(u,i,a)}}),mC=pn(function(i,a){return function(u){return Wp(i,u,a)}});function bC(i){return i&&i.length?Dy(i,mi,Gb):void 0}function _C(i,a){return i&&i.length?Dy(i,en(a),Gb):void 0}function Ax(i,a,u){var c=To(a),o=ky(a,c),d=!(Ha(u)&&"chain"in u)||!!u.chain,h=Cc(i);return $i(o,function(m){var v=a[m];i[m]=v,h&&(i.prototype[m]=function(){var x=this.__chain__;if(d||x){var S=i(this.__wrapped__),j=S.__actions__=hi(this.__actions__);return j.push({func:v,args:arguments,thisArg:i}),S.__chain__=x,S}return v.apply(i,zp([this.value()],arguments))})}),i}var OC=Ey(function(i,a){return i*a},1),wC="Expected a function";function Gp(i){if(typeof i!="function")throw new TypeError(wC);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function xC(i){for(var a,u=[];!(a=i.next()).done;)u.push(a.value);return u}var EC="[object Map]",SC="[object Set]",Zm=ay?ay.iterator:void 0;function Px(i){if(!i)return[];if(Wu(i))return Ny(i)?Vi(i):hi(i);if(Zm&&i[Zm])return xC(i[Zm]());var a=Bp(i),u=a==EC?uw:a==SC?ZP:zc;return u(i)}function jC(){this.__values__===void 0&&(this.__values__=Px(this.value()));var i=this.__index__>=this.__values__.length,a=i?void 0:this.__values__[this.__index__++];return{done:i,value:a}}function Mx(i,a){var u=i.length;if(u)return a+=a<0?u:0,Cp(a,u)?i[a]:void 0}function AC(i,a){return i&&i.length?Mx(i,on(a)):void 0}function PC(i){return i=on(i),pn(function(a){return Mx(a,i)})}function $b(i,a){return a=xy(a,i),i=xx(i,a),i==null||delete i[Lp(Ko(a))]}function MC(i){return Oy(i)?void 0:i}var kC=1,TC=2,NC=4,DC=Gu(function(i,a){var u={};if(i==null)return u;var c=!1;a=vr(a,function(d){return d=xy(d,i),c||(c=d.length>1),d}),Ip(i,vw(i),u),c&&(u=el(u,kC|TC|NC,MC));for(var o=a.length;o--;)$b(u,a[o]);return u});function kx(i,a){if(i==null)return{};var u=vr(vw(i),function(c){return[c]});return a=en(a),JP(i,u,function(c,o){return a(c,o[0])})}function CC(i,a){return kx(i,Gp(en(a)))}function RC(i){return Nw(2,i)}function IC(i,a){var u=i.length;for(i.sort(a);u--;)i[u]=i[u].value;return i}function Tx(i,a){if(i!==a){var u=i!==void 0,c=i===null,o=i===i,d=$a(i),h=a!==void 0,m=a===null,v=a===a,x=$a(a);if(!m&&!x&&!d&&i>a||d&&h&&v&&!m&&!x||c&&h&&v||!u&&v||!o)return 1;if(!c&&!d&&!x&&i<a||x&&u&&o&&!c&&!d||m&&u&&o||!h&&o||!v)return-1}return 0}function LC(i,a,u){for(var c=-1,o=i.criteria,d=a.criteria,h=o.length,m=u.length;++c<h;){var v=Tx(o[c],d[c]);if(v){if(c>=m)return v;var x=u[c];return v*(x=="desc"?-1:1)}}return i.index-a.index}function Nx(i,a,u){a.length?a=vr(a,function(d){return Rn(d)?function(h){return wy(h,d.length===1?d[0]:d)}:d}):a=[mi];var c=-1;a=vr(a,ha(en));var o=QP(i,function(d,h,m){var v=vr(a,function(x){return x(d)});return{criteria:v,index:++c,value:d}});return IC(o,function(d,h){return LC(d,h,u)})}function zC(i,a,u,c){return i==null?[]:(Rn(a)||(a=a==null?[]:[a]),u=c?void 0:u,Rn(u)||(u=u==null?[]:[u]),Nx(i,a,u))}function Hb(i){return Gu(function(a){return a=vr(a,ha(en)),pn(function(u){var c=this;return i(a,function(o){return yi(o,c,u)})})})}var BC=Hb(vr),FC=pn,UC=Math.min,WC=FC(function(i,a){a=a.length==1&&Rn(a[0])?vr(a[0],ha(en)):vr(_i(a,1),ha(en));var u=a.length;return pn(function(c){for(var o=-1,d=UC(c.length,u);++o<d;)c[o]=a[o].call(this,c[o]);return yi(i,this,c)})}),GC=Hb(hx),VC=Hb(gw),$C=9007199254740991,HC=Math.floor;function ob(i,a){var u="";if(!i||a<1||a>$C)return u;do a%2&&(u+=i),a=HC(a/2),a&&(i+=i);while(a);return u}var XC=mw("length"),Dx="\\ud800-\\udfff",YC="\\u0300-\\u036f",KC="\\ufe20-\\ufe2f",qC="\\u20d0-\\u20ff",ZC=YC+KC+qC,JC="\\ufe0e\\ufe0f",QC="["+Dx+"]",ib="["+ZC+"]",ab="\\ud83c[\\udffb-\\udfff]",eR="(?:"+ib+"|"+ab+")",Cx="[^"+Dx+"]",Rx="(?:\\ud83c[\\udde6-\\uddff]){2}",Ix="[\\ud800-\\udbff][\\udc00-\\udfff]",tR="\\u200d",Lx=eR+"?",zx="["+JC+"]?",nR="(?:"+tR+"(?:"+[Cx,Rx,Ix].join("|")+")"+zx+Lx+")*",rR=zx+Lx+nR,oR="(?:"+[Cx+ib+"?",ib,Rx,Ix,QC].join("|")+")",hO=RegExp(ab+"(?="+ab+")|"+oR+rR,"g");function iR(i){for(var a=hO.lastIndex=0;hO.test(i);)++a;return a}function Bc(i){return Ic(i)?iR(i):XC(i)}var aR=Math.ceil;function ly(i,a){a=a===void 0?" ":Gi(a);var u=a.length;if(u<2)return u?ob(a,i):a;var c=ob(a,aR(i/Bc(a)));return Ic(a)?$u(Vi(c),0,i).join(""):c.slice(0,i)}var uR=Math.ceil,sR=Math.floor;function lR(i,a,u){i=In(i),a=on(a);var c=a?Bc(i):0;if(!a||c>=a)return i;var o=(a-c)/2;return ly(sR(o),u)+i+ly(uR(o),u)}function cR(i,a,u){i=In(i),a=on(a);var c=a?Bc(i):0;return a&&c<a?i+ly(a-c,u):i}function fR(i,a,u){i=In(i),a=on(a);var c=a?Bc(i):0;return a&&c<a?ly(a-c,u)+i:i}var pR=/^\s+/,dR=Qs.parseInt;function hR(i,a,u){return u||a==null?a=0:a&&(a=+a),dR(In(i).replace(pR,""),a||0)}var yR=32,Cy=pn(function(i,a){var u=Uu(a,Rc(Cy));return qa(i,yR,void 0,a,u)});Cy.placeholder={};var vR=64,Xb=pn(function(i,a){var u=Uu(a,Rc(Xb));return qa(i,vR,void 0,a,u)});Xb.placeholder={};var gR=Py(function(i,a,u){i[u?0:1].push(a)},function(){return[[],[]]});function mR(i){for(var a,u=this;u instanceof Sy;){var c=jw(u);c.__index__=0,c.__values__=void 0,a?o.__wrapped__=c:a=c;var o=c;u=u.__wrapped__}return o.__wrapped__=i,a}function bR(i){return function(a){return i==null?void 0:wy(i,a)}}function _R(i,a,u,c){for(var o=u-1,d=i.length;++o<d;)if(c(i[o],a))return o;return-1}var OR=Array.prototype,yO=OR.splice;function Yb(i,a,u,c){var o=c?_R:Fp,d=-1,h=a.length,m=i;for(i===a&&(a=hi(a)),u&&(m=vr(i,ha(u)));++d<h;)for(var v=0,x=a[d],S=u?u(x):x;(v=o(m,S,v,c))>-1;)m!==i&&yO.call(m,v,1),yO.call(i,v,1);return i}function Bx(i,a){return i&&i.length&&a&&a.length?Yb(i,a):i}var wR=pn(Bx);function xR(i,a,u){return i&&i.length&&a&&a.length?Yb(i,a,en(u)):i}function ER(i,a,u){return i&&i.length&&a&&a.length?Yb(i,a,void 0,u):i}var SR=Array.prototype,jR=SR.splice;function Fx(i,a){for(var u=i?a.length:0,c=u-1;u--;){var o=a[u];if(u==c||o!==d){var d=o;Cp(o)?jR.call(i,o,1):$b(i,o)}}return i}var AR=Gu(function(i,a){var u=i==null?0:i.length,c=Pb(i,a);return Fx(i,vr(a,function(o){return Cp(o,u)?+o:o}).sort(Tx)),c}),PR=Math.floor,MR=Math.random;function Kb(i,a){return i+PR(MR()*(a-i+1))}var kR=parseFloat,TR=Math.min,NR=Math.random;function DR(i,a,u){if(u&&typeof u!="boolean"&&ko(i,a,u)&&(a=u=void 0),u===void 0&&(typeof a=="boolean"?(u=a,a=void 0):typeof i=="boolean"&&(u=i,i=void 0)),i===void 0&&a===void 0?(i=0,a=1):(i=Bu(i),a===void 0?(a=i,i=0):a=Bu(a)),i>a){var c=i;i=a,a=c}if(u||i%1||a%1){var o=NR();return TR(i+o*(a-i+kR("1e-"+((o+"").length-1))),a)}return Kb(i,a)}var CR=Math.ceil,RR=Math.max;function IR(i,a,u,c){for(var o=-1,d=RR(CR((a-i)/(u||1)),0),h=Array(d);d--;)h[c?d:++o]=i,i+=u;return h}function Ux(i){return function(a,u,c){return c&&typeof c!="number"&&ko(a,u,c)&&(u=c=void 0),a=Bu(a),u===void 0?(u=a,a=0):u=Bu(u),c=c===void 0?a<u?1:-1:Bu(c),IR(a,u,c,i)}}var LR=Ux(),zR=Ux(!0),BR=256,FR=Gu(function(i,a){return qa(i,BR,void 0,void 0,void 0,a)});function Wx(i,a,u,c,o){return o(i,function(d,h,m){u=c?(c=!1,d):a(u,d,h,m)}),u}function UR(i,a,u){var c=Rn(i)?Nb:Wx,o=arguments.length<3;return c(i,en(a),u,o,tl)}function WR(i,a,u,c){var o=i==null?0:i.length;for(c&&o&&(u=i[--o]);o--;)u=a(u,i[o],o,i);return u}function GR(i,a,u){var c=Rn(i)?WR:Wx,o=arguments.length<3;return c(i,en(a),u,o,lx)}function VR(i,a){var u=Rn(i)?nl:vx;return u(i,Gp(en(a)))}function $R(i,a){var u=[];if(!(i&&i.length))return u;var c=-1,o=[],d=i.length;for(a=en(a);++c<d;){var h=i[c];a(h,c,i)&&(u.push(h),o.push(c))}return Fx(i,o),u}function HR(i,a,u){return(u?ko(i,a,u):a===void 0)?a=1:a=on(a),ob(In(i),a)}function XR(){var i=arguments,a=In(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var YR="Expected a function";function KR(i,a){if(typeof i!="function")throw new TypeError(YR);return a=a===void 0?a:on(a),pn(i,a)}function qR(i,a,u){a=xy(a,i);var c=-1,o=a.length;for(o||(o=1,i=void 0);++c<o;){var d=i==null?void 0:i[Lp(a[c])];d===void 0&&(c=o,d=u),i=Cc(d)?d.call(i):d}return i}var ZR=Array.prototype,JR=ZR.reverse;function ub(i){return i==null?i:JR.call(i)}var QR=Cb("round");function Gx(i){var a=i.length;return a?i[Kb(0,a-1)]:void 0}function eI(i){return Gx(zc(i))}function tI(i){var a=Rn(i)?Gx:eI;return a(i)}function Ry(i,a){var u=-1,c=i.length,o=c-1;for(a=a===void 0?c:a;++u<a;){var d=Kb(u,o),h=i[d];i[d]=i[u],i[u]=h}return i.length=a,i}function nI(i,a){return Ry(hi(i),ol(a,0,i.length))}function rI(i,a){var u=zc(i);return Ry(u,ol(a,0,u.length))}function oI(i,a,u){(u?ko(i,a,u):a===void 0)?a=1:a=on(a);var c=Rn(i)?nI:rI;return c(i,a)}function iI(i,a,u,c){return c=typeof c=="function"?c:void 0,i==null?i:xb(i,a,u,c)}function aI(i){return Ry(hi(i))}function uI(i){return Ry(zc(i))}function sI(i){var a=Rn(i)?aI:uI;return a(i)}var lI="[object Map]",cI="[object Set]";function fI(i){if(i==null)return 0;if(Wu(i))return Ny(i)?Bc(i):i.length;var a=Bp(i);return a==lI||a==cI?i.size:pw(i).length}function pI(i,a,u){var c=i==null?0:i.length;return c?(u&&typeof u!="number"&&ko(i,a,u)?(a=0,u=c):(a=a==null?0:on(a),u=u===void 0?c:on(u)),gi(i,a,u)):[]}var dI=Lc(function(i,a,u){return i+(u?"_":"")+a.toLowerCase()});function hI(i,a){var u;return tl(i,function(c,o,d){return u=a(c,o,d),!u}),!!u}function yI(i,a,u){var c=Rn(i)?gw:hI;return u&&ko(i,a,u)&&(a=void 0),c(i,en(a))}var vI=pn(function(i,a){if(i==null)return[];var u=a.length;return u>1&&ko(i,a[0],a[1])?a=[]:u>2&&ko(a[0],a[1],a[2])&&(a=[a[0]]),Nx(i,_i(a,1),[])}),gI=4294967295,mI=gI-1,bI=Math.floor,_I=Math.min;function qb(i,a,u,c){var o=0,d=i==null?0:i.length;if(d===0)return 0;a=u(a);for(var h=a!==a,m=a===null,v=$a(a),x=a===void 0;o<d;){var S=bI((o+d)/2),j=u(i[S]),P=j!==void 0,k=j===null,D=j===j,N=$a(j);if(h)var R=c||D;else x?R=D&&(c||P):m?R=D&&P&&(c||!k):v?R=D&&P&&!k&&(c||!N):k||N?R=!1:R=c?j<=a:j<a;R?o=S+1:d=S}return _I(d,mI)}var OI=4294967295,wI=OI>>>1;function Iy(i,a,u){var c=0,o=i==null?c:i.length;if(typeof a=="number"&&a===a&&o<=wI){for(;c<o;){var d=c+o>>>1,h=i[d];h!==null&&!$a(h)&&(u?h<=a:h<a)?c=d+1:o=d}return o}return qb(i,a,mi,u)}function xI(i,a){return Iy(i,a)}function EI(i,a,u){return qb(i,a,en(u))}function SI(i,a){var u=i==null?0:i.length;if(u){var c=Iy(i,a);if(c<u&&Dc(i[c],a))return c}return-1}function jI(i,a){return Iy(i,a,!0)}function AI(i,a,u){return qb(i,a,en(u),!0)}function PI(i,a){var u=i==null?0:i.length;if(u){var c=Iy(i,a,!0)-1;if(Dc(i[c],a))return c}return-1}function Vx(i,a){for(var u=-1,c=i.length,o=0,d=[];++u<c;){var h=i[u],m=a?a(h):h;if(!u||!Dc(m,v)){var v=m;d[o++]=h===0?0:h}}return d}function MI(i){return i&&i.length?Vx(i):[]}function kI(i,a){return i&&i.length?Vx(i,en(a)):[]}var TI=4294967295;function NI(i,a,u){return u&&typeof u!="number"&&ko(i,a,u)&&(a=u=void 0),u=u===void 0?TI:u>>>0,u?(i=In(i),i&&(typeof a=="string"||a!=null&&!Wb(a))&&(a=Gi(a),!a&&Ic(i))?$u(Vi(i),0,u):i.split(a,u)):[]}var DI="Expected a function",CI=Math.max;function RI(i,a){if(typeof i!="function")throw new TypeError(DI);return a=a==null?0:CI(on(a),0),pn(function(u){var c=u[a],o=$u(u,0,a);return c&&zp(o,c),yi(i,this,o)})}var II=Lc(function(i,a,u){return i+(u?" ":"")+Tb(a)});function LI(i,a,u){return i=In(i),u=u==null?0:ol(on(u),0,i.length),a=Gi(a),i.slice(u,u+a.length)==a}function zI(){return{}}function BI(){return""}function FI(){return!0}var UI=Ey(function(i,a){return i-a},0);function WI(i){return i&&i.length?Vb(i,mi):0}function GI(i,a){return i&&i.length?Vb(i,en(a)):0}function VI(i){var a=i==null?0:i.length;return a?gi(i,1,a):[]}function $I(i,a,u){return i&&i.length?(a=u||a===void 0?1:on(a),gi(i,0,a<0?0:a)):[]}function HI(i,a,u){var c=i==null?0:i.length;return c?(a=u||a===void 0?1:on(a),a=c-a,gi(i,a<0?0:a,c)):[]}function XI(i,a){return i&&i.length?My(i,en(a),!1,!0):[]}function YI(i,a){return i&&i.length?My(i,en(a)):[]}function KI(i,a){return a(i),i}var $x=Object.prototype,qI=$x.hasOwnProperty;function vO(i,a,u,c){return i===void 0||Dc(i,$x[u])&&!qI.call(c,u)?a:i}var ZI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function JI(i){return"\\"+ZI[i]}var Hx=/<%=([\s\S]+?)%>/g,QI=/<%-([\s\S]+?)%>/g,e3=/<%([\s\S]+?)%>/g,sb={escape:QI,evaluate:e3,interpolate:Hx,variable:"",imports:{_:{escape:px}}},t3="Invalid `variable` option passed into `_.template`",n3=/\b__p \+= '';/g,r3=/\b(__p \+=) '' \+/g,o3=/(__e\(.*?\)|\b__t\)) \+\n'';/g,i3=/[()=,{}\[\]\/\s]/,a3=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qh=/($^)/,u3=/['\n\r\u2028\u2029\\]/g,s3=Object.prototype,gO=s3.hasOwnProperty;function l3(i,a,u){var c=sb.imports._.templateSettings||sb;u&&ko(i,a,u)&&(a=void 0),i=In(i),a=sy({},a,c,vO);var o=sy({},a.imports,c.imports,vO),d=To(o),h=Bb(o,d),m,v,x=0,S=a.interpolate||Qh,j="__p += '",P=RegExp((a.escape||Qh).source+"|"+S.source+"|"+(S===Hx?a3:Qh).source+"|"+(a.evaluate||Qh).source+"|$","g"),k=gO.call(a,"sourceURL")?"//# sourceURL="+(a.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(P,function(R,W,G,K,oe,re){return G||(G=K),j+=i.slice(x,re).replace(u3,JI),W&&(m=!0,j+=`' +
__e(`+W+`) +
'`),oe&&(v=!0,j+=`';
`+oe+`;
__p += '`),G&&(j+=`' +
((__t = (`+G+`)) == null ? '' : __t) +
'`),x=re+R.length,R}),j+=`';
`;var D=gO.call(a,"variable")&&a.variable;if(!D)j=`with (obj) {
`+j+`
}
`;else if(i3.test(D))throw new Error(t3);j=(v?j.replace(n3,""):j).replace(r3,"$1").replace(o3,"$1;"),j="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var N=Tw(function(){return Function(d,k+"return "+j).apply(void 0,h)});if(N.source=j,Mb(N))throw N;return N}function Vp(i,a){return a(i)}var c3=9007199254740991,Jm=4294967295,f3=Math.min;function p3(i,a){if(i=on(i),i<1||i>c3)return[];var u=Jm,c=f3(i,Jm);a=va(a),i-=Jm;for(var o=bw(c,a);++u<i;)a(u);return o}function d3(){return this}function Xx(i,a){var u=i;return u instanceof vn&&(u=u.value()),Nb(a,function(c,o){return o.func.apply(o.thisArg,zp([c],o.args))},u)}function Qm(){return Xx(this.__wrapped__,this.__actions__)}function h3(i){return In(i).toLowerCase()}function y3(i){return Rn(i)?vr(i,Lp):$a(i)?[i]:hi(eM(In(i)))}var mO=9007199254740991;function v3(i){return i?ol(on(i),-mO,mO):i===0?i:0}function g3(i){return In(i).toUpperCase()}function m3(i,a,u){var c=Rn(i),o=c||Ob(i)||wb(i);if(a=en(a),u==null){var d=i&&i.constructor;o?u=c?new d:[]:Ha(i)?u=Cc(d)?Dp(tM(i)):{}:u={}}return(o?$i:Ya)(i,function(h,m,v){return a(u,h,m,v)}),u}function Yx(i,a){for(var u=i.length;u--&&Fp(a,i[u],0)>-1;);return u}function Kx(i,a){for(var u=-1,c=i.length;++u<c&&Fp(a,i[u],0)>-1;);return u}function b3(i,a,u){if(i=In(i),i&&(u||a===void 0))return nM(i);if(!i||!(a=Gi(a)))return i;var c=Vi(i),o=Vi(a),d=Kx(c,o),h=Yx(c,o)+1;return $u(c,d,h).join("")}function _3(i,a,u){if(i=In(i),i&&(u||a===void 0))return i.slice(0,rM(i)+1);if(!i||!(a=Gi(a)))return i;var c=Vi(i),o=Yx(c,Vi(a))+1;return $u(c,0,o).join("")}var O3=/^\s+/;function w3(i,a,u){if(i=In(i),i&&(u||a===void 0))return i.replace(O3,"");if(!i||!(a=Gi(a)))return i;var c=Vi(i),o=Kx(c,Vi(a));return $u(c,o).join("")}var x3=30,E3="...",S3=/\w*$/;function j3(i,a){var u=x3,c=E3;if(Ha(a)){var o="separator"in a?a.separator:o;u="length"in a?on(a.length):u,c="omission"in a?Gi(a.omission):c}i=In(i);var d=i.length;if(Ic(i)){var h=Vi(i);d=h.length}if(u>=d)return i;var m=u-Bc(c);if(m<1)return c;var v=h?$u(h,0,m).join(""):i.slice(0,m);if(o===void 0)return v+c;if(h&&(m+=v.length-m),Wb(o)){if(i.slice(m).search(o)){var x,S=v;for(o.global||(o=RegExp(o.source,In(S3.exec(o))+"g")),o.lastIndex=0;x=o.exec(S);)var j=x.index;v=v.slice(0,j===void 0?m:j)}}else if(i.indexOf(Gi(o),m)!=m){var P=v.lastIndexOf(o);P>-1&&(v=v.slice(0,P))}return v+c}function A3(i){return kw(i,1)}var P3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},M3=Db(P3),qx=/&(?:amp|lt|gt|quot|#39);/g,k3=RegExp(qx.source);function T3(i){return i=In(i),i&&k3.test(i)?i.replace(qx,M3):i}var N3=pn(function(i){var a=Ko(i);return Mr(a)&&(a=void 0),Zs(_i(i,1,Mr,!0),en(a))}),D3=pn(function(i){var a=Ko(i);return a=typeof a=="function"?a:void 0,Zs(_i(i,1,Mr,!0),void 0,a)});function C3(i){return i&&i.length?Zs(i):[]}function R3(i,a){return i&&i.length?Zs(i,en(a)):[]}function I3(i,a){return a=typeof a=="function"?a:void 0,i&&i.length?Zs(i,void 0,a):[]}var L3=0;function z3(i){var a=++L3;return In(i)+a}function B3(i,a){return i==null?!0:$b(i,a)}var F3=Math.max;function Zb(i){if(!(i&&i.length))return[];var a=0;return i=nl(i,function(u){if(Mr(u))return a=F3(u.length,a),!0}),bw(a,function(u){return vr(i,mw(u))})}function Zx(i,a){if(!(i&&i.length))return[];var u=Zb(i);return a==null?u:vr(u,function(c){return yi(a,void 0,c)})}function Jx(i,a,u,c){return xb(i,a,u(wy(i,a)),c)}function U3(i,a,u){return i==null?i:Jx(i,a,va(u))}function W3(i,a,u,c){return c=typeof c=="function"?c:void 0,i==null?i:Jx(i,a,va(u),c)}var G3=Lc(function(i,a,u){return i+(u?" ":"")+a.toUpperCase()});function V3(i){return i==null?[]:Bb(i,Xa(i))}var $3=pn(function(i,a){return Mr(i)?Up(i,a):[]});function H3(i,a){return Cy(va(a),i)}var X3=Gu(function(i){var a=i.length,u=a?i[0]:0,c=this.__wrapped__,o=function(d){return Pb(d,i)};return a>1||this.__actions__.length||!(c instanceof vn)||!Cp(u)?this.thru(o):(c=c.slice(u,+u+(a?1:0)),c.__actions__.push({func:Vp,args:[o],thisArg:void 0}),new vi(c,this.__chain__).thru(function(d){return a&&!d.length&&d.push(void 0),d}))});function Y3(){return nx(this)}function K3(){var i=this.__wrapped__;if(i instanceof vn){var a=i;return this.__actions__.length&&(a=new vn(this)),a=a.reverse(),a.__actions__.push({func:Vp,args:[ub],thisArg:void 0}),new vi(a,this.__chain__)}return this.thru(ub)}function Jb(i,a,u){var c=i.length;if(c<2)return c?Zs(i[0]):[];for(var o=-1,d=Array(c);++o<c;)for(var h=i[o],m=-1;++m<c;)m!=o&&(d[o]=Up(d[o]||h,i[m],a,u));return Zs(_i(d,1),a,u)}var q3=pn(function(i){return Jb(nl(i,Mr))}),Z3=pn(function(i){var a=Ko(i);return Mr(a)&&(a=void 0),Jb(nl(i,Mr),en(a))}),J3=pn(function(i){var a=Ko(i);return a=typeof a=="function"?a:void 0,Jb(nl(i,Mr),void 0,a)}),Q3=pn(Zb);function Qx(i,a,u){for(var c=-1,o=i.length,d=a.length,h={};++c<o;){var m=c<d?a[c]:void 0;u(h,i[c],m)}return h}function e4(i,a){return Qx(i||[],a||[],nw)}function t4(i,a){return Qx(i||[],a||[],xb)}var n4=pn(function(i){var a=i.length,u=a>1?i[a-1]:void 0;return u=typeof u=="function"?(i.pop(),u):void 0,Zx(i,u)});const bt={chunk:uT,compact:yT,concat:vT,difference:BT,differenceBy:FT,differenceWith:UT,drop:GT,dropRight:VT,dropRightWhile:$T,dropWhile:HT,fill:sN,findIndex:mx,findLastIndex:lw,first:lO,flatten:oM,flattenDeep:iM,flattenDepth:mN,fromPairs:aM,head:lO,indexOf:JN,initial:QN,intersection:tD,intersectionBy:nD,intersectionWith:rD,join:KD,last:Ko,lastIndexOf:tC,nth:AC,pull:wR,pullAll:Bx,pullAllBy:xR,pullAllWith:ER,pullAt:AR,remove:$R,reverse:ub,slice:pI,sortedIndex:xI,sortedIndexBy:EI,sortedIndexOf:SI,sortedLastIndex:jI,sortedLastIndexBy:AI,sortedLastIndexOf:PI,sortedUniq:MI,sortedUniqBy:kI,tail:VI,take:$I,takeRight:HI,takeRightWhile:XI,takeWhile:YI,union:uM,unionBy:N3,unionWith:D3,uniq:C3,uniqBy:R3,uniqWith:I3,unzip:Zb,unzipWith:Zx,without:$3,xor:q3,xorBy:Z3,xorWith:J3,zip:Q3,zipObject:e4,zipObjectDeep:t4,zipWith:n4},zn={countBy:AT,each:iO,eachRight:aO,every:iN,filter:lN,find:fN,findLast:dN,flatMap:sM,flatMapDeep:vN,flatMapDepth:gN,forEach:iO,forEachRight:aO,groupBy:LN,includes:qN,invokeMap:pD,keyBy:ZD,map:_b,orderBy:zC,partition:gR,reduce:UR,reduceRight:GR,reject:VR,sample:tI,sampleSize:oI,shuffle:sI,size:fI,some:yI,sortBy:vI},r4={now:lM},gr={after:FM,ary:kw,before:Nw,bind:Ay,bindKey:kb,curry:Rb,curryRight:Ib,debounce:cM,defer:IT,delay:LT,flip:_N,memoize:fM,negate:Gp,once:RC,overArgs:WC,partial:Cy,partialRight:Xb,rearg:FR,rest:KR,spread:RI,throttle:pM,unary:A3,wrap:H3},Rt={castArray:dM,clone:hM,cloneDeep:yM,cloneDeepWith:fT,cloneWith:dT,conformsTo:wT,eq:Dc,gt:zN,gte:BN,isArguments:fw,isArray:Rn,isArrayBuffer:yD,isArrayLike:Wu,isArrayLikeObject:Mr,isBoolean:gD,isBuffer:Ob,isDate:_D,isElement:OD,isEmpty:jD,isEqual:vM,isEqualWith:AD,isError:Mb,isFinite:MD,isFunction:Cc,isInteger:Ex,isLength:gM,isMap:mM,isMatch:kD,isMatchWith:TD,isNaN:DD,isNative:ID,isNil:bM,isNull:LD,isNumber:Sx,isObject:Ha,isObjectLike:bi,isPlainObject:Oy,isRegExp:Wb,isSafeInteger:FD,isSet:_M,isString:Ny,isSymbol:$a,isTypedArray:wb,isUndefined:OM,isWeakMap:WD,isWeakSet:VD,lt:oC,lte:iC,toArray:Px,toFinite:Bu,toInteger:on,toLength:yx,toNumber:Va,toPlainObject:wM,toSafeInteger:v3,toString:In},go={add:zM,ceil:oT,divide:WT,floor:ON,max:pC,maxBy:dC,mean:yC,meanBy:vC,min:bC,minBy:_C,multiply:OC,round:QR,subtract:UI,sum:WI,sumBy:GI},Qb={clamp:sT,inRange:XN,random:DR},Kt={assign:L2,assignIn:eO,assignInWith:sy,assignWith:z2,at:B2,create:PT,defaults:DT,defaultsDeep:CT,entries:uO,entriesIn:sO,extend:eO,extendWith:sy,findKey:pN,findLastKey:hN,forIn:MN,forInRight:kN,forOwn:TN,forOwnRight:NN,functions:DN,functionsIn:CN,get:rw,has:GN,hasIn:xM,invert:uD,invertBy:cD,invoke:fD,keys:To,keysIn:Xa,mapKeys:aC,mapValues:uC,merge:EM,mergeWith:ax,omit:DC,omitBy:CC,pick:SM,pickBy:kx,result:qR,set:jM,setWith:iI,toPairs:uO,toPairsIn:sO,transform:m3,unset:B3,update:U3,updateWith:W3,values:zc,valuesIn:V3},ga={at:X3,chain:nx,commit:hT,lodash:U,next:jC,plant:mR,reverse:K3,tap:KI,thru:Vp,toIterator:d3,toJSON:Qm,value:Qm,valueOf:Qm,wrapperChain:Y3},Tn={camelCase:tT,capitalize:Fw,deburr:Uw,endsWith:YT,escape:px,escapeRegExp:rN,kebabCase:qD,lowerCase:nC,lowerFirst:rC,pad:lR,padEnd:cR,padStart:fR,parseInt:hR,repeat:HR,replace:XR,snakeCase:dI,split:NI,startCase:II,startsWith:LI,template:l3,templateSettings:sb,toLower:h3,toUpper:g3,trim:b3,trimEnd:_3,trimStart:w3,truncate:j3,unescape:T3,upperCase:G3,upperFirst:Tb,words:tx},Nn={attempt:Tw,bindAll:$2,cond:mT,conforms:OT,constant:cw,defaultTo:TT,flow:AN,flowRight:PN,identity:mi,iteratee:HD,matches:lC,matchesProperty:fC,method:gC,methodOf:mC,mixin:Ax,noop:ew,nthArg:PC,over:BC,overEvery:GC,overSome:VC,property:AM,propertyOf:bR,range:LR,rangeRight:zR,stubArray:PM,stubFalse:yw,stubObject:zI,stubString:BI,stubTrue:FI,times:p3,toPath:y3,uniqueId:z3};function o4(){var i=new vn(this.__wrapped__);return i.__actions__=hi(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=hi(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=hi(this.__views__),i}function i4(){if(this.__filtered__){var i=new vn(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}var a4=Math.max,u4=Math.min;function s4(i,a,u){for(var c=-1,o=u.length;++c<o;){var d=u[c],h=d.size;switch(d.type){case"drop":i+=h;break;case"dropRight":a-=h;break;case"take":a=u4(a,i+h);break;case"takeRight":i=a4(i,a-h);break}}return{start:i,end:a}}var l4=1,c4=2,f4=Math.min;function p4(){var i=this.__wrapped__.value(),a=this.__dir__,u=Rn(i),c=a<0,o=u?i.length:0,d=s4(0,o,this.__views__),h=d.start,m=d.end,v=m-h,x=c?m:h-1,S=this.__iteratees__,j=S.length,P=0,k=f4(v,this.__takeCount__);if(!u||!c&&o==v&&k==v)return Xx(i,this.__actions__);var D=[];e:for(;v--&&P<k;){x+=a;for(var N=-1,R=i[x];++N<j;){var W=S[N],G=W.iteratee,K=W.type,oe=G(R);if(K==c4)R=oe;else if(!oe){if(K==l4)continue e;break e}}D[P++]=R}return D}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var d4="4.17.21",h4=2,y4=1,v4=3,eE=4294967295,g4=Array.prototype,m4=Object.prototype,tE=m4.hasOwnProperty,bO=ay?ay.iterator:void 0,b4=Math.max,_O=Math.min,e0=function(i){return function(a,u,c){if(c==null){var o=Ha(u),d=o&&To(u),h=d&&d.length&&ky(u,d);(h?h.length:o)||(c=u,u=a,a=this)}return i(a,u,c)}}(Ax);U.after=gr.after;U.ary=gr.ary;U.assign=Kt.assign;U.assignIn=Kt.assignIn;U.assignInWith=Kt.assignInWith;U.assignWith=Kt.assignWith;U.at=Kt.at;U.before=gr.before;U.bind=gr.bind;U.bindAll=Nn.bindAll;U.bindKey=gr.bindKey;U.castArray=Rt.castArray;U.chain=ga.chain;U.chunk=bt.chunk;U.compact=bt.compact;U.concat=bt.concat;U.cond=Nn.cond;U.conforms=Nn.conforms;U.constant=Nn.constant;U.countBy=zn.countBy;U.create=Kt.create;U.curry=gr.curry;U.curryRight=gr.curryRight;U.debounce=gr.debounce;U.defaults=Kt.defaults;U.defaultsDeep=Kt.defaultsDeep;U.defer=gr.defer;U.delay=gr.delay;U.difference=bt.difference;U.differenceBy=bt.differenceBy;U.differenceWith=bt.differenceWith;U.drop=bt.drop;U.dropRight=bt.dropRight;U.dropRightWhile=bt.dropRightWhile;U.dropWhile=bt.dropWhile;U.fill=bt.fill;U.filter=zn.filter;U.flatMap=zn.flatMap;U.flatMapDeep=zn.flatMapDeep;U.flatMapDepth=zn.flatMapDepth;U.flatten=bt.flatten;U.flattenDeep=bt.flattenDeep;U.flattenDepth=bt.flattenDepth;U.flip=gr.flip;U.flow=Nn.flow;U.flowRight=Nn.flowRight;U.fromPairs=bt.fromPairs;U.functions=Kt.functions;U.functionsIn=Kt.functionsIn;U.groupBy=zn.groupBy;U.initial=bt.initial;U.intersection=bt.intersection;U.intersectionBy=bt.intersectionBy;U.intersectionWith=bt.intersectionWith;U.invert=Kt.invert;U.invertBy=Kt.invertBy;U.invokeMap=zn.invokeMap;U.iteratee=Nn.iteratee;U.keyBy=zn.keyBy;U.keys=To;U.keysIn=Kt.keysIn;U.map=zn.map;U.mapKeys=Kt.mapKeys;U.mapValues=Kt.mapValues;U.matches=Nn.matches;U.matchesProperty=Nn.matchesProperty;U.memoize=gr.memoize;U.merge=Kt.merge;U.mergeWith=Kt.mergeWith;U.method=Nn.method;U.methodOf=Nn.methodOf;U.mixin=e0;U.negate=Gp;U.nthArg=Nn.nthArg;U.omit=Kt.omit;U.omitBy=Kt.omitBy;U.once=gr.once;U.orderBy=zn.orderBy;U.over=Nn.over;U.overArgs=gr.overArgs;U.overEvery=Nn.overEvery;U.overSome=Nn.overSome;U.partial=gr.partial;U.partialRight=gr.partialRight;U.partition=zn.partition;U.pick=Kt.pick;U.pickBy=Kt.pickBy;U.property=Nn.property;U.propertyOf=Nn.propertyOf;U.pull=bt.pull;U.pullAll=bt.pullAll;U.pullAllBy=bt.pullAllBy;U.pullAllWith=bt.pullAllWith;U.pullAt=bt.pullAt;U.range=Nn.range;U.rangeRight=Nn.rangeRight;U.rearg=gr.rearg;U.reject=zn.reject;U.remove=bt.remove;U.rest=gr.rest;U.reverse=bt.reverse;U.sampleSize=zn.sampleSize;U.set=Kt.set;U.setWith=Kt.setWith;U.shuffle=zn.shuffle;U.slice=bt.slice;U.sortBy=zn.sortBy;U.sortedUniq=bt.sortedUniq;U.sortedUniqBy=bt.sortedUniqBy;U.split=Tn.split;U.spread=gr.spread;U.tail=bt.tail;U.take=bt.take;U.takeRight=bt.takeRight;U.takeRightWhile=bt.takeRightWhile;U.takeWhile=bt.takeWhile;U.tap=ga.tap;U.throttle=gr.throttle;U.thru=Vp;U.toArray=Rt.toArray;U.toPairs=Kt.toPairs;U.toPairsIn=Kt.toPairsIn;U.toPath=Nn.toPath;U.toPlainObject=Rt.toPlainObject;U.transform=Kt.transform;U.unary=gr.unary;U.union=bt.union;U.unionBy=bt.unionBy;U.unionWith=bt.unionWith;U.uniq=bt.uniq;U.uniqBy=bt.uniqBy;U.uniqWith=bt.uniqWith;U.unset=Kt.unset;U.unzip=bt.unzip;U.unzipWith=bt.unzipWith;U.update=Kt.update;U.updateWith=Kt.updateWith;U.values=Kt.values;U.valuesIn=Kt.valuesIn;U.without=bt.without;U.words=Tn.words;U.wrap=gr.wrap;U.xor=bt.xor;U.xorBy=bt.xorBy;U.xorWith=bt.xorWith;U.zip=bt.zip;U.zipObject=bt.zipObject;U.zipObjectDeep=bt.zipObjectDeep;U.zipWith=bt.zipWith;U.entries=Kt.toPairs;U.entriesIn=Kt.toPairsIn;U.extend=Kt.assignIn;U.extendWith=Kt.assignInWith;e0(U,U);U.add=go.add;U.attempt=Nn.attempt;U.camelCase=Tn.camelCase;U.capitalize=Tn.capitalize;U.ceil=go.ceil;U.clamp=Qb.clamp;U.clone=Rt.clone;U.cloneDeep=Rt.cloneDeep;U.cloneDeepWith=Rt.cloneDeepWith;U.cloneWith=Rt.cloneWith;U.conformsTo=Rt.conformsTo;U.deburr=Tn.deburr;U.defaultTo=Nn.defaultTo;U.divide=go.divide;U.endsWith=Tn.endsWith;U.eq=Rt.eq;U.escape=Tn.escape;U.escapeRegExp=Tn.escapeRegExp;U.every=zn.every;U.find=zn.find;U.findIndex=bt.findIndex;U.findKey=Kt.findKey;U.findLast=zn.findLast;U.findLastIndex=bt.findLastIndex;U.findLastKey=Kt.findLastKey;U.floor=go.floor;U.forEach=zn.forEach;U.forEachRight=zn.forEachRight;U.forIn=Kt.forIn;U.forInRight=Kt.forInRight;U.forOwn=Kt.forOwn;U.forOwnRight=Kt.forOwnRight;U.get=Kt.get;U.gt=Rt.gt;U.gte=Rt.gte;U.has=Kt.has;U.hasIn=Kt.hasIn;U.head=bt.head;U.identity=mi;U.includes=zn.includes;U.indexOf=bt.indexOf;U.inRange=Qb.inRange;U.invoke=Kt.invoke;U.isArguments=Rt.isArguments;U.isArray=Rn;U.isArrayBuffer=Rt.isArrayBuffer;U.isArrayLike=Rt.isArrayLike;U.isArrayLikeObject=Rt.isArrayLikeObject;U.isBoolean=Rt.isBoolean;U.isBuffer=Rt.isBuffer;U.isDate=Rt.isDate;U.isElement=Rt.isElement;U.isEmpty=Rt.isEmpty;U.isEqual=Rt.isEqual;U.isEqualWith=Rt.isEqualWith;U.isError=Rt.isError;U.isFinite=Rt.isFinite;U.isFunction=Rt.isFunction;U.isInteger=Rt.isInteger;U.isLength=Rt.isLength;U.isMap=Rt.isMap;U.isMatch=Rt.isMatch;U.isMatchWith=Rt.isMatchWith;U.isNaN=Rt.isNaN;U.isNative=Rt.isNative;U.isNil=Rt.isNil;U.isNull=Rt.isNull;U.isNumber=Rt.isNumber;U.isObject=Ha;U.isObjectLike=Rt.isObjectLike;U.isPlainObject=Rt.isPlainObject;U.isRegExp=Rt.isRegExp;U.isSafeInteger=Rt.isSafeInteger;U.isSet=Rt.isSet;U.isString=Rt.isString;U.isSymbol=Rt.isSymbol;U.isTypedArray=Rt.isTypedArray;U.isUndefined=Rt.isUndefined;U.isWeakMap=Rt.isWeakMap;U.isWeakSet=Rt.isWeakSet;U.join=bt.join;U.kebabCase=Tn.kebabCase;U.last=Ko;U.lastIndexOf=bt.lastIndexOf;U.lowerCase=Tn.lowerCase;U.lowerFirst=Tn.lowerFirst;U.lt=Rt.lt;U.lte=Rt.lte;U.max=go.max;U.maxBy=go.maxBy;U.mean=go.mean;U.meanBy=go.meanBy;U.min=go.min;U.minBy=go.minBy;U.stubArray=Nn.stubArray;U.stubFalse=Nn.stubFalse;U.stubObject=Nn.stubObject;U.stubString=Nn.stubString;U.stubTrue=Nn.stubTrue;U.multiply=go.multiply;U.nth=bt.nth;U.noop=Nn.noop;U.now=r4.now;U.pad=Tn.pad;U.padEnd=Tn.padEnd;U.padStart=Tn.padStart;U.parseInt=Tn.parseInt;U.random=Qb.random;U.reduce=zn.reduce;U.reduceRight=zn.reduceRight;U.repeat=Tn.repeat;U.replace=Tn.replace;U.result=Kt.result;U.round=go.round;U.sample=zn.sample;U.size=zn.size;U.snakeCase=Tn.snakeCase;U.some=zn.some;U.sortedIndex=bt.sortedIndex;U.sortedIndexBy=bt.sortedIndexBy;U.sortedIndexOf=bt.sortedIndexOf;U.sortedLastIndex=bt.sortedLastIndex;U.sortedLastIndexBy=bt.sortedLastIndexBy;U.sortedLastIndexOf=bt.sortedLastIndexOf;U.startCase=Tn.startCase;U.startsWith=Tn.startsWith;U.subtract=go.subtract;U.sum=go.sum;U.sumBy=go.sumBy;U.template=Tn.template;U.times=Nn.times;U.toFinite=Rt.toFinite;U.toInteger=on;U.toLength=Rt.toLength;U.toLower=Tn.toLower;U.toNumber=Rt.toNumber;U.toSafeInteger=Rt.toSafeInteger;U.toString=Rt.toString;U.toUpper=Tn.toUpper;U.trim=Tn.trim;U.trimEnd=Tn.trimEnd;U.trimStart=Tn.trimStart;U.truncate=Tn.truncate;U.unescape=Tn.unescape;U.uniqueId=Nn.uniqueId;U.upperCase=Tn.upperCase;U.upperFirst=Tn.upperFirst;U.each=zn.forEach;U.eachRight=zn.forEachRight;U.first=bt.head;e0(U,function(){var i={};return Ya(U,function(a,u){tE.call(U.prototype,u)||(i[u]=a)}),i}(),{chain:!1});U.VERSION=d4;(U.templateSettings=Tn.templateSettings).imports._=U;$i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){U[i].placeholder=U});$i(["drop","take"],function(i,a){vn.prototype[i]=function(u){u=u===void 0?1:b4(on(u),0);var c=this.__filtered__&&!a?new vn(this):this.clone();return c.__filtered__?c.__takeCount__=_O(u,c.__takeCount__):c.__views__.push({size:_O(u,eE),type:i+(c.__dir__<0?"Right":"")}),c},vn.prototype[i+"Right"]=function(u){return this.reverse()[i](u).reverse()}});$i(["filter","map","takeWhile"],function(i,a){var u=a+1,c=u==y4||u==v4;vn.prototype[i]=function(o){var d=this.clone();return d.__iteratees__.push({iteratee:en(o),type:u}),d.__filtered__=d.__filtered__||c,d}});$i(["head","last"],function(i,a){var u="take"+(a?"Right":"");vn.prototype[i]=function(){return this[u](1).value()[0]}});$i(["initial","tail"],function(i,a){var u="drop"+(a?"":"Right");vn.prototype[i]=function(){return this.__filtered__?new vn(this):this[u](1)}});vn.prototype.compact=function(){return this.filter(mi)};vn.prototype.find=function(i){return this.filter(i).head()};vn.prototype.findLast=function(i){return this.reverse().find(i)};vn.prototype.invokeMap=pn(function(i,a){return typeof i=="function"?new vn(this):this.map(function(u){return Wp(u,i,a)})});vn.prototype.reject=function(i){return this.filter(Gp(en(i)))};vn.prototype.slice=function(i,a){i=on(i);var u=this;return u.__filtered__&&(i>0||a<0)?new vn(u):(i<0?u=u.takeRight(-i):i&&(u=u.drop(i)),a!==void 0&&(a=on(a),u=a<0?u.dropRight(-a):u.take(a-i)),u)};vn.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()};vn.prototype.toArray=function(){return this.take(eE)};Ya(vn.prototype,function(i,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),c=/^(?:head|last)$/.test(a),o=U[c?"take"+(a=="last"?"Right":""):a],d=c||/^find/.test(a);o&&(U.prototype[a]=function(){var h=this.__wrapped__,m=c?[1]:arguments,v=h instanceof vn,x=m[0],S=v||Rn(h),j=function(W){var G=o.apply(U,zp([W],m));return c&&P?G[0]:G};S&&u&&typeof x=="function"&&x.length!=1&&(v=S=!1);var P=this.__chain__,k=!!this.__actions__.length,D=d&&!P,N=v&&!k;if(!d&&S){h=N?h:new vn(this);var R=i.apply(h,m);return R.__actions__.push({func:Vp,args:[j],thisArg:void 0}),new vi(R,P)}return D&&N?i.apply(this,m):(R=this.thru(j),D?c?R.value()[0]:R.value():R)})});$i(["pop","push","shift","sort","splice","unshift"],function(i){var a=g4[i],u=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",c=/^(?:pop|shift)$/.test(i);U.prototype[i]=function(){var o=arguments;if(c&&!this.__chain__){var d=this.value();return a.apply(Rn(d)?d:[],o)}return this[u](function(h){return a.apply(Rn(h)?h:[],o)})}});Ya(vn.prototype,function(i,a){var u=U[a];if(u){var c=u.name+"";tE.call(Ac,c)||(Ac[c]=[]),Ac[c].push({name:a,func:u})}});Ac[jy(void 0,h4).name]=[{name:"wrapper",func:void 0}];vn.prototype.clone=o4;vn.prototype.reverse=i4;vn.prototype.value=p4;U.prototype.at=ga.at;U.prototype.chain=ga.wrapperChain;U.prototype.commit=ga.commit;U.prototype.next=ga.next;U.prototype.plant=ga.plant;U.prototype.reverse=ga.reverse;U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=ga.value;U.prototype.first=U.prototype.head;bO&&(U.prototype[bO]=ga.toIterator);var lb={exports:{}};(function(i,a){(function(u,c){i.exports=c()})(window,function(){return function(u){var c={};function o(d){if(c[d])return c[d].exports;var h=c[d]={i:d,l:!1,exports:{}};return u[d].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=u,o.c=c,o.d=function(d,h,m){o.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:m})},o.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,h){if(1&h&&(d=o(d)),8&h||4&h&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&h&&typeof d!="string")for(var v in d)o.d(m,v,(function(x){return d[x]}).bind(null,v));return m},o.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(h,"a",h),h},o.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},o.p="",o(o.s=222)}([function(u,c,o){o.d(c,"a",function(){return re}),o.d(c,"b",function(){return oe}),o.d(c,"c",function(){return Ze}),o.d(c,"d",function(){return _t}),o.d(c,"e",function(){return W}),o.d(c,"f",function(){return K}),o.d(c,"g",function(){return W}),o.d(c,"h",function(){return Ye}),o.d(c,"i",function(){return h}),o.d(c,"j",function(){return wt}),o.d(c,"k",function(){return J});var d,h,m,v,x,S,j,P={},k=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(ce,se){for(var he in se)ce[he]=se[he];return ce}function R(ce){var se=ce.parentNode;se&&se.removeChild(ce)}function W(ce,se,he){var Ne,Ke,Fe,At={};for(Fe in se)Fe=="key"?Ne=se[Fe]:Fe=="ref"?Ke=se[Fe]:At[Fe]=se[Fe];if(arguments.length>2&&(At.children=arguments.length>3?d.call(arguments,2):he),typeof ce=="function"&&ce.defaultProps!=null)for(Fe in ce.defaultProps)At[Fe]===void 0&&(At[Fe]=ce.defaultProps[Fe]);return G(ce,At,Ne,Ke,null)}function G(ce,se,he,Ne,Ke){var Fe={type:ce,props:se,key:he,ref:Ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ke??++m};return Ke==null&&h.vnode!=null&&h.vnode(Fe),Fe}function K(){return{current:null}}function oe(ce){return ce.children}function re(ce,se){this.props=ce,this.context=se}function Z(ce,se){if(se==null)return ce.__?Z(ce.__,ce.__.__k.indexOf(ce)+1):null;for(var he;se<ce.__k.length;se++)if((he=ce.__k[se])!=null&&he.__e!=null)return he.__e;return typeof ce.type=="function"?Z(ce):null}function Q(ce){var se,he;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,se=0;se<ce.__k.length;se++)if((he=ce.__k[se])!=null&&he.__e!=null){ce.__e=ce.__c.base=he.__e;break}return Q(ce)}}function $(ce){(!ce.__d&&(ce.__d=!0)&&v.push(ce)&&!F.__r++||S!==h.debounceRendering)&&((S=h.debounceRendering)||x)(F)}function F(){for(var ce;F.__r=v.length;)ce=v.sort(function(se,he){return se.__v.__b-he.__v.__b}),v=[],ce.some(function(se){var he,Ne,Ke,Fe,At,It;se.__d&&(At=(Fe=(he=se).__v).__e,(It=he.__P)&&(Ne=[],(Ke=N({},Fe)).__v=Fe.__v+1,je(It,Fe,Ke,he.__n,It.ownerSVGElement!==void 0,Fe.__h!=null?[At]:null,Ne,At??Z(Fe),Fe.__h),me(Ne,Fe),Fe.__e!=At&&Q(Fe)))})}function H(ce,se,he,Ne,Ke,Fe,At,It,kt,Ot){var Te,dt,de,ct,Wt,gn,Gt,un=Ne&&Ne.__k||k,jn=un.length;for(he.__k=[],Te=0;Te<se.length;Te++)if((ct=he.__k[Te]=(ct=se[Te])==null||typeof ct=="boolean"?null:typeof ct=="string"||typeof ct=="number"||typeof ct=="bigint"?G(null,ct,null,null,ct):Array.isArray(ct)?G(oe,{children:ct},null,null,null):ct.__b>0?G(ct.type,ct.props,ct.key,null,ct.__v):ct)!=null){if(ct.__=he,ct.__b=he.__b+1,(de=un[Te])===null||de&&ct.key==de.key&&ct.type===de.type)un[Te]=void 0;else for(dt=0;dt<jn;dt++){if((de=un[dt])&&ct.key==de.key&&ct.type===de.type){un[dt]=void 0;break}de=null}je(ce,ct,de=de||P,Ke,Fe,At,It,kt,Ot),Wt=ct.__e,(dt=ct.ref)&&de.ref!=dt&&(Gt||(Gt=[]),de.ref&&Gt.push(de.ref,null,ct),Gt.push(dt,ct.__c||Wt,ct)),Wt!=null?(gn==null&&(gn=Wt),typeof ct.type=="function"&&ct.__k===de.__k?ct.__d=kt=Y(ct,kt,ce):kt=ne(ce,ct,de,un,Wt,kt),typeof he.type=="function"&&(he.__d=kt)):kt&&de.__e==kt&&kt.parentNode!=ce&&(kt=Z(de))}for(he.__e=gn,Te=jn;Te--;)un[Te]!=null&&(typeof he.type=="function"&&un[Te].__e!=null&&un[Te].__e==he.__d&&(he.__d=Z(Ne,Te+1)),Ve(un[Te],un[Te]));if(Gt)for(Te=0;Te<Gt.length;Te++)ke(Gt[Te],Gt[++Te],Gt[++Te])}function Y(ce,se,he){for(var Ne,Ke=ce.__k,Fe=0;Ke&&Fe<Ke.length;Fe++)(Ne=Ke[Fe])&&(Ne.__=ce,se=typeof Ne.type=="function"?Y(Ne,se,he):ne(he,Ne,Ne,Ke,Ne.__e,se));return se}function J(ce,se){return se=se||[],ce==null||typeof ce=="boolean"||(Array.isArray(ce)?ce.some(function(he){J(he,se)}):se.push(ce)),se}function ne(ce,se,he,Ne,Ke,Fe){var At,It,kt;if(se.__d!==void 0)At=se.__d,se.__d=void 0;else if(he==null||Ke!=Fe||Ke.parentNode==null)e:if(Fe==null||Fe.parentNode!==ce)ce.appendChild(Ke),At=null;else{for(It=Fe,kt=0;(It=It.nextSibling)&&kt<Ne.length;kt+=2)if(It==Ke)break e;ce.insertBefore(Ke,Fe),At=Fe}return At!==void 0?At:Ke.nextSibling}function ge(ce,se,he){se[0]==="-"?ce.setProperty(se,he):ce[se]=he==null?"":typeof he!="number"||D.test(se)?he:he+"px"}function le(ce,se,he,Ne,Ke){var Fe;e:if(se==="style")if(typeof he=="string")ce.style.cssText=he;else{if(typeof Ne=="string"&&(ce.style.cssText=Ne=""),Ne)for(se in Ne)he&&se in he||ge(ce.style,se,"");if(he)for(se in he)Ne&&he[se]===Ne[se]||ge(ce.style,se,he[se])}else if(se[0]==="o"&&se[1]==="n")Fe=se!==(se=se.replace(/Capture$/,"")),se=se.toLowerCase()in ce?se.toLowerCase().slice(2):se.slice(2),ce.l||(ce.l={}),ce.l[se+Fe]=he,he?Ne||ce.addEventListener(se,Fe?Ce:xe,Fe):ce.removeEventListener(se,Fe?Ce:xe,Fe);else if(se!=="dangerouslySetInnerHTML"){if(Ke)se=se.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(se!=="href"&&se!=="list"&&se!=="form"&&se!=="tabIndex"&&se!=="download"&&se in ce)try{ce[se]=he??"";break e}catch{}typeof he=="function"||(he!=null&&(he!==!1||se[0]==="a"&&se[1]==="r")?ce.setAttribute(se,he):ce.removeAttribute(se))}}function xe(ce){this.l[ce.type+!1](h.event?h.event(ce):ce)}function Ce(ce){this.l[ce.type+!0](h.event?h.event(ce):ce)}function je(ce,se,he,Ne,Ke,Fe,At,It,kt){var Ot,Te,dt,de,ct,Wt,gn,Gt,un,jn,Ln,zt=se.type;if(se.constructor!==void 0)return null;he.__h!=null&&(kt=he.__h,It=se.__e=he.__e,se.__h=null,Fe=[It]),(Ot=h.__b)&&Ot(se);try{e:if(typeof zt=="function"){if(Gt=se.props,un=(Ot=zt.contextType)&&Ne[Ot.__c],jn=Ot?un?un.props.value:Ot.__:Ne,he.__c?gn=(Te=se.__c=he.__c).__=Te.__E:("prototype"in zt&&zt.prototype.render?se.__c=Te=new zt(Gt,jn):(se.__c=Te=new re(Gt,jn),Te.constructor=zt,Te.render=it),un&&un.sub(Te),Te.props=Gt,Te.state||(Te.state={}),Te.context=jn,Te.__n=Ne,dt=Te.__d=!0,Te.__h=[]),Te.__s==null&&(Te.__s=Te.state),zt.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=N({},Te.__s)),N(Te.__s,zt.getDerivedStateFromProps(Gt,Te.__s))),de=Te.props,ct=Te.state,dt)zt.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(zt.getDerivedStateFromProps==null&&Gt!==de&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(Gt,jn),!Te.__e&&Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(Gt,Te.__s,jn)===!1||se.__v===he.__v){Te.props=Gt,Te.state=Te.__s,se.__v!==he.__v&&(Te.__d=!1),Te.__v=se,se.__e=he.__e,se.__k=he.__k,se.__k.forEach(function(Jn){Jn&&(Jn.__=se)}),Te.__h.length&&At.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(Gt,Te.__s,jn),Te.componentDidUpdate!=null&&Te.__h.push(function(){Te.componentDidUpdate(de,ct,Wt)})}Te.context=jn,Te.props=Gt,Te.state=Te.__s,(Ot=h.__r)&&Ot(se),Te.__d=!1,Te.__v=se,Te.__P=ce,Ot=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s,Te.getChildContext!=null&&(Ne=N(N({},Ne),Te.getChildContext())),dt||Te.getSnapshotBeforeUpdate==null||(Wt=Te.getSnapshotBeforeUpdate(de,ct)),Ln=Ot!=null&&Ot.type===oe&&Ot.key==null?Ot.props.children:Ot,H(ce,Array.isArray(Ln)?Ln:[Ln],se,he,Ne,Ke,Fe,At,It,kt),Te.base=se.__e,se.__h=null,Te.__h.length&&At.push(Te),gn&&(Te.__E=Te.__=null),Te.__e=!1}else Fe==null&&se.__v===he.__v?(se.__k=he.__k,se.__e=he.__e):se.__e=Pe(he.__e,se,he,Ne,Ke,Fe,At,kt);(Ot=h.diffed)&&Ot(se)}catch(Jn){se.__v=null,(kt||Fe!=null)&&(se.__e=It,se.__h=!!kt,Fe[Fe.indexOf(It)]=null),h.__e(Jn,se,he)}}function me(ce,se){h.__c&&h.__c(se,ce),ce.some(function(he){try{ce=he.__h,he.__h=[],ce.some(function(Ne){Ne.call(he)})}catch(Ne){h.__e(Ne,he.__v)}})}function Pe(ce,se,he,Ne,Ke,Fe,At,It){var kt,Ot,Te,dt=he.props,de=se.props,ct=se.type,Wt=0;if(ct==="svg"&&(Ke=!0),Fe!=null){for(;Wt<Fe.length;Wt++)if((kt=Fe[Wt])&&"setAttribute"in kt==!!ct&&(ct?kt.localName===ct:kt.nodeType===3)){ce=kt,Fe[Wt]=null;break}}if(ce==null){if(ct===null)return document.createTextNode(de);ce=Ke?document.createElementNS("http://www.w3.org/2000/svg",ct):document.createElement(ct,de.is&&de),Fe=null,It=!1}if(ct===null)dt===de||It&&ce.data===de||(ce.data=de);else{if(Fe=Fe&&d.call(ce.childNodes),Ot=(dt=he.props||P).dangerouslySetInnerHTML,Te=de.dangerouslySetInnerHTML,!It){if(Fe!=null)for(dt={},Wt=0;Wt<ce.attributes.length;Wt++)dt[ce.attributes[Wt].name]=ce.attributes[Wt].value;(Te||Ot)&&(Te&&(Ot&&Te.__html==Ot.__html||Te.__html===ce.innerHTML)||(ce.innerHTML=Te&&Te.__html||""))}if(function(gn,Gt,un,jn,Ln){var zt;for(zt in un)zt==="children"||zt==="key"||zt in Gt||le(gn,zt,null,un[zt],jn);for(zt in Gt)Ln&&typeof Gt[zt]!="function"||zt==="children"||zt==="key"||zt==="value"||zt==="checked"||un[zt]===Gt[zt]||le(gn,zt,Gt[zt],un[zt],jn)}(ce,de,dt,Ke,It),Te)se.__k=[];else if(Wt=se.props.children,H(ce,Array.isArray(Wt)?Wt:[Wt],se,he,Ne,Ke&&ct!=="foreignObject",Fe,At,Fe?Fe[0]:he.__k&&Z(he,0),It),Fe!=null)for(Wt=Fe.length;Wt--;)Fe[Wt]!=null&&R(Fe[Wt]);It||("value"in de&&(Wt=de.value)!==void 0&&(Wt!==dt.value||Wt!==ce.value||ct==="progress"&&!Wt)&&le(ce,"value",Wt,dt.value,!1),"checked"in de&&(Wt=de.checked)!==void 0&&Wt!==ce.checked&&le(ce,"checked",Wt,dt.checked,!1))}return ce}function ke(ce,se,he){try{typeof ce=="function"?ce(se):ce.current=se}catch(Ne){h.__e(Ne,he)}}function Ve(ce,se,he){var Ne,Ke;if(h.unmount&&h.unmount(ce),(Ne=ce.ref)&&(Ne.current&&Ne.current!==ce.__e||ke(Ne,null,se)),(Ne=ce.__c)!=null){if(Ne.componentWillUnmount)try{Ne.componentWillUnmount()}catch(Fe){h.__e(Fe,se)}Ne.base=Ne.__P=null}if(Ne=ce.__k)for(Ke=0;Ke<Ne.length;Ke++)Ne[Ke]&&Ve(Ne[Ke],se,typeof ce.type!="function");he||ce.__e==null||R(ce.__e),ce.__e=ce.__d=void 0}function it(ce,se,he){return this.constructor(ce,he)}function wt(ce,se,he){var Ne,Ke,Fe;h.__&&h.__(ce,se),Ke=(Ne=typeof he=="function")?null:he&&he.__k||se.__k,Fe=[],je(se,ce=(!Ne&&he||se).__k=W(oe,null,[ce]),Ke||P,P,se.ownerSVGElement!==void 0,!Ne&&he?[he]:Ke?null:se.firstChild?d.call(se.childNodes):null,Fe,!Ne&&he?he:Ke?Ke.__e:se.firstChild,Ne),me(Fe,ce)}function Ye(ce,se){wt(ce,se,Ye)}function Ze(ce,se,he){var Ne,Ke,Fe,At=N({},ce.props);for(Fe in se)Fe=="key"?Ne=se[Fe]:Fe=="ref"?Ke=se[Fe]:At[Fe]=se[Fe];return arguments.length>2&&(At.children=arguments.length>3?d.call(arguments,2):he),G(ce.type,At,Ne||ce.key,Ke||ce.ref,null)}function _t(ce,se){var he={__c:se="__cC"+j++,__:ce,Consumer:function(Ne,Ke){return Ne.children(Ke)},Provider:function(Ne){var Ke,Fe;return this.getChildContext||(Ke=[],(Fe={})[se]=this,this.getChildContext=function(){return Fe},this.shouldComponentUpdate=function(At){this.props.value!==At.value&&Ke.some($)},this.sub=function(At){Ke.push(At);var It=At.componentWillUnmount;At.componentWillUnmount=function(){Ke.splice(Ke.indexOf(At),1),It&&It.call(At)}}),Ne.children}};return he.Provider.__=he.Consumer.contextType=he}d=k.slice,h={__e:function(ce,se){for(var he,Ne,Ke;se=se.__;)if((he=se.__c)&&!he.__)try{if((Ne=he.constructor)&&Ne.getDerivedStateFromError!=null&&(he.setState(Ne.getDerivedStateFromError(ce)),Ke=he.__d),he.componentDidCatch!=null&&(he.componentDidCatch(ce),Ke=he.__d),Ke)return he.__E=he}catch(Fe){ce=Fe}throw ce}},m=0,re.prototype.setState=function(ce,se){var he;he=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof ce=="function"&&(ce=ce(N({},he),this.props)),ce&&N(he,ce),ce!=null&&this.__v&&(se&&this.__h.push(se),$(this))},re.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),$(this))},re.prototype.render=oe,v=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,F.__r=0,j=0},function(u,c,o){(function(d,h){o.d(c,"a",function(){return $}),o.d(c,"b",function(){return fs}),o.d(c,"c",function(){return Oo}),o.d(c,"d",function(){return Mt}),o.d(c,"e",function(){return Qe}),o.d(c,"f",function(){return Je}),o.d(c,"g",function(){return Et}),o.d(c,"h",function(){return zo}),o.d(c,"i",function(){return Ln}),o.d(c,"j",function(){return ft}),o.d(c,"k",function(){return Jo}),o.d(c,"l",function(){return ts}),o.d(c,"m",function(){return gn}),o.d(c,"n",function(){return Xi}),o.d(c,"o",function(){return Y}),o.d(c,"p",function(){return Hc}),o.d(c,"q",function(){return Qo}),o.d(c,"r",function(){return Qa}),o.d(c,"s",function(){return lo}),o.d(c,"t",function(){return Xn}),o.d(c,"u",function(){return Ja}),o.d(c,"v",function(){return fl}),o.d(c,"w",function(){return as}),o.d(c,"x",function(){return Yi}),o.d(c,"y",function(){return so}),o.d(c,"z",function(){return er}),o.d(c,"A",function(){return Vr}),o.d(c,"B",function(){return ei}),o.d(c,"C",function(){return Ot}),o.d(c,"D",function(){return Xc}),o.d(c,"E",function(){return mn}),o.d(c,"F",function(){return _n}),o.d(c,"G",function(){return Qu}),o.d(c,"H",function(){return Ju}),o.d(c,"I",function(){return us}),o.d(c,"J",function(){return lr}),o.d(c,"K",function(){return ve}),o.d(c,"L",function(){return Mn}),o.d(c,"M",function(){return tu});var m=[];Object.freeze(m);var v={};function x(){return++ht.mobxGuid}function S(O){throw j(!1,O),"X"}function j(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function P(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var k=function(){};function D(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function R(O,w,T){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:T})}function W(O,w){var T="isMobX"+O;return w.prototype[T]=!0,function(z){return D(z)&&z[T]===!0}}function G(O){return O instanceof Map}function K(O){return O instanceof Set}function oe(O){var w=new Set;for(var T in O)w.add(T);return Object.getOwnPropertySymbols(O).forEach(function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)}),Array.from(w)}function re(O){return O&&O.toString?O.toString():new String(O).toString()}function Z(O){return O===null?null:typeof O=="object"?""+O:O}var Q=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,$=Symbol("mobx administration"),F=function(){function O(w){w===void 0&&(w="Atom@"+x()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=dt.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return Za(this)},O.prototype.reportChanged=function(){Fr(),function(w){w.lowestObserverState!==dt.STALE&&(w.lowestObserverState=dt.STALE,w.observers.forEach(function(T){T.dependenciesState===dt.UP_TO_DATE&&(T.isTracing!==de.NONE&&_o(T,w),T.onBecomeStale()),T.dependenciesState=dt.STALE}))}(this),qr()},O.prototype.toString=function(){return this.name},O}(),H=W("Atom",F);function Y(O,w,T){w===void 0&&(w=k),T===void 0&&(T=k);var z,q=new F(O);return w!==k&&ll("onBecomeObserved",q,w,z),T!==k&&mn(q,T),q}var J={identity:function(O,w){return O===w},structural:function(O,w){return Ie(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ie(O,w,1)}},ne=function(O,w){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,z){T.__proto__=z}||function(T,z){for(var q in z)z.hasOwnProperty(q)&&(T[q]=z[q])},ne(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var ge=function(){return ge=Object.assign||function(O){for(var w,T=1,z=arguments.length;T<z;T++)for(var q in w=arguments[T])Object.prototype.hasOwnProperty.call(w,q)&&(O[q]=w[q]);return O},ge.apply(this,arguments)};function le(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],T=0;return w?w.call(O):{next:function(){return O&&T>=O.length&&(O=void 0),{value:O&&O[T++],done:!O}}}}function xe(O,w){var T=typeof Symbol=="function"&&O[Symbol.iterator];if(!T)return O;var z,q,ye=T.call(O),Ae=[];try{for(;(w===void 0||w-- >0)&&!(z=ye.next()).done;)Ae.push(z.value)}catch(Ge){q={error:Ge}}finally{try{z&&!z.done&&(T=ye.return)&&T.call(ye)}finally{if(q)throw q.error}}return Ae}function Ce(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(xe(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),me=Symbol("mobx pending decorators"),Pe={},ke={};function Ve(O,w){var T=w?Pe:ke;return T[O]||(T[O]={configurable:!0,enumerable:w,get:function(){return it(this),this[O]},set:function(z){it(this),this[O]=z}})}function it(O){var w,T;if(O[je]!==!0){var z=O[me];if(z){R(O,je,!0);var q=Ce(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var ye=le(q),Ae=ye.next();!Ae.done;Ae=ye.next()){var Ge=z[Ae.value];Ge.propertyCreator(O,Ge.prop,Ge.descriptor,Ge.decoratorTarget,Ge.decoratorArguments)}}catch(pt){w={error:pt}}finally{try{Ae&&!Ae.done&&(T=ye.return)&&T.call(ye)}finally{if(w)throw w.error}}}}}function wt(O,w){return function(){var T,z=function(q,ye,Ae,Ge){if(Ge===!0)return w(q,ye,Ae,q,T),null;if(!Object.prototype.hasOwnProperty.call(q,me)){var pt=q[me];R(q,me,ge({},pt))}return q[me][ye]={prop:ye,propertyCreator:w,descriptor:Ae,decoratorTarget:q,decoratorArguments:T},Ve(ye,O)};return Ye(arguments)?(T=m,z.apply(null,arguments)):(T=Array.prototype.slice.call(arguments),z)}}function Ye(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Ze(O,w,T){return Yi(O)?O:Array.isArray(O)?Ot.array(O,{name:T}):N(O)?Ot.object(O,void 0,{name:T}):G(O)?Ot.map(O,{name:T}):K(O)?Ot.set(O,{name:T}):O}function _t(O){return O}function ce(O){j(O);var w=wt(!0,function(z,q,ye,Ae,Ge){var pt=ye?ye.initializer?ye.initializer.call(z):ye.value:void 0;Zr(z).addObservableProp(q,pt,O)}),T=(d!==void 0&&d.env,w);return T.enhancer=O,T}var se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function he(O){return O==null?se:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(se);var Ne=ce(Ze),Ke=ce(function(O,w,T){return O==null||Vr(O)||so(O)||er(O)||Tr(O)?O:Array.isArray(O)?Ot.array(O,{name:T,deep:!1}):N(O)?Ot.object(O,void 0,{name:T,deep:!1}):G(O)?Ot.map(O,{name:T,deep:!1}):K(O)?Ot.set(O,{name:T,deep:!1}):S(!1)}),Fe=ce(_t),At=ce(function(O,w,T){return Ie(O,w)?w:O});function It(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?_t:Ze}var kt={box:function(O,w){arguments.length>2&&Te("box");var T=he(w);return new Wn(O,It(T),T.name,!0,T.equals)},array:function(O,w){arguments.length>2&&Te("array");var T=he(w);return Oa(O,It(T),T.name)},map:function(O,w){arguments.length>2&&Te("map");var T=he(w);return new fs(O,It(T),T.name)},set:function(O,w){arguments.length>2&&Te("set");var T=he(w);return new Io(O,It(T),T.name)},object:function(O,w,T){typeof arguments[1]=="string"&&Te("object");var z=he(T);if(z.proxy===!1)return Qo({},O,w,z);var q=ns(z),ye=Qo({},void 0,void 0,z),Ae=Ki(ye);return cl(Ae,O,w,q),Ae},ref:Fe,shallow:Ke,deep:Ne,struct:At},Ot=function(O,w,T){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ne.apply(null,arguments);if(Yi(O))return O;var z=N(O)?Ot.object(O,w,T):Array.isArray(O)?Ot.array(O,w):G(O)?Ot.map(O,w):K(O)?Ot.set(O,w):O;if(z!==O)return z;S(!1)};function Te(O){S("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(kt).forEach(function(O){return Ot[O]=kt[O]});var dt,de,ct=wt(!1,function(O,w,T,z,q){var ye=T.get,Ae=T.set,Ge=q[0]||{};Zr(O).addComputedProp(O,w,ge({get:ye,set:Ae,context:O},Ge))}),Wt=ct({equals:J.structural}),gn=function(O,w,T){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ct.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new Do(z)};gn.struct=Wt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(dt||(dt={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(de||(de={}));var Gt=function(O){this.cause=O};function un(O){return O instanceof Gt}function jn(O){switch(O.dependenciesState){case dt.UP_TO_DATE:return!1;case dt.NOT_TRACKING:case dt.STALE:return!0;case dt.POSSIBLY_STALE:for(var w=Je(!0),T=ue(),z=O.observing,q=z.length,ye=0;ye<q;ye++){var Ae=z[ye];if(Zo(Ae)){if(ht.disableErrorBoundaries)Ae.get();else try{Ae.get()}catch{return Oe(T),Qe(w),!0}if(O.dependenciesState===dt.STALE)return Oe(T),Qe(w),!0}}return yt(O),Oe(T),Qe(w),!1}}function Ln(){return ht.trackingDerivation!==null}function zt(O){var w=O.observers.size>0;ht.computationDepth>0&&w&&S(!1),ht.allowStateChanges||!w&&ht.enforceActions!=="strict"||S(!1)}function Jn(O,w,T){var z=Je(!0);yt(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ht.runId;var q,ye=ht.trackingDerivation;if(ht.trackingDerivation=O,ht.disableErrorBoundaries===!0)q=w.call(T);else try{q=w.call(T)}catch(Ae){q=new Gt(Ae)}return ht.trackingDerivation=ye,function(Ae){for(var Ge=Ae.observing,pt=Ae.observing=Ae.newObserving,Jt=dt.UP_TO_DATE,ot=0,An=Ae.unboundDepsCount,$t=0;$t<An;$t++)(dn=pt[$t]).diffValue===0&&(dn.diffValue=1,ot!==$t&&(pt[ot]=dn),ot++),dn.dependenciesState>Jt&&(Jt=dn.dependenciesState);for(pt.length=ot,Ae.newObserving=null,An=Ge.length;An--;)(dn=Ge[An]).diffValue===0&&Yu(dn,Ae),dn.diffValue=0;for(;ot--;){var dn;(dn=pt[ot]).diffValue===1&&(dn.diffValue=0,Gc(dn,Ae))}Jt!==dt.UP_TO_DATE&&(Ae.dependenciesState=Jt,Ae.onBecomeStale())}(O),Qe(z),q}function te(O){var w=O.observing;O.observing=[];for(var T=w.length;T--;)Yu(w[T],O);O.dependenciesState=dt.NOT_TRACKING}function ve(O){var w=ue();try{return O()}finally{Oe(w)}}function ue(){var O=ht.trackingDerivation;return ht.trackingDerivation=null,O}function Oe(O){ht.trackingDerivation=O}function Je(O){var w=ht.allowStateReads;return ht.allowStateReads=O,w}function Qe(O){ht.allowStateReads=O}function yt(O){if(O.dependenciesState!==dt.UP_TO_DATE){O.dependenciesState=dt.UP_TO_DATE;for(var w=O.observing,T=w.length;T--;)w[T].lowestObserverState=dt.UP_TO_DATE}}var qt=0,sr=1,Or=Object.getOwnPropertyDescriptor(function(){},"name");Or&&Or.configurable;function Qn(O,w,T){var z=function(){return rr(O,w,T||this,arguments)};return z.isMobxAction=!0,z}function rr(O,w,T,z){var q=ft();try{return w.apply(T,z)}catch(ye){throw q.error=ye,ye}finally{Et(q)}}function ft(O,w,T){var z=0,q=ue();Fr();var ye={prevDerivation:q,prevAllowStateChanges:Bt(!0),prevAllowStateReads:Je(!0),notifySpy:!1,startTime:z,actionId:sr++,parentActionId:qt};return qt=ye.actionId,ye}function Et(O){qt!==O.actionId&&S("invalid action stack. did you forget to finish an action?"),qt=O.parentActionId,O.error!==void 0&&(ht.suppressReactionErrors=!0),wn(O.prevAllowStateChanges),Qe(O.prevAllowStateReads),qr(),Oe(O.prevDerivation),O.notifySpy,ht.suppressReactionErrors=!1}function Mt(O,w){var T,z=Bt(O);try{T=w()}finally{wn(z)}return T}function Bt(O){var w=ht.allowStateChanges;return ht.allowStateChanges=O,w}function wn(O){ht.allowStateChanges=O}var Wn=function(O){function w(T,z,q,ye,Ae){q===void 0&&(q="ObservableValue@"+x()),Ae===void 0&&(Ae=J.default);var Ge=O.call(this,q)||this;return Ge.enhancer=z,Ge.name=q,Ge.equals=Ae,Ge.hasUnreportedChange=!1,Ge.value=z(T,void 0,q),Ge}return function(T,z){function q(){this.constructor=T}ne(T,z),T.prototype=z===null?Object.create(z):(q.prototype=z.prototype,new q)}(w,O),w.prototype.dehanceValue=function(T){return this.dehancer!==void 0?this.dehancer(T):T},w.prototype.set=function(T){this.value,(T=this.prepareNewValue(T))!==ht.UNCHANGED&&this.setNewValue(T)},w.prototype.prepareNewValue=function(T){if(zt(this),Wr(this)){var z=sn(this,{object:this,type:"update",newValue:T});if(!z)return ht.UNCHANGED;T=z.newValue}return T=this.enhancer(T,this.value,this.name),this.equals(this.value,T)?ht.UNCHANGED:T},w.prototype.setNewValue=function(T){var z=this.value;this.value=T,this.reportChanged(),Gr(this)&&mr(this,{type:"update",object:this,newValue:T,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(T){return ni(this,T)},w.prototype.observe=function(T,z){return z&&T({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ro(this,T)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return Z(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(F),qo=W("ObservableValue",Wn),Do=function(){function O(w){this.dependenciesState=dt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=dt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+x(),this.value=new Gt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=de.NONE,j(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+x(),w.set&&(this.setter=Qn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?J.structural:J.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===dt.UP_TO_DATE&&(w.lowestObserverState=dt.POSSIBLY_STALE,w.observers.forEach(function(T){T.dependenciesState===dt.UP_TO_DATE&&(T.dependenciesState=dt.POSSIBLY_STALE,T.isTracing!==de.NONE&&_o(T,w),T.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&S("Cycle detected in computation "+this.name+": "+this.derivation),ht.inBatch!==0||this.observers.size!==0||this.keepAlive?(Za(this),jn(this)&&this.trackAndCompute()&&function(T){T.lowestObserverState!==dt.STALE&&(T.lowestObserverState=dt.STALE,T.observers.forEach(function(z){z.dependenciesState===dt.POSSIBLY_STALE?z.dependenciesState=dt.STALE:z.dependenciesState===dt.UP_TO_DATE&&(T.lowestObserverState=dt.UP_TO_DATE)}))}(this)):jn(this)&&(this.warnAboutUntrackedRead(),Fr(),this.value=this.computeValue(!1),qr());var w=this.value;if(un(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(un(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else j(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,T=this.dependenciesState===dt.NOT_TRACKING,z=this.computeValue(!0),q=T||un(w)||un(z)||!this.equals(w,z);return q&&(this.value=z),q},O.prototype.computeValue=function(w){var T;if(this.isComputing=!0,ht.computationDepth++,w)T=Jn(this,this.derivation,this.scope);else if(ht.disableErrorBoundaries===!0)T=this.derivation.call(this.scope);else try{T=this.derivation.call(this.scope)}catch(z){T=new Gt(z)}return ht.computationDepth--,this.isComputing=!1,T},O.prototype.suspend=function(){this.keepAlive||(te(this),this.value=void 0)},O.prototype.observe=function(w,T){var z=this,q=!0,ye=void 0;return ts(function(){var Ae=z.get();if(!q||T){var Ge=ue();w({type:"update",object:z,newValue:Ae,oldValue:ye}),Oe(Ge)}q=!1,ye=Ae})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return Z(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),Zo=W("ComputedValue",Do),Hi=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Wc={};function Xu(){return typeof window<"u"?window:h!==void 0?h:typeof self<"u"?self:Wc}var io=!0,ma=!1,ht=function(){var O=Xu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(io=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new Hi().version&&(io=!1),io?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new Hi):(setTimeout(function(){ma||S("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Hi)}();function Gc(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function Yu(O,w){O.observers.delete(w),O.observers.size===0&&Ku(O)}function Ku(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ht.pendingUnobservations.push(O))}function Fr(){ht.inBatch++}function qr(){if(--ht.inBatch==0){Zu();for(var O=ht.pendingUnobservations,w=0;w<O.length;w++){var T=O[w];T.isPendingUnobservation=!1,T.observers.size===0&&(T.isBeingObserved&&(T.isBeingObserved=!1,T.onBecomeUnobserved()),T instanceof Do&&T.suspend())}ht.pendingUnobservations=[]}}function Za(O){var w=ht.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ht.inBatch>0&&Ku(O),!1)}function _o(O,w){if(O.isTracing===de.BREAK){var T=[];ao(Xn(O),T,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof Do?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+T.join(`
`)+`
*/
    `)()}}function ao(O,w,T){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(T).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(z){return ao(z,w,T+1)}))}var Oo=function(){function O(w,T,z,q){w===void 0&&(w="Reaction@"+x()),q===void 0&&(q=!1),this.name=w,this.onInvalidate=T,this.errorHandler=z,this.requiresObservable=q,this.observing=[],this.newObserving=[],this.dependenciesState=dt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+x(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=de.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ht.pendingReactions.push(this),Zu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(Fr(),this._isScheduled=!1,jn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}qr()}},O.prototype.track=function(w){if(!this.isDisposed){Fr(),this._isRunning=!0;var T=Jn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&te(this),un(T)&&this.reportExceptionInDerivation(T.cause),qr()}},O.prototype.reportExceptionInDerivation=function(w){var T=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ht.disableErrorBoundaries)throw w;ht.suppressReactionErrors,ht.globalReactionErrorHandlers.forEach(function(z){return z(w,T)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Fr(),te(this),qr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[$]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var T=[],z=0;z<arguments.length;z++)T[z]=arguments[z];var q=!1;typeof T[T.length-1]=="boolean"&&(q=T.pop());var ye=fn(T);if(!ye)return S(!1);ye.isTracing,de.NONE,ye.isTracing=q?de.BREAK:de.LOG}(this,w)},O}(),qu=function(O){return O()};function Zu(){ht.inBatch>0||ht.isRunningReactions||qu(il)}function il(){ht.isRunningReactions=!0;for(var O=ht.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var T=O.splice(0),z=0,q=T.length;z<q;z++)T[z].runReaction()}ht.isRunningReactions=!1}var ba=W("Reaction",Oo);function al(O){var w=qu;qu=function(T){return O(function(){return w(T)})}}function Ju(O){return function(){}}function Vc(){S(!1)}function Oi(O){return function(w,T,z){if(z){if(z.value)return{value:Qn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var q=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Qn(O,q.call(this))}}}return ul(O).apply(this,arguments)}}function ul(O){return function(w,T,z){Object.defineProperty(w,T,{configurable:!0,enumerable:!1,get:function(){},set:function(q){R(this,T,Jo(O,q))}})}}var Jo=function(O,w,T,z){return arguments.length===1&&typeof O=="function"?Qn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Qn(O,w):arguments.length===1&&typeof O=="string"?Oi(O):z!==!0?Oi(w).apply(null,arguments):void R(O,w,Qn(O.name||w,T.value,this))};function Qu(O,w){return rr(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function Ja(O){return typeof O=="function"&&O.isMobxAction===!0}function es(O,w,T){R(O,w,Qn(w,T.bind(O)))}function ts(O,w){w===void 0&&(w=v);var T,z=w&&w.name||O.name||"Autorun@"+x();if(!w.scheduler&&!w.delay)T=new Oo(z,function(){this.track(Ae)},w.onError,w.requiresObservable);else{var q=sl(w),ye=!1;T=new Oo(z,function(){ye||(ye=!0,q(function(){ye=!1,T.isDisposed||T.track(Ae)}))},w.onError,w.requiresObservable)}function Ae(){O(T)}return T.schedule(),T.getDisposer()}Jo.bound=function(O,w,T,z){return z===!0?(es(O,w,T.value),null):T?{configurable:!0,enumerable:!1,get:function(){return es(this,w,T.value||T.initializer.call(this)),this[w]},set:Vc}:{enumerable:!1,configurable:!0,set:function(q){es(this,w,q)},get:function(){}}};var $c=function(O){return O()};function sl(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:$c}function _n(O,w,T){T===void 0&&(T=v);var z,q,ye,Ae=T.name||"Reaction@"+x(),Ge=Jo(Ae,T.onError?(z=T.onError,q=w,function(){try{return q.apply(this,arguments)}catch(Bn){z.call(this,Bn)}}):w),pt=!T.scheduler&&!T.delay,Jt=sl(T),ot=!0,An=!1,$t=T.compareStructural?J.structural:T.equals||J.default,dn=new Oo(Ae,function(){ot||pt?co():An||(An=!0,Jt(co))},T.onError,T.requiresObservable);function co(){if(An=!1,!dn.isDisposed){var Bn=!1;dn.track(function(){var $r=O(dn);Bn=ot||!$t(ye,$r),ye=$r}),ot&&T.fireImmediately&&Ge(ye,dn),ot||Bn!==!0||Ge(ye,dn),ot&&(ot=!1)}}return dn.schedule(),dn.getDisposer()}function mn(O,w,T){return ll("onBecomeUnobserved",O,w,T)}function ll(O,w,T,z){var q=typeof z=="function"?lo(w,T):lo(w),ye=typeof z=="function"?z:T,Ae=O+"Listeners";return q[Ae]?q[Ae].add(ye):q[Ae]=new Set([ye]),typeof q[O]!="function"?S(!1):function(){var Ge=q[Ae];Ge&&(Ge.delete(ye),Ge.size===0&&delete q[Ae])}}function Xi(O){var w=O.enforceActions,T=O.computedRequiresReaction,z=O.computedConfigurable,q=O.disableErrorBoundaries,ye=O.reactionScheduler,Ae=O.reactionRequiresObservable,Ge=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ht.pendingReactions.length||ht.inBatch||ht.isRunningReactions)&&S("isolateGlobalState should be called before MobX is running any reactions"),ma=!0,io&&(--Xu().__mobxInstanceCount==0&&(Xu().__mobxGlobals=void 0),ht=new Hi)),w!==void 0){var pt=void 0;switch(w){case!0:case"observed":pt=!0;break;case!1:case"never":pt=!1;break;case"strict":case"always":pt="strict";break;default:S("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ht.enforceActions=pt,ht.allowStateChanges=pt!==!0&&pt!=="strict"}T!==void 0&&(ht.computedRequiresReaction=!!T),Ae!==void 0&&(ht.reactionRequiresObservable=!!Ae),Ge!==void 0&&(ht.observableRequiresReaction=!!Ge,ht.allowStateReads=!ht.observableRequiresReaction),z!==void 0&&(ht.computedConfigurable=!!z),q!==void 0&&(ht.disableErrorBoundaries=!!q),ye&&al(ye)}function Qo(O,w,T,z){var q=ns(z=he(z));return it(O),Zr(O,z.name,q.enhancer),w&&cl(O,w,T,q),O}function ns(O){return O.defaultDecorator||(O.deep===!1?Fe:Ne)}function cl(O,w,T,z){var q,ye;Fr();try{var Ae=Q(w);try{for(var Ge=le(Ae),pt=Ge.next();!pt.done;pt=Ge.next()){var Jt=pt.value,ot=Object.getOwnPropertyDescriptor(w,Jt),An=(T&&Jt in T?T[Jt]:ot.get?ct:z)(O,Jt,ot,!0);An&&Object.defineProperty(O,Jt,An)}}catch($t){q={error:$t}}finally{try{pt&&!pt.done&&(ye=Ge.return)&&ye.call(Ge)}finally{if(q)throw q.error}}}finally{qr()}}function Xn(O,w){return rs(lo(O,w))}function rs(O){var w,T,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,T=[],w.forEach(function(q){T.indexOf(q)===-1&&T.push(q)}),T).map(rs)),z}var _a=0;function os(){this.message="FLOW_CANCELLED"}function Qa(O){arguments.length!==1&&S("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var T,z=this,q=arguments,ye=++_a,Ae=Jo(w+" - runid: "+ye+" - init",O).apply(z,q),Ge=void 0,pt=new Promise(function(Jt,ot){var An=0;function $t(Bn){var $r;Ge=void 0;try{$r=Jo(w+" - runid: "+ye+" - yield "+An++,Ae.next).call(Ae,Bn)}catch(oi){return ot(oi)}co($r)}function dn(Bn){var $r;Ge=void 0;try{$r=Jo(w+" - runid: "+ye+" - yield "+An++,Ae.throw).call(Ae,Bn)}catch(oi){return ot(oi)}co($r)}function co(Bn){if(!Bn||typeof Bn.then!="function")return Bn.done?Jt(Bn.value):(Ge=Promise.resolve(Bn.value)).then($t,dn);Bn.then(co,ot)}T=ot,$t(void 0)});return pt.cancel=Jo(w+" - runid: "+ye+" - cancel",function(){try{Ge&&wr(Ge);var Jt=Ae.return(void 0),ot=Promise.resolve(Jt.value);ot.then(k,k),wr(ot),T(new os)}catch(An){T(An)}}),pt}}function wr(O){typeof O.cancel=="function"&&O.cancel()}function is(O,w){if(O==null)return!1;if(w!==void 0){if(Vr(O)===!1||!O[$].values.has(w))return!1;var T=lo(O,w);return Zo(T)}return Zo(O)}function fl(O){return arguments.length>1?S(!1):is(O)}function as(O,w){return typeof w!="string"?S(!1):is(O,w)}function eu(O,w){return O!=null&&(w!==void 0?!!Vr(O)&&O[$].values.has(w):Vr(O)||!!O[$]||H(O)||ba(O)||Zo(O))}function Yi(O){return arguments.length!==1&&S(!1),eu(O)}function ei(O){return Vr(O)?O[$].getKeys():er(O)||Tr(O)?Array.from(O.keys()):so(O)?O.map(function(w,T){return T}):S(!1)}function Mn(O){return Vr(O)?ei(O).map(function(w){return O[w]}):er(O)?ei(O).map(function(w){return O.get(w)}):Tr(O)?Array.from(O.values()):so(O)?O.slice():S(!1)}function Hc(O){return Vr(O)?ei(O).map(function(w){return[w,O[w]]}):er(O)?ei(O).map(function(w){return[w,O.get(w)]}):Tr(O)?Array.from(O.entries()):so(O)?O.map(function(w,T){return[T,w]}):S(!1)}function Ur(O,w,T){if(arguments.length!==2||Tr(O))if(Vr(O)){var z=O[$],q=z.values.get(w);q?z.write(w,T):z.addObservableProp(w,T,z.defaultEnhancer)}else if(er(O))O.set(w,T);else if(Tr(O))O.add(w);else{if(!so(O))return S(!1);typeof w!="number"&&(w=parseInt(w,10)),j(w>=0,"Not a valid index: '"+w+"'"),Fr(),w>=O.length&&(O.length=w+1),O[w]=T,qr()}else{Fr();var ye=w;try{for(var Ae in ye)Ur(O,Ae,ye[Ae])}finally{qr()}}}function Xc(O,w,T,z){return typeof T=="function"?function(q,ye,Ae,Ge){return zo(q,ye).observe(Ae,Ge)}(O,w,T,z):function(q,ye,Ae){return zo(q).observe(ye,Ae)}(O,w,T)}os.prototype=Object.create(Error.prototype);var pl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function kr(O,w,T,z){return z.detectCycles&&O.set(w,T),T}function uo(O,w,T){if(!w.recurseEverything&&!Yi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(qo(O))return uo(O.get(),w,T);if(Yi(O)&&ei(O),w.detectCycles===!0&&O!==null&&T.has(O))return T.get(O);if(so(O)||Array.isArray(O)){var z=kr(T,O,[],w),q=O.map(function($t){return uo($t,w,T)});z.length=q.length;for(var ye=0,Ae=q.length;ye<Ae;ye++)z[ye]=q[ye];return z}if(Tr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var Ge=kr(T,O,new Set,w);return O.forEach(function($t){Ge.add(uo($t,w,T))}),Ge}var pt=kr(T,O,[],w);return O.forEach(function($t){pt.push(uo($t,w,T))}),pt}if(er(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Jt=kr(T,O,new Map,w);return O.forEach(function($t,dn){Jt.set(dn,uo($t,w,T))}),Jt}var ot=kr(T,O,{},w);return O.forEach(function($t,dn){ot[dn]=uo($t,w,T)}),ot}var An=kr(T,O,{},w);return oe(O).forEach(function($t){An[$t]=uo(O[$t],w,T)}),An}function us(O,w){var T;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=pl),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(T=new Map),uo(O,w,T)}function fn(O){switch(O.length){case 0:return ht.trackingDerivation;case 1:return lo(O[0]);case 2:return lo(O[0],O[1])}}function lr(O,w){w===void 0&&(w=void 0),Fr();try{return O.apply(w)}finally{qr()}}function tu(O,w,T){return arguments.length===1||w&&typeof w=="object"?ss(O,w):dl(O,w,T||{})}function dl(O,w,T){var z;typeof T.timeout=="number"&&(z=setTimeout(function(){if(!ye[$].isDisposed){ye();var Ae=new Error("WHEN_TIMEOUT");if(!T.onError)throw Ae;T.onError(Ae)}},T.timeout)),T.name=T.name||"When@"+x();var q=Qn(T.name+"-effect",w),ye=ts(function(Ae){O()&&(Ae.dispose(),z&&clearTimeout(z),q())},T);return ye}function ss(O,w){var T,z=new Promise(function(q,ye){var Ae=dl(O,q,ge(ge({},w),{onError:ye}));T=function(){Ae(),ye("WHEN_CANCELLED")}});return z.cancel=T,z}function nu(O){return O[$]}function Co(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var ti={has:function(O,w){if(w===$||w==="constructor"||w===je)return!0;var T=nu(O);return Co(w)?T.has(w):w in O},get:function(O,w){if(w===$||w==="constructor"||w===je)return O[w];var T=nu(O),z=T.values.get(w);if(z instanceof F){var q=z.get();return q===void 0&&T.has(w),q}return Co(w)&&T.has(w),O[w]},set:function(O,w,T){return!!Co(w)&&(Ur(O,w,T),!0)},deleteProperty:function(O,w){return!!Co(w)&&(nu(O).remove(w),!0)},ownKeys:function(O){return nu(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return S("Dynamic observable objects cannot be frozen"),!1}};function Ki(O){var w=new Proxy(O,ti);return O[$].proxy=w,w}function Wr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function ni(O,w){var T=O.interceptors||(O.interceptors=[]);return T.push(w),P(function(){var z=T.indexOf(w);z!==-1&&T.splice(z,1)})}function sn(O,w){var T=ue();try{for(var z=Ce(O.interceptors||[]),q=0,ye=z.length;q<ye&&(j(!(w=z[q](w))||w.type,"Intercept handlers should return nothing or a change object"),w);q++);return w}finally{Oe(T)}}function Gr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function Ro(O,w){var T=O.changeListeners||(O.changeListeners=[]);return T.push(w),P(function(){var z=T.indexOf(w);z!==-1&&T.splice(z,1)})}function mr(O,w){var T=ue(),z=O.changeListeners;if(z){for(var q=0,ye=(z=z.slice()).length;q<ye;q++)z[q](w);Oe(T)}}var ru={get:function(O,w){return w===$?O[$]:w==="length"?O[$].getArrayLength():typeof w=="number"?Gn.get.call(O,w):typeof w!="string"||isNaN(w)?Gn.hasOwnProperty(w)?Gn[w]:O[w]:Gn.get.call(O,parseInt(w))},set:function(O,w,T){return w==="length"&&O[$].setArrayLength(T),typeof w=="number"&&Gn.set.call(O,w,T),typeof w=="symbol"||isNaN(w)?O[w]=T:Gn.set.call(O,parseInt(w),T),!0},preventExtensions:function(O){return S("Observable arrays cannot be frozen"),!1}};function Oa(O,w,T,z){T===void 0&&(T="ObservableArray@"+x()),z===void 0&&(z=!1);var q,ye,Ae,Ge=new ls(T,w,z);q=Ge.values,ye=$,Ae=Ge,Object.defineProperty(q,ye,{enumerable:!1,writable:!1,configurable:!0,value:Ae});var pt=new Proxy(Ge.values,ru);if(Ge.proxy=pt,O&&O.length){var Jt=Bt(!0);Ge.spliceWithArray(0,0,O),wn(Jt)}return pt}var ls=function(){function O(w,T,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new F(w||"ObservableArray@"+x()),this.enhancer=function(q,ye){return T(q,ye,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return ni(this,w)},O.prototype.observe=function(w,T){return T===void 0&&(T=!1),T&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ro(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var T=this.values.length;if(w!==T)if(w>T){for(var z=new Array(w-T),q=0;q<w-T;q++)z[q]=void 0;this.spliceWithArray(T,0,z)}else this.spliceWithArray(w,T-w)},O.prototype.updateArrayLength=function(w,T){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=T},O.prototype.spliceWithArray=function(w,T,z){var q=this;zt(this.atom);var ye=this.values.length;if(w===void 0?w=0:w>ye?w=ye:w<0&&(w=Math.max(0,ye+w)),T=arguments.length===1?ye-w:T==null?0:Math.max(0,Math.min(T,ye-w)),z===void 0&&(z=m),Wr(this)){var Ae=sn(this,{object:this.proxy,type:"splice",index:w,removedCount:T,added:z});if(!Ae)return m;T=Ae.removedCount,z=Ae.added}z=z.length===0?z:z.map(function(pt){return q.enhancer(pt,void 0)});var Ge=this.spliceItemsIntoValues(w,T,z);return T===0&&z.length===0||this.notifyArraySplice(w,z,Ge),this.dehanceValues(Ge)},O.prototype.spliceItemsIntoValues=function(w,T,z){var q;if(z.length<1e4)return(q=this.values).splice.apply(q,Ce([w,T],z));var ye=this.values.slice(w,w+T);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+T)),ye},O.prototype.notifyArrayChildUpdate=function(w,T,z){var q=!this.owned&&!1,ye=Gr(this),Ae=ye||q?{object:this.proxy,type:"update",index:w,newValue:T,oldValue:z}:null;this.atom.reportChanged(),ye&&mr(this,Ae)},O.prototype.notifyArraySplice=function(w,T,z){var q=!this.owned&&!1,ye=Gr(this),Ae=ye||q?{object:this.proxy,type:"splice",index:w,removed:z,added:T,removedCount:z.length,addedCount:T.length}:null;this.atom.reportChanged(),ye&&mr(this,Ae)},O}(),Gn={intercept:function(O){return this[$].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[$].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[$];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var T=[],z=2;z<arguments.length;z++)T[z-2]=arguments[z];var q=this[$];switch(arguments.length){case 0:return[];case 1:return q.spliceWithArray(O);case 2:return q.spliceWithArray(O,w)}return q.spliceWithArray(O,w,T)},spliceWithArray:function(O,w,T){return this[$].spliceWithArray(O,w,T)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var T=this[$];return T.spliceWithArray(T.values.length,0,O),T.values.length},pop:function(){return this.splice(Math.max(this[$].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var T=this[$];return T.spliceWithArray(0,0,O),T.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[$],T=w.dehanceValues(w.values).indexOf(O);return T>-1&&(this.splice(T,1),!0)},get:function(O){var w=this[$];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var T=this[$],z=T.values;if(O<z.length){zt(T.atom);var q=z[O];if(Wr(T)){var ye=sn(T,{type:"update",object:T.proxy,index:O,newValue:w});if(!ye)return;w=ye.newValue}(w=T.enhancer(w,q))!==q&&(z[O]=w,T.notifyArrayChildUpdate(O,w,q))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);T.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Gn[O]=function(){var w=this[$];w.atom.reportObserved();var T=w.dehanceValues(w.values);return T[O].apply(T,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Gn[O]=function(w,T){var z=this,q=this[$];return q.atom.reportObserved(),q.dehanceValues(q.values)[O](function(ye,Ae){return w.call(T,ye,Ae,z)},T)})}),["reduce","reduceRight"].forEach(function(O){Gn[O]=function(){var w=this,T=this[$];T.atom.reportObserved();var z=arguments[0];return arguments[0]=function(q,ye,Ae){return ye=T.dehanceValue(ye),z(q,ye,Ae,w)},T.values[O].apply(T.values,arguments)}});var ou,ri=W("ObservableArrayAdministration",ls);function so(O){return D(O)&&ri(O[$])}var cs,Yc={},fs=function(){function O(w,T,z){if(T===void 0&&(T=Ze),z===void 0&&(z="ObservableMap@"+x()),this.enhancer=T,this.name=z,this[ou]=Yc,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var T=this;if(!ht.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var q=z=new Wn(this._has(w),_t,this.name+"."+re(w)+"?",!1);this._hasMap.set(w,q),mn(q,function(){return T._hasMap.delete(w)})}return z.get()},O.prototype.set=function(w,T){var z=this._has(w);if(Wr(this)){var q=sn(this,{type:z?"update":"add",object:this,newValue:T,name:w});if(!q)return this;T=q.newValue}return z?this._updateValue(w,T):this._addValue(w,T),this},O.prototype.delete=function(w){var T=this;if(zt(this._keysAtom),Wr(this)&&!(q=sn(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=Gr(this),q=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return lr(function(){T._keysAtom.reportChanged(),T._updateHasMapEntry(w,!1),T._data.get(w).setNewValue(void 0),T._data.delete(w)}),z&&mr(this,q),!0}return!1},O.prototype._updateHasMapEntry=function(w,T){var z=this._hasMap.get(w);z&&z.setNewValue(T)},O.prototype._updateValue=function(w,T){var z=this._data.get(w);if((T=z.prepareNewValue(T))!==ht.UNCHANGED){var q=Gr(this),ye=q?{type:"update",object:this,oldValue:z.value,name:w,newValue:T}:null;z.setNewValue(T),q&&mr(this,ye)}},O.prototype._addValue=function(w,T){var z=this;zt(this._keysAtom),lr(function(){var Ae=new Wn(T,z.enhancer,z.name+"."+re(w),!1);z._data.set(w,Ae),T=Ae.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var q=Gr(this),ye=q?{type:"add",object:this,name:w,newValue:T}:null;q&&mr(this,ye)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,T=this.keys();return tn({next:function(){var z=T.next(),q=z.done,ye=z.value;return{done:q,value:q?void 0:w.get(ye)}}})},O.prototype.entries=function(){var w=this,T=this.keys();return tn({next:function(){var z=T.next(),q=z.done,ye=z.value;return{done:q,value:q?void 0:[ye,w.get(ye)]}}})},O.prototype[ou=$,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,T){var z,q;try{for(var ye=le(this),Ae=ye.next();!Ae.done;Ae=ye.next()){var Ge=xe(Ae.value,2),pt=Ge[0],Jt=Ge[1];w.call(T,Jt,pt,this)}}catch(ot){z={error:ot}}finally{try{Ae&&!Ae.done&&(q=ye.return)&&q.call(ye)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var T=this;return er(w)&&(w=w.toJS()),lr(function(){var z=Bt(!0);try{N(w)?oe(w).forEach(function(q){return T.set(q,w[q])}):Array.isArray(w)?w.forEach(function(q){var ye=xe(q,2),Ae=ye[0],Ge=ye[1];return T.set(Ae,Ge)}):G(w)?(w.constructor!==Map&&S("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(q,ye){return T.set(ye,q)})):w!=null&&S("Cannot initialize map from "+w)}finally{wn(z)}}),this},O.prototype.clear=function(){var w=this;lr(function(){ve(function(){var T,z;try{for(var q=le(w.keys()),ye=q.next();!ye.done;ye=q.next()){var Ae=ye.value;w.delete(Ae)}}catch(Ge){T={error:Ge}}finally{try{ye&&!ye.done&&(z=q.return)&&z.call(q)}finally{if(T)throw T.error}}})})},O.prototype.replace=function(w){var T=this;return lr(function(){var z,q,ye,Ae,Ge=function(Nr){if(G(Nr)||er(Nr))return Nr;if(Array.isArray(Nr))return new Map(Nr);if(N(Nr)){var Ea=new Map;for(var qi in Nr)Ea.set(qi,Nr[qi]);return Ea}return S("Cannot convert to map from '"+Nr+"'")}(w),pt=new Map,Jt=!1;try{for(var ot=le(T._data.keys()),An=ot.next();!An.done;An=ot.next()){var $t=An.value;if(!Ge.has($t))if(T.delete($t))Jt=!0;else{var dn=T._data.get($t);pt.set($t,dn)}}}catch(Nr){z={error:Nr}}finally{try{An&&!An.done&&(q=ot.return)&&q.call(ot)}finally{if(z)throw z.error}}try{for(var co=le(Ge.entries()),Bn=co.next();!Bn.done;Bn=co.next()){var $r=xe(Bn.value,2),oi=($t=$r[0],dn=$r[1],T._data.has($t));if(T.set($t,dn),T._data.has($t)){var ii=T._data.get($t);pt.set($t,ii),oi||(Jt=!0)}}}catch(Nr){ye={error:Nr}}finally{try{Bn&&!Bn.done&&(Ae=co.return)&&Ae.call(co)}finally{if(ye)throw ye.error}}if(!Jt)if(T._data.size!==pt.size)T._keysAtom.reportChanged();else for(var xa=T._data.keys(),ds=pt.keys(),xi=xa.next(),au=ds.next();!xi.done;){if(xi.value!==au.value){T._keysAtom.reportChanged();break}xi=xa.next(),au=ds.next()}T._data=pt}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,T,z={};try{for(var q=le(this),ye=q.next();!ye.done;ye=q.next()){var Ae=xe(ye.value,2),Ge=Ae[0],pt=Ae[1];z[typeof Ge=="symbol"?Ge:re(Ge)]=pt}}catch(Jt){w={error:Jt}}finally{try{ye&&!ye.done&&(T=q.return)&&T.call(q)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(T){return re(T)+": "+w.get(T)}).join(", ")+" }]"},O.prototype.observe=function(w,T){return Ro(this,w)},O.prototype.intercept=function(w){return ni(this,w)},O}(),er=W("ObservableMap",fs),wa={},Io=function(){function O(w,T,z){if(T===void 0&&(T=Ze),z===void 0&&(z="ObservableSet@"+x()),this.name=z,this[cs]=wa,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(q,ye){return T(q,ye,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;lr(function(){ve(function(){var T,z;try{for(var q=le(w._data.values()),ye=q.next();!ye.done;ye=q.next()){var Ae=ye.value;w.delete(Ae)}}catch(Ge){T={error:Ge}}finally{try{ye&&!ye.done&&(z=q.return)&&z.call(q)}finally{if(T)throw T.error}}})})},O.prototype.forEach=function(w,T){var z,q;try{for(var ye=le(this),Ae=ye.next();!Ae.done;Ae=ye.next()){var Ge=Ae.value;w.call(T,Ge,Ge,this)}}catch(pt){z={error:pt}}finally{try{Ae&&!Ae.done&&(q=ye.return)&&q.call(ye)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var T=this;if(zt(this._atom),Wr(this)&&!(q=sn(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){lr(function(){T._data.add(T.enhancer(w,void 0)),T._atom.reportChanged()});var z=Gr(this),q=z?{type:"add",object:this,newValue:w}:null;z&&mr(this,q)}return this},O.prototype.delete=function(w){var T=this;if(Wr(this)&&!(q=sn(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=Gr(this),q=z?{type:"delete",object:this,oldValue:w}:null;return lr(function(){T._atom.reportChanged(),T._data.delete(w)}),z&&mr(this,q),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,T=Array.from(this.keys()),z=Array.from(this.values());return tn({next:function(){var q=w;return w+=1,q<z.length?{value:[T[q],z[q]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,T=0,z=Array.from(this._data.values());return tn({next:function(){return T<z.length?{value:w.dehanceValue(z[T++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var T=this;return Tr(w)&&(w=w.toJS()),lr(function(){var z=Bt(!0);try{Array.isArray(w)||K(w)?(T.clear(),w.forEach(function(q){return T.add(q)})):w!=null&&S("Cannot initialize set from "+w)}finally{wn(z)}}),this},O.prototype.observe=function(w,T){return Ro(this,w)},O.prototype.intercept=function(w){return ni(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[cs=$,Symbol.iterator]=function(){return this.values()},O}(),Tr=W("ObservableSet",Io),ps=function(){function O(w,T,z,q){T===void 0&&(T=new Map),this.target=w,this.values=T,this.name=z,this.defaultEnhancer=q,this.keysAtom=new F(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,T){var z=this.target,q=this.values.get(w);if(q instanceof Do)q.set(T);else{if(Wr(this)){if(!(Ae=sn(this,{type:"update",object:this.proxy||z,name:w,newValue:T})))return;T=Ae.newValue}if((T=q.prepareNewValue(T))!==ht.UNCHANGED){var ye=Gr(this),Ae=ye?{type:"update",object:this.proxy||z,oldValue:q.value,name:w,newValue:T}:null;q.setNewValue(T),ye&&mr(this,Ae)}}},O.prototype.has=function(w){var T=this.pendingKeys||(this.pendingKeys=new Map),z=T.get(w);if(z)return z.get();var q=!!this.values.get(w);return z=new Wn(q,_t,this.name+"."+re(w)+"?",!1),T.set(w,z),z.get()},O.prototype.addObservableProp=function(w,T,z){z===void 0&&(z=this.defaultEnhancer);var q=this.target;if(Wr(this)){var ye=sn(this,{object:this.proxy||q,name:w,type:"add",newValue:T});if(!ye)return;T=ye.newValue}var Ae=new Wn(T,z,this.name+"."+re(w),!1);this.values.set(w,Ae),T=Ae.value,Object.defineProperty(q,w,function(Ge){return wi[Ge]||(wi[Ge]={configurable:!0,enumerable:!0,get:function(){return this[$].read(Ge)},set:function(pt){this[$].write(Ge,pt)}})}(w)),this.notifyPropertyAddition(w,T)},O.prototype.addComputedProp=function(w,T,z){var q,ye,Ae,Ge=this.target;z.name=z.name||this.name+"."+re(T),this.values.set(T,new Do(z)),(w===Ge||(q=w,ye=T,!(Ae=Object.getOwnPropertyDescriptor(q,ye))||Ae.configurable!==!1&&Ae.writable!==!1))&&Object.defineProperty(w,T,function(pt){return iu[pt]||(iu[pt]={configurable:ht.computedConfigurable,enumerable:!1,get:function(){return Lo(this).read(pt)},set:function(Jt){Lo(this).write(pt,Jt)}})}(T))},O.prototype.remove=function(w){if(this.values.has(w)){var T=this.target;if(Wr(this)&&!(pt=sn(this,{object:this.proxy||T,name:w,type:"remove"})))return;try{Fr();var z=Gr(this),q=!1,ye=this.values.get(w),Ae=ye&&ye.get();if(ye&&ye.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Ge=this.pendingKeys.get(w);Ge&&Ge.set(!1)}delete this.target[w];var pt=z?{type:"remove",object:this.proxy||T,oldValue:Ae,name:w}:null;z&&mr(this,pt)}finally{qr()}}},O.prototype.illegalAccess=function(w,T){},O.prototype.observe=function(w,T){return Ro(this,w)},O.prototype.intercept=function(w){return ni(this,w)},O.prototype.notifyPropertyAddition=function(w,T){var z=Gr(this),q=z?{type:"add",object:this.proxy||this.target,name:w,newValue:T}:null;if(z&&mr(this,q),this.pendingKeys){var ye=this.pendingKeys.get(w);ye&&ye.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,T;this.keysAtom.reportObserved();var z=[];try{for(var q=le(this.values),ye=q.next();!ye.done;ye=q.next()){var Ae=xe(ye.value,2),Ge=Ae[0];Ae[1]instanceof Wn&&z.push(Ge)}}catch(pt){w={error:pt}}finally{try{ye&&!ye.done&&(T=q.return)&&T.call(q)}finally{if(w)throw w.error}}return z},O}();function Zr(O,w,T){if(w===void 0&&(w=""),T===void 0&&(T=Ze),Object.prototype.hasOwnProperty.call(O,$))return O[$];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+x()),w||(w="ObservableObject@"+x());var z=new ps(O,new Map,re(w),T);return R(O,$,z),z}var wi=Object.create(null),iu=Object.create(null);function Lo(O){var w=O[$];return w||(it(O),O[$])}var Jr=W("ObservableObjectAdministration",ps);function Vr(O){return!!D(O)&&(it(O),Jr(O[$]))}function lo(O,w){if(typeof O=="object"&&O!==null){if(so(O))return w!==void 0&&S(!1),O[$].atom;if(Tr(O))return O[$];if(er(O)){var T=O;return w===void 0?T._keysAtom:((z=T._data.get(w)||T._hasMap.get(w))||S(!1),z)}var z;if(it(O),w&&!O[$]&&O[w],Vr(O))return w?((z=O[$].values.get(w))||S(!1),z):S(!1);if(H(O)||Zo(O)||ba(O))return O}else if(typeof O=="function"&&ba(O[$]))return O[$];return S(!1)}function zo(O,w){return O||S("Expecting some object"),w!==void 0?zo(lo(O,w)):H(O)||Zo(O)||ba(O)||er(O)||Tr(O)?O:(it(O),O[$]?O[$]:void S(!1))}var Ee=Object.prototype.toString;function Ie(O,w,T){return T===void 0&&(T=-1),ze(O,w,T)}function ze(O,w,T,z,q){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var ye=typeof O;if(ye!=="function"&&ye!=="object"&&typeof w!="object")return!1;var Ae=Ee.call(O);if(Ae!==Ee.call(w))return!1;switch(Ae){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":T>=0&&T++}O=rt(O),w=rt(w);var Ge=Ae==="[object Array]";if(!Ge){if(typeof O!="object"||typeof w!="object")return!1;var pt=O.constructor,Jt=w.constructor;if(pt!==Jt&&!(typeof pt=="function"&&pt instanceof pt&&typeof Jt=="function"&&Jt instanceof Jt)&&"constructor"in O&&"constructor"in w)return!1}if(T===0)return!1;T<0&&(T=-1),q=q||[];for(var ot=(z=z||[]).length;ot--;)if(z[ot]===O)return q[ot]===w;if(z.push(O),q.push(w),Ge){if((ot=O.length)!==w.length)return!1;for(;ot--;)if(!ze(O[ot],w[ot],T-1,z,q))return!1}else{var An=Object.keys(O),$t=void 0;if(ot=An.length,Object.keys(w).length!==ot)return!1;for(;ot--;)if(!Vt(w,$t=An[ot])||!ze(O[$t],w[$t],T-1,z,q))return!1}return z.pop(),q.pop(),!0}function rt(O){return so(O)?O.slice():G(O)||er(O)||K(O)||Tr(O)?Array.from(O.entries()):O}function Vt(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function tn(O){return O[Symbol.iterator]=Dn,O}function Dn(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ju,extras:{getDebugName:function(O,w){return(w!==void 0?lo(O,w):Vr(O)||er(O)||Tr(O)?zo(O):lo(O)).name}},$mobx:$})}).call(this,o(163),o(68))},function(u,c,o){var d=o(113),h=o(42),m=o(179);d||h(Object.prototype,"toString",m,{unsafe:!0})},function(u,c,o){var d=o(41),h=o(100),m=o(80),v=o(58),x=o(116),S="Array Iterator",j=v.set,P=v.getterFor(S);u.exports=x(Array,"Array",function(k,D){j(this,{type:S,target:d(k),index:0,kind:D})},function(){var k=P(this),D=k.target,N=k.kind,R=k.index++;return!D||R>=D.length?(k.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:D[R],done:!1}:{value:[R,D[R]],done:!1}},"values"),m.Arguments=m.Array,h("keys"),h("values"),h("entries")},function(u,c,o){var d=o(16),h=o(7),m=o(46),v=o(76),x=o(34),S=o(15),j=o(71),P=o(36),k=o(108),D=o(18),N=o(35),R=o(96),W=o(30),G=o(33),K=o(54),oe=o(87),re=o(32),Z=o(40),Q=o(41),$=o(86),F=o(39),H=o(69),Y=o(60),J=o(77),ne=o(74),ge=o(139),le=o(112),xe=o(50),Ce=o(38),je=o(84),me=o(98),Pe=o(42),ke=o(89),Ve=o(93),it=o(72),wt=o(90),Ye=o(28),Ze=o(140),_t=o(141),ce=o(78),se=o(58),he=o(79).forEach,Ne=Ve("hidden"),Ke="Symbol",Fe=Ye("toPrimitive"),At=se.set,It=se.getterFor(Ke),kt=Object.prototype,Ot=h.Symbol,Te=Ot&&Ot.prototype,dt=h.TypeError,de=h.QObject,ct=m("JSON","stringify"),Wt=xe.f,gn=Ce.f,Gt=ge.f,un=je.f,jn=S([].push),Ln=ke("symbols"),zt=ke("op-symbols"),Jn=ke("string-to-symbol-registry"),te=ke("symbol-to-string-registry"),ve=ke("wks"),ue=!de||!de.prototype||!de.prototype.findChild,Oe=P&&D(function(){return Y(gn({},"a",{get:function(){return gn(this,"a",{value:7}).a}})).a!=7})?function(ft,Et,Mt){var Bt=Wt(kt,Et);Bt&&delete kt[Et],gn(ft,Et,Mt),Bt&&ft!==kt&&gn(kt,Et,Bt)}:gn,Je=function(ft,Et){var Mt=Ln[ft]=Y(Te);return At(Mt,{type:Ke,tag:ft,description:Et}),P||(Mt.description=Et),Mt},Qe=function(ft,Et,Mt){ft===kt&&Qe(zt,Et,Mt),re(ft);var Bt=$(Et);return re(Mt),N(Ln,Bt)?(Mt.enumerable?(N(ft,Ne)&&ft[Ne][Bt]&&(ft[Ne][Bt]=!1),Mt=Y(Mt,{enumerable:H(0,!1)})):(N(ft,Ne)||gn(ft,Ne,H(1,{})),ft[Ne][Bt]=!0),Oe(ft,Bt,Mt)):gn(ft,Bt,Mt)},yt=function(ft,Et){re(ft);var Mt=Q(Et),Bt=J(Mt).concat(Qn(Mt));return he(Bt,function(wn){P&&!x(qt,Mt,wn)||Qe(ft,wn,Mt[wn])}),ft},qt=function(ft){var Et=$(ft),Mt=x(un,this,Et);return!(this===kt&&N(Ln,Et)&&!N(zt,Et))&&(!(Mt||!N(this,Et)||!N(Ln,Et)||N(this,Ne)&&this[Ne][Et])||Mt)},sr=function(ft,Et){var Mt=Q(ft),Bt=$(Et);if(Mt!==kt||!N(Ln,Bt)||N(zt,Bt)){var wn=Wt(Mt,Bt);return!wn||!N(Ln,Bt)||N(Mt,Ne)&&Mt[Ne][Bt]||(wn.enumerable=!0),wn}},Or=function(ft){var Et=Gt(Q(ft)),Mt=[];return he(Et,function(Bt){N(Ln,Bt)||N(it,Bt)||jn(Mt,Bt)}),Mt},Qn=function(ft){var Et=ft===kt,Mt=Gt(Et?zt:Q(ft)),Bt=[];return he(Mt,function(wn){!N(Ln,wn)||Et&&!N(kt,wn)||jn(Bt,Ln[wn])}),Bt};if(k||(Ot=function(){if(K(Te,this))throw dt("Symbol is not a constructor");var ft=arguments.length&&arguments[0]!==void 0?F(arguments[0]):void 0,Et=wt(ft),Mt=function(Bt){this===kt&&x(Mt,zt,Bt),N(this,Ne)&&N(this[Ne],Et)&&(this[Ne][Et]=!1),Oe(this,Et,H(1,Bt))};return P&&ue&&Oe(kt,Et,{configurable:!0,set:Mt}),Je(Et,ft)},Pe(Te=Ot.prototype,"toString",function(){return It(this).tag}),Pe(Ot,"withoutSetter",function(ft){return Je(wt(ft),ft)}),je.f=qt,Ce.f=Qe,xe.f=sr,ne.f=ge.f=Or,le.f=Qn,Ze.f=function(ft){return Je(Ye(ft),ft)},P&&(gn(Te,"description",{configurable:!0,get:function(){return It(this).description}}),j||Pe(kt,"propertyIsEnumerable",qt,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:Ot}),he(J(ve),function(ft){_t(ft)}),d({target:Ke,stat:!0,forced:!k},{for:function(ft){var Et=F(ft);if(N(Jn,Et))return Jn[Et];var Mt=Ot(Et);return Jn[Et]=Mt,te[Mt]=Et,Mt},keyFor:function(ft){if(!oe(ft))throw dt(ft+" is not a symbol");if(N(te,ft))return te[ft]},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),d({target:"Object",stat:!0,forced:!k,sham:!P},{create:function(ft,Et){return Et===void 0?Y(ft):yt(Y(ft),Et)},defineProperty:Qe,defineProperties:yt,getOwnPropertyDescriptor:sr}),d({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:Or,getOwnPropertySymbols:Qn}),d({target:"Object",stat:!0,forced:D(function(){le.f(1)})},{getOwnPropertySymbols:function(ft){return le.f(Z(ft))}}),ct&&d({target:"JSON",stat:!0,forced:!k||D(function(){var ft=Ot();return ct([ft])!="[null]"||ct({a:ft})!="{}"||ct(Object(ft))!="{}"})},{stringify:function(ft,Et,Mt){var Bt=me(arguments),wn=Et;if((G(Et)||ft!==void 0)&&!oe(ft))return R(Et)||(Et=function(Wn,qo){if(W(wn)&&(qo=x(wn,this,Wn,qo)),!oe(qo))return qo}),Bt[1]=Et,v(ct,null,Bt)}}),!Te[Fe]){var rr=Te.valueOf;Pe(Te,Fe,function(ft){return x(rr,this)})}ce(Ot,Ke),it[Ne]=!0},function(u,c,o){var d=o(7),h=o(152),m=o(153),v=o(3),x=o(57),S=o(28),j=S("iterator"),P=S("toStringTag"),k=v.values,D=function(R,W){if(R){if(R[j]!==k)try{x(R,j,k)}catch{R[j]=k}if(R[P]||x(R,P,W),h[W]){for(var G in v)if(R[G]!==v[G])try{x(R,G,v[G])}catch{R[G]=v[G]}}}};for(var N in h)D(d[N]&&d[N].prototype,N);D(m,"DOMTokenList")},function(u,c,o){var d=o(151).charAt,h=o(39),m=o(58),v=o(116),x="String Iterator",S=m.set,j=m.getterFor(x);v(String,"String",function(P){S(this,{type:x,string:h(P),index:0})},function(){var P,k=j(this),D=k.string,N=k.index;return N>=D.length?{value:void 0,done:!0}:(P=d(D,N),k.index+=P.length,{value:P,done:!1})})},function(u,c,o){(function(d){var h=function(m){return m&&m.Math==Math&&m};u.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(u,c,o){var d=o(16),h=o(36),m=o(7),v=o(15),x=o(35),S=o(30),j=o(54),P=o(39),k=o(38).f,D=o(134),N=m.Symbol,R=N&&N.prototype;if(h&&S(N)&&(!("description"in R)||N().description!==void 0)){var W={},G=function(){var F=arguments.length<1||arguments[0]===void 0?void 0:P(arguments[0]),H=j(R,this)?new N(F):F===void 0?N():N(F);return F===""&&(W[H]=!0),H};D(G,N),G.prototype=R,R.constructor=G;var K=String(N("test"))=="Symbol(test)",oe=v(R.toString),re=v(R.valueOf),Z=/^Symbol\((.*)\)[^)]+$/,Q=v("".replace),$=v("".slice);k(R,"description",{configurable:!0,get:function(){var F=re(this),H=oe(F);if(x(W,F))return"";var Y=K?$(H,7,-1):Q(H,Z,"$1");return Y===""?void 0:Y}}),d({global:!0,forced:!0},{Symbol:G})}},function(u,c,o){o(141)("iterator")},function(u,c,o){o.d(c,"a",function(){return v.a}),o.d(c,"c",function(){return v.e}),o.d(c,"h",function(){return Z}),o.d(c,"i",function(){return K}),o.d(c,"j",function(){return W}),o.d(c,"b",function(){return xe}),o.d(c,"e",function(){return Pe}),o.d(c,"f",function(){return Ce}),o.d(c,"g",function(){return Ln});var d,h,m,v=o(0),x=0,S=[],j=v.i.__b,P=v.i.__r,k=v.i.diffed,D=v.i.__c,N=v.i.unmount;function R(te,ve){v.i.__h&&v.i.__h(h,te,x||ve),x=0;var ue=h.__H||(h.__H={__:[],__h:[]});return te>=ue.__.length&&ue.__.push({}),ue.__[te]}function W(te){return x=1,G(ne,te)}function G(te,ve,ue){var Oe=R(d++,2);return Oe.t=te,Oe.__c||(Oe.__=[ue?ue(ve):ne(void 0,ve),function(Je){var Qe=Oe.t(Oe.__[0],Je);Oe.__[0]!==Qe&&(Oe.__=[Qe,Oe.__[1]],Oe.__c.setState({}))}],Oe.__c=h),Oe.__}function K(te,ve){var ue=R(d++,3);!v.i.__s&&J(ue.__H,ve)&&(ue.__=te,ue.__H=ve,h.__H.__h.push(ue))}function oe(te,ve){var ue=R(d++,4);!v.i.__s&&J(ue.__H,ve)&&(ue.__=te,ue.__H=ve,h.__h.push(ue))}function re(te,ve){var ue=R(d++,7);return J(ue.__H,ve)&&(ue.__=te(),ue.__H=ve,ue.__h=te),ue.__}function Z(te,ve){return x=8,re(function(){return te},ve)}function Q(){var te;for(S.sort(function(ve,ue){return ve.__v.__b-ue.__v.__b});te=S.pop();)if(te.__P)try{te.__H.__h.forEach(H),te.__H.__h.forEach(Y),te.__H.__h=[]}catch(ve){te.__H.__h=[],v.i.__e(ve,te.__v)}}v.i.__b=function(te){h=null,j&&j(te)},v.i.__r=function(te){P&&P(te),d=0;var ve=(h=te.__c).__H;ve&&(ve.__h.forEach(H),ve.__h.forEach(Y),ve.__h=[])},v.i.diffed=function(te){k&&k(te);var ve=te.__c;ve&&ve.__H&&ve.__H.__h.length&&(S.push(ve)!==1&&m===v.i.requestAnimationFrame||((m=v.i.requestAnimationFrame)||F)(Q)),h=null},v.i.__c=function(te,ve){ve.some(function(ue){try{ue.__h.forEach(H),ue.__h=ue.__h.filter(function(Oe){return!Oe.__||Y(Oe)})}catch(Oe){ve.some(function(Je){Je.__h&&(Je.__h=[])}),ve=[],v.i.__e(Oe,ue.__v)}}),D&&D(te,ve)},v.i.unmount=function(te){N&&N(te);var ve,ue=te.__c;ue&&ue.__H&&(ue.__H.__.forEach(function(Oe){try{H(Oe)}catch(Je){ve=Je}}),ve&&v.i.__e(ve,ue.__v))};var $=typeof requestAnimationFrame=="function";function F(te){var ve,ue=function(){clearTimeout(Oe),$&&cancelAnimationFrame(ve),setTimeout(te)},Oe=setTimeout(ue,100);$&&(ve=requestAnimationFrame(ue))}function H(te){var ve=h,ue=te.__c;typeof ue=="function"&&(te.__c=void 0,ue()),h=ve}function Y(te){var ve=h;te.__c=te.__(),h=ve}function J(te,ve){return!te||te.length!==ve.length||ve.some(function(ue,Oe){return ue!==te[Oe]})}function ne(te,ve){return typeof ve=="function"?ve(te):ve}function ge(te,ve){for(var ue in ve)te[ue]=ve[ue];return te}function le(te,ve){for(var ue in te)if(ue!=="__source"&&!(ue in ve))return!0;for(var Oe in ve)if(Oe!=="__source"&&te[Oe]!==ve[Oe])return!0;return!1}function xe(te){this.props=te}function Ce(te,ve){function ue(Je){var Qe=this.props.ref,yt=Qe==Je.ref;return!yt&&Qe&&(Qe.call?Qe(null):Qe.current=null),ve?!ve(this.props,Je)||!yt:le(this.props,Je)}function Oe(Je){return this.shouldComponentUpdate=ue,Object(v.e)(te,Je)}return Oe.displayName="Memo("+(te.displayName||te.name)+")",Oe.prototype.isReactComponent=!0,Oe.__f=!0,Oe}(xe.prototype=new v.a).isPureReactComponent=!0,xe.prototype.shouldComponentUpdate=function(te,ve){return le(this.props,te)||le(this.state,ve)};var je=v.i.__b;v.i.__b=function(te){te.type&&te.type.__f&&te.ref&&(te.props.ref=te.ref,te.ref=null),je&&je(te)};var me=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(te){function ve(ue,Oe){var Je=ge({},ue);return delete Je.ref,te(Je,!(Oe=ue.ref||Oe)||typeof Oe=="object"&&!("current"in Oe)?null:Oe)}return ve.$$typeof=me,ve.render=ve,ve.prototype.isReactComponent=ve.__f=!0,ve.displayName="ForwardRef("+(te.displayName||te.name)+")",ve}var ke=function(te,ve){return te==null?null:Object(v.k)(Object(v.k)(te).map(ve))},Ve={map:ke,forEach:ke,count:function(te){return te?Object(v.k)(te).length:0},only:function(te){var ve=Object(v.k)(te);if(ve.length!==1)throw"Children.only";return ve[0]},toArray:v.k},it=v.i.__e;v.i.__e=function(te,ve,ue){if(te.then){for(var Oe,Je=ve;Je=Je.__;)if((Oe=Je.__c)&&Oe.__c)return ve.__e==null&&(ve.__e=ue.__e,ve.__k=ue.__k),Oe.__c(te,ve)}it(te,ve,ue)};var wt=v.i.unmount;function Ye(te,ve,ue){return te&&(te.__c&&te.__c.__H&&(te.__c.__H.__.forEach(function(Oe){typeof Oe.__c=="function"&&Oe.__c()}),te.__c.__H=null),(te=ge({},te)).__c!=null&&(te.__c.__P===ue&&(te.__c.__P=ve),te.__c=null),te.__k=te.__k&&te.__k.map(function(Oe){return Ye(Oe,ve,ue)})),te}function Ze(te,ve,ue){return te&&(te.__v=null,te.__k=te.__k&&te.__k.map(function(Oe){return Ze(Oe,ve,ue)}),te.__c&&te.__c.__P===ve&&(te.__e&&ue.insertBefore(te.__e,te.__d),te.__c.__e=!0,te.__c.__P=ue)),te}function _t(){this.__u=0,this.t=null,this.__b=null}function ce(te){var ve=te.__.__c;return ve&&ve.__e&&ve.__e(te)}function se(){this.u=null,this.o=null}v.i.unmount=function(te){var ve=te.__c;ve&&ve.__R&&ve.__R(),ve&&te.__h===!0&&(te.type=null),wt&&wt(te)},(_t.prototype=new v.a).__c=function(te,ve){var ue=ve.__c,Oe=this;Oe.t==null&&(Oe.t=[]),Oe.t.push(ue);var Je=ce(Oe.__v),Qe=!1,yt=function(){Qe||(Qe=!0,ue.__R=null,Je?Je(qt):qt())};ue.__R=yt;var qt=function(){if(!--Oe.__u){if(Oe.state.__e){var Or=Oe.state.__e;Oe.__v.__k[0]=Ze(Or,Or.__c.__P,Or.__c.__O)}var Qn;for(Oe.setState({__e:Oe.__b=null});Qn=Oe.t.pop();)Qn.forceUpdate()}},sr=ve.__h===!0;Oe.__u++||sr||Oe.setState({__e:Oe.__b=Oe.__v.__k[0]}),te.then(yt,yt)},_t.prototype.componentWillUnmount=function(){this.t=[]},_t.prototype.render=function(te,ve){if(this.__b){if(this.__v.__k){var ue=document.createElement("div"),Oe=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,ue,Oe.__O=Oe.__P)}this.__b=null}var Je=ve.__e&&Object(v.e)(v.b,null,te.fallback);return Je&&(Je.__h=null),[Object(v.e)(v.b,null,ve.__e?null:te.children),Je]};var he=function(te,ve,ue){if(++ue[1]===ue[0]&&te.o.delete(ve),te.props.revealOrder&&(te.props.revealOrder[0]!=="t"||!te.o.size))for(ue=te.u;ue;){for(;ue.length>3;)ue.pop()();if(ue[1]<ue[0])break;te.u=ue=ue[2]}};function Ne(te){return this.getChildContext=function(){return te.context},te.children}function Ke(te){var ve=this,ue=te.i;ve.componentWillUnmount=function(){Object(v.j)(null,ve.l),ve.l=null,ve.i=null},ve.i&&ve.i!==ue&&ve.componentWillUnmount(),te.__v?(ve.l||(ve.i=ue,ve.l={nodeType:1,parentNode:ue,childNodes:[],appendChild:function(Oe){this.childNodes.push(Oe),ve.i.appendChild(Oe)},insertBefore:function(Oe,Je){this.childNodes.push(Oe),ve.i.appendChild(Oe)},removeChild:function(Oe){this.childNodes.splice(this.childNodes.indexOf(Oe)>>>1,1),ve.i.removeChild(Oe)}}),Object(v.j)(Object(v.e)(Ne,{context:ve.context},te.__v),ve.l)):ve.l&&ve.componentWillUnmount()}(se.prototype=new v.a).__e=function(te){var ve=this,ue=ce(ve.__v),Oe=ve.o.get(te);return Oe[0]++,function(Je){var Qe=function(){ve.props.revealOrder?(Oe.push(Je),he(ve,te,Oe)):Je()};ue?ue(Qe):Qe()}},se.prototype.render=function(te){this.u=null,this.o=new Map;var ve=Object(v.k)(te.children);te.revealOrder&&te.revealOrder[0]==="b"&&ve.reverse();for(var ue=ve.length;ue--;)this.o.set(ve[ue],this.u=[1,0,this.u]);return te.children},se.prototype.componentDidUpdate=se.prototype.componentDidMount=function(){var te=this;this.o.forEach(function(ve,ue){he(te,ue,ve)})};var Fe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,At=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,It=typeof document<"u",kt=function(te){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(te)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(te){Object.defineProperty(v.a.prototype,te,{configurable:!0,get:function(){return this["UNSAFE_"+te]},set:function(ve){Object.defineProperty(this,te,{configurable:!0,writable:!0,value:ve})}})});var Ot=v.i.event;function Te(){}function dt(){return this.cancelBubble}function de(){return this.defaultPrevented}v.i.event=function(te){return Ot&&(te=Ot(te)),te.persist=Te,te.isPropagationStopped=dt,te.isDefaultPrevented=de,te.nativeEvent=te};var ct,Wt={configurable:!0,get:function(){return this.class}},gn=v.i.vnode;v.i.vnode=function(te){var ve=te.type,ue=te.props,Oe=ue;if(typeof ve=="string"){var Je=ve.indexOf("-")===-1;for(var Qe in Oe={},ue){var yt=ue[Qe];It&&Qe==="children"&&ve==="noscript"||Qe==="value"&&"defaultValue"in ue&&yt==null||(Qe==="defaultValue"&&"value"in ue&&ue.value==null?Qe="value":Qe==="download"&&yt===!0?yt="":/ondoubleclick/i.test(Qe)?Qe="ondblclick":/^onchange(textarea|input)/i.test(Qe+ve)&&!kt(ue.type)?Qe="oninput":/^onfocus$/i.test(Qe)?Qe="onfocusin":/^onblur$/i.test(Qe)?Qe="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Qe)?Qe=Qe.toLowerCase():Je&&At.test(Qe)?Qe=Qe.replace(/[A-Z0-9]/,"-$&").toLowerCase():yt===null&&(yt=void 0),Oe[Qe]=yt)}ve=="select"&&Oe.multiple&&Array.isArray(Oe.value)&&(Oe.value=Object(v.k)(ue.children).forEach(function(qt){qt.props.selected=Oe.value.indexOf(qt.props.value)!=-1})),ve=="select"&&Oe.defaultValue!=null&&(Oe.value=Object(v.k)(ue.children).forEach(function(qt){qt.props.selected=Oe.multiple?Oe.defaultValue.indexOf(qt.props.value)!=-1:Oe.defaultValue==qt.props.value})),te.props=Oe,ue.class!=ue.className&&(Wt.enumerable="className"in ue,ue.className!=null&&(Oe.class=ue.className),Object.defineProperty(Oe,"className",Wt))}te.$$typeof=Fe,gn&&gn(te)};var Gt=v.i.__r;v.i.__r=function(te){Gt&&Gt(te),ct=te.__c};var un={ReactCurrentDispatcher:{current:{readContext:function(te){return ct.__n[te.__c].props.value}}}};function jn(te){return!!te&&te.$$typeof===Fe}var Ln=function(te,ve){return te(ve)},zt=v.b,Jn={useState:W,useReducer:G,useEffect:K,useLayoutEffect:oe,useRef:function(te){return x=5,re(function(){return{current:te}},[])},useImperativeHandle:function(te,ve,ue){x=6,oe(function(){typeof te=="function"?te(ve()):te&&(te.current=ve())},ue==null?ue:ue.concat(te))},useMemo:re,useCallback:Z,useContext:function(te){var ve=h.context[te.__c],ue=R(d++,9);return ue.c=te,ve?(ue.__==null&&(ue.__=!0,ve.sub(h)),ve.props.value):te.__},useDebugValue:function(te,ve){v.i.useDebugValue&&v.i.useDebugValue(ve?ve(te):te)},version:"17.0.2",Children:Ve,render:function(te,ve,ue){return ve.__k==null&&(ve.textContent=""),Object(v.j)(te,ve),typeof ue=="function"&&ue(),te?te.__c:null},hydrate:function(te,ve,ue){return Object(v.h)(te,ve),typeof ue=="function"&&ue(),te?te.__c:null},unmountComponentAtNode:function(te){return!!te.__k&&(Object(v.j)(null,te),!0)},createPortal:function(te,ve){return Object(v.e)(Ke,{__v:te,i:ve})},createElement:v.e,createContext:v.d,createFactory:function(te){return v.e.bind(null,te)},cloneElement:function(te){return jn(te)?v.c.apply(null,arguments):te},createRef:v.f,Fragment:v.b,isValidElement:jn,findDOMNode:function(te){return te&&(te.base||te.nodeType===1&&te)||null},Component:v.a,PureComponent:xe,memo:Ce,forwardRef:Pe,flushSync:function(te,ve){return te(ve)},unstable_batchedUpdates:Ln,StrictMode:zt,Suspense:_t,SuspenseList:se,lazy:function(te){var ve,ue,Oe;function Je(Qe){if(ve||(ve=te()).then(function(yt){ue=yt.default||yt},function(yt){Oe=yt}),Oe)throw Oe;if(!ue)throw ve;return Object(v.e)(ue,Qe)}return Je.displayName="Lazy",Je.__f=!0,Je},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un};c.d=Jn},function(u,c,o){var d=o(7),h=o(152),m=o(153),v=o(187),x=o(57),S=function(P){if(P&&P.forEach!==v)try{x(P,"forEach",v)}catch{P.forEach=v}};for(var j in h)h[j]&&S(d[j]&&d[j].prototype);S(m)},function(u,c,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(u,c,o){var d=o(16),h=o(18),m=o(40),v=o(101),x=o(143);d({target:"Object",stat:!0,forced:h(function(){v(1)}),sham:!x},{getPrototypeOf:function(S){return v(m(S))}})},function(u,c,o){var d=o(16),h=o(46),m=o(76),v=o(203),x=o(165),S=o(32),j=o(33),P=o(60),k=o(18),D=h("Reflect","construct"),N=Object.prototype,R=[].push,W=k(function(){function oe(){}return!(D(function(){},[],oe)instanceof oe)}),G=!k(function(){D(function(){})}),K=W||G;d({target:"Reflect",stat:!0,forced:K,sham:K},{construct:function(oe,re){x(oe),S(re);var Z=arguments.length<3?oe:x(arguments[2]);if(G&&!W)return D(oe,re,Z);if(oe==Z){switch(re.length){case 0:return new oe;case 1:return new oe(re[0]);case 2:return new oe(re[0],re[1]);case 3:return new oe(re[0],re[1],re[2]);case 4:return new oe(re[0],re[1],re[2],re[3])}var Q=[null];return m(R,Q,re),new(m(v,oe,Q))}var $=Z.prototype,F=P(j($)?$:N),H=m(oe,F,re);return j(H)?H:F}})},function(u,c){var o=Function.prototype,d=o.bind,h=o.call,m=d&&d.bind(h);u.exports=d?function(v){return v&&m(h,v)}:function(v){return v&&function(){return h.apply(v,arguments)}}},function(u,c,o){var d=o(7),h=o(50).f,m=o(57),v=o(42),x=o(110),S=o(134),j=o(95);u.exports=function(P,k){var D,N,R,W,G,K=P.target,oe=P.global,re=P.stat;if(D=oe?d:re?d[K]||x(K,{}):(d[K]||{}).prototype)for(N in k){if(W=k[N],R=P.noTargetGet?(G=h(D,N))&&G.value:D[N],!j(oe?N:K+(re?".":"#")+N,P.forced)&&R!==void 0){if(typeof W==typeof R)continue;S(W,R)}(P.sham||R&&R.sham)&&m(W,"sham",!0),v(D,N,W,P)}}},function(u,c,o){var d=o(16),h=o(7),m=o(96),v=o(99),x=o(33),S=o(75),j=o(45),P=o(41),k=o(63),D=o(28),N=o(81),R=o(98),W=N("slice"),G=D("species"),K=h.Array,oe=Math.max;d({target:"Array",proto:!0,forced:!W},{slice:function(re,Z){var Q,$,F,H=P(this),Y=j(H),J=S(re,Y),ne=S(Z===void 0?Y:Z,Y);if(m(H)&&(Q=H.constructor,(v(Q)&&(Q===K||m(Q.prototype))||x(Q)&&(Q=Q[G])===null)&&(Q=void 0),Q===K||Q===void 0))return R(H,J,ne);for($=new(Q===void 0?K:Q)(oe(ne-J,0)),F=0;J<ne;J++,F++)J in H&&k($,F,H[J]);return $.length=F,$}})},function(u,c){u.exports=function(o){try{return!!o()}catch{return!0}}},function(u,c,o){var d=o(16),h=o(103);d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(u,c,o){var d=o(16),h=o(40),m=o(77);d({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(v){return m(h(v))}})},function(u,c,o){var d=o(36),h=o(73).EXISTS,m=o(15),v=o(38).f,x=Function.prototype,S=m(x.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,P=m(j.exec);d&&!h&&v(x,"name",{configurable:!0,get:function(){try{return P(j,S(this))[1]}catch{return""}}})},function(u,c,o){var d=o(16),h=o(18),m=o(41),v=o(50).f,x=o(36),S=h(function(){v(1)});d({target:"Object",stat:!0,forced:!x||S,sham:!x},{getOwnPropertyDescriptor:function(j,P){return v(m(j),P)}})},function(u,c,o){var d=o(16),h=o(188);d({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:h})},function(u,c,o){var d=o(16),h=o(79).filter;d({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,c,o){var d=o(16),h=o(36),m=o(135),v=o(41),x=o(50),S=o(63);d({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(j){for(var P,k,D=v(j),N=x.f,R=m(D),W={},G=0;R.length>G;)(k=N(D,P=R[G++]))!==void 0&&S(W,P,k);return W}})},,function(u,c,o){var d=o(16),h=o(7),m=o(18),v=o(96),x=o(33),S=o(40),j=o(45),P=o(63),k=o(115),D=o(81),N=o(28),R=o(70),W=N("isConcatSpreadable"),G=9007199254740991,K="Maximum allowed index exceeded",oe=h.TypeError,re=R>=51||!m(function(){var $=[];return $[W]=!1,$.concat()[0]!==$}),Z=D("concat"),Q=function($){if(!x($))return!1;var F=$[W];return F!==void 0?!!F:v($)};d({target:"Array",proto:!0,forced:!re||!Z},{concat:function($){var F,H,Y,J,ne,ge=S(this),le=k(ge,0),xe=0;for(F=-1,Y=arguments.length;F<Y;F++)if(Q(ne=F===-1?ge:arguments[F])){if(xe+(J=j(ne))>G)throw oe(K);for(H=0;H<J;H++,xe++)H in ne&&P(le,xe,ne[H])}else{if(xe>=G)throw oe(K);P(le,xe++,ne)}return le.length=xe,le}})},function(u,c,o){var d=o(7),h=o(89),m=o(35),v=o(90),x=o(108),S=o(132),j=h("wks"),P=d.Symbol,k=P&&P.for,D=S?P:P&&P.withoutSetter||v;u.exports=function(N){if(!m(j,N)||!x&&typeof j[N]!="string"){var R="Symbol."+N;x&&m(P,N)?j[N]=P[N]:j[N]=S&&k?k(R):D(R)}return j[N]}},function(u,c,o){var d=o(16),h=o(202);d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(u,c){u.exports=function(o){return typeof o=="function"}},function(u,c,o){var d=o(106),h=typeof self=="object"&&self&&self.Object===Object&&self,m=d.a||h||Function("return this")();c.a=m},function(u,c,o){var d=o(7),h=o(33),m=d.String,v=d.TypeError;u.exports=function(x){if(h(x))return x;throw v(m(x)+" is not an object")}},function(u,c,o){var d=o(30);u.exports=function(h){return typeof h=="object"?h!==null:d(h)}},function(u,c){var o=Function.prototype.call;u.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(u,c,o){var d=o(15),h=o(40),m=d({}.hasOwnProperty);u.exports=Object.hasOwn||function(v,x){return m(h(v),x)}},function(u,c,o){var d=o(18);u.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,o){var d=o(16),h=o(79).map;d({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,c,o){var d=o(7),h=o(36),m=o(133),v=o(32),x=o(86),S=d.TypeError,j=Object.defineProperty;c.f=h?j:function(P,k,D){if(v(P),k=x(k),v(D),m)try{return j(P,k,D)}catch{}if("get"in D||"set"in D)throw S("Accessors not supported");return"value"in D&&(P[k]=D.value),P}},function(u,c,o){var d=o(7),h=o(97),m=d.String;u.exports=function(v){if(h(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(v)}},function(u,c,o){var d=o(7),h=o(44),m=d.Object;u.exports=function(v){return m(h(v))}},function(u,c,o){var d=o(85),h=o(44);u.exports=function(m){return d(h(m))}},function(u,c,o){var d=o(7),h=o(30),m=o(35),v=o(57),x=o(110),S=o(92),j=o(58),P=o(73).CONFIGURABLE,k=j.get,D=j.enforce,N=String(String).split("String");(u.exports=function(R,W,G,K){var oe,re=!!K&&!!K.unsafe,Z=!!K&&!!K.enumerable,Q=!!K&&!!K.noTargetGet,$=K&&K.name!==void 0?K.name:W;h(G)&&(String($).slice(0,7)==="Symbol("&&($="["+String($).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(G,"name")||P&&G.name!==$)&&v(G,"name",$),(oe=D(G)).source||(oe.source=N.join(typeof $=="string"?$:""))),R!==d?(re?!Q&&R[W]&&(Z=!0):delete R[W],Z?R[W]=G:v(R,W,G)):Z?R[W]=G:x(W,G)})(Function.prototype,"toString",function(){return h(this)&&k(this).source||S(this)})},function(u,c,o){(function(d){o.d(c,"d",function(){return v}),o.d(c,"c",function(){return x}),o.d(c,"b",function(){return S}),o.d(c,"a",function(){return P});var h=o(10),m=function(k,D){var N=typeof Symbol=="function"&&k[Symbol.iterator];if(!N)return k;var R,W,G=N.call(k),K=[];try{for(;(D===void 0||D-- >0)&&!(R=G.next()).done;)K.push(R.value)}catch(oe){W={error:oe}}finally{try{R&&!R.done&&(N=G.return)&&N.call(G)}finally{if(W)throw W.error}}return K};function v(){var k=m(Object(h.j)(0),2)[1];return Object(h.h)(function(){k(function(D){return D+1})},[])}function x(k){if(!k||typeof k!="object")return!1;var D=Object.getPrototypeOf(k);return!D||D===Object.prototype}function S(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var j={};function P(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:j}}).call(this,o(68))},function(u,c,o){var d=o(7).TypeError;u.exports=function(h){if(h==null)throw d("Can't call method on "+h);return h}},function(u,c,o){var d=o(94);u.exports=function(h){return d(h.length)}},function(u,c,o){var d=o(7),h=o(30),m=function(v){return h(v)?v:void 0};u.exports=function(v,x){return arguments.length<2?m(d[v]):d[v]&&d[v][x]}},function(u,c,o){var d=o(16),h=o(34),m=o(33),v=o(32),x=o(204),S=o(50),j=o(101);d({target:"Reflect",stat:!0},{get:function P(k,D){var N,R,W=arguments.length<3?k:arguments[2];return v(k)===W?k[D]:(N=S.f(k,D))?x(N)?N.value:N.get===void 0?void 0:h(N.get,W):m(R=j(k))?P(R,D,W):void 0}})},function(u,c,o){(function(d){var h=o(31),m=o(171),v=a&&!a.nodeType&&a,x=v&&typeof d=="object"&&d&&!d.nodeType&&d,S=x&&x.exports===v?h.a.Buffer:void 0,j=(S?S.isBuffer:void 0)||m.a;c.a=j}).call(this,o(122)(u))},function(u,c,o){(function(d){var h=o(106),m=a&&!a.nodeType&&a,v=m&&typeof d=="object"&&d&&!d.nodeType&&d,x=v&&v.exports===m&&h.a.process,S=function(){try{var j=v&&v.require&&v.require("util").types;return j||x&&x.binding&&x.binding("util")}catch{}}();c.a=S}).call(this,o(122)(u))},function(u,c,o){var d=o(36),h=o(34),m=o(84),v=o(69),x=o(41),S=o(86),j=o(35),P=o(133),k=Object.getOwnPropertyDescriptor;c.f=d?k:function(D,N){if(D=x(D),N=S(N),P)try{return k(D,N)}catch{}if(j(D,N))return v(!h(m.f,D,N),D[N])}},function(u,c,o){var d=o(15),h=d({}.toString),m=d("".slice);u.exports=function(v){return m(h(v),8,-1)}},function(u,c,o){o(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},o(186))},function(u,c,o){var d=o(16),h=o(220).entries;d({target:"Object",stat:!0},{entries:function(m){return h(m)}})},function(u,c,o){var d=o(15);u.exports=d({}.isPrototypeOf)},function(u,c,o){var d=o(46);u.exports=d("navigator","userAgent")||""},function(u,c,o){var d=o(7),h=o(30),m=o(88),v=d.TypeError;u.exports=function(x){if(h(x))return x;throw v(m(x)+" is not a function")}},function(u,c,o){var d=o(36),h=o(38),m=o(69);u.exports=d?function(v,x,S){return h.f(v,x,m(1,S))}:function(v,x,S){return v[x]=S,v}},function(u,c,o){var d,h,m,v=o(175),x=o(7),S=o(15),j=o(33),P=o(57),k=o(35),D=o(109),N=o(93),R=o(72),W="Object already initialized",G=x.TypeError,K=x.WeakMap;if(v||D.state){var oe=D.state||(D.state=new K),re=S(oe.get),Z=S(oe.has),Q=S(oe.set);d=function(F,H){if(Z(oe,F))throw new G(W);return H.facade=F,Q(oe,F,H),H},h=function(F){return re(oe,F)||{}},m=function(F){return Z(oe,F)}}else{var $=N("state");R[$]=!0,d=function(F,H){if(k(F,$))throw new G(W);return H.facade=F,P(F,$,H),H},h=function(F){return k(F,$)?F[$]:{}},m=function(F){return k(F,$)}}u.exports={set:d,get:h,has:m,enforce:function(F){return m(F)?h(F):d(F,{})},getterFor:function(F){return function(H){var Y;if(!j(H)||(Y=h(H)).type!==F)throw G("Incompatible receiver, "+F+" required");return Y}}}},function(u,c){var o=Math.ceil,d=Math.floor;u.exports=function(h){var m=+h;return m!=m||m===0?0:(m>0?d:o)(m)}},function(u,c,o){var d,h=o(32),m=o(176),v=o(111),x=o(72),S=o(138),j=o(91),P=o(93),k=P("IE_PROTO"),D=function(){},N=function(G){return"<script>"+G+"<\/script>"},R=function(G){G.write(N("")),G.close();var K=G.parentWindow.Object;return G=null,K},W=function(){try{d=new ActiveXObject("htmlfile")}catch{}var G,K;W=typeof document<"u"?document.domain&&d?R(d):((K=j("iframe")).style.display="none",S.appendChild(K),K.src="javascript:",(G=K.contentWindow.document).open(),G.write(N("document.F=Object")),G.close(),G.F):R(d);for(var oe=v.length;oe--;)delete W.prototype[v[oe]];return W()};x[k]=!0,u.exports=Object.create||function(G,K){var oe;return G!==null?(D.prototype=h(G),oe=new D,D.prototype=null,oe[k]=G):oe=W(),K===void 0?oe:m(oe,K)}},function(u,c,o){var d=o(36),h=o(7),m=o(15),v=o(95),x=o(42),S=o(35),j=o(148),P=o(54),k=o(87),D=o(131),N=o(18),R=o(74).f,W=o(50).f,G=o(38).f,K=o(160),oe=o(161).trim,re="Number",Z=h.Number,Q=Z.prototype,$=h.TypeError,F=m("".slice),H=m("".charCodeAt),Y=function(Ce){var je=D(Ce,"number");return typeof je=="bigint"?je:J(je)},J=function(Ce){var je,me,Pe,ke,Ve,it,wt,Ye,Ze=D(Ce,"number");if(k(Ze))throw $("Cannot convert a Symbol value to a number");if(typeof Ze=="string"&&Ze.length>2){if(Ze=oe(Ze),(je=H(Ze,0))===43||je===45){if((me=H(Ze,2))===88||me===120)return NaN}else if(je===48){switch(H(Ze,1)){case 66:case 98:Pe=2,ke=49;break;case 79:case 111:Pe=8,ke=55;break;default:return+Ze}for(it=(Ve=F(Ze,2)).length,wt=0;wt<it;wt++)if((Ye=H(Ve,wt))<48||Ye>ke)return NaN;return parseInt(Ve,Pe)}}return+Ze};if(v(re,!Z(" 0o1")||!Z("0b1")||Z("+0x1"))){for(var ne,ge=function(Ce){var je=arguments.length<1?0:Z(Y(Ce)),me=this;return P(Q,me)&&N(function(){K(me)})?j(Object(je),me,ge):je},le=d?R(Z):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),xe=0;le.length>xe;xe++)S(Z,ne=le[xe])&&!S(ge,ne)&&G(ge,ne,W(Z,ne));ge.prototype=Q,Q.constructor=ge,x(h,re,ge)}},function(u,c,o){var d=o(56);u.exports=function(h,m){var v=h[m];return v==null?void 0:d(v)}},function(u,c,o){var d=o(86),h=o(38),m=o(69);u.exports=function(v,x,S){var j=d(x);j in v?h.f(v,j,m(0,S)):v[j]=S}},function(u,c,o){var d=o(15),h=o(56),m=d(d.bind);u.exports=function(v,x){return h(v),x===void 0?v:m?m(v,x):function(){return v.apply(x,arguments)}}},function(u,c,o){var d=o(16),h=o(15),m=o(85),v=o(41),x=o(121),S=h([].join),j=m!=Object,P=x("join",",");d({target:"Array",proto:!0,forced:j||!P},{join:function(k){return S(v(this),k===void 0?",":k)}})},function(u,c,o){var d=o(15),h=o(73).PROPER,m=o(42),v=o(32),x=o(54),S=o(39),j=o(18),P=o(154),k="toString",D=RegExp.prototype,N=D.toString,R=d(P),W=j(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),G=h&&N.name!=k;(W||G)&&m(RegExp.prototype,k,function(){var K=v(this),oe=S(K.source),re=K.flags;return"/"+oe+"/"+S(re===void 0&&x(D,K)&&!("flags"in D)?R(K):re)},{unsafe:!0})},function(u,c,o){var d=o(16),h=o(217),m=o(100);d({target:"Array",proto:!0},{fill:h}),m("fill")},function(u,c){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}u.exports=o},function(u,c){u.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},function(u,c,o){var d,h,m=o(7),v=o(55),x=m.process,S=m.Deno,j=x&&x.versions||S&&S.version,P=j&&j.v8;P&&(h=(d=P.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!h&&v&&(!(d=v.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=v.match(/Chrome\/(\d+)/))&&(h=+d[1]),u.exports=h},function(u,c){u.exports=!1},function(u,c){u.exports={}},function(u,c,o){var d=o(36),h=o(35),m=Function.prototype,v=d&&Object.getOwnPropertyDescriptor,x=h(m,"name"),S=x&&(function(){}).name==="something",j=x&&(!d||d&&v(m,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:j}},function(u,c,o){var d=o(136),h=o(111).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(m){return d(m,h)}},function(u,c,o){var d=o(59),h=Math.max,m=Math.min;u.exports=function(v,x){var S=d(v);return S<0?h(S+x,0):m(S,x)}},function(u,c){var o=Function.prototype,d=o.apply,h=o.bind,m=o.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(h?m.bind(d):function(){return m.apply(d,arguments)})},function(u,c,o){var d=o(136),h=o(111);u.exports=Object.keys||function(m){return d(m,h)}},function(u,c,o){var d=o(38).f,h=o(35),m=o(28)("toStringTag");u.exports=function(v,x,S){v&&!h(v=S?v:v.prototype,m)&&d(v,m,{configurable:!0,value:x})}},function(u,c,o){var d=o(64),h=o(15),m=o(85),v=o(40),x=o(45),S=o(115),j=h([].push),P=function(k){var D=k==1,N=k==2,R=k==3,W=k==4,G=k==6,K=k==7,oe=k==5||G;return function(re,Z,Q,$){for(var F,H,Y=v(re),J=m(Y),ne=d(Z,Q),ge=x(J),le=0,xe=$||S,Ce=D?xe(re,ge):N||K?xe(re,0):void 0;ge>le;le++)if((oe||le in J)&&(H=ne(F=J[le],le,Y),k))if(D)Ce[le]=H;else if(H)switch(k){case 3:return!0;case 5:return F;case 6:return le;case 2:j(Ce,F)}else switch(k){case 4:return!1;case 7:j(Ce,F)}return G?-1:R||W?W:Ce}};u.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},function(u,c){u.exports={}},function(u,c,o){var d=o(18),h=o(28),m=o(70),v=h("species");u.exports=function(x){return m>=51||!d(function(){var S=[];return(S.constructor={})[v]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c,o){var d=o(76),h=o(34),m=o(15),v=o(123),x=o(159),S=o(32),j=o(44),P=o(164),k=o(124),D=o(94),N=o(39),R=o(62),W=o(114),G=o(125),K=o(103),oe=o(155),re=o(18),Z=oe.UNSUPPORTED_Y,Q=4294967295,$=Math.min,F=[].push,H=m(/./.exec),Y=m(F),J=m("".slice),ne=!re(function(){var ge=/(?:)/,le=ge.exec;ge.exec=function(){return le.apply(this,arguments)};var xe="ab".split(ge);return xe.length!==2||xe[0]!=="a"||xe[1]!=="b"});v("split",function(ge,le,xe){var Ce;return Ce="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,me){var Pe=N(j(this)),ke=me===void 0?Q:me>>>0;if(ke===0)return[];if(je===void 0)return[Pe];if(!x(je))return h(le,Pe,je,ke);for(var Ve,it,wt,Ye=[],Ze=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),_t=0,ce=new RegExp(je.source,Ze+"g");(Ve=h(K,ce,Pe))&&!((it=ce.lastIndex)>_t&&(Y(Ye,J(Pe,_t,Ve.index)),Ve.length>1&&Ve.index<Pe.length&&d(F,Ye,W(Ve,1)),wt=Ve[0].length,_t=it,Ye.length>=ke));)ce.lastIndex===Ve.index&&ce.lastIndex++;return _t===Pe.length?!wt&&H(ce,"")||Y(Ye,""):Y(Ye,J(Pe,_t)),Ye.length>ke?W(Ye,0,ke):Ye}:"0".split(void 0,0).length?function(je,me){return je===void 0&&me===0?[]:h(le,this,je,me)}:le,[function(je,me){var Pe=j(this),ke=je==null?void 0:R(je,ge);return ke?h(ke,je,Pe,me):h(Ce,N(Pe),je,me)},function(je,me){var Pe=S(this),ke=N(je),Ve=xe(Ce,Pe,ke,me,Ce!==le);if(Ve.done)return Ve.value;var it=P(Pe,RegExp),wt=Pe.unicode,Ye=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Z?"g":"y"),Ze=new it(Z?"^(?:"+Pe.source+")":Pe,Ye),_t=me===void 0?Q:me>>>0;if(_t===0)return[];if(ke.length===0)return G(Ze,ke)===null?[ke]:[];for(var ce=0,se=0,he=[];se<ke.length;){Ze.lastIndex=Z?0:se;var Ne,Ke=G(Ze,Z?J(ke,se):ke);if(Ke===null||(Ne=$(D(Ze.lastIndex+(Z?se:0)),ke.length))===ce)se=k(ke,se,wt);else{if(Y(he,J(ke,ce,se)),he.length===_t)return he;for(var Fe=1;Fe<=Ke.length-1;Fe++)if(Y(he,Ke[Fe]),he.length===_t)return he;se=ce=Ne}}return Y(he,J(ke,ce)),he}]},!ne,Z)},function(u,c,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,o){var d={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!d.call({1:2},1);c.f=m?function(v){var x=h(this,v);return!!x&&x.enumerable}:d},function(u,c,o){var d=o(7),h=o(15),m=o(18),v=o(51),x=d.Object,S=h("".split);u.exports=m(function(){return!x("z").propertyIsEnumerable(0)})?function(j){return v(j)=="String"?S(j,""):x(j)}:x},function(u,c,o){var d=o(131),h=o(87);u.exports=function(m){var v=d(m,"string");return h(v)?v:v+""}},function(u,c,o){var d=o(7),h=o(46),m=o(30),v=o(54),x=o(132),S=d.Object;u.exports=x?function(j){return typeof j=="symbol"}:function(j){var P=h("Symbol");return m(P)&&v(P.prototype,S(j))}},function(u,c,o){var d=o(7).String;u.exports=function(h){try{return d(h)}catch{return"Object"}}},function(u,c,o){var d=o(71),h=o(109);(u.exports=function(m,v){return h[m]||(h[m]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,o){var d=o(15),h=0,m=Math.random(),v=d(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+v(++h+m,36)}},function(u,c,o){var d=o(7),h=o(33),m=d.document,v=h(m)&&h(m.createElement);u.exports=function(x){return v?m.createElement(x):{}}},function(u,c,o){var d=o(15),h=o(30),m=o(109),v=d(Function.toString);h(m.inspectSource)||(m.inspectSource=function(x){return v(x)}),u.exports=m.inspectSource},function(u,c,o){var d=o(89),h=o(90),m=d("keys");u.exports=function(v){return m[v]||(m[v]=h(v))}},function(u,c,o){var d=o(59),h=Math.min;u.exports=function(m){return m>0?h(d(m),9007199254740991):0}},function(u,c,o){var d=o(18),h=o(30),m=/#|\.prototype\./,v=function(k,D){var N=S[x(k)];return N==P||N!=j&&(h(D)?d(D):!!D)},x=v.normalize=function(k){return String(k).replace(m,".").toLowerCase()},S=v.data={},j=v.NATIVE="N",P=v.POLYFILL="P";u.exports=v},function(u,c,o){var d=o(51);u.exports=Array.isArray||function(h){return d(h)=="Array"}},function(u,c,o){var d=o(7),h=o(113),m=o(30),v=o(51),x=o(28)("toStringTag"),S=d.Object,j=v(function(){return arguments}())=="Arguments";u.exports=h?v:function(P){var k,D,N;return P===void 0?"Undefined":P===null?"Null":typeof(D=function(R,W){try{return R[W]}catch{}}(k=S(P),x))=="string"?D:j?v(k):(N=v(k))=="Object"&&m(k.callee)?"Arguments":N}},function(u,c,o){var d=o(15);u.exports=d([].slice)},function(u,c,o){var d=o(15),h=o(18),m=o(30),v=o(97),x=o(46),S=o(92),j=function(){},P=[],k=x("Reflect","construct"),D=/^\s*(?:class|function)\b/,N=d(D.exec),R=!D.exec(j),W=function(G){if(!m(G))return!1;try{return k(j,P,G),!0}catch{return!1}};u.exports=!k||h(function(){var G;return W(W.call)||!W(Object)||!W(function(){G=!0})||G})?function(G){if(!m(G))return!1;switch(v(G)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R||!!N(D,S(G))}:W},function(u,c,o){var d=o(28),h=o(60),m=o(38),v=d("unscopables"),x=Array.prototype;x[v]==null&&m.f(x,v,{configurable:!0,value:h(null)}),u.exports=function(S){x[v][S]=!0}},function(u,c,o){var d=o(7),h=o(35),m=o(30),v=o(40),x=o(93),S=o(143),j=x("IE_PROTO"),P=d.Object,k=P.prototype;u.exports=S?P.getPrototypeOf:function(D){var N=v(D);if(h(N,j))return N[j];var R=N.constructor;return m(R)&&N instanceof R?R.prototype:N instanceof P?k:null}},function(u,c,o){var d=o(15),h=o(32),m=o(181);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,x=!1,S={};try{(v=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(S,[]),x=S instanceof Array}catch{}return function(j,P){return h(j),m(P),x?v(j,P):j.__proto__=P,j}}():void 0)},function(u,c,o){var d,h,m=o(34),v=o(15),x=o(39),S=o(154),j=o(155),P=o(89),k=o(60),D=o(58).get,N=o(190),R=o(191),W=P("native-string-replace",String.prototype.replace),G=RegExp.prototype.exec,K=G,oe=v("".charAt),re=v("".indexOf),Z=v("".replace),Q=v("".slice),$=(h=/b*/g,m(G,d=/a/,"a"),m(G,h,"a"),d.lastIndex!==0||h.lastIndex!==0),F=j.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;($||H||F||N||R)&&(K=function(Y){var J,ne,ge,le,xe,Ce,je,me=this,Pe=D(me),ke=x(Y),Ve=Pe.raw;if(Ve)return Ve.lastIndex=me.lastIndex,J=m(K,Ve,ke),me.lastIndex=Ve.lastIndex,J;var it=Pe.groups,wt=F&&me.sticky,Ye=m(S,me),Ze=me.source,_t=0,ce=ke;if(wt&&(Ye=Z(Ye,"y",""),re(Ye,"g")===-1&&(Ye+="g"),ce=Q(ke,me.lastIndex),me.lastIndex>0&&(!me.multiline||me.multiline&&oe(ke,me.lastIndex-1)!==`
`)&&(Ze="(?: "+Ze+")",ce=" "+ce,_t++),ne=new RegExp("^(?:"+Ze+")",Ye)),H&&(ne=new RegExp("^"+Ze+"$(?!\\s)",Ye)),$&&(ge=me.lastIndex),le=m(G,wt?ne:me,ce),wt?le?(le.input=Q(le.input,_t),le[0]=Q(le[0],_t),le.index=me.lastIndex,me.lastIndex+=le[0].length):me.lastIndex=0:$&&le&&(me.lastIndex=me.global?le.index+le[0].length:ge),H&&le&&le.length>1&&m(W,le[0],ne,function(){for(xe=1;xe<arguments.length-2;xe++)arguments[xe]===void 0&&(le[xe]=void 0)}),le&&it)for(le.groups=Ce=k(null),xe=0;xe<it.length;xe++)Ce[(je=it[xe])[0]]=le[je[1]];return le}),u.exports=K},function(u,c,o){var d=o(16),h=o(7),m=o(75),v=o(59),x=o(45),S=o(40),j=o(115),P=o(63),k=o(81)("splice"),D=h.TypeError,N=Math.max,R=Math.min,W=9007199254740991,G="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!k},{splice:function(K,oe){var re,Z,Q,$,F,H,Y=S(this),J=x(Y),ne=m(K,J),ge=arguments.length;if(ge===0?re=Z=0:ge===1?(re=0,Z=J-ne):(re=ge-2,Z=R(N(v(oe),0),J-ne)),J+re-Z>W)throw D(G);for(Q=j(Y,Z),$=0;$<Z;$++)(F=ne+$)in Y&&P(Q,$,Y[F]);if(Q.length=Z,re<Z){for($=ne;$<J-Z;$++)H=$+re,(F=$+Z)in Y?Y[H]=Y[F]:delete Y[H];for($=J;$>J-Z+re;$--)delete Y[$-1]}else if(re>Z)for($=J-Z;$>ne;$--)H=$+re-1,(F=$+Z-1)in Y?Y[H]=Y[F]:delete Y[H];for($=0;$<re;$++)Y[$+ne]=arguments[$+2];return Y.length=J-Z+re,Q}})},function(u,c,o){var d=o(16),h=o(205);d({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return h(this,"a","name",m)}})},function(u,c,o){(function(d){var h=typeof d=="object"&&d&&d.Object===Object&&d;c.a=h}).call(this,o(68))},function(u,c,o){(function(d){var h=o(31),m=a&&!a.nodeType&&a,v=m&&typeof d=="object"&&d&&!d.nodeType&&d,x=v&&v.exports===m?h.a.Buffer:void 0,S=x?x.allocUnsafe:void 0;c.a=function(j,P){if(P)return j.slice();var k=j.length,D=S?S(k):new j.constructor(k);return j.copy(D),D}}).call(this,o(122)(u))},function(u,c,o){var d=o(70),h=o(18);u.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(u,c,o){var d=o(7),h=o(110),m="__core-js_shared__",v=d[m]||h(m,{});u.exports=v},function(u,c,o){var d=o(7),h=Object.defineProperty;u.exports=function(m,v){try{h(d,m,{value:v,configurable:!0,writable:!0})}catch{d[m]=v}return v}},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,o){var d={};d[o(28)("toStringTag")]="z",u.exports=String(d)==="[object z]"},function(u,c,o){var d=o(7),h=o(75),m=o(45),v=o(63),x=d.Array,S=Math.max;u.exports=function(j,P,k){for(var D=m(j),N=h(P,D),R=h(k===void 0?D:k,D),W=x(S(R-N,0)),G=0;N<R;N++,G++)v(W,G,j[N]);return W.length=G,W}},function(u,c,o){var d=o(178);u.exports=function(h,m){return new(d(h))(m===0?0:m)}},function(u,c,o){var d=o(16),h=o(34),m=o(71),v=o(73),x=o(30),S=o(180),j=o(101),P=o(102),k=o(78),D=o(57),N=o(42),R=o(28),W=o(80),G=o(142),K=v.PROPER,oe=v.CONFIGURABLE,re=G.IteratorPrototype,Z=G.BUGGY_SAFARI_ITERATORS,Q=R("iterator"),$="keys",F="values",H="entries",Y=function(){return this};u.exports=function(J,ne,ge,le,xe,Ce,je){S(ge,ne,le);var me,Pe,ke,Ve=function(se){if(se===xe&&_t)return _t;if(!Z&&se in Ye)return Ye[se];switch(se){case $:case F:case H:return function(){return new ge(this,se)}}return function(){return new ge(this)}},it=ne+" Iterator",wt=!1,Ye=J.prototype,Ze=Ye[Q]||Ye["@@iterator"]||xe&&Ye[xe],_t=!Z&&Ze||Ve(xe),ce=ne=="Array"&&Ye.entries||Ze;if(ce&&(me=j(ce.call(new J)))!==Object.prototype&&me.next&&(m||j(me)===re||(P?P(me,re):x(me[Q])||N(me,Q,Y)),k(me,it,!0,!0),m&&(W[it]=Y)),K&&xe==F&&Ze&&Ze.name!==F&&(!m&&oe?D(Ye,"name",F):(wt=!0,_t=function(){return h(Ze,this)})),xe)if(Pe={values:Ve(F),keys:Ce?_t:Ve($),entries:Ve(H)},je)for(ke in Pe)(Z||wt||!(ke in Ye))&&N(Ye,ke,Pe[ke]);else d({target:ne,proto:!0,forced:Z||wt},Pe);return m&&!je||Ye[Q]===_t||N(Ye,Q,_t,{name:xe}),W[ne]=_t,Pe}},function(u,c,o){var d=o(7),h=o(64),m=o(34),v=o(32),x=o(88),S=o(145),j=o(45),P=o(54),k=o(146),D=o(118),N=o(147),R=d.TypeError,W=function(K,oe){this.stopped=K,this.result=oe},G=W.prototype;u.exports=function(K,oe,re){var Z,Q,$,F,H,Y,J,ne=re&&re.that,ge=!(!re||!re.AS_ENTRIES),le=!(!re||!re.IS_ITERATOR),xe=!(!re||!re.INTERRUPTED),Ce=h(oe,ne),je=function(Pe){return Z&&N(Z,"normal",Pe),new W(!0,Pe)},me=function(Pe){return ge?(v(Pe),xe?Ce(Pe[0],Pe[1],je):Ce(Pe[0],Pe[1])):xe?Ce(Pe,je):Ce(Pe)};if(le)Z=K;else{if(!(Q=D(K)))throw R(x(K)+" is not iterable");if(S(Q)){for($=0,F=j(K);F>$;$++)if((H=me(K[$]))&&P(G,H))return H;return new W(!1)}Z=k(K,Q)}for(Y=Z.next;!(J=m(Y,Z)).done;){try{H=me(J.value)}catch(Pe){N(Z,"throw",Pe)}if(typeof H=="object"&&H&&P(G,H))return H}return new W(!1)}},function(u,c,o){var d=o(97),h=o(62),m=o(80),v=o(28)("iterator");u.exports=function(x){if(x!=null)return h(x,v)||h(x,"@@iterator")||m[d(x)]}},function(u,c,o){var d=o(7),h=o(54),m=d.TypeError;u.exports=function(v,x){if(h(x,v))return v;throw m("Incorrect invocation")}},function(u,c,o){var d=o(28)("iterator"),h=!1;try{var m=0,v={next:function(){return{done:!!m++}},return:function(){h=!0}};v[d]=function(){return this},Array.from(v,function(){throw 2})}catch{}u.exports=function(x,S){if(!S&&!h)return!1;var j=!1;try{var P={};P[d]=function(){return{next:function(){return{done:j=!0}}}},x(P)}catch{}return j}},function(u,c,o){var d=o(18);u.exports=function(h,m){var v=[][h];return!!v&&d(function(){v.call(null,m||function(){throw 1},1)})}},function(u,c){u.exports=function(o){if(!o.webpackPolyfill){var d=Object.create(o);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(u,c,o){o(19);var d=o(15),h=o(42),m=o(103),v=o(18),x=o(28),S=o(57),j=x("species"),P=RegExp.prototype;u.exports=function(k,D,N,R){var W=x(k),G=!v(function(){var Z={};return Z[W]=function(){return 7},""[k](Z)!=7}),K=G&&!v(function(){var Z=!1,Q=/a/;return k==="split"&&((Q={}).constructor={},Q.constructor[j]=function(){return Q},Q.flags="",Q[W]=/./[W]),Q.exec=function(){return Z=!0,null},Q[W](""),!Z});if(!G||!K||N){var oe=d(/./[W]),re=D(W,""[k],function(Z,Q,$,F,H){var Y=d(Z),J=Q.exec;return J===m||J===P.exec?G&&!H?{done:!0,value:oe(Q,$,F)}:{done:!0,value:Y($,Q,F)}:{done:!1}});h(String.prototype,k,re[0]),h(P,W,re[1])}R&&S(P[W],"sham",!0)}},function(u,c,o){var d=o(151).charAt;u.exports=function(h,m,v){return m+(v?d(h,m).length:1)}},function(u,c,o){var d=o(7),h=o(34),m=o(32),v=o(30),x=o(51),S=o(103),j=d.TypeError;u.exports=function(P,k){var D=P.exec;if(v(D)){var N=h(D,P,k);return N!==null&&m(N),N}if(x(P)==="RegExp")return h(S,P,k);throw j("RegExp#exec called on incompatible receiver")}},function(u,c,o){var d=o(76),h=o(34),m=o(15),v=o(123),x=o(18),S=o(32),j=o(30),P=o(59),k=o(94),D=o(39),N=o(44),R=o(124),W=o(62),G=o(201),K=o(125),oe=o(28)("replace"),re=Math.max,Z=Math.min,Q=m([].concat),$=m([].push),F=m("".indexOf),H=m("".slice),Y="a".replace(/./,"$0")==="$0",J=!!/./[oe]&&/./[oe]("a","$0")==="";v("replace",function(ne,ge,le){var xe=J?"$":"$0";return[function(Ce,je){var me=N(this),Pe=Ce==null?void 0:W(Ce,oe);return Pe?h(Pe,Ce,me,je):h(ge,D(me),Ce,je)},function(Ce,je){var me=S(this),Pe=D(Ce);if(typeof je=="string"&&F(je,xe)===-1&&F(je,"$<")===-1){var ke=le(ge,me,Pe,je);if(ke.done)return ke.value}var Ve=j(je);Ve||(je=D(je));var it=me.global;if(it){var wt=me.unicode;me.lastIndex=0}for(var Ye=[];;){var Ze=K(me,Pe);if(Ze===null||($(Ye,Ze),!it))break;D(Ze[0])===""&&(me.lastIndex=R(Pe,k(me.lastIndex),wt))}for(var _t,ce="",se=0,he=0;he<Ye.length;he++){for(var Ne=D((Ze=Ye[he])[0]),Ke=re(Z(P(Ze.index),Pe.length),0),Fe=[],At=1;At<Ze.length;At++)$(Fe,(_t=Ze[At])===void 0?_t:String(_t));var It=Ze.groups;if(Ve){var kt=Q([Ne],Fe,Ke,Pe);It!==void 0&&$(kt,It);var Ot=D(d(je,void 0,kt))}else Ot=G(Ne,Pe,Ke,Fe,It,je);Ke>=se&&(ce+=H(Pe,se,Ke)+Ot,se=Ke+Ne.length)}return ce+H(Pe,se)}]},!!x(function(){var ne=/./;return ne.exec=function(){var ge=[];return ge.groups={a:"7"},ge},"".replace(ne,"$<a>")!=="7"})||!Y||J)},function(u,c,o){var d=o(16),h=Math.hypot,m=Math.abs,v=Math.sqrt;d({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(x,S){for(var j,P,k=0,D=0,N=arguments.length,R=0;D<N;)R<(j=m(arguments[D++]))?(k=k*(P=R/j)*P+1,R=j):k+=j>0?(P=j/R)*P:j;return R===1/0?1/0:R*v(k)}})},function(u,c,o){var d=o(51),h=o(7);u.exports=d(h.process)=="process"},function(u,c,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,o){(function(d,h){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,x="Expected a function",S="__lodash_hash_undefined__",j="__lodash_placeholder__",P=16,k=32,D=64,N=128,R=256,W=1/0,G=9007199254740991,K=NaN,oe=4294967295,re=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",P],["flip",512],["partial",k],["partialRight",D],["rearg",R]],Z="[object Arguments]",Q="[object Array]",$="[object Boolean]",F="[object Date]",H="[object Error]",Y="[object Function]",J="[object GeneratorFunction]",ne="[object Map]",ge="[object Number]",le="[object Object]",xe="[object Promise]",Ce="[object RegExp]",je="[object Set]",me="[object String]",Pe="[object Symbol]",ke="[object WeakMap]",Ve="[object ArrayBuffer]",it="[object DataView]",wt="[object Float32Array]",Ye="[object Float64Array]",Ze="[object Int8Array]",_t="[object Int16Array]",ce="[object Int32Array]",se="[object Uint8Array]",he="[object Uint8ClampedArray]",Ne="[object Uint16Array]",Ke="[object Uint32Array]",Fe=/\b__p \+= '';/g,At=/\b(__p \+=) '' \+/g,It=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,Ot=/[&<>"']/g,Te=RegExp(kt.source),dt=RegExp(Ot.source),de=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,Wt=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gt=/^\w*$/,un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jn=/[\\^$.*+?()[\]{}|]/g,Ln=RegExp(jn.source),zt=/^\s+/,Jn=/\s/,te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ve=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,Oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Je=/[()=,{}\[\]\/\s]/,Qe=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,sr=/^[-+]0x[0-9a-f]+$/i,Or=/^0b[01]+$/i,Qn=/^\[object .+?Constructor\]$/,rr=/^0o[0-7]+$/i,ft=/^(?:0|[1-9]\d*)$/,Et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mt=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,wn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wn="\\u2700-\\u27bf",qo="a-z\\xdf-\\xf6\\xf8-\\xff",Do="A-Z\\xc0-\\xd6\\xd8-\\xde",Zo="\\ufe0e\\ufe0f",Hi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wc="['’]",Xu="[\\ud800-\\udfff]",io="["+Hi+"]",ma="["+wn+"]",ht="\\d+",Gc="[\\u2700-\\u27bf]",Yu="["+qo+"]",Ku="[^\\ud800-\\udfff"+Hi+ht+Wn+qo+Do+"]",Fr="\\ud83c[\\udffb-\\udfff]",qr="[^\\ud800-\\udfff]",Za="(?:\\ud83c[\\udde6-\\uddff]){2}",_o="[\\ud800-\\udbff][\\udc00-\\udfff]",ao="["+Do+"]",Oo="(?:"+Yu+"|"+Ku+")",qu="(?:"+ao+"|"+Ku+")",Zu="(?:['’](?:d|ll|m|re|s|t|ve))?",il="(?:['’](?:D|LL|M|RE|S|T|VE))?",ba="(?:"+ma+"|"+Fr+")?",al="[\\ufe0e\\ufe0f]?",Ju=al+ba+("(?:\\u200d(?:"+[qr,Za,_o].join("|")+")"+al+ba+")*"),Vc="(?:"+[Gc,Za,_o].join("|")+")"+Ju,Oi="(?:"+[qr+ma+"?",ma,Za,_o,Xu].join("|")+")",ul=RegExp(Wc,"g"),Jo=RegExp(ma,"g"),Qu=RegExp(Fr+"(?="+Fr+")|"+Oi+Ju,"g"),Ja=RegExp([ao+"?"+Yu+"+"+Zu+"(?="+[io,ao,"$"].join("|")+")",qu+"+"+il+"(?="+[io,ao+Oo,"$"].join("|")+")",ao+"?"+Oo+"+"+Zu,ao+"+"+il,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ht,Vc].join("|"),"g"),es=RegExp("[\\u200d\\ud800-\\udfff"+wn+Zo+"]"),ts=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$c=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],sl=-1,_n={};_n[wt]=_n[Ye]=_n[Ze]=_n[_t]=_n[ce]=_n[se]=_n[he]=_n[Ne]=_n[Ke]=!0,_n[Z]=_n[Q]=_n[Ve]=_n[$]=_n[it]=_n[F]=_n[H]=_n[Y]=_n[ne]=_n[ge]=_n[le]=_n[Ce]=_n[je]=_n[me]=_n[ke]=!1;var mn={};mn[Z]=mn[Q]=mn[Ve]=mn[it]=mn[$]=mn[F]=mn[wt]=mn[Ye]=mn[Ze]=mn[_t]=mn[ce]=mn[ne]=mn[ge]=mn[le]=mn[Ce]=mn[je]=mn[me]=mn[Pe]=mn[se]=mn[he]=mn[Ne]=mn[Ke]=!0,mn[H]=mn[Y]=mn[ke]=!1;var ll={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xi=parseFloat,Qo=parseInt,ns=typeof d=="object"&&d&&d.Object===Object&&d,cl=typeof self=="object"&&self&&self.Object===Object&&self,Xn=ns||cl||Function("return this")(),rs=c&&!c.nodeType&&c,_a=rs&&typeof h=="object"&&h&&!h.nodeType&&h,os=_a&&_a.exports===rs,Qa=os&&ns.process,wr=function(){try{var Ee=_a&&_a.require&&_a.require("util").types;return Ee||Qa&&Qa.binding&&Qa.binding("util")}catch{}}(),is=wr&&wr.isArrayBuffer,fl=wr&&wr.isDate,as=wr&&wr.isMap,eu=wr&&wr.isRegExp,Yi=wr&&wr.isSet,ei=wr&&wr.isTypedArray;function Mn(Ee,Ie,ze){switch(ze.length){case 0:return Ee.call(Ie);case 1:return Ee.call(Ie,ze[0]);case 2:return Ee.call(Ie,ze[0],ze[1]);case 3:return Ee.call(Ie,ze[0],ze[1],ze[2])}return Ee.apply(Ie,ze)}function Hc(Ee,Ie,ze,rt){for(var Vt=-1,tn=Ee==null?0:Ee.length;++Vt<tn;){var Dn=Ee[Vt];Ie(rt,Dn,ze(Dn),Ee)}return rt}function Ur(Ee,Ie){for(var ze=-1,rt=Ee==null?0:Ee.length;++ze<rt&&Ie(Ee[ze],ze,Ee)!==!1;);return Ee}function Xc(Ee,Ie){for(var ze=Ee==null?0:Ee.length;ze--&&Ie(Ee[ze],ze,Ee)!==!1;);return Ee}function pl(Ee,Ie){for(var ze=-1,rt=Ee==null?0:Ee.length;++ze<rt;)if(!Ie(Ee[ze],ze,Ee))return!1;return!0}function kr(Ee,Ie){for(var ze=-1,rt=Ee==null?0:Ee.length,Vt=0,tn=[];++ze<rt;){var Dn=Ee[ze];Ie(Dn,ze,Ee)&&(tn[Vt++]=Dn)}return tn}function uo(Ee,Ie){return!!(Ee!=null&&Ee.length)&&Ki(Ee,Ie,0)>-1}function us(Ee,Ie,ze){for(var rt=-1,Vt=Ee==null?0:Ee.length;++rt<Vt;)if(ze(Ie,Ee[rt]))return!0;return!1}function fn(Ee,Ie){for(var ze=-1,rt=Ee==null?0:Ee.length,Vt=Array(rt);++ze<rt;)Vt[ze]=Ie(Ee[ze],ze,Ee);return Vt}function lr(Ee,Ie){for(var ze=-1,rt=Ie.length,Vt=Ee.length;++ze<rt;)Ee[Vt+ze]=Ie[ze];return Ee}function tu(Ee,Ie,ze,rt){var Vt=-1,tn=Ee==null?0:Ee.length;for(rt&&tn&&(ze=Ee[++Vt]);++Vt<tn;)ze=Ie(ze,Ee[Vt],Vt,Ee);return ze}function dl(Ee,Ie,ze,rt){var Vt=Ee==null?0:Ee.length;for(rt&&Vt&&(ze=Ee[--Vt]);Vt--;)ze=Ie(ze,Ee[Vt],Vt,Ee);return ze}function ss(Ee,Ie){for(var ze=-1,rt=Ee==null?0:Ee.length;++ze<rt;)if(Ie(Ee[ze],ze,Ee))return!0;return!1}var nu=Gr("length");function Co(Ee,Ie,ze){var rt;return ze(Ee,function(Vt,tn,Dn){if(Ie(Vt,tn,Dn))return rt=tn,!1}),rt}function ti(Ee,Ie,ze,rt){for(var Vt=Ee.length,tn=ze+(rt?1:-1);rt?tn--:++tn<Vt;)if(Ie(Ee[tn],tn,Ee))return tn;return-1}function Ki(Ee,Ie,ze){return Ie==Ie?function(rt,Vt,tn){for(var Dn=tn-1,O=rt.length;++Dn<O;)if(rt[Dn]===Vt)return Dn;return-1}(Ee,Ie,ze):ti(Ee,ni,ze)}function Wr(Ee,Ie,ze,rt){for(var Vt=ze-1,tn=Ee.length;++Vt<tn;)if(rt(Ee[Vt],Ie))return Vt;return-1}function ni(Ee){return Ee!=Ee}function sn(Ee,Ie){var ze=Ee==null?0:Ee.length;return ze?ru(Ee,Ie)/ze:K}function Gr(Ee){return function(Ie){return Ie==null?v:Ie[Ee]}}function Ro(Ee){return function(Ie){return Ee==null?v:Ee[Ie]}}function mr(Ee,Ie,ze,rt,Vt){return Vt(Ee,function(tn,Dn,O){ze=rt?(rt=!1,tn):Ie(ze,tn,Dn,O)}),ze}function ru(Ee,Ie){for(var ze,rt=-1,Vt=Ee.length;++rt<Vt;){var tn=Ie(Ee[rt]);tn!==v&&(ze=ze===v?tn:ze+tn)}return ze}function Oa(Ee,Ie){for(var ze=-1,rt=Array(Ee);++ze<Ee;)rt[ze]=Ie(ze);return rt}function ls(Ee){return Ee&&Ee.slice(0,Vr(Ee)+1).replace(zt,"")}function Gn(Ee){return function(Ie){return Ee(Ie)}}function ou(Ee,Ie){return fn(Ie,function(ze){return Ee[ze]})}function ri(Ee,Ie){return Ee.has(Ie)}function so(Ee,Ie){for(var ze=-1,rt=Ee.length;++ze<rt&&Ki(Ie,Ee[ze],0)>-1;);return ze}function cs(Ee,Ie){for(var ze=Ee.length;ze--&&Ki(Ie,Ee[ze],0)>-1;);return ze}function Yc(Ee,Ie){for(var ze=Ee.length,rt=0;ze--;)Ee[ze]===Ie&&++rt;return rt}var fs=Ro({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),er=Ro({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function wa(Ee){return"\\"+ll[Ee]}function Io(Ee){return es.test(Ee)}function Tr(Ee){var Ie=-1,ze=Array(Ee.size);return Ee.forEach(function(rt,Vt){ze[++Ie]=[Vt,rt]}),ze}function ps(Ee,Ie){return function(ze){return Ee(Ie(ze))}}function Zr(Ee,Ie){for(var ze=-1,rt=Ee.length,Vt=0,tn=[];++ze<rt;){var Dn=Ee[ze];Dn!==Ie&&Dn!==j||(Ee[ze]=j,tn[Vt++]=ze)}return tn}function wi(Ee){var Ie=-1,ze=Array(Ee.size);return Ee.forEach(function(rt){ze[++Ie]=rt}),ze}function iu(Ee){var Ie=-1,ze=Array(Ee.size);return Ee.forEach(function(rt){ze[++Ie]=[rt,rt]}),ze}function Lo(Ee){return Io(Ee)?function(Ie){for(var ze=Qu.lastIndex=0;Qu.test(Ie);)++ze;return ze}(Ee):nu(Ee)}function Jr(Ee){return Io(Ee)?function(Ie){return Ie.match(Qu)||[]}(Ee):function(Ie){return Ie.split("")}(Ee)}function Vr(Ee){for(var Ie=Ee.length;Ie--&&Jn.test(Ee.charAt(Ie)););return Ie}var lo=Ro({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),zo=function Ee(Ie){var ze,rt=(Ie=Ie==null?Xn:zo.defaults(Xn.Object(),Ie,zo.pick(Xn,$c))).Array,Vt=Ie.Date,tn=Ie.Error,Dn=Ie.Function,O=Ie.Math,w=Ie.Object,T=Ie.RegExp,z=Ie.String,q=Ie.TypeError,ye=rt.prototype,Ae=Dn.prototype,Ge=w.prototype,pt=Ie["__core-js_shared__"],Jt=Ae.toString,ot=Ge.hasOwnProperty,An=0,$t=(ze=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||""))?"Symbol(src)_1."+ze:"",dn=Ge.toString,co=Jt.call(w),Bn=Xn._,$r=T("^"+Jt.call(ot).replace(jn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oi=os?Ie.Buffer:v,ii=Ie.Symbol,xa=Ie.Uint8Array,ds=oi?oi.allocUnsafe:v,xi=ps(w.getPrototypeOf,w),au=w.create,Nr=Ge.propertyIsEnumerable,Ea=ye.splice,qi=ii?ii.isConcatSpreadable:v,Ei=ii?ii.iterator:v,Si=ii?ii.toStringTag:v,uu=function(){try{var f=Ma(w,"defineProperty");return f({},"",{}),f}catch{}}(),By=Ie.clearTimeout!==Xn.clearTimeout&&Ie.clearTimeout,Fy=Vt&&Vt.now!==Xn.Date.now&&Vt.now,$p=Ie.setTimeout!==Xn.setTimeout&&Ie.setTimeout,hl=O.ceil,su=O.floor,Kc=w.getOwnPropertySymbols,Uy=oi?oi.isBuffer:v,Hp=Ie.isFinite,qc=ye.join,Xp=ps(w.keys,w),br=O.max,Dr=O.min,yl=Vt.now,vl=Ie.parseInt,gl=O.random,Wy=ye.reverse,lu=Ma(Ie,"DataView"),cu=Ma(Ie,"Map"),Zc=Ma(Ie,"Promise"),Sa=Ma(Ie,"Set"),fu=Ma(Ie,"WeakMap"),hs=Ma(w,"create"),ml=fu&&new fu,pu={},Gy=ta(lu),Yp=ta(cu),Vy=ta(Zc),$y=ta(Sa),Kp=ta(fu),bl=ii?ii.prototype:v,jr=bl?bl.valueOf:v,qp=bl?bl.toString:v;function B(f){if(Kn(f)&&!Ht(f)&&!(f instanceof cn)){if(f instanceof wo)return f;if(ot.call(f,"__wrapped__"))return Tf(f)}return new wo(f)}var du=function(){function f(){}return function(y){if(!Hn(y))return{};if(au)return au(y);f.prototype=y;var _=new f;return f.prototype=v,_}}();function ys(){}function wo(f,y){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=v}function cn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function ja(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var M=f[y];this.set(M[0],M[1])}}function Pn(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var M=f[y];this.set(M[0],M[1])}}function ai(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var M=f[y];this.set(M[0],M[1])}}function Zi(f){var y=-1,_=f==null?0:f.length;for(this.__data__=new ai;++y<_;)this.add(f[y])}function xo(f){var y=this.__data__=new Pn(f);this.size=y.size}function Jc(f,y){var _=Ht(f),M=!_&&ka(f),I=!_&&!M&&Hr(f),V=!_&&!M&&!I&&Di(f),ae=_||M||I||V,pe=ae?Oa(f.length,z):[],we=pe.length;for(var Be in f)!y&&!ot.call(f,Be)||ae&&(Be=="length"||I&&(Be=="offset"||Be=="parent")||V&&(Be=="buffer"||Be=="byteLength"||Be=="byteOffset")||ho(Be,we))||pe.push(Be);return pe}function Qc(f){var y=f.length;return y?f[sf(0,y-1)]:v}function Zp(f,y){return Es(eo(f),Ji(y,0,f.length))}function Jp(f){return Es(eo(f))}function _l(f,y,_){(_!==v&&!Wo(f[y],_)||_===v&&!(y in f))&&ui(f,y,_)}function hu(f,y,_){var M=f[y];ot.call(f,y)&&Wo(M,_)&&(_!==v||y in f)||ui(f,y,_)}function vs(f,y){for(var _=f.length;_--;)if(Wo(f[_][0],y))return _;return-1}function Qp(f,y,_,M){return Fn(f,function(I,V,ae){y(M,I,_(I),ae)}),M}function ef(f,y){return f&&Bo(y,qn(y),f)}function ui(f,y,_){y=="__proto__"&&uu?uu(f,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):f[y]=_}function Ol(f,y){for(var _=-1,M=y.length,I=rt(M),V=f==null;++_<M;)I[_]=V?v:Au(f,y[_]);return I}function Ji(f,y,_){return f==f&&(_!==v&&(f=f<=_?f:_),y!==v&&(f=f>=y?f:y)),f}function fo(f,y,_,M,I,V){var ae,pe=1&y,we=2&y,Be=4&y;if(_&&(ae=I?_(f,M,I,V):_(f)),ae!==v)return ae;if(!Hn(f))return f;var Re=Ht(f);if(Re){if(ae=function(Ue){var He=Ue.length,Tt=new Ue.constructor(He);return He&&typeof Ue[0]=="string"&&ot.call(Ue,"index")&&(Tt.index=Ue.index,Tt.input=Ue.input),Tt}(f),!pe)return eo(f,ae)}else{var $e=Cr(f),ut=$e==Y||$e==J;if(Hr(f))return dd(f,pe);if($e==le||$e==Z||ut&&!I){if(ae=we||ut?{}:Ni(f),!pe)return we?function(Ue,He){return Bo(Ue,zl(Ue),He)}(f,function(Ue,He){return Ue&&Bo(He,Lr(He),Ue)}(ae,f)):function(Ue,He){return Bo(Ue,_r(Ue),He)}(f,ef(ae,f))}else{if(!mn[$e])return I?f:{};ae=function(Ue,He,Tt){var st=Ue.constructor;switch(He){case Ve:return vf(Ue);case $:case F:return new st(+Ue);case it:return function(Ut,an){var St=an?vf(Ut.buffer):Ut.buffer;return new Ut.constructor(St,Ut.byteOffset,Ut.byteLength)}(Ue,Tt);case wt:case Ye:case Ze:case _t:case ce:case se:case he:case Ne:case Ke:return hd(Ue,Tt);case ne:return new st;case ge:case me:return new st(Ue);case Ce:return function(Ut){var an=new Ut.constructor(Ut.source,qt.exec(Ut));return an.lastIndex=Ut.lastIndex,an}(Ue);case je:return new st;case Pe:return fe=Ue,jr?w(jr.call(fe)):{}}var fe}(f,$e,pe)}}V||(V=new xo);var gt=V.get(f);if(gt)return gt;V.set(f,ae),Fd(f)?f.forEach(function(Ue){ae.add(fo(Ue,y,_,Ue,f,V))}):Wf(f)&&f.forEach(function(Ue,He){ae.set(He,fo(Ue,y,_,He,f,V))});var Pt=Re?v:(Be?we?_f:bf:we?Lr:qn)(f);return Ur(Pt||f,function(Ue,He){Pt&&(Ue=f[He=Ue]),hu(ae,He,fo(Ue,y,_,He,f,V))}),ae}function tf(f,y,_){var M=_.length;if(f==null)return!M;for(f=w(f);M--;){var I=_[M],V=y[I],ae=f[I];if(ae===v&&!(I in f)||!V(ae))return!1}return!0}function nf(f,y,_){if(typeof f!="function")throw new q(x);return _u(function(){f.apply(v,_)},y)}function ji(f,y,_,M){var I=-1,V=uo,ae=!0,pe=f.length,we=[],Be=y.length;if(!pe)return we;_&&(y=fn(y,Gn(_))),M?(V=us,ae=!1):y.length>=200&&(V=ri,ae=!1,y=new Zi(y));e:for(;++I<pe;){var Re=f[I],$e=_==null?Re:_(Re);if(Re=M||Re!==0?Re:0,ae&&$e==$e){for(var ut=Be;ut--;)if(y[ut]===$e)continue e;we.push(Re)}else V(y,$e,M)||we.push(Re)}return we}B.templateSettings={escape:de,evaluate:ct,interpolate:Wt,variable:"",imports:{_:B}},B.prototype=ys.prototype,B.prototype.constructor=B,wo.prototype=du(ys.prototype),wo.prototype.constructor=wo,cn.prototype=du(ys.prototype),cn.prototype.constructor=cn,ja.prototype.clear=function(){this.__data__=hs?hs(null):{},this.size=0},ja.prototype.delete=function(f){var y=this.has(f)&&delete this.__data__[f];return this.size-=y?1:0,y},ja.prototype.get=function(f){var y=this.__data__;if(hs){var _=y[f];return _===S?v:_}return ot.call(y,f)?y[f]:v},ja.prototype.has=function(f){var y=this.__data__;return hs?y[f]!==v:ot.call(y,f)},ja.prototype.set=function(f,y){var _=this.__data__;return this.size+=this.has(f)?0:1,_[f]=hs&&y===v?S:y,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(f){var y=this.__data__,_=vs(y,f);return!(_<0)&&(_==y.length-1?y.pop():Ea.call(y,_,1),--this.size,!0)},Pn.prototype.get=function(f){var y=this.__data__,_=vs(y,f);return _<0?v:y[_][1]},Pn.prototype.has=function(f){return vs(this.__data__,f)>-1},Pn.prototype.set=function(f,y){var _=this.__data__,M=vs(_,f);return M<0?(++this.size,_.push([f,y])):_[M][1]=y,this},ai.prototype.clear=function(){this.size=0,this.__data__={hash:new ja,map:new(cu||Pn),string:new ja}},ai.prototype.delete=function(f){var y=Ll(this,f).delete(f);return this.size-=y?1:0,y},ai.prototype.get=function(f){return Ll(this,f).get(f)},ai.prototype.has=function(f){return Ll(this,f).has(f)},ai.prototype.set=function(f,y){var _=Ll(this,f),M=_.size;return _.set(f,y),this.size+=_.size==M?0:1,this},Zi.prototype.add=Zi.prototype.push=function(f){return this.__data__.set(f,S),this},Zi.prototype.has=function(f){return this.__data__.has(f)},xo.prototype.clear=function(){this.__data__=new Pn,this.size=0},xo.prototype.delete=function(f){var y=this.__data__,_=y.delete(f);return this.size=y.size,_},xo.prototype.get=function(f){return this.__data__.get(f)},xo.prototype.has=function(f){return this.__data__.has(f)},xo.prototype.set=function(f,y){var _=this.__data__;if(_ instanceof Pn){var M=_.__data__;if(!cu||M.length<199)return M.push([f,y]),this.size=++_.size,this;_=this.__data__=new ai(M)}return _.set(f,y),this.size=_.size,this};var Fn=gd(vt),ed=gd(Cn,!0);function td(f,y){var _=!0;return Fn(f,function(M,I,V){return _=!!y(M,I,V)}),_}function tr(f,y,_){for(var M=-1,I=f.length;++M<I;){var V=f[M],ae=y(V);if(ae!=null&&(pe===v?ae==ae&&!Xr(ae):_(ae,pe)))var pe=ae,we=V}return we}function On(f,y){var _=[];return Fn(f,function(M,I,V){y(M,I,V)&&_.push(M)}),_}function xr(f,y,_,M,I){var V=-1,ae=f.length;for(_||(_=Qy),I||(I=[]);++V<ae;){var pe=f[V];y>0&&_(pe)?y>1?xr(pe,y-1,_,M,I):lr(I,pe):M||(I[I.length]=pe)}return I}var Qt=bs(),or=bs(!0);function vt(f,y){return f&&Qt(f,y,qn)}function Cn(f,y){return f&&or(f,y,qn)}function wl(f,y){return kr(y,function(_){return jo(f[_])})}function Ai(f,y){for(var _=0,M=(y=bn(y,f)).length;f!=null&&_<M;)f=f[Fo(y[_++])];return _&&_==M?f:v}function rf(f,y,_){var M=y(f);return Ht(f)?M:lr(M,_(f))}function Vn(f){return f==null?f===v?"[object Undefined]":"[object Null]":Si&&Si in w(f)?function(y){var _=ot.call(y,Si),M=y[Si];try{y[Si]=v;var I=!0}catch{}var V=dn.call(y);return I&&(_?y[Si]=M:delete y[Si]),V}(f):function(y){return dn.call(y)}(f)}function Yn(f,y){return f>y}function nd(f,y){return f!=null&&ot.call(f,y)}function rd(f,y){return f!=null&&y in w(f)}function xl(f,y,_){for(var M=_?us:uo,I=f[0].length,V=f.length,ae=V,pe=rt(V),we=1/0,Be=[];ae--;){var Re=f[ae];ae&&y&&(Re=fn(Re,Gn(y))),we=Dr(Re.length,we),pe[ae]=!_&&(y||I>=120&&Re.length>=120)?new Zi(ae&&Re):v}Re=f[0];var $e=-1,ut=pe[0];e:for(;++$e<I&&Be.length<we;){var gt=Re[$e],Pt=y?y(gt):gt;if(gt=_||gt!==0?gt:0,!(ut?ri(ut,Pt):M(Be,Pt,_))){for(ae=V;--ae;){var Ue=pe[ae];if(!(Ue?ri(Ue,Pt):M(f[ae],Pt,_)))continue e}ut&&ut.push(Pt),Be.push(gt)}}return Be}function yu(f,y,_){var M=(f=jf(f,y=bn(y,f)))==null?f:f[Fo($n(y))];return M==null?v:Mn(M,f,_)}function of(f){return Kn(f)&&Vn(f)==Z}function vu(f,y,_,M,I){return f===y||(f==null||y==null||!Kn(f)&&!Kn(y)?f!=f&&y!=y:function(V,ae,pe,we,Be,Re){var $e=Ht(V),ut=Ht(ae),gt=$e?Q:Cr(V),Pt=ut?Q:Cr(ae),Ue=(gt=gt==Z?le:gt)==le,He=(Pt=Pt==Z?le:Pt)==le,Tt=gt==Pt;if(Tt&&Hr(V)){if(!Hr(ae))return!1;$e=!0,Ue=!1}if(Tt&&!Ue)return Re||(Re=new xo),$e||Di(V)?Il(V,ae,pe,we,Be,Re):function(St,Ct,fr,ro,Go,pr,li){switch(fr){case it:if(St.byteLength!=Ct.byteLength||St.byteOffset!=Ct.byteOffset)return!1;St=St.buffer,Ct=Ct.buffer;case Ve:return!(St.byteLength!=Ct.byteLength||!pr(new xa(St),new xa(Ct)));case $:case F:case ge:return Wo(+St,+Ct);case H:return St.name==Ct.name&&St.message==Ct.message;case Ce:case me:return St==Ct+"";case ne:var Ii=Tr;case je:var Mu=1&ro;if(Ii||(Ii=wi),St.size!=Ct.size&&!Mu)return!1;var Bs=li.get(St);if(Bs)return Bs==Ct;ro|=2,li.set(St,Ct);var ci=Il(Ii(St),Ii(Ct),ro,Go,pr,li);return li.delete(St),ci;case Pe:if(jr)return jr.call(St)==jr.call(Ct)}return!1}(V,ae,gt,pe,we,Be,Re);if(!(1&pe)){var st=Ue&&ot.call(V,"__wrapped__"),fe=He&&ot.call(ae,"__wrapped__");if(st||fe){var Ut=st?V.value():V,an=fe?ae.value():ae;return Re||(Re=new xo),Be(Ut,an,pe,we,Re)}}return Tt?(Re||(Re=new xo),function(St,Ct,fr,ro,Go,pr){var li=1&fr,Ii=bf(St),Mu=Ii.length,Bs=bf(Ct).length;if(Mu!=Bs&&!li)return!1;for(var ci=Mu;ci--;){var aa=Ii[ci];if(!(li?aa in Ct:ot.call(Ct,aa)))return!1}var up=pr.get(St),ku=pr.get(Ct);if(up&&ku)return up==Ct&&ku==St;var Fs=!0;pr.set(St,Ct),pr.set(Ct,St);for(var sp=li;++ci<Mu;){var Us=St[aa=Ii[ci]],Na=Ct[aa];if(ro)var Da=li?ro(Na,Us,aa,Ct,St,pr):ro(Us,Na,aa,St,Ct,pr);if(!(Da===v?Us===Na||Go(Us,Na,fr,ro,pr):Da)){Fs=!1;break}sp||(sp=aa=="constructor")}if(Fs&&!sp){var Li=St.constructor,Ws=Ct.constructor;Li==Ws||!("constructor"in St)||!("constructor"in Ct)||typeof Li=="function"&&Li instanceof Li&&typeof Ws=="function"&&Ws instanceof Ws||(Fs=!1)}return pr.delete(St),pr.delete(Ct),Fs}(V,ae,pe,we,Be,Re)):!1}(f,y,_,M,vu,I))}function El(f,y,_,M){var I=_.length,V=I,ae=!M;if(f==null)return!V;for(f=w(f);I--;){var pe=_[I];if(ae&&pe[2]?pe[1]!==f[pe[0]]:!(pe[0]in f))return!1}for(;++I<V;){var we=(pe=_[I])[0],Be=f[we],Re=pe[1];if(ae&&pe[2]){if(Be===v&&!(we in f))return!1}else{var $e=new xo;if(M)var ut=M(Be,Re,we,f,y,$e);if(!(ut===v?vu(Re,Be,3,M,$e):ut))return!1}}return!0}function gu(f){return!(!Hn(f)||(y=f,$t&&$t in y))&&(jo(f)?$r:Qn).test(ta(f));var y}function af(f){return typeof f=="function"?f:f==null?Yr:typeof f=="object"?Ht(f)?id(f[0],f[1]):od(f):oc(f)}function Pi(f){if(!De(f))return Xp(f);var y=[];for(var _ in w(f))ot.call(f,_)&&_!="constructor"&&y.push(_);return y}function Hy(f){if(!Hn(f))return function(I){var V=[];if(I!=null)for(var ae in w(I))V.push(ae);return V}(f);var y=De(f),_=[];for(var M in f)(M!="constructor"||!y&&ot.call(f,M))&&_.push(M);return _}function Mi(f,y){return f<y}function Eo(f,y){var _=-1,M=no(f)?rt(f.length):[];return Fn(f,function(I,V,ae){M[++_]=y(I,V,ae)}),M}function od(f){var y=wf(f);return y.length==1&&y[0][2]?Ef(y[0][0],y[0][1]):function(_){return _===f||El(_,f,y)}}function id(f,y){return Fl(f)&&xf(y)?Ef(Fo(f),y):function(_){var M=Au(_,f);return M===v&&M===y?tc(_,f):vu(y,M,3)}}function Sl(f,y,_,M,I){f!==y&&Qt(y,function(V,ae){if(I||(I=new xo),Hn(V))(function(we,Be,Re,$e,ut,gt,Pt){var Ue=Wl(we,Re),He=Wl(Be,Re),Tt=Pt.get(He);if(Tt)return void _l(we,Re,Tt);var st=gt?gt(Ue,He,Re+"",we,Be,Pt):v,fe=st===v;if(fe){var Ut=Ht(He),an=!Ut&&Hr(He),St=!Ut&&!an&&Di(He);st=He,Ut||an||St?Ht(Ue)?st=Ue:Un(Ue)?st=eo(Ue):an?(fe=!1,st=dd(He,!0)):St?(fe=!1,st=hd(He,!0)):st=[]:Su(He)||ka(He)?(st=Ue,ka(Ue)?st=$f(Ue):Hn(Ue)&&!jo(Ue)||(st=Ni(He))):fe=!1}fe&&(Pt.set(He,st),ut(st,He,$e,gt,Pt),Pt.delete(He)),_l(we,Re,st)})(f,y,ae,_,Sl,M,I);else{var pe=M?M(Wl(f,ae),V,ae+"",f,y,I):v;pe===v&&(pe=V),_l(f,ae,pe)}},Lr)}function ad(f,y){var _=f.length;if(_)return ho(y+=y<0?_:0,_)?f[y]:v}function ud(f,y,_){y=y.length?fn(y,function(V){return Ht(V)?function(ae){return Ai(ae,V.length===1?V[0]:V)}:V}):[Yr];var M=-1;y=fn(y,Gn(Dt()));var I=Eo(f,function(V,ae,pe){var we=fn(y,function(Be){return Be(V)});return{criteria:we,index:++M,value:V}});return function(V,ae){var pe=V.length;for(V.sort(ae);pe--;)V[pe]=V[pe].value;return V}(I,function(V,ae){return function(pe,we,Be){for(var Re=-1,$e=pe.criteria,ut=we.criteria,gt=$e.length,Pt=Be.length;++Re<gt;){var Ue=gf($e[Re],ut[Re]);if(Ue)return Re>=Pt?Ue:Ue*(Be[Re]=="desc"?-1:1)}return pe.index-we.index}(V,ae,_)})}function sd(f,y,_){for(var M=-1,I=y.length,V={};++M<I;){var ae=y[M],pe=Ai(f,ae);_(pe,ae)&&gs(V,bn(ae,f),pe)}return V}function jl(f,y,_,M){var I=M?Wr:Ki,V=-1,ae=y.length,pe=f;for(f===y&&(y=eo(y)),_&&(pe=fn(f,Gn(_)));++V<ae;)for(var we=0,Be=y[V],Re=_?_(Be):Be;(we=I(pe,Re,we,M))>-1;)pe!==f&&Ea.call(pe,we,1),Ea.call(f,we,1);return f}function uf(f,y){for(var _=f?y.length:0,M=_-1;_--;){var I=y[_];if(_==M||I!==V){var V=I;ho(I)?Ea.call(f,I,1):Pl(f,I)}}return f}function sf(f,y){return f+su(gl()*(y-f+1))}function Al(f,y){var _="";if(!f||y<1||y>G)return _;do y%2&&(_+=f),(y=su(y/2))&&(f+=f);while(y);return _}function nn(f,y){return Gl(Sf(f,y,Yr),f+"")}function Xy(f){return Qc(ia(f))}function lf(f,y){var _=ia(f);return Es(_,Ji(y,0,_.length))}function gs(f,y,_,M){if(!Hn(f))return f;for(var I=-1,V=(y=bn(y,f)).length,ae=V-1,pe=f;pe!=null&&++I<V;){var we=Fo(y[I]),Be=_;if(we==="__proto__"||we==="constructor"||we==="prototype")return f;if(I!=ae){var Re=pe[we];(Be=M?M(Re,we,pe):v)===v&&(Be=Hn(Re)?Re:ho(y[I+1])?[]:{})}hu(pe,we,Be),pe=pe[we]}return f}var ld=ml?function(f,y){return ml.set(f,y),f}:Yr,Yy=uu?function(f,y){return uu(f,"toString",{configurable:!0,enumerable:!1,value:Ns(y),writable:!0})}:Yr;function cd(f){return Es(ia(f))}function po(f,y,_){var M=-1,I=f.length;y<0&&(y=-y>I?0:I+y),(_=_>I?I:_)<0&&(_+=I),I=y>_?0:_-y>>>0,y>>>=0;for(var V=rt(I);++M<I;)V[M]=f[M+y];return V}function Ky(f,y){var _;return Fn(f,function(M,I,V){return!(_=y(M,I,V))}),!!_}function ms(f,y,_){var M=0,I=f==null?M:f.length;if(typeof y=="number"&&y==y&&I<=2147483647){for(;M<I;){var V=M+I>>>1,ae=f[V];ae!==null&&!Xr(ae)&&(_?ae<=y:ae<y)?M=V+1:I=V}return I}return cf(f,y,Yr,_)}function cf(f,y,_,M){var I=0,V=f==null?0:f.length;if(V===0)return 0;for(var ae=(y=_(y))!=y,pe=y===null,we=Xr(y),Be=y===v;I<V;){var Re=su((I+V)/2),$e=_(f[Re]),ut=$e!==v,gt=$e===null,Pt=$e==$e,Ue=Xr($e);if(ae)var He=M||Pt;else He=Be?Pt&&(M||ut):pe?Pt&&ut&&(M||!gt):we?Pt&&ut&&!gt&&(M||!Ue):!gt&&!Ue&&(M?$e<=y:$e<y);He?I=Re+1:V=Re}return Dr(V,4294967294)}function ff(f,y){for(var _=-1,M=f.length,I=0,V=[];++_<M;){var ae=f[_],pe=y?y(ae):ae;if(!_||!Wo(pe,we)){var we=pe;V[I++]=ae===0?0:ae}}return V}function fd(f){return typeof f=="number"?f:Xr(f)?K:+f}function Qr(f){if(typeof f=="string")return f;if(Ht(f))return fn(f,Qr)+"";if(Xr(f))return qp?qp.call(f):"";var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function Qi(f,y,_){var M=-1,I=uo,V=f.length,ae=!0,pe=[],we=pe;if(_)ae=!1,I=us;else if(V>=200){var Be=y?null:Zy(f);if(Be)return wi(Be);ae=!1,I=ri,we=new Zi}else we=y?[]:pe;e:for(;++M<V;){var Re=f[M],$e=y?y(Re):Re;if(Re=_||Re!==0?Re:0,ae&&$e==$e){for(var ut=we.length;ut--;)if(we[ut]===$e)continue e;y&&we.push($e),pe.push(Re)}else I(we,$e,_)||(we!==pe&&we.push($e),pe.push(Re))}return pe}function Pl(f,y){return(f=jf(f,y=bn(y,f)))==null||delete f[Fo($n(y))]}function pd(f,y,_,M){return gs(f,y,_(Ai(f,y)),M)}function Ml(f,y,_,M){for(var I=f.length,V=M?I:-1;(M?V--:++V<I)&&y(f[V],V,f););return _?po(f,M?0:V,M?V+1:I):po(f,M?V+1:0,M?I:V)}function pf(f,y){var _=f;return _ instanceof cn&&(_=_.value()),tu(y,function(M,I){return I.func.apply(I.thisArg,lr([M],I.args))},_)}function df(f,y,_){var M=f.length;if(M<2)return M?Qi(f[0]):[];for(var I=-1,V=rt(M);++I<M;)for(var ae=f[I],pe=-1;++pe<M;)pe!=I&&(V[I]=ji(V[I]||ae,f[pe],y,_));return Qi(xr(V,1),y,_)}function hf(f,y,_){for(var M=-1,I=f.length,V=y.length,ae={};++M<I;){var pe=M<V?y[M]:v;_(ae,f[M],pe)}return ae}function kl(f){return Un(f)?f:[]}function yf(f){return typeof f=="function"?f:Yr}function bn(f,y){return Ht(f)?f:Fl(f,y)?[f]:kf(hn(f))}var qy=nn;function xn(f,y,_){var M=f.length;return _=_===v?M:_,!y&&_>=M?f:po(f,y,_)}var Tl=By||function(f){return Xn.clearTimeout(f)};function dd(f,y){if(y)return f.slice();var _=f.length,M=ds?ds(_):new f.constructor(_);return f.copy(M),M}function vf(f){var y=new f.constructor(f.byteLength);return new xa(y).set(new xa(f)),y}function hd(f,y){var _=y?vf(f.buffer):f.buffer;return new f.constructor(_,f.byteOffset,f.length)}function gf(f,y){if(f!==y){var _=f!==v,M=f===null,I=f==f,V=Xr(f),ae=y!==v,pe=y===null,we=y==y,Be=Xr(y);if(!pe&&!Be&&!V&&f>y||V&&ae&&we&&!pe&&!Be||M&&ae&&we||!_&&we||!I)return 1;if(!M&&!V&&!Be&&f<y||Be&&_&&I&&!M&&!V||pe&&_&&I||!ae&&I||!we)return-1}return 0}function yd(f,y,_,M){for(var I=-1,V=f.length,ae=_.length,pe=-1,we=y.length,Be=br(V-ae,0),Re=rt(we+Be),$e=!M;++pe<we;)Re[pe]=y[pe];for(;++I<ae;)($e||I<V)&&(Re[_[I]]=f[I]);for(;Be--;)Re[pe++]=f[I++];return Re}function vd(f,y,_,M){for(var I=-1,V=f.length,ae=-1,pe=_.length,we=-1,Be=y.length,Re=br(V-pe,0),$e=rt(Re+Be),ut=!M;++I<Re;)$e[I]=f[I];for(var gt=I;++we<Be;)$e[gt+we]=y[we];for(;++ae<pe;)(ut||I<V)&&($e[gt+_[ae]]=f[I++]);return $e}function eo(f,y){var _=-1,M=f.length;for(y||(y=rt(M));++_<M;)y[_]=f[_];return y}function Bo(f,y,_,M){var I=!_;_||(_={});for(var V=-1,ae=y.length;++V<ae;){var pe=y[V],we=M?M(_[pe],f[pe],pe,_,f):v;we===v&&(we=f[pe]),I?ui(_,pe,we):hu(_,pe,we)}return _}function Nl(f,y){return function(_,M){var I=Ht(_)?Hc:Qp,V=y?y():{};return I(_,f,Dt(M,2),V)}}function mu(f){return nn(function(y,_){var M=-1,I=_.length,V=I>1?_[I-1]:v,ae=I>2?_[2]:v;for(V=f.length>3&&typeof V=="function"?(I--,V):v,ae&&Ar(_[0],_[1],ae)&&(V=I<3?v:V,I=1),y=w(y);++M<I;){var pe=_[M];pe&&f(y,pe,M,V)}return y})}function gd(f,y){return function(_,M){if(_==null)return _;if(!no(_))return f(_,M);for(var I=_.length,V=y?I:-1,ae=w(_);(y?V--:++V<I)&&M(ae[V],V,ae)!==!1;);return _}}function bs(f){return function(y,_,M){for(var I=-1,V=w(y),ae=M(y),pe=ae.length;pe--;){var we=ae[f?pe:++I];if(_(V[we],we,V)===!1)break}return y}}function md(f){return function(y){var _=Io(y=hn(y))?Jr(y):v,M=_?_[0]:y.charAt(0),I=_?xn(_,1).join(""):y.slice(1);return M[f]()+I}}function Aa(f){return function(y){return tu(ks(Ci(y).replace(ul,"")),f,"")}}function _s(f){return function(){var y=arguments;switch(y.length){case 0:return new f;case 1:return new f(y[0]);case 2:return new f(y[0],y[1]);case 3:return new f(y[0],y[1],y[2]);case 4:return new f(y[0],y[1],y[2],y[3]);case 5:return new f(y[0],y[1],y[2],y[3],y[4]);case 6:return new f(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new f(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=du(f.prototype),M=f.apply(_,y);return Hn(M)?M:_}}function bd(f){return function(y,_,M){var I=w(y);if(!no(y)){var V=Dt(_,3);y=qn(y),_=function(pe){return V(I[pe],pe,I)}}var ae=f(y,_,M);return ae>-1?I[V?y[ae]:ae]:v}}function ea(f){return Ti(function(y){var _=y.length,M=_,I=wo.prototype.thru;for(f&&y.reverse();M--;){var V=y[M];if(typeof V!="function")throw new q(x);if(I&&!ae&&bu(V)=="wrapper")var ae=new wo([],!0)}for(M=ae?M:_;++M<_;){var pe=bu(V=y[M]),we=pe=="wrapper"?Of(V):v;ae=we&&Ul(we[0])&&we[1]==424&&!we[4].length&&we[9]==1?ae[bu(we[0])].apply(ae,we[3]):V.length==1&&Ul(V)?ae[pe]():ae.thru(V)}return function(){var Be=arguments,Re=Be[0];if(ae&&Be.length==1&&Ht(Re))return ae.plant(Re).value();for(var $e=0,ut=_?y[$e].apply(this,Be):Re;++$e<_;)ut=y[$e].call(this,ut);return ut}})}function Dl(f,y,_,M,I,V,ae,pe,we,Be){var Re=y&N,$e=1&y,ut=2&y,gt=24&y,Pt=512&y,Ue=ut?v:_s(f);return function He(){for(var Tt=arguments.length,st=rt(Tt),fe=Tt;fe--;)st[fe]=arguments[fe];if(gt)var Ut=Pa(He),an=Yc(st,Ut);if(M&&(st=yd(st,M,I,gt)),V&&(st=vd(st,V,ae,gt)),Tt-=an,gt&&Tt<Be){var St=Zr(st,Ut);return Od(f,y,Dl,He.placeholder,_,st,St,pe,we,Be-Tt)}var Ct=$e?_:this,fr=ut?Ct[f]:f;return Tt=st.length,pe?st=Sd(st,pe):Pt&&Tt>1&&st.reverse(),Re&&we<Tt&&(st.length=we),this&&this!==Xn&&this instanceof He&&(fr=Ue||_s(fr)),fr.apply(Ct,st)}}function Cl(f,y){return function(_,M){return function(I,V,ae,pe){return vt(I,function(we,Be,Re){V(pe,ae(we),Be,Re)}),pe}(_,f,y(M),{})}}function Os(f,y){return function(_,M){var I;if(_===v&&M===v)return y;if(_!==v&&(I=_),M!==v){if(I===v)return M;typeof _=="string"||typeof M=="string"?(_=Qr(_),M=Qr(M)):(_=fd(_),M=fd(M)),I=f(_,M)}return I}}function ws(f){return Ti(function(y){return y=fn(y,Gn(Dt())),nn(function(_){var M=this;return f(y,function(I){return Mn(I,M,_)})})})}function xs(f,y){var _=(y=y===v?" ":Qr(y)).length;if(_<2)return _?Al(y,f):y;var M=Al(y,hl(f/Lo(y)));return Io(y)?xn(Jr(M),0,f).join(""):M.slice(0,f)}function _d(f){return function(y,_,M){return M&&typeof M!="number"&&Ar(y,_,M)&&(_=M=v),y=si(y),_===v?(_=y,y=0):_=si(_),function(I,V,ae,pe){for(var we=-1,Be=br(hl((V-I)/(ae||1)),0),Re=rt(Be);Be--;)Re[pe?Be:++we]=I,I+=ae;return Re}(y,_,M=M===v?y<_?1:-1:si(M),f)}}function Rl(f){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=Ir(y),_=Ir(_)),f(y,_)}}function Od(f,y,_,M,I,V,ae,pe,we,Be){var Re=8&y;y|=Re?k:D,4&(y&=~(Re?D:k))||(y&=-4);var $e=[f,y,I,Re?V:v,Re?ae:v,Re?v:V,Re?v:ae,pe,we,Be],ut=_.apply(v,$e);return Ul(f)&&Af(ut,$e),ut.placeholder=M,Pf(ut,f,y)}function mf(f){var y=O[f];return function(_,M){if(_=Ir(_),(M=M==null?0:Dr(Xt(M),292))&&Hp(_)){var I=(hn(_)+"e").split("e");return+((I=(hn(y(I[0]+"e"+(+I[1]+M)))+"e").split("e"))[0]+"e"+(+I[1]-M))}return y(_)}}var Zy=Sa&&1/wi(new Sa([,-0]))[1]==W?function(f){return new Sa(f)}:Cs;function wd(f){return function(y){var _=Cr(y);return _==ne?Tr(y):_==je?iu(y):function(M,I){return fn(I,function(V){return[V,M[V]]})}(y,f(y))}}function ki(f,y,_,M,I,V,ae,pe){var we=2&y;if(!we&&typeof f!="function")throw new q(x);var Be=M?M.length:0;if(Be||(y&=-97,M=I=v),ae=ae===v?ae:br(Xt(ae),0),pe=pe===v?pe:Xt(pe),Be-=I?I.length:0,y&D){var Re=M,$e=I;M=I=v}var ut=we?v:Of(f),gt=[f,y,_,M,I,Re,$e,V,ae,pe];if(ut&&function(Ue,He){var Tt=Ue[1],st=He[1],fe=Tt|st,Ut=fe<131,an=st==N&&Tt==8||st==N&&Tt==R&&Ue[7].length<=He[8]||st==384&&He[7].length<=He[8]&&Tt==8;if(!Ut&&!an)return Ue;1&st&&(Ue[2]=He[2],fe|=1&Tt?0:4);var St=He[3];if(St){var Ct=Ue[3];Ue[3]=Ct?yd(Ct,St,He[4]):St,Ue[4]=Ct?Zr(Ue[3],j):He[4]}(St=He[5])&&(Ct=Ue[5],Ue[5]=Ct?vd(Ct,St,He[6]):St,Ue[6]=Ct?Zr(Ue[5],j):He[6]),(St=He[7])&&(Ue[7]=St),st&N&&(Ue[8]=Ue[8]==null?He[8]:Dr(Ue[8],He[8])),Ue[9]==null&&(Ue[9]=He[9]),Ue[0]=He[0],Ue[1]=fe}(gt,ut),f=gt[0],y=gt[1],_=gt[2],M=gt[3],I=gt[4],!(pe=gt[9]=gt[9]===v?we?0:f.length:br(gt[9]-Be,0))&&24&y&&(y&=-25),y&&y!=1)Pt=y==8||y==P?function(Ue,He,Tt){var st=_s(Ue);return function fe(){for(var Ut=arguments.length,an=rt(Ut),St=Ut,Ct=Pa(fe);St--;)an[St]=arguments[St];var fr=Ut<3&&an[0]!==Ct&&an[Ut-1]!==Ct?[]:Zr(an,Ct);return(Ut-=fr.length)<Tt?Od(Ue,He,Dl,fe.placeholder,v,an,fr,v,v,Tt-Ut):Mn(this&&this!==Xn&&this instanceof fe?st:Ue,this,an)}}(f,y,pe):y!=k&&y!=33||I.length?Dl.apply(v,gt):function(Ue,He,Tt,st){var fe=1&He,Ut=_s(Ue);return function an(){for(var St=-1,Ct=arguments.length,fr=-1,ro=st.length,Go=rt(ro+Ct),pr=this&&this!==Xn&&this instanceof an?Ut:Ue;++fr<ro;)Go[fr]=st[fr];for(;Ct--;)Go[fr++]=arguments[++St];return Mn(pr,fe?Tt:this,Go)}}(f,y,_,M);else var Pt=function(Ue,He,Tt){var st=1&He,fe=_s(Ue);return function Ut(){return(this&&this!==Xn&&this instanceof Ut?fe:Ue).apply(st?Tt:this,arguments)}}(f,y,_);return Pf((ut?ld:Af)(Pt,gt),f,y)}function xd(f,y,_,M){return f===v||Wo(f,Ge[_])&&!ot.call(M,_)?y:f}function Ed(f,y,_,M,I,V){return Hn(f)&&Hn(y)&&(V.set(y,f),Sl(f,y,v,Ed,V),V.delete(y)),f}function Jy(f){return Su(f)?v:f}function Il(f,y,_,M,I,V){var ae=1&_,pe=f.length,we=y.length;if(pe!=we&&!(ae&&we>pe))return!1;var Be=V.get(f),Re=V.get(y);if(Be&&Re)return Be==y&&Re==f;var $e=-1,ut=!0,gt=2&_?new Zi:v;for(V.set(f,y),V.set(y,f);++$e<pe;){var Pt=f[$e],Ue=y[$e];if(M)var He=ae?M(Ue,Pt,$e,y,f,V):M(Pt,Ue,$e,f,y,V);if(He!==v){if(He)continue;ut=!1;break}if(gt){if(!ss(y,function(Tt,st){if(!ri(gt,st)&&(Pt===Tt||I(Pt,Tt,_,M,V)))return gt.push(st)})){ut=!1;break}}else if(Pt!==Ue&&!I(Pt,Ue,_,M,V)){ut=!1;break}}return V.delete(f),V.delete(y),ut}function Ti(f){return Gl(Sf(f,v,Ss),f+"")}function bf(f){return rf(f,qn,_r)}function _f(f){return rf(f,Lr,zl)}var Of=ml?function(f){return ml.get(f)}:Cs;function bu(f){for(var y=f.name+"",_=pu[y],M=ot.call(pu,y)?_.length:0;M--;){var I=_[M],V=I.func;if(V==null||V==f)return I.name}return y}function Pa(f){return(ot.call(B,"placeholder")?B:f).placeholder}function Dt(){var f=B.iteratee||Ds;return f=f===Ds?af:f,arguments.length?f(arguments[0],arguments[1]):f}function Ll(f,y){var _,M,I=f.__data__;return((M=typeof(_=y))=="string"||M=="number"||M=="symbol"||M=="boolean"?_!=="__proto__":_===null)?I[typeof y=="string"?"string":"hash"]:I.map}function wf(f){for(var y=qn(f),_=y.length;_--;){var M=y[_],I=f[M];y[_]=[M,I,xf(I)]}return y}function Ma(f,y){var _=function(M,I){return M==null?v:M[I]}(f,y);return gu(_)?_:v}var _r=Kc?function(f){return f==null?[]:(f=w(f),kr(Kc(f),function(y){return Nr.call(f,y)}))}:Ri,zl=Kc?function(f){for(var y=[];f;)lr(y,_r(f)),f=xi(f);return y}:Ri,Cr=Vn;function Bl(f,y,_){for(var M=-1,I=(y=bn(y,f)).length,V=!1;++M<I;){var ae=Fo(y[M]);if(!(V=f!=null&&_(f,ae)))break;f=f[ae]}return V||++M!=I?V:!!(I=f==null?0:f.length)&&Ql(I)&&ho(ae,I)&&(Ht(f)||ka(f))}function Ni(f){return typeof f.constructor!="function"||De(f)?{}:du(xi(f))}function Qy(f){return Ht(f)||ka(f)||!!(qi&&f&&f[qi])}function ho(f,y){var _=typeof f;return!!(y=y??G)&&(_=="number"||_!="symbol"&&ft.test(f))&&f>-1&&f%1==0&&f<y}function Ar(f,y,_){if(!Hn(_))return!1;var M=typeof y;return!!(M=="number"?no(_)&&ho(y,_.length):M=="string"&&y in _)&&Wo(_[y],f)}function Fl(f,y){if(Ht(f))return!1;var _=typeof f;return!(_!="number"&&_!="symbol"&&_!="boolean"&&f!=null&&!Xr(f))||Gt.test(f)||!gn.test(f)||y!=null&&f in w(y)}function Ul(f){var y=bu(f),_=B[y];if(typeof _!="function"||!(y in cn.prototype))return!1;if(f===_)return!0;var M=Of(_);return!!M&&f===M[0]}(lu&&Cr(new lu(new ArrayBuffer(1)))!=it||cu&&Cr(new cu)!=ne||Zc&&Cr(Zc.resolve())!=xe||Sa&&Cr(new Sa)!=je||fu&&Cr(new fu)!=ke)&&(Cr=function(f){var y=Vn(f),_=y==le?f.constructor:v,M=_?ta(_):"";if(M)switch(M){case Gy:return it;case Yp:return ne;case Vy:return xe;case $y:return je;case Kp:return ke}return y});var ev=pt?jo:Rs;function De(f){var y=f&&f.constructor;return f===(typeof y=="function"&&y.prototype||Ge)}function xf(f){return f==f&&!Hn(f)}function Ef(f,y){return function(_){return _!=null&&_[f]===y&&(y!==v||f in w(_))}}function Sf(f,y,_){return y=br(y===v?f.length-1:y,0),function(){for(var M=arguments,I=-1,V=br(M.length-y,0),ae=rt(V);++I<V;)ae[I]=M[y+I];I=-1;for(var pe=rt(y+1);++I<y;)pe[I]=M[I];return pe[y]=_(ae),Mn(f,this,pe)}}function jf(f,y){return y.length<2?f:Ai(f,po(y,0,-1))}function Sd(f,y){for(var _=f.length,M=Dr(y.length,_),I=eo(f);M--;){var V=y[M];f[M]=ho(V,_)?I[V]:v}return f}function Wl(f,y){if((y!=="constructor"||typeof f[y]!="function")&&y!="__proto__")return f[y]}var Af=Mf(ld),_u=$p||function(f,y){return Xn.setTimeout(f,y)},Gl=Mf(Yy);function Pf(f,y,_){var M=y+"";return Gl(f,function(I,V){var ae=V.length;if(!ae)return I;var pe=ae-1;return V[pe]=(ae>1?"& ":"")+V[pe],V=V.join(ae>2?", ":" "),I.replace(te,`{
/* [wrapped with `+V+`] */
`)}(M,function(I,V){return Ur(re,function(ae){var pe="_."+ae[0];V&ae[1]&&!uo(I,pe)&&I.push(pe)}),I.sort()}(function(I){var V=I.match(ve);return V?V[1].split(ue):[]}(M),_)))}function Mf(f){var y=0,_=0;return function(){var M=yl(),I=16-(M-_);if(_=M,I>0){if(++y>=800)return arguments[0]}else y=0;return f.apply(v,arguments)}}function Es(f,y){var _=-1,M=f.length,I=M-1;for(y=y===v?M:y;++_<y;){var V=sf(_,I),ae=f[V];f[V]=f[_],f[_]=ae}return f.length=y,f}var kf=function(f){var y=xu(f,function(M){return _.size===500&&_.clear(),M}),_=y.cache;return y}(function(f){var y=[];return f.charCodeAt(0)===46&&y.push(""),f.replace(un,function(_,M,I,V){y.push(I?V.replace(Qe,"$1"):M||_)}),y});function Fo(f){if(typeof f=="string"||Xr(f))return f;var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function ta(f){if(f!=null){try{return Jt.call(f)}catch{}try{return f+""}catch{}}return""}function Tf(f){if(f instanceof cn)return f.clone();var y=new wo(f.__wrapped__,f.__chain__);return y.__actions__=eo(f.__actions__),y.__index__=f.__index__,y.__values__=f.__values__,y}var jd=nn(function(f,y){return Un(f)?ji(f,xr(y,1,Un,!0)):[]}),Ad=nn(function(f,y){var _=$n(y);return Un(_)&&(_=v),Un(f)?ji(f,xr(y,1,Un,!0),Dt(_,2)):[]}),Pd=nn(function(f,y){var _=$n(y);return Un(_)&&(_=v),Un(f)?ji(f,xr(y,1,Un,!0),v,_):[]});function Nf(f,y,_){var M=f==null?0:f.length;if(!M)return-1;var I=_==null?0:Xt(_);return I<0&&(I=br(M+I,0)),ti(f,Dt(y,3),I)}function Vl(f,y,_){var M=f==null?0:f.length;if(!M)return-1;var I=M-1;return _!==v&&(I=Xt(_),I=_<0?br(M+I,0):Dr(I,M-1)),ti(f,Dt(y,3),I,!0)}function Ss(f){return f!=null&&f.length?xr(f,1):[]}function Md(f){return f&&f.length?f[0]:v}var Uo=nn(function(f){var y=fn(f,kl);return y.length&&y[0]===f[0]?xl(y):[]}),na=nn(function(f){var y=$n(f),_=fn(f,kl);return y===$n(_)?y=v:_.pop(),_.length&&_[0]===f[0]?xl(_,Dt(y,2)):[]}),tv=nn(function(f){var y=$n(f),_=fn(f,kl);return(y=typeof y=="function"?y:v)&&_.pop(),_.length&&_[0]===f[0]?xl(_,v,y):[]});function $n(f){var y=f==null?0:f.length;return y?f[y-1]:v}var kd=nn($l);function $l(f,y){return f&&f.length&&y&&y.length?jl(f,y):f}var Td=Ti(function(f,y){var _=f==null?0:f.length,M=Ol(f,y);return uf(f,fn(y,function(I){return ho(I,_)?+I:I}).sort(gf)),M});function Hl(f){return f==null?f:Wy.call(f)}var Nd=nn(function(f){return Qi(xr(f,1,Un,!0))}),Dd=nn(function(f){var y=$n(f);return Un(y)&&(y=v),Qi(xr(f,1,Un,!0),Dt(y,2))}),Cd=nn(function(f){var y=$n(f);return y=typeof y=="function"?y:v,Qi(xr(f,1,Un,!0),v,y)});function js(f){if(!f||!f.length)return[];var y=0;return f=kr(f,function(_){if(Un(_))return y=br(_.length,y),!0}),Oa(y,function(_){return fn(f,Gr(_))})}function Ou(f,y){if(!f||!f.length)return[];var _=js(f);return y==null?_:fn(_,function(M){return Mn(y,v,M)})}var Rr=nn(function(f,y){return Un(f)?ji(f,y):[]}),nv=nn(function(f){return df(kr(f,Un))}),rv=nn(function(f){var y=$n(f);return Un(y)&&(y=v),df(kr(f,Un),Dt(y,2))}),Df=nn(function(f){var y=$n(f);return y=typeof y=="function"?y:v,df(kr(f,Un),v,y)}),Rd=nn(js),to=nn(function(f){var y=f.length,_=y>1?f[y-1]:v;return _=typeof _=="function"?(f.pop(),_):v,Ou(f,_)});function ir(f){var y=B(f);return y.__chain__=!0,y}function Xl(f,y){return y(f)}var So=Ti(function(f){var y=f.length,_=y?f[0]:0,M=this.__wrapped__,I=function(V){return Ol(V,f)};return!(y>1||this.__actions__.length)&&M instanceof cn&&ho(_)?((M=M.slice(_,+_+(y?1:0))).__actions__.push({func:Xl,args:[I],thisArg:v}),new wo(M,this.__chain__).thru(function(V){return y&&!V.length&&V.push(v),V})):this.thru(I)}),Nt=Nl(function(f,y,_){ot.call(f,_)?++f[_]:ui(f,_,1)}),Cf=bd(Nf),Rf=bd(Vl);function Yl(f,y){return(Ht(f)?Ur:Fn)(f,Dt(y,3))}function If(f,y){return(Ht(f)?Xc:ed)(f,Dt(y,3))}var Id=Nl(function(f,y,_){ot.call(f,_)?f[_].push(y):ui(f,_,[y])}),ov=nn(function(f,y,_){var M=-1,I=typeof y=="function",V=no(f)?rt(f.length):[];return Fn(f,function(ae){V[++M]=I?Mn(y,ae,_):yu(ae,y,_)}),V}),iv=Nl(function(f,y,_){ui(f,_,y)});function wu(f,y){return(Ht(f)?fn:Eo)(f,Dt(y,3))}var av=Nl(function(f,y,_){f[_?0:1].push(y)},function(){return[[],[]]}),Lf=nn(function(f,y){if(f==null)return[];var _=y.length;return _>1&&Ar(f,y[0],y[1])?y=[]:_>2&&Ar(y[0],y[1],y[2])&&(y=[y[0]]),ud(f,xr(y,1),[])}),Kl=Fy||function(){return Xn.Date.now()};function Ld(f,y,_){return y=_?v:y,y=f&&y==null?f.length:y,ki(f,N,v,v,v,v,y)}function zf(f,y){var _;if(typeof y!="function")throw new q(x);return f=Xt(f),function(){return--f>0&&(_=y.apply(this,arguments)),f<=1&&(y=v),_}}var ra=nn(function(f,y,_){var M=1;if(_.length){var I=Zr(_,Pa(ra));M|=k}return ki(f,M,y,_,I)}),Bf=nn(function(f,y,_){var M=3;if(_.length){var I=Zr(_,Pa(Bf));M|=k}return ki(y,M,f,_,I)});function Ft(f,y,_){var M,I,V,ae,pe,we,Be=0,Re=!1,$e=!1,ut=!0;if(typeof f!="function")throw new q(x);function gt(fe){var Ut=M,an=I;return M=I=v,Be=fe,ae=f.apply(an,Ut)}function Pt(fe){return Be=fe,pe=_u(He,y),Re?gt(fe):ae}function Ue(fe){var Ut=fe-we;return we===v||Ut>=y||Ut<0||$e&&fe-Be>=V}function He(){var fe=Kl();if(Ue(fe))return Tt(fe);pe=_u(He,function(Ut){var an=y-(Ut-we);return $e?Dr(an,V-(Ut-Be)):an}(fe))}function Tt(fe){return pe=v,ut&&M?gt(fe):(M=I=v,ae)}function st(){var fe=Kl(),Ut=Ue(fe);if(M=arguments,I=this,we=fe,Ut){if(pe===v)return Pt(we);if($e)return Tl(pe),pe=_u(He,y),gt(we)}return pe===v&&(pe=_u(He,y)),ae}return y=Ir(y)||0,Hn(_)&&(Re=!!_.leading,V=($e="maxWait"in _)?br(Ir(_.maxWait)||0,y):V,ut="trailing"in _?!!_.trailing:ut),st.cancel=function(){pe!==v&&Tl(pe),Be=0,M=we=I=pe=v},st.flush=function(){return pe===v?ae:Tt(Kl())},st}var zd=nn(function(f,y){return nf(f,1,y)}),ql=nn(function(f,y,_){return nf(f,Ir(y)||0,_)});function xu(f,y){if(typeof f!="function"||y!=null&&typeof y!="function")throw new q(x);var _=function(){var M=arguments,I=y?y.apply(this,M):M[0],V=_.cache;if(V.has(I))return V.get(I);var ae=f.apply(this,M);return _.cache=V.set(I,ae)||V,ae};return _.cache=new(xu.Cache||ai),_}function Zl(f){if(typeof f!="function")throw new q(x);return function(){var y=arguments;switch(y.length){case 0:return!f.call(this);case 1:return!f.call(this,y[0]);case 2:return!f.call(this,y[0],y[1]);case 3:return!f.call(this,y[0],y[1],y[2])}return!f.apply(this,y)}}xu.Cache=ai;var Bd=qy(function(f,y){var _=(y=y.length==1&&Ht(y[0])?fn(y[0],Gn(Dt())):fn(xr(y,1),Gn(Dt()))).length;return nn(function(M){for(var I=-1,V=Dr(M.length,_);++I<V;)M[I]=y[I].call(this,M[I]);return Mn(f,this,M)})}),Jl=nn(function(f,y){var _=Zr(y,Pa(Jl));return ki(f,k,v,y,_)}),Ff=nn(function(f,y){var _=Zr(y,Pa(Ff));return ki(f,D,v,y,_)}),uv=Ti(function(f,y){return ki(f,R,v,v,v,y)});function Wo(f,y){return f===y||f!=f&&y!=y}var sv=Rl(Yn),As=Rl(function(f,y){return f>=y}),ka=of(function(){return arguments}())?of:function(f){return Kn(f)&&ot.call(f,"callee")&&!Nr.call(f,"callee")},Ht=rt.isArray,lv=is?Gn(is):function(f){return Kn(f)&&Vn(f)==Ve};function no(f){return f!=null&&Ql(f.length)&&!jo(f)}function Un(f){return Kn(f)&&no(f)}var Hr=Uy||Rs,Uf=fl?Gn(fl):function(f){return Kn(f)&&Vn(f)==F};function Er(f){if(!Kn(f))return!1;var y=Vn(f);return y==H||y=="[object DOMException]"||typeof f.message=="string"&&typeof f.name=="string"&&!Su(f)}function jo(f){if(!Hn(f))return!1;var y=Vn(f);return y==Y||y==J||y=="[object AsyncFunction]"||y=="[object Proxy]"}function Eu(f){return typeof f=="number"&&f==Xt(f)}function Ql(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=G}function Hn(f){var y=typeof f;return f!=null&&(y=="object"||y=="function")}function Kn(f){return f!=null&&typeof f=="object"}var Wf=as?Gn(as):function(f){return Kn(f)&&Cr(f)==ne};function Gf(f){return typeof f=="number"||Kn(f)&&Vn(f)==ge}function Su(f){if(!Kn(f)||Vn(f)!=le)return!1;var y=xi(f);if(y===null)return!0;var _=ot.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Jt.call(_)==co}var ju=eu?Gn(eu):function(f){return Kn(f)&&Vn(f)==Ce},Fd=Yi?Gn(Yi):function(f){return Kn(f)&&Cr(f)==je};function ec(f){return typeof f=="string"||!Ht(f)&&Kn(f)&&Vn(f)==me}function Xr(f){return typeof f=="symbol"||Kn(f)&&Vn(f)==Pe}var Di=ei?Gn(ei):function(f){return Kn(f)&&Ql(f.length)&&!!_n[Vn(f)]},Ud=Rl(Mi),Vf=Rl(function(f,y){return f<=y});function Wd(f){if(!f)return[];if(no(f))return ec(f)?Jr(f):eo(f);if(Ei&&f[Ei])return function(_){for(var M,I=[];!(M=_.next()).done;)I.push(M.value);return I}(f[Ei]());var y=Cr(f);return(y==ne?Tr:y==je?wi:ia)(f)}function si(f){return f?(f=Ir(f))===W||f===-1/0?17976931348623157e292*(f<0?-1:1):f==f?f:0:f===0?f:0}function Xt(f){var y=si(f),_=y%1;return y==y?_?y-_:y:0}function Gd(f){return f?Ji(Xt(f),0,oe):0}function Ir(f){if(typeof f=="number")return f;if(Xr(f))return K;if(Hn(f)){var y=typeof f.valueOf=="function"?f.valueOf():f;f=Hn(y)?y+"":y}if(typeof f!="string")return f===0?f:+f;f=ls(f);var _=Or.test(f);return _||rr.test(f)?Qo(f.slice(2),_?2:8):sr.test(f)?K:+f}function $f(f){return Bo(f,Lr(f))}function hn(f){return f==null?"":Qr(f)}var Hf=mu(function(f,y){if(De(y)||no(y))Bo(y,qn(y),f);else for(var _ in y)ot.call(y,_)&&hu(f,_,y[_])}),Ta=mu(function(f,y){Bo(y,Lr(y),f)}),oa=mu(function(f,y,_,M){Bo(y,Lr(y),f,M)}),Ps=mu(function(f,y,_,M){Bo(y,qn(y),f,M)}),Vd=Ti(Ol),$d=nn(function(f,y){f=w(f);var _=-1,M=y.length,I=M>2?y[2]:v;for(I&&Ar(y[0],y[1],I)&&(M=1);++_<M;)for(var V=y[_],ae=Lr(V),pe=-1,we=ae.length;++pe<we;){var Be=ae[pe],Re=f[Be];(Re===v||Wo(Re,Ge[Be])&&!ot.call(f,Be))&&(f[Be]=V[Be])}return f}),Hd=nn(function(f){return f.push(v,Ed),Mn(Yf,v,f)});function Au(f,y,_){var M=f==null?v:Ai(f,y);return M===v?_:M}function tc(f,y){return f!=null&&Bl(f,y,rd)}var Xf=Cl(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=dn.call(y)),f[y]=_},Ns(Yr)),Xd=Cl(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=dn.call(y)),ot.call(f,y)?f[y].push(_):f[y]=[_]},Dt),Yd=nn(yu);function qn(f){return no(f)?Jc(f):Pi(f)}function Lr(f){return no(f)?Jc(f,!0):Hy(f)}var Kd=mu(function(f,y,_){Sl(f,y,_)}),Yf=mu(function(f,y,_,M){Sl(f,y,_,M)}),Kf=Ti(function(f,y){var _={};if(f==null)return _;var M=!1;y=fn(y,function(V){return V=bn(V,f),M||(M=V.length>1),V}),Bo(f,_f(f),_),M&&(_=fo(_,7,Jy));for(var I=y.length;I--;)Pl(_,y[I]);return _}),qf=Ti(function(f,y){return f==null?{}:function(_,M){return sd(_,M,function(I,V){return tc(_,V)})}(f,y)});function nc(f,y){if(f==null)return{};var _=fn(_f(f),function(M){return[M]});return y=Dt(y),sd(f,_,function(M,I){return y(M,I[0])})}var Zf=wd(qn),rc=wd(Lr);function ia(f){return f==null?[]:ou(f,qn(f))}var Jf=Aa(function(f,y,_){return y=y.toLowerCase(),f+(_?Pu(y):y)});function Pu(f){return Ms(hn(f).toLowerCase())}function Ci(f){return(f=hn(f))&&f.replace(Et,fs).replace(Jo,"")}var qd=Aa(function(f,y,_){return f+(_?"-":"")+y.toLowerCase()}),Zd=Aa(function(f,y,_){return f+(_?" ":"")+y.toLowerCase()}),Qf=md("toLowerCase"),ep=Aa(function(f,y,_){return f+(_?"_":"")+y.toLowerCase()}),cv=Aa(function(f,y,_){return f+(_?" ":"")+Ms(y)}),Jd=Aa(function(f,y,_){return f+(_?" ":"")+y.toUpperCase()}),Ms=md("toUpperCase");function ks(f,y,_){return f=hn(f),(y=_?v:y)===v?function(M){return ts.test(M)}(f)?function(M){return M.match(Ja)||[]}(f):function(M){return M.match(Oe)||[]}(f):f.match(y)||[]}var Ts=nn(function(f,y){try{return Mn(f,v,y)}catch(_){return Er(_)?_:new tn(_)}}),tp=Ti(function(f,y){return Ur(y,function(_){_=Fo(_),ui(f,_,ra(f[_],f))}),f});function Ns(f){return function(){return f}}var Qd=ea(),np=ea(!0);function Yr(f){return f}function Ds(f){return af(typeof f=="function"?f:fo(f,1))}var fv=nn(function(f,y){return function(_){return yu(_,f,y)}}),cr=nn(function(f,y){return function(_){return yu(f,_,y)}});function Ao(f,y,_){var M=qn(y),I=wl(y,M);_!=null||Hn(y)&&(I.length||!M.length)||(_=y,y=f,f=this,I=wl(y,qn(y)));var V=!(Hn(_)&&"chain"in _&&!_.chain),ae=jo(f);return Ur(I,function(pe){var we=y[pe];f[pe]=we,ae&&(f.prototype[pe]=function(){var Be=this.__chain__;if(V||Be){var Re=f(this.__wrapped__),$e=Re.__actions__=eo(this.__actions__);return $e.push({func:we,args:arguments,thisArg:f}),Re.__chain__=Be,Re}return we.apply(f,lr([this.value()],arguments))})}),f}function Cs(){}var rp=ws(fn),pv=ws(pl),op=ws(ss);function oc(f){return Fl(f)?Gr(Fo(f)):function(y){return function(_){return Ai(_,y)}}(f)}var ip=_d(),dv=_d(!0);function Ri(){return[]}function Rs(){return!1}var ap=Os(function(f,y){return f+y},0),eh=mf("ceil"),Is=Os(function(f,y){return f/y},1),Ls=mf("floor"),zs,th=Os(function(f,y){return f*y},1),nh=mf("round"),Sr=Os(function(f,y){return f-y},0);return B.after=function(f,y){if(typeof y!="function")throw new q(x);return f=Xt(f),function(){if(--f<1)return y.apply(this,arguments)}},B.ary=Ld,B.assign=Hf,B.assignIn=Ta,B.assignInWith=oa,B.assignWith=Ps,B.at=Vd,B.before=zf,B.bind=ra,B.bindAll=tp,B.bindKey=Bf,B.castArray=function(){if(!arguments.length)return[];var f=arguments[0];return Ht(f)?f:[f]},B.chain=ir,B.chunk=function(f,y,_){y=(_?Ar(f,y,_):y===v)?1:br(Xt(y),0);var M=f==null?0:f.length;if(!M||y<1)return[];for(var I=0,V=0,ae=rt(hl(M/y));I<M;)ae[V++]=po(f,I,I+=y);return ae},B.compact=function(f){for(var y=-1,_=f==null?0:f.length,M=0,I=[];++y<_;){var V=f[y];V&&(I[M++]=V)}return I},B.concat=function(){var f=arguments.length;if(!f)return[];for(var y=rt(f-1),_=arguments[0],M=f;M--;)y[M-1]=arguments[M];return lr(Ht(_)?eo(_):[_],xr(y,1))},B.cond=function(f){var y=f==null?0:f.length,_=Dt();return f=y?fn(f,function(M){if(typeof M[1]!="function")throw new q(x);return[_(M[0]),M[1]]}):[],nn(function(M){for(var I=-1;++I<y;){var V=f[I];if(Mn(V[0],this,M))return Mn(V[1],this,M)}})},B.conforms=function(f){return function(y){var _=qn(y);return function(M){return tf(M,y,_)}}(fo(f,1))},B.constant=Ns,B.countBy=Nt,B.create=function(f,y){var _=du(f);return y==null?_:ef(_,y)},B.curry=function f(y,_,M){var I=ki(y,8,v,v,v,v,v,_=M?v:_);return I.placeholder=f.placeholder,I},B.curryRight=function f(y,_,M){var I=ki(y,P,v,v,v,v,v,_=M?v:_);return I.placeholder=f.placeholder,I},B.debounce=Ft,B.defaults=$d,B.defaultsDeep=Hd,B.defer=zd,B.delay=ql,B.difference=jd,B.differenceBy=Ad,B.differenceWith=Pd,B.drop=function(f,y,_){var M=f==null?0:f.length;return M?po(f,(y=_||y===v?1:Xt(y))<0?0:y,M):[]},B.dropRight=function(f,y,_){var M=f==null?0:f.length;return M?po(f,0,(y=M-(y=_||y===v?1:Xt(y)))<0?0:y):[]},B.dropRightWhile=function(f,y){return f&&f.length?Ml(f,Dt(y,3),!0,!0):[]},B.dropWhile=function(f,y){return f&&f.length?Ml(f,Dt(y,3),!0):[]},B.fill=function(f,y,_,M){var I=f==null?0:f.length;return I?(_&&typeof _!="number"&&Ar(f,y,_)&&(_=0,M=I),function(V,ae,pe,we){var Be=V.length;for((pe=Xt(pe))<0&&(pe=-pe>Be?0:Be+pe),(we=we===v||we>Be?Be:Xt(we))<0&&(we+=Be),we=pe>we?0:Gd(we);pe<we;)V[pe++]=ae;return V}(f,y,_,M)):[]},B.filter=function(f,y){return(Ht(f)?kr:On)(f,Dt(y,3))},B.flatMap=function(f,y){return xr(wu(f,y),1)},B.flatMapDeep=function(f,y){return xr(wu(f,y),W)},B.flatMapDepth=function(f,y,_){return _=_===v?1:Xt(_),xr(wu(f,y),_)},B.flatten=Ss,B.flattenDeep=function(f){return f!=null&&f.length?xr(f,W):[]},B.flattenDepth=function(f,y){return f!=null&&f.length?xr(f,y=y===v?1:Xt(y)):[]},B.flip=function(f){return ki(f,512)},B.flow=Qd,B.flowRight=np,B.fromPairs=function(f){for(var y=-1,_=f==null?0:f.length,M={};++y<_;){var I=f[y];M[I[0]]=I[1]}return M},B.functions=function(f){return f==null?[]:wl(f,qn(f))},B.functionsIn=function(f){return f==null?[]:wl(f,Lr(f))},B.groupBy=Id,B.initial=function(f){return f!=null&&f.length?po(f,0,-1):[]},B.intersection=Uo,B.intersectionBy=na,B.intersectionWith=tv,B.invert=Xf,B.invertBy=Xd,B.invokeMap=ov,B.iteratee=Ds,B.keyBy=iv,B.keys=qn,B.keysIn=Lr,B.map=wu,B.mapKeys=function(f,y){var _={};return y=Dt(y,3),vt(f,function(M,I,V){ui(_,y(M,I,V),M)}),_},B.mapValues=function(f,y){var _={};return y=Dt(y,3),vt(f,function(M,I,V){ui(_,I,y(M,I,V))}),_},B.matches=function(f){return od(fo(f,1))},B.matchesProperty=function(f,y){return id(f,fo(y,1))},B.memoize=xu,B.merge=Kd,B.mergeWith=Yf,B.method=fv,B.methodOf=cr,B.mixin=Ao,B.negate=Zl,B.nthArg=function(f){return f=Xt(f),nn(function(y){return ad(y,f)})},B.omit=Kf,B.omitBy=function(f,y){return nc(f,Zl(Dt(y)))},B.once=function(f){return zf(2,f)},B.orderBy=function(f,y,_,M){return f==null?[]:(Ht(y)||(y=y==null?[]:[y]),Ht(_=M?v:_)||(_=_==null?[]:[_]),ud(f,y,_))},B.over=rp,B.overArgs=Bd,B.overEvery=pv,B.overSome=op,B.partial=Jl,B.partialRight=Ff,B.partition=av,B.pick=qf,B.pickBy=nc,B.property=oc,B.propertyOf=function(f){return function(y){return f==null?v:Ai(f,y)}},B.pull=kd,B.pullAll=$l,B.pullAllBy=function(f,y,_){return f&&f.length&&y&&y.length?jl(f,y,Dt(_,2)):f},B.pullAllWith=function(f,y,_){return f&&f.length&&y&&y.length?jl(f,y,v,_):f},B.pullAt=Td,B.range=ip,B.rangeRight=dv,B.rearg=uv,B.reject=function(f,y){return(Ht(f)?kr:On)(f,Zl(Dt(y,3)))},B.remove=function(f,y){var _=[];if(!f||!f.length)return _;var M=-1,I=[],V=f.length;for(y=Dt(y,3);++M<V;){var ae=f[M];y(ae,M,f)&&(_.push(ae),I.push(M))}return uf(f,I),_},B.rest=function(f,y){if(typeof f!="function")throw new q(x);return nn(f,y=y===v?y:Xt(y))},B.reverse=Hl,B.sampleSize=function(f,y,_){return y=(_?Ar(f,y,_):y===v)?1:Xt(y),(Ht(f)?Zp:lf)(f,y)},B.set=function(f,y,_){return f==null?f:gs(f,y,_)},B.setWith=function(f,y,_,M){return M=typeof M=="function"?M:v,f==null?f:gs(f,y,_,M)},B.shuffle=function(f){return(Ht(f)?Jp:cd)(f)},B.slice=function(f,y,_){var M=f==null?0:f.length;return M?(_&&typeof _!="number"&&Ar(f,y,_)?(y=0,_=M):(y=y==null?0:Xt(y),_=_===v?M:Xt(_)),po(f,y,_)):[]},B.sortBy=Lf,B.sortedUniq=function(f){return f&&f.length?ff(f):[]},B.sortedUniqBy=function(f,y){return f&&f.length?ff(f,Dt(y,2)):[]},B.split=function(f,y,_){return _&&typeof _!="number"&&Ar(f,y,_)&&(y=_=v),(_=_===v?oe:_>>>0)?(f=hn(f))&&(typeof y=="string"||y!=null&&!ju(y))&&!(y=Qr(y))&&Io(f)?xn(Jr(f),0,_):f.split(y,_):[]},B.spread=function(f,y){if(typeof f!="function")throw new q(x);return y=y==null?0:br(Xt(y),0),nn(function(_){var M=_[y],I=xn(_,0,y);return M&&lr(I,M),Mn(f,this,I)})},B.tail=function(f){var y=f==null?0:f.length;return y?po(f,1,y):[]},B.take=function(f,y,_){return f&&f.length?po(f,0,(y=_||y===v?1:Xt(y))<0?0:y):[]},B.takeRight=function(f,y,_){var M=f==null?0:f.length;return M?po(f,(y=M-(y=_||y===v?1:Xt(y)))<0?0:y,M):[]},B.takeRightWhile=function(f,y){return f&&f.length?Ml(f,Dt(y,3),!1,!0):[]},B.takeWhile=function(f,y){return f&&f.length?Ml(f,Dt(y,3)):[]},B.tap=function(f,y){return y(f),f},B.throttle=function(f,y,_){var M=!0,I=!0;if(typeof f!="function")throw new q(x);return Hn(_)&&(M="leading"in _?!!_.leading:M,I="trailing"in _?!!_.trailing:I),Ft(f,y,{leading:M,maxWait:y,trailing:I})},B.thru=Xl,B.toArray=Wd,B.toPairs=Zf,B.toPairsIn=rc,B.toPath=function(f){return Ht(f)?fn(f,Fo):Xr(f)?[f]:eo(kf(hn(f)))},B.toPlainObject=$f,B.transform=function(f,y,_){var M=Ht(f),I=M||Hr(f)||Di(f);if(y=Dt(y,4),_==null){var V=f&&f.constructor;_=I?M?new V:[]:Hn(f)&&jo(V)?du(xi(f)):{}}return(I?Ur:vt)(f,function(ae,pe,we){return y(_,ae,pe,we)}),_},B.unary=function(f){return Ld(f,1)},B.union=Nd,B.unionBy=Dd,B.unionWith=Cd,B.uniq=function(f){return f&&f.length?Qi(f):[]},B.uniqBy=function(f,y){return f&&f.length?Qi(f,Dt(y,2)):[]},B.uniqWith=function(f,y){return y=typeof y=="function"?y:v,f&&f.length?Qi(f,v,y):[]},B.unset=function(f,y){return f==null||Pl(f,y)},B.unzip=js,B.unzipWith=Ou,B.update=function(f,y,_){return f==null?f:pd(f,y,yf(_))},B.updateWith=function(f,y,_,M){return M=typeof M=="function"?M:v,f==null?f:pd(f,y,yf(_),M)},B.values=ia,B.valuesIn=function(f){return f==null?[]:ou(f,Lr(f))},B.without=Rr,B.words=ks,B.wrap=function(f,y){return Jl(yf(y),f)},B.xor=nv,B.xorBy=rv,B.xorWith=Df,B.zip=Rd,B.zipObject=function(f,y){return hf(f||[],y||[],hu)},B.zipObjectDeep=function(f,y){return hf(f||[],y||[],gs)},B.zipWith=to,B.entries=Zf,B.entriesIn=rc,B.extend=Ta,B.extendWith=oa,Ao(B,B),B.add=ap,B.attempt=Ts,B.camelCase=Jf,B.capitalize=Pu,B.ceil=eh,B.clamp=function(f,y,_){return _===v&&(_=y,y=v),_!==v&&(_=(_=Ir(_))==_?_:0),y!==v&&(y=(y=Ir(y))==y?y:0),Ji(Ir(f),y,_)},B.clone=function(f){return fo(f,4)},B.cloneDeep=function(f){return fo(f,5)},B.cloneDeepWith=function(f,y){return fo(f,5,y=typeof y=="function"?y:v)},B.cloneWith=function(f,y){return fo(f,4,y=typeof y=="function"?y:v)},B.conformsTo=function(f,y){return y==null||tf(f,y,qn(y))},B.deburr=Ci,B.defaultTo=function(f,y){return f==null||f!=f?y:f},B.divide=Is,B.endsWith=function(f,y,_){f=hn(f),y=Qr(y);var M=f.length,I=_=_===v?M:Ji(Xt(_),0,M);return(_-=y.length)>=0&&f.slice(_,I)==y},B.eq=Wo,B.escape=function(f){return(f=hn(f))&&dt.test(f)?f.replace(Ot,er):f},B.escapeRegExp=function(f){return(f=hn(f))&&Ln.test(f)?f.replace(jn,"\\$&"):f},B.every=function(f,y,_){var M=Ht(f)?pl:td;return _&&Ar(f,y,_)&&(y=v),M(f,Dt(y,3))},B.find=Cf,B.findIndex=Nf,B.findKey=function(f,y){return Co(f,Dt(y,3),vt)},B.findLast=Rf,B.findLastIndex=Vl,B.findLastKey=function(f,y){return Co(f,Dt(y,3),Cn)},B.floor=Ls,B.forEach=Yl,B.forEachRight=If,B.forIn=function(f,y){return f==null?f:Qt(f,Dt(y,3),Lr)},B.forInRight=function(f,y){return f==null?f:or(f,Dt(y,3),Lr)},B.forOwn=function(f,y){return f&&vt(f,Dt(y,3))},B.forOwnRight=function(f,y){return f&&Cn(f,Dt(y,3))},B.get=Au,B.gt=sv,B.gte=As,B.has=function(f,y){return f!=null&&Bl(f,y,nd)},B.hasIn=tc,B.head=Md,B.identity=Yr,B.includes=function(f,y,_,M){f=no(f)?f:ia(f),_=_&&!M?Xt(_):0;var I=f.length;return _<0&&(_=br(I+_,0)),ec(f)?_<=I&&f.indexOf(y,_)>-1:!!I&&Ki(f,y,_)>-1},B.indexOf=function(f,y,_){var M=f==null?0:f.length;if(!M)return-1;var I=_==null?0:Xt(_);return I<0&&(I=br(M+I,0)),Ki(f,y,I)},B.inRange=function(f,y,_){return y=si(y),_===v?(_=y,y=0):_=si(_),function(M,I,V){return M>=Dr(I,V)&&M<br(I,V)}(f=Ir(f),y,_)},B.invoke=Yd,B.isArguments=ka,B.isArray=Ht,B.isArrayBuffer=lv,B.isArrayLike=no,B.isArrayLikeObject=Un,B.isBoolean=function(f){return f===!0||f===!1||Kn(f)&&Vn(f)==$},B.isBuffer=Hr,B.isDate=Uf,B.isElement=function(f){return Kn(f)&&f.nodeType===1&&!Su(f)},B.isEmpty=function(f){if(f==null)return!0;if(no(f)&&(Ht(f)||typeof f=="string"||typeof f.splice=="function"||Hr(f)||Di(f)||ka(f)))return!f.length;var y=Cr(f);if(y==ne||y==je)return!f.size;if(De(f))return!Pi(f).length;for(var _ in f)if(ot.call(f,_))return!1;return!0},B.isEqual=function(f,y){return vu(f,y)},B.isEqualWith=function(f,y,_){var M=(_=typeof _=="function"?_:v)?_(f,y):v;return M===v?vu(f,y,v,_):!!M},B.isError=Er,B.isFinite=function(f){return typeof f=="number"&&Hp(f)},B.isFunction=jo,B.isInteger=Eu,B.isLength=Ql,B.isMap=Wf,B.isMatch=function(f,y){return f===y||El(f,y,wf(y))},B.isMatchWith=function(f,y,_){return _=typeof _=="function"?_:v,El(f,y,wf(y),_)},B.isNaN=function(f){return Gf(f)&&f!=+f},B.isNative=function(f){if(ev(f))throw new tn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return gu(f)},B.isNil=function(f){return f==null},B.isNull=function(f){return f===null},B.isNumber=Gf,B.isObject=Hn,B.isObjectLike=Kn,B.isPlainObject=Su,B.isRegExp=ju,B.isSafeInteger=function(f){return Eu(f)&&f>=-9007199254740991&&f<=G},B.isSet=Fd,B.isString=ec,B.isSymbol=Xr,B.isTypedArray=Di,B.isUndefined=function(f){return f===v},B.isWeakMap=function(f){return Kn(f)&&Cr(f)==ke},B.isWeakSet=function(f){return Kn(f)&&Vn(f)=="[object WeakSet]"},B.join=function(f,y){return f==null?"":qc.call(f,y)},B.kebabCase=qd,B.last=$n,B.lastIndexOf=function(f,y,_){var M=f==null?0:f.length;if(!M)return-1;var I=M;return _!==v&&(I=(I=Xt(_))<0?br(M+I,0):Dr(I,M-1)),y==y?function(V,ae,pe){for(var we=pe+1;we--;)if(V[we]===ae)return we;return we}(f,y,I):ti(f,ni,I,!0)},B.lowerCase=Zd,B.lowerFirst=Qf,B.lt=Ud,B.lte=Vf,B.max=function(f){return f&&f.length?tr(f,Yr,Yn):v},B.maxBy=function(f,y){return f&&f.length?tr(f,Dt(y,2),Yn):v},B.mean=function(f){return sn(f,Yr)},B.meanBy=function(f,y){return sn(f,Dt(y,2))},B.min=function(f){return f&&f.length?tr(f,Yr,Mi):v},B.minBy=function(f,y){return f&&f.length?tr(f,Dt(y,2),Mi):v},B.stubArray=Ri,B.stubFalse=Rs,B.stubObject=function(){return{}},B.stubString=function(){return""},B.stubTrue=function(){return!0},B.multiply=th,B.nth=function(f,y){return f&&f.length?ad(f,Xt(y)):v},B.noConflict=function(){return Xn._===this&&(Xn._=Bn),this},B.noop=Cs,B.now=Kl,B.pad=function(f,y,_){f=hn(f);var M=(y=Xt(y))?Lo(f):0;if(!y||M>=y)return f;var I=(y-M)/2;return xs(su(I),_)+f+xs(hl(I),_)},B.padEnd=function(f,y,_){f=hn(f);var M=(y=Xt(y))?Lo(f):0;return y&&M<y?f+xs(y-M,_):f},B.padStart=function(f,y,_){f=hn(f);var M=(y=Xt(y))?Lo(f):0;return y&&M<y?xs(y-M,_)+f:f},B.parseInt=function(f,y,_){return _||y==null?y=0:y&&(y=+y),vl(hn(f).replace(zt,""),y||0)},B.random=function(f,y,_){if(_&&typeof _!="boolean"&&Ar(f,y,_)&&(y=_=v),_===v&&(typeof y=="boolean"?(_=y,y=v):typeof f=="boolean"&&(_=f,f=v)),f===v&&y===v?(f=0,y=1):(f=si(f),y===v?(y=f,f=0):y=si(y)),f>y){var M=f;f=y,y=M}if(_||f%1||y%1){var I=gl();return Dr(f+I*(y-f+Xi("1e-"+((I+"").length-1))),y)}return sf(f,y)},B.reduce=function(f,y,_){var M=Ht(f)?tu:mr,I=arguments.length<3;return M(f,Dt(y,4),_,I,Fn)},B.reduceRight=function(f,y,_){var M=Ht(f)?dl:mr,I=arguments.length<3;return M(f,Dt(y,4),_,I,ed)},B.repeat=function(f,y,_){return y=(_?Ar(f,y,_):y===v)?1:Xt(y),Al(hn(f),y)},B.replace=function(){var f=arguments,y=hn(f[0]);return f.length<3?y:y.replace(f[1],f[2])},B.result=function(f,y,_){var M=-1,I=(y=bn(y,f)).length;for(I||(I=1,f=v);++M<I;){var V=f==null?v:f[Fo(y[M])];V===v&&(M=I,V=_),f=jo(V)?V.call(f):V}return f},B.round=nh,B.runInContext=Ee,B.sample=function(f){return(Ht(f)?Qc:Xy)(f)},B.size=function(f){if(f==null)return 0;if(no(f))return ec(f)?Lo(f):f.length;var y=Cr(f);return y==ne||y==je?f.size:Pi(f).length},B.snakeCase=ep,B.some=function(f,y,_){var M=Ht(f)?ss:Ky;return _&&Ar(f,y,_)&&(y=v),M(f,Dt(y,3))},B.sortedIndex=function(f,y){return ms(f,y)},B.sortedIndexBy=function(f,y,_){return cf(f,y,Dt(_,2))},B.sortedIndexOf=function(f,y){var _=f==null?0:f.length;if(_){var M=ms(f,y);if(M<_&&Wo(f[M],y))return M}return-1},B.sortedLastIndex=function(f,y){return ms(f,y,!0)},B.sortedLastIndexBy=function(f,y,_){return cf(f,y,Dt(_,2),!0)},B.sortedLastIndexOf=function(f,y){if(f!=null&&f.length){var _=ms(f,y,!0)-1;if(Wo(f[_],y))return _}return-1},B.startCase=cv,B.startsWith=function(f,y,_){return f=hn(f),_=_==null?0:Ji(Xt(_),0,f.length),y=Qr(y),f.slice(_,_+y.length)==y},B.subtract=Sr,B.sum=function(f){return f&&f.length?ru(f,Yr):0},B.sumBy=function(f,y){return f&&f.length?ru(f,Dt(y,2)):0},B.template=function(f,y,_){var M=B.templateSettings;_&&Ar(f,y,_)&&(y=v),f=hn(f),y=oa({},y,M,xd);var I,V,ae=oa({},y.imports,M.imports,xd),pe=qn(ae),we=ou(ae,pe),Be=0,Re=y.interpolate||Mt,$e="__p += '",ut=T((y.escape||Mt).source+"|"+Re.source+"|"+(Re===Wt?yt:Mt).source+"|"+(y.evaluate||Mt).source+"|$","g"),gt="//# sourceURL="+(ot.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++sl+"]")+`
`;f.replace(ut,function(He,Tt,st,fe,Ut,an){return st||(st=fe),$e+=f.slice(Be,an).replace(Bt,wa),Tt&&(I=!0,$e+=`' +
__e(`+Tt+`) +
'`),Ut&&(V=!0,$e+=`';
`+Ut+`;
__p += '`),st&&($e+=`' +
((__t = (`+st+`)) == null ? '' : __t) +
'`),Be=an+He.length,He}),$e+=`';
`;var Pt=ot.call(y,"variable")&&y.variable;if(Pt){if(Je.test(Pt))throw new tn("Invalid `variable` option passed into `_.template`")}else $e=`with (obj) {
`+$e+`
}
`;$e=(V?$e.replace(Fe,""):$e).replace(At,"$1").replace(It,"$1;"),$e="function("+(Pt||"obj")+`) {
`+(Pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$e+`return __p
}`;var Ue=Ts(function(){return Dn(pe,gt+"return "+$e).apply(v,we)});if(Ue.source=$e,Er(Ue))throw Ue;return Ue},B.times=function(f,y){if((f=Xt(f))<1||f>G)return[];var _=oe,M=Dr(f,oe);y=Dt(y),f-=oe;for(var I=Oa(M,y);++_<f;)y(_);return I},B.toFinite=si,B.toInteger=Xt,B.toLength=Gd,B.toLower=function(f){return hn(f).toLowerCase()},B.toNumber=Ir,B.toSafeInteger=function(f){return f?Ji(Xt(f),-9007199254740991,G):f===0?f:0},B.toString=hn,B.toUpper=function(f){return hn(f).toUpperCase()},B.trim=function(f,y,_){if((f=hn(f))&&(_||y===v))return ls(f);if(!f||!(y=Qr(y)))return f;var M=Jr(f),I=Jr(y);return xn(M,so(M,I),cs(M,I)+1).join("")},B.trimEnd=function(f,y,_){if((f=hn(f))&&(_||y===v))return f.slice(0,Vr(f)+1);if(!f||!(y=Qr(y)))return f;var M=Jr(f);return xn(M,0,cs(M,Jr(y))+1).join("")},B.trimStart=function(f,y,_){if((f=hn(f))&&(_||y===v))return f.replace(zt,"");if(!f||!(y=Qr(y)))return f;var M=Jr(f);return xn(M,so(M,Jr(y))).join("")},B.truncate=function(f,y){var _=30,M="...";if(Hn(y)){var I="separator"in y?y.separator:I;_="length"in y?Xt(y.length):_,M="omission"in y?Qr(y.omission):M}var V=(f=hn(f)).length;if(Io(f)){var ae=Jr(f);V=ae.length}if(_>=V)return f;var pe=_-Lo(M);if(pe<1)return M;var we=ae?xn(ae,0,pe).join(""):f.slice(0,pe);if(I===v)return we+M;if(ae&&(pe+=we.length-pe),ju(I)){if(f.slice(pe).search(I)){var Be,Re=we;for(I.global||(I=T(I.source,hn(qt.exec(I))+"g")),I.lastIndex=0;Be=I.exec(Re);)var $e=Be.index;we=we.slice(0,$e===v?pe:$e)}}else if(f.indexOf(Qr(I),pe)!=pe){var ut=we.lastIndexOf(I);ut>-1&&(we=we.slice(0,ut))}return we+M},B.unescape=function(f){return(f=hn(f))&&Te.test(f)?f.replace(kt,lo):f},B.uniqueId=function(f){var y=++An;return hn(f)+y},B.upperCase=Jd,B.upperFirst=Ms,B.each=Yl,B.eachRight=If,B.first=Md,Ao(B,(zs={},vt(B,function(f,y){ot.call(B.prototype,y)||(zs[y]=f)}),zs),{chain:!1}),B.VERSION="4.17.21",Ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){B[f].placeholder=B}),Ur(["drop","take"],function(f,y){cn.prototype[f]=function(_){_=_===v?1:br(Xt(_),0);var M=this.__filtered__&&!y?new cn(this):this.clone();return M.__filtered__?M.__takeCount__=Dr(_,M.__takeCount__):M.__views__.push({size:Dr(_,oe),type:f+(M.__dir__<0?"Right":"")}),M},cn.prototype[f+"Right"]=function(_){return this.reverse()[f](_).reverse()}}),Ur(["filter","map","takeWhile"],function(f,y){var _=y+1,M=_==1||_==3;cn.prototype[f]=function(I){var V=this.clone();return V.__iteratees__.push({iteratee:Dt(I,3),type:_}),V.__filtered__=V.__filtered__||M,V}}),Ur(["head","last"],function(f,y){var _="take"+(y?"Right":"");cn.prototype[f]=function(){return this[_](1).value()[0]}}),Ur(["initial","tail"],function(f,y){var _="drop"+(y?"":"Right");cn.prototype[f]=function(){return this.__filtered__?new cn(this):this[_](1)}}),cn.prototype.compact=function(){return this.filter(Yr)},cn.prototype.find=function(f){return this.filter(f).head()},cn.prototype.findLast=function(f){return this.reverse().find(f)},cn.prototype.invokeMap=nn(function(f,y){return typeof f=="function"?new cn(this):this.map(function(_){return yu(_,f,y)})}),cn.prototype.reject=function(f){return this.filter(Zl(Dt(f)))},cn.prototype.slice=function(f,y){f=Xt(f);var _=this;return _.__filtered__&&(f>0||y<0)?new cn(_):(f<0?_=_.takeRight(-f):f&&(_=_.drop(f)),y!==v&&(_=(y=Xt(y))<0?_.dropRight(-y):_.take(y-f)),_)},cn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},cn.prototype.toArray=function(){return this.take(oe)},vt(cn.prototype,function(f,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),M=/^(?:head|last)$/.test(y),I=B[M?"take"+(y=="last"?"Right":""):y],V=M||/^find/.test(y);I&&(B.prototype[y]=function(){var ae=this.__wrapped__,pe=M?[1]:arguments,we=ae instanceof cn,Be=pe[0],Re=we||Ht(ae),$e=function(Tt){var st=I.apply(B,lr([Tt],pe));return M&&ut?st[0]:st};Re&&_&&typeof Be=="function"&&Be.length!=1&&(we=Re=!1);var ut=this.__chain__,gt=!!this.__actions__.length,Pt=V&&!ut,Ue=we&&!gt;if(!V&&Re){ae=Ue?ae:new cn(this);var He=f.apply(ae,pe);return He.__actions__.push({func:Xl,args:[$e],thisArg:v}),new wo(He,ut)}return Pt&&Ue?f.apply(this,pe):(He=this.thru($e),Pt?M?He.value()[0]:He.value():He)})}),Ur(["pop","push","shift","sort","splice","unshift"],function(f){var y=ye[f],_=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",M=/^(?:pop|shift)$/.test(f);B.prototype[f]=function(){var I=arguments;if(M&&!this.__chain__){var V=this.value();return y.apply(Ht(V)?V:[],I)}return this[_](function(ae){return y.apply(Ht(ae)?ae:[],I)})}}),vt(cn.prototype,function(f,y){var _=B[y];if(_){var M=_.name+"";ot.call(pu,M)||(pu[M]=[]),pu[M].push({name:y,func:_})}}),pu[Dl(v,2).name]=[{name:"wrapper",func:v}],cn.prototype.clone=function(){var f=new cn(this.__wrapped__);return f.__actions__=eo(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=eo(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=eo(this.__views__),f},cn.prototype.reverse=function(){if(this.__filtered__){var f=new cn(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},cn.prototype.value=function(){var f=this.__wrapped__.value(),y=this.__dir__,_=Ht(f),M=y<0,I=_?f.length:0,V=function(an,St,Ct){for(var fr=-1,ro=Ct.length;++fr<ro;){var Go=Ct[fr],pr=Go.size;switch(Go.type){case"drop":an+=pr;break;case"dropRight":St-=pr;break;case"take":St=Dr(St,an+pr);break;case"takeRight":an=br(an,St-pr)}}return{start:an,end:St}}(0,I,this.__views__),ae=V.start,pe=V.end,we=pe-ae,Be=M?pe:ae-1,Re=this.__iteratees__,$e=Re.length,ut=0,gt=Dr(we,this.__takeCount__);if(!_||!M&&I==we&&gt==we)return pf(f,this.__actions__);var Pt=[];e:for(;we--&&ut<gt;){for(var Ue=-1,He=f[Be+=y];++Ue<$e;){var Tt=Re[Ue],st=Tt.iteratee,fe=Tt.type,Ut=st(He);if(fe==2)He=Ut;else if(!Ut){if(fe==1)continue e;break e}}Pt[ut++]=He}return Pt},B.prototype.at=So,B.prototype.chain=function(){return ir(this)},B.prototype.commit=function(){return new wo(this.value(),this.__chain__)},B.prototype.next=function(){this.__values__===v&&(this.__values__=Wd(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?v:this.__values__[this.__index__++]}},B.prototype.plant=function(f){for(var y,_=this;_ instanceof ys;){var M=Tf(_);M.__index__=0,M.__values__=v,y?I.__wrapped__=M:y=M;var I=M;_=_.__wrapped__}return I.__wrapped__=f,y},B.prototype.reverse=function(){var f=this.__wrapped__;if(f instanceof cn){var y=f;return this.__actions__.length&&(y=new cn(this)),(y=y.reverse()).__actions__.push({func:Xl,args:[Hl],thisArg:v}),new wo(y,this.__chain__)}return this.thru(Hl)},B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=function(){return pf(this.__wrapped__,this.__actions__)},B.prototype.first=B.prototype.head,Ei&&(B.prototype[Ei]=function(){return this}),B}();Xn._=zo,(m=(function(){return zo}).call(c,o,c,h))===v||(h.exports=m)}).call(this)}).call(this,o(68),o(221)(u))},function(u,c,o){var d=o(7),h=o(34),m=o(33),v=o(87),x=o(62),S=o(174),j=o(28),P=d.TypeError,k=j("toPrimitive");u.exports=function(D,N){if(!m(D)||v(D))return D;var R,W=x(D,k);if(W){if(N===void 0&&(N="default"),R=h(W,D,N),!m(R)||v(R))return R;throw P("Can't convert object to primitive value")}return N===void 0&&(N="number"),S(D,N)}},function(u,c,o){var d=o(108);u.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,o){var d=o(36),h=o(18),m=o(91);u.exports=!d&&!h(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,o){var d=o(35),h=o(135),m=o(50),v=o(38);u.exports=function(x,S){for(var j=h(S),P=v.f,k=m.f,D=0;D<j.length;D++){var N=j[D];d(x,N)||P(x,N,k(S,N))}}},function(u,c,o){var d=o(46),h=o(15),m=o(74),v=o(112),x=o(32),S=h([].concat);u.exports=d("Reflect","ownKeys")||function(j){var P=m.f(x(j)),k=v.f;return k?S(P,k(j)):P}},function(u,c,o){var d=o(15),h=o(35),m=o(41),v=o(137).indexOf,x=o(72),S=d([].push);u.exports=function(j,P){var k,D=m(j),N=0,R=[];for(k in D)!h(x,k)&&h(D,k)&&S(R,k);for(;P.length>N;)h(D,k=P[N++])&&(~v(R,k)||S(R,k));return R}},function(u,c,o){var d=o(41),h=o(75),m=o(45),v=function(x){return function(S,j,P){var k,D=d(S),N=m(D),R=h(P,N);if(x&&j!=j){for(;N>R;)if((k=D[R++])!=k)return!0}else for(;N>R;R++)if((x||R in D)&&D[R]===j)return x||R||0;return!x&&-1}};u.exports={includes:v(!0),indexOf:v(!1)}},function(u,c,o){var d=o(46);u.exports=d("document","documentElement")},function(u,c,o){var d=o(51),h=o(41),m=o(74).f,v=o(114),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(S){return x&&d(S)=="Window"?function(j){try{return m(j)}catch{return v(x)}}(S):m(h(S))}},function(u,c,o){var d=o(28);c.f=d},function(u,c,o){var d=o(177),h=o(35),m=o(140),v=o(38).f;u.exports=function(x){var S=d.Symbol||(d.Symbol={});h(S,x)||v(S,x,{value:m.f(x)})}},function(u,c,o){var d,h,m,v=o(18),x=o(30),S=o(60),j=o(101),P=o(42),k=o(28),D=o(71),N=k("iterator"),R=!1;[].keys&&("next"in(m=[].keys())?(h=j(j(m)))!==Object.prototype&&(d=h):R=!0),d==null||v(function(){var W={};return d[N].call(W)!==W})?d={}:D&&(d=S(d)),x(d[N])||P(d,N,function(){return this}),u.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:R}},function(u,c,o){var d=o(18);u.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(u,c,o){var d=o(16),h=o(15),m=o(72),v=o(33),x=o(35),S=o(38).f,j=o(74),P=o(139),k=o(183),D=o(90),N=o(185),R=!1,W=D("meta"),G=0,K=function(re){S(re,W,{value:{objectID:"O"+G++,weakData:{}}})},oe=u.exports={enable:function(){oe.enable=function(){},R=!0;var re=j.f,Z=h([].splice),Q={};Q[W]=1,re(Q).length&&(j.f=function($){for(var F=re($),H=0,Y=F.length;H<Y;H++)if(F[H]===W){Z(F,H,1);break}return F},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(re,Z){if(!v(re))return typeof re=="symbol"?re:(typeof re=="string"?"S":"P")+re;if(!x(re,W)){if(!k(re))return"F";if(!Z)return"E";K(re)}return re[W].objectID},getWeakData:function(re,Z){if(!x(re,W)){if(!k(re))return!0;if(!Z)return!1;K(re)}return re[W].weakData},onFreeze:function(re){return N&&R&&k(re)&&!x(re,W)&&K(re),re}};m[W]=!0},function(u,c,o){var d=o(28),h=o(80),m=d("iterator"),v=Array.prototype;u.exports=function(x){return x!==void 0&&(h.Array===x||v[m]===x)}},function(u,c,o){var d=o(7),h=o(34),m=o(56),v=o(32),x=o(88),S=o(118),j=d.TypeError;u.exports=function(P,k){var D=arguments.length<2?S(P):k;if(m(D))return v(h(D,P));throw j(x(P)+" is not iterable")}},function(u,c,o){var d=o(34),h=o(32),m=o(62);u.exports=function(v,x,S){var j,P;h(v);try{if(!(j=m(v,"return"))){if(x==="throw")throw S;return S}j=d(j,v)}catch(k){P=!0,j=k}if(x==="throw")throw S;if(P)throw j;return h(j),S}},function(u,c,o){var d=o(30),h=o(33),m=o(102);u.exports=function(v,x,S){var j,P;return m&&d(j=x.constructor)&&j!==S&&h(P=j.prototype)&&P!==S.prototype&&m(v,P),v}},function(u,c,o){var d=o(42);u.exports=function(h,m,v){for(var x in m)d(h,x,m[x],v);return h}},function(u,c,o){var d=o(46),h=o(38),m=o(28),v=o(36),x=m("species");u.exports=function(S){var j=d(S),P=h.f;v&&j&&!j[x]&&P(j,x,{configurable:!0,get:function(){return this}})}},function(u,c,o){var d=o(15),h=o(59),m=o(39),v=o(44),x=d("".charAt),S=d("".charCodeAt),j=d("".slice),P=function(k){return function(D,N){var R,W,G=m(v(D)),K=h(N),oe=G.length;return K<0||K>=oe?k?"":void 0:(R=S(G,K))<55296||R>56319||K+1===oe||(W=S(G,K+1))<56320||W>57343?k?x(G,K):R:k?j(G,K,K+2):W-56320+(R-55296<<10)+65536}};u.exports={codeAt:P(!1),charAt:P(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,o){var d=o(91)("span").classList,h=d&&d.constructor&&d.constructor.prototype;u.exports=h===Object.prototype?void 0:h},function(u,c,o){var d=o(32);u.exports=function(){var h=d(this),m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),h.dotAll&&(m+="s"),h.unicode&&(m+="u"),h.sticky&&(m+="y"),m}},function(u,c,o){var d=o(18),h=o(7).RegExp,m=d(function(){var S=h("a","y");return S.lastIndex=2,S.exec("abcd")!=null}),v=m||d(function(){return!h("a","y").sticky}),x=m||d(function(){var S=h("^r","gy");return S.lastIndex=2,S.exec("str")!=null});u.exports={BROKEN_CARET:x,MISSED_STICKY:v,UNSUPPORTED_Y:m}},function(u,c,o){var d=o(16),h=o(79).find,m=o(100),v="find",x=!0;v in[]&&Array(1).find(function(){x=!1}),d({target:"Array",proto:!0,forced:x},{find:function(S){return h(this,S,arguments.length>1?arguments[1]:void 0)}}),m(v)},function(u,c,o){var d=o(16),h=o(137).includes,m=o(100);d({target:"Array",proto:!0},{includes:function(v){return h(this,v,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(u,c,o){var d=o(16),h=o(15),m=o(197),v=o(44),x=o(39),S=o(198),j=h("".indexOf);d({target:"String",proto:!0,forced:!S("includes")},{includes:function(P){return!!~j(x(v(this)),x(m(P)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,o){var d=o(33),h=o(51),m=o(28)("match");u.exports=function(v){var x;return d(v)&&((x=v[m])!==void 0?!!x:h(v)=="RegExp")}},function(u,c,o){var d=o(15);u.exports=d(1 .valueOf)},function(u,c,o){var d=o(15),h=o(44),m=o(39),v=o(162),x=d("".replace),S="["+v+"]",j=RegExp("^"+S+S+"*"),P=RegExp(S+S+"*$"),k=function(D){return function(N){var R=m(h(N));return 1&D&&(R=x(R,j,"")),2&D&&(R=x(R,P,"")),R}};u.exports={start:k(1),end:k(2),trim:k(3)}},function(u,c){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,c){var o,d,h=u.exports={};function m(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function x(G){if(o===setTimeout)return setTimeout(G,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(G,0);try{return o(G,0)}catch{try{return o.call(null,G,0)}catch{return o.call(this,G,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch{o=m}try{d=typeof clearTimeout=="function"?clearTimeout:v}catch{d=v}})();var S,j=[],P=!1,k=-1;function D(){P&&S&&(P=!1,S.length?j=S.concat(j):k=-1,j.length&&N())}function N(){if(!P){var G=x(D);P=!0;for(var K=j.length;K;){for(S=j,j=[];++k<K;)S&&S[k].run();k=-1,K=j.length}S=null,P=!1,function(oe){if(d===clearTimeout)return clearTimeout(oe);if((d===v||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(oe);try{d(oe)}catch{try{return d.call(null,oe)}catch{return d.call(this,oe)}}}(G)}}function R(G,K){this.fun=G,this.array=K}function W(){}h.nextTick=function(G){var K=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)K[oe-1]=arguments[oe];j.push(new R(G,K)),j.length!==1||P||x(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=W,h.addListener=W,h.once=W,h.off=W,h.removeListener=W,h.removeAllListeners=W,h.emit=W,h.prependListener=W,h.prependOnceListener=W,h.listeners=function(G){return[]},h.binding=function(G){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(G){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(u,c,o){var d=o(32),h=o(165),m=o(28)("species");u.exports=function(v,x){var S,j=d(v).constructor;return j===void 0||(S=d(j)[m])==null?x:h(S)}},function(u,c,o){var d=o(7),h=o(99),m=o(88),v=d.TypeError;u.exports=function(x){if(h(x))return x;throw v(m(x)+" is not a constructor")}},function(u,c,o){var d=o(16),h=o(161).trim;d({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return h(this)}})},function(u,c,o){var d=o(34),h=o(123),m=o(32),v=o(94),x=o(39),S=o(44),j=o(62),P=o(124),k=o(125);h("match",function(D,N,R){return[function(W){var G=S(this),K=W==null?void 0:j(W,D);return K?d(K,W,G):new RegExp(W)[D](x(G))},function(W){var G=m(this),K=x(W),oe=R(N,G,K);if(oe.done)return oe.value;if(!G.global)return k(G,K);var re=G.unicode;G.lastIndex=0;for(var Z,Q=[],$=0;(Z=k(G,K))!==null;){var F=x(Z[0]);Q[$]=F,F===""&&(G.lastIndex=P(K,v(G.lastIndex),re)),$++}return $===0?null:Q}]})},function(u,c,o){var d,h,m,v,x=o(7),S=o(76),j=o(64),P=o(30),k=o(35),D=o(18),N=o(138),R=o(98),W=o(91),G=o(169),K=o(128),oe=x.setImmediate,re=x.clearImmediate,Z=x.process,Q=x.Dispatch,$=x.Function,F=x.MessageChannel,H=x.String,Y=0,J={},ne="onreadystatechange";try{d=x.location}catch{}var ge=function(je){if(k(J,je)){var me=J[je];delete J[je],me()}},le=function(je){return function(){ge(je)}},xe=function(je){ge(je.data)},Ce=function(je){x.postMessage(H(je),d.protocol+"//"+d.host)};oe&&re||(oe=function(je){var me=R(arguments,1);return J[++Y]=function(){S(P(je)?je:$(je),void 0,me)},h(Y),Y},re=function(je){delete J[je]},K?h=function(je){Z.nextTick(le(je))}:Q&&Q.now?h=function(je){Q.now(le(je))}:F&&!G?(v=(m=new F).port2,m.port1.onmessage=xe,h=j(v.postMessage,v)):x.addEventListener&&P(x.postMessage)&&!x.importScripts&&d&&d.protocol!=="file:"&&!D(Ce)?(h=Ce,x.addEventListener("message",xe,!1)):h=ne in W("script")?function(je){N.appendChild(W("script")).onreadystatechange=function(){N.removeChild(this),ge(je)}}:function(je){setTimeout(le(je),0)}),u.exports={set:oe,clear:re}},function(u,c,o){var d=o(55);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(u,c,o){var d=o(56),h=function(m){var v,x;this.promise=new m(function(S,j){if(v!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");v=S,x=j}),this.resolve=d(v),this.reject=d(x)};u.exports.f=function(m){return new h(m)}},function(u,c,o){c.a=function(){return!1}},function(u,c,o){(function(d){o.d(c,"a",function(){return Z});var h=o(1);function m(F){throw new Error("[mobx-utils] "+F)}function v(F,H){H===void 0&&(H="Illegal state"),F||m(H)}var x=function(F){return F&&F!==Object.prototype&&Object.getOwnPropertyNames(F).concat(x(Object.getPrototypeOf(F))||[])},S=function(F){return function(H){var Y=x(H);return Y.filter(function(J,ne){return Y.indexOf(J)===ne})}(F).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},j="pending",P="fulfilled",k="rejected";function D(F){switch(this.state){case j:return F.pending&&F.pending(this.value);case k:return F.rejected&&F.rejected(this.value);case P:return F.fulfilled?F.fulfilled(this.value):this.value}}function N(F,H){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof F=="function"||typeof F=="object"&&F&&typeof F.then=="function","Please pass a promise or function to fromPromise"),F.isPromiseBasedObservable===!0)return F;typeof F=="function"&&(F=new Promise(F));var Y=F;F.then(Object(h.k)("observableFromPromise-resolve",function(ne){Y.value=ne,Y.state=P}),Object(h.k)("observableFromPromise-reject",function(ne){Y.value=ne,Y.state=k})),Y.isPromiseBasedObservable=!0,Y.case=D;var J=H&&H.state===P?H.value:void 0;return Object(h.q)(Y,{value:J,state:j},{},{deep:!1}),Y}(function(F){F.reject=Object(h.k)("fromPromise.reject",function(H){var Y=F(Promise.reject(H));return Y.state=k,Y.value=H,Y}),F.resolve=Object(h.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var Y=F(Promise.resolve(H));return Y.state=P,Y.value=H,Y})})(N||(N={}));var R=function(F,H,Y,J){var ne,ge=arguments.length,le=ge<3?H:J===null?J=Object.getOwnPropertyDescriptor(H,Y):J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(F,H,Y,J);else for(var xe=F.length-1;xe>=0;xe--)(ne=F[xe])&&(le=(ge<3?ne(le):ge>3?ne(H,Y,le):ne(H,Y))||le);return ge>3&&le&&Object.defineProperty(H,Y,le),le};(function(){function F(H,Y){var J=this;Object(h.G)(function(){J.current=Y,J.subscription=H.subscribe(J)})}F.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},F.prototype.next=function(H){this.current=H},F.prototype.complete=function(){this.dispose()},F.prototype.error=function(H){this.current=H,this.dispose()},R([h.C.ref],F.prototype,"current",void 0),R([h.k.bound],F.prototype,"next",null),R([h.k.bound],F.prototype,"complete",null),R([h.k.bound],F.prototype,"error",null)})();var W=function(){return W=Object.assign||function(F){for(var H,Y=1,J=arguments.length;Y<J;Y++)for(var ne in H=arguments[Y])Object.prototype.hasOwnProperty.call(H,ne)&&(F[ne]=H[ne]);return F},W.apply(this,arguments)},G=function(F,H,Y,J){var ne,ge=arguments.length,le=ge<3?H:J===null?J=Object.getOwnPropertyDescriptor(H,Y):J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(F,H,Y,J);else for(var xe=F.length-1;xe>=0;xe--)(ne=F[xe])&&(le=(ge<3?ne(le):ge>3?ne(H,Y,le):ne(H,Y))||le);return ge>3&&le&&Object.defineProperty(H,Y,le),le},K=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function F(H){var Y=this;this.model=H,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(J){return Y.localValues.has(J)},v(Object(h.A)(H),"createViewModel expects an observable object"),S(H).forEach(function(J){if(J!==h.a&&J!=="__mobxDidRunLazyInitializers"){if(v(K.indexOf(J)===-1,"The propertyname "+J+" is reserved and cannot be used with viewModels"),Object(h.w)(H,J)){var ne=Object(h.h)(H,J).derivation;Y.localComputedValues.set(J,Object(h.m)(ne.bind(Y)))}var ge=Object.getOwnPropertyDescriptor(H,J),le=ge?{enumerable:ge.enumerable}:{};Object.defineProperty(Y,J,W(W({},le),{configurable:!0,get:function(){return Object(h.w)(H,J)?Y.localComputedValues.get(J).get():Y.isPropertyDirty(J)?Y.localValues.get(J):Y.model[J]},set:Object(h.k)(function(xe){xe!==Y.model[J]?Y.localValues.set(J,xe):Y.localValues.delete(J)})}))}})}Object.defineProperty(F.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),F.prototype.submit=function(){var H=this;Object(h.B)(this.localValues).forEach(function(Y){var J=H.localValues.get(Y),ne=H.model[Y];Object(h.y)(ne)?ne.replace(J):Object(h.z)(ne)?(ne.clear(),ne.merge(J)):Object(h.v)(J)||(H.model[Y]=J)}),this.localValues.clear()},F.prototype.reset=function(){this.localValues.clear()},F.prototype.resetProperty=function(H){this.localValues.delete(H)},G([h.m],F.prototype,"isDirty",null),G([h.m],F.prototype,"changedValues",null),G([h.k.bound],F.prototype,"submit",null),G([h.k.bound],F.prototype,"reset",null),G([h.k.bound],F.prototype,"resetProperty",null)})();function oe(F){if(!F)return"ROOT";for(var H=[];F.parent;)H.push(F.path),F=F.parent;return H.reverse().join("/")}function re(F){return Object(h.A)(F)||Object(h.y)(F)||Object(h.z)(F)}function Z(F,H){var Y=new WeakMap;function J(le){var xe=Y.get(le.object);(function(Ce,je){switch(Ce.type){case"add":ne(Ce.newValue,je,Ce.name);break;case"update":ge(Ce.oldValue),ne(Ce.newValue,je,Ce.name||""+Ce.index);break;case"remove":case"delete":ge(Ce.oldValue);break;case"splice":Ce.removed.map(ge),Ce.added.forEach(function(ke,Ve){return ne(ke,je,""+(Ce.index+Ve))});for(var me=Ce.index+Ce.addedCount;me<Ce.object.length;me++)if(re(Ce.object[me])){var Pe=Y.get(Ce.object[me]);Pe&&(Pe.path=""+me)}}})(le,xe),H(le,oe(xe),F)}function ne(le,xe,Ce){if(re(le)){var je=Y.get(le);if(je){if(je.parent!==xe||je.path!==Ce)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+oe(xe)+"/"+Ce+"', but it already exists at '"+oe(je.parent)+"/"+je.path+"'")}else{var me={parent:xe,path:Ce,dispose:Object(h.D)(le,J)};Y.set(le,me),Object(h.p)(le).forEach(function(Pe){var ke=Pe[0];return ne(Pe[1],me,ke)})}}}function ge(le){if(re(le)){var xe=Y.get(le);if(!xe)return;Y.delete(le),xe.dispose(),Object(h.L)(le).forEach(ge)}}return ne(F,void 0,""),function(){ge(F)}}var Q,$=(Q=function(F,H){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,J){Y.__proto__=J}||function(Y,J){for(var ne in J)J.hasOwnProperty(ne)&&(Y[ne]=J[ne])},Q(F,H)},function(F,H){function Y(){this.constructor=F}Q(F,H),F.prototype=H===null?Object.create(H):(Y.prototype=H.prototype,new Y)});(function(F){function H(Y,J,ne){var ge=ne===void 0?{}:ne,le=ge.name,xe=le===void 0?"ogm"+(1e3*Math.random()|0):le,Ce=ge.keyToName,je=Ce===void 0?function(ke){return""+ke}:Ce,me=F.call(this)||this;me._keyToName=je,me._groupBy=J,me._ogmInfoKey=Symbol("ogmInfo"+xe),me._base=Y;for(var Pe=0;Pe<Y.length;Pe++)me._addItem(Y[Pe]);return me._disposeBaseObserver=Object(h.D)(me._base,function(ke){if(ke.type==="splice")Object(h.J)(function(){for(var Ve=0,it=ke.removed;Ve<it.length;Ve++){var wt=it[Ve];me._removeItem(wt)}for(var Ye=0,Ze=ke.added;Ye<Ze.length;Ye++){var _t=Ze[Ye];me._addItem(_t)}});else{if(ke.type!=="update")throw new Error("illegal state");Object(h.J)(function(){me._removeItem(ke.oldValue),me._addItem(ke.newValue)})}}),me}$(H,F),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(Y){throw new Error("not supported")},H.prototype.set=function(Y,J){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var J=this._base[Y];J[this._ogmInfoKey].reaction(),delete J[this._ogmInfoKey]}},H.prototype._getGroupArr=function(Y){var J=F.prototype.get.call(this,Y);return J===void 0&&(J=Object(h.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),F.prototype.set.call(this,Y,J)),J},H.prototype._removeFromGroupArr=function(Y,J){var ne=F.prototype.get.call(this,Y);ne.length===1?F.prototype.delete.call(this,Y):(J===ne.length-1||(ne[J]=ne[ne.length-1],ne[J][this._ogmInfoKey].groupArrIndex=J),ne.length--)},H.prototype._addItem=function(Y){var J=this,ne=this._groupBy(Y),ge=this._getGroupArr(ne),le={groupByValue:ne,groupArrIndex:ge.length,reaction:Object(h.F)(function(){return J._groupBy(Y)},function(xe,Ce){var je=Y[J._ogmInfoKey];J._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var me=J._getGroupArr(xe),Pe=me.length;me.push(Y),je.groupByValue=xe,je.groupArrIndex=Pe})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:le}),ge.push(Y)},H.prototype._removeItem=function(Y){var J=Y[this._ogmInfoKey];this._removeFromGroupArr(J.groupByValue,J.groupArrIndex),J.reaction(),delete Y[this._ogmInfoKey]}})(h.b),function(){function F(H,Y){this.base=H,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var J=this.closest=this.root=H,ne=0;ne<this.args.length-1&&(J=J.get(Y[ne]));ne++)this.closest=J;this.closestIdx=ne}return F.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},F.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},F.prototype.set=function(H){this.assertNotDisposed();for(var Y=this.args.length,J=this.closest,ne=this.closestIdx;ne<Y-1;ne++){var ge=new Map;J.set(this.args[ne],ge),J=ge}this.closestIdx=Y-1,this.closest=J,J.set(this.args[Y-1],H)},F.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var Y=this.root,J=[Y],ne=0;ne<H-1;ne++)Y=Y.get(this.args[ne]),J.push(Y);for(ne=J.length-1;ne>0;ne--)J[ne].size===0&&J[ne-1].delete(this.args[ne-1]);this.isDisposed=!0},F.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},F}(),Promise.resolve(),typeof queueMicrotask<"u"||d!==void 0&&d.nextTick}).call(this,o(163))},function(u,c,o){var d;(function(h,m,v){if(h){for(var x,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},D=1;D<20;++D)S[111+D]="f"+D;for(D=0;D<=9;++D)S[D+96]=D.toString();re.prototype.bind=function(Z,Q,$){var F=this;return Z=Z instanceof Array?Z:[Z],F._bindMultiple.call(F,Z,Q,$),F},re.prototype.unbind=function(Z,Q){return this.bind.call(this,Z,function(){},Q)},re.prototype.trigger=function(Z,Q){var $=this;return $._directMap[Z+":"+Q]&&$._directMap[Z+":"+Q]({},Z),$},re.prototype.reset=function(){var Z=this;return Z._callbacks={},Z._directMap={},Z},re.prototype.stopCallback=function(Z,Q){if((" "+Q.className+" ").indexOf(" mousetrap ")>-1||oe(Q,this.target))return!1;if("composedPath"in Z&&typeof Z.composedPath=="function"){var $=Z.composedPath()[0];$!==Z.target&&(Q=$)}return Q.tagName=="INPUT"||Q.tagName=="SELECT"||Q.tagName=="TEXTAREA"||Q.isContentEditable},re.prototype.handleKey=function(){var Z=this;return Z._handleKey.apply(Z,arguments)},re.addKeycodes=function(Z){for(var Q in Z)Z.hasOwnProperty(Q)&&(S[Q]=Z[Q]);x=null},re.init=function(){var Z=re(m);for(var Q in Z)Q.charAt(0)!=="_"&&(re[Q]=function($){return function(){return Z[$].apply(Z,arguments)}}(Q))},re.init(),h.Mousetrap=re,u.exports&&(u.exports=re),(d=(function(){return re}).call(c,o,c,u))===void 0||(u.exports=d)}function N(Z,Q,$){Z.addEventListener?Z.addEventListener(Q,$,!1):Z.attachEvent("on"+Q,$)}function R(Z){if(Z.type=="keypress"){var Q=String.fromCharCode(Z.which);return Z.shiftKey||(Q=Q.toLowerCase()),Q}return S[Z.which]?S[Z.which]:j[Z.which]?j[Z.which]:String.fromCharCode(Z.which).toLowerCase()}function W(Z){return Z=="shift"||Z=="ctrl"||Z=="alt"||Z=="meta"}function G(Z,Q,$){return $||($=function(){if(!x)for(var F in x={},S)F>95&&F<112||S.hasOwnProperty(F)&&(x[S[F]]=F);return x}()[Z]?"keydown":"keypress"),$=="keypress"&&Q.length&&($="keydown"),$}function K(Z,Q){var $,F,H,Y=[];for($=function(J){return J==="+"?["+"]:(J=J.replace(/\+{2}/g,"+plus")).split("+")}(Z),H=0;H<$.length;++H)F=$[H],k[F]&&(F=k[F]),Q&&Q!="keypress"&&P[F]&&(F=P[F],Y.push("shift")),W(F)&&Y.push(F);return{key:F,modifiers:Y,action:Q=G(F,Y,Q)}}function oe(Z,Q){return Z!==null&&Z!==m&&(Z===Q||oe(Z.parentNode,Q))}function re(Z){var Q=this;if(Z=Z||m,!(Q instanceof re))return new re(Z);Q.target=Z,Q._callbacks={},Q._directMap={};var $,F={},H=!1,Y=!1,J=!1;function ne(me){me=me||{};var Pe,ke=!1;for(Pe in F)me[Pe]?ke=!0:F[Pe]=0;ke||(J=!1)}function ge(me,Pe,ke,Ve,it,wt){var Ye,Ze,_t,ce,se=[],he=ke.type;if(!Q._callbacks[me])return[];for(he=="keyup"&&W(me)&&(Pe=[me]),Ye=0;Ye<Q._callbacks[me].length;++Ye)if(Ze=Q._callbacks[me][Ye],(Ve||!Ze.seq||F[Ze.seq]==Ze.level)&&he==Ze.action&&(he=="keypress"&&!ke.metaKey&&!ke.ctrlKey||(_t=Pe,ce=Ze.modifiers,_t.sort().join(",")===ce.sort().join(",")))){var Ne=!Ve&&Ze.combo==it,Ke=Ve&&Ze.seq==Ve&&Ze.level==wt;(Ne||Ke)&&Q._callbacks[me].splice(Ye,1),se.push(Ze)}return se}function le(me,Pe,ke,Ve){Q.stopCallback(Pe,Pe.target||Pe.srcElement,ke,Ve)||me(Pe,ke)===!1&&(function(it){it.preventDefault?it.preventDefault():it.returnValue=!1}(Pe),function(it){it.stopPropagation?it.stopPropagation():it.cancelBubble=!0}(Pe))}function xe(me){typeof me.which!="number"&&(me.which=me.keyCode);var Pe=R(me);Pe&&(me.type!="keyup"||H!==Pe?Q.handleKey(Pe,function(ke){var Ve=[];return ke.shiftKey&&Ve.push("shift"),ke.altKey&&Ve.push("alt"),ke.ctrlKey&&Ve.push("ctrl"),ke.metaKey&&Ve.push("meta"),Ve}(me),me):H=!1)}function Ce(me,Pe,ke,Ve){function it(_t){return function(){J=_t,++F[me],clearTimeout($),$=setTimeout(ne,1e3)}}function wt(_t){le(ke,_t,me),Ve!=="keyup"&&(H=R(_t)),setTimeout(ne,10)}F[me]=0;for(var Ye=0;Ye<Pe.length;++Ye){var Ze=Ye+1===Pe.length?wt:it(Ve||K(Pe[Ye+1]).action);je(Pe[Ye],Ze,Ve,me,Ye)}}function je(me,Pe,ke,Ve,it){Q._directMap[me+":"+ke]=Pe;var wt,Ye=(me=me.replace(/\s+/g," ")).split(" ");Ye.length>1?Ce(me,Ye,Pe,ke):(wt=K(me,ke),Q._callbacks[wt.key]=Q._callbacks[wt.key]||[],ge(wt.key,wt.modifiers,{type:wt.action},Ve,me,it),Q._callbacks[wt.key][Ve?"unshift":"push"]({callback:Pe,modifiers:wt.modifiers,action:wt.action,seq:Ve,level:it,combo:me}))}Q._handleKey=function(me,Pe,ke){var Ve,it=ge(me,Pe,ke),wt={},Ye=0,Ze=!1;for(Ve=0;Ve<it.length;++Ve)it[Ve].seq&&(Ye=Math.max(Ye,it[Ve].level));for(Ve=0;Ve<it.length;++Ve)if(it[Ve].seq){if(it[Ve].level!=Ye)continue;Ze=!0,wt[it[Ve].seq]=1,le(it[Ve].callback,ke,it[Ve].combo,it[Ve].seq)}else Ze||le(it[Ve].callback,ke,it[Ve].combo);var _t=ke.type=="keypress"&&Y;ke.type!=J||W(me)||_t||ne(wt),Y=Ze&&ke.type=="keydown"},Q._bindMultiple=function(me,Pe,ke){for(var Ve=0;Ve<me.length;++Ve)je(me[Ve],Pe,ke)},N(Z,"keypress",xe),N(Z,"keydown",xe),N(Z,"keyup",xe)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,c,o){var d=o(7),h=o(34),m=o(30),v=o(33),x=d.TypeError;u.exports=function(S,j){var P,k;if(j==="string"&&m(P=S.toString)&&!v(k=h(P,S))||m(P=S.valueOf)&&!v(k=h(P,S))||j!=="string"&&m(P=S.toString)&&!v(k=h(P,S)))return k;throw x("Can't convert object to primitive value")}},function(u,c,o){var d=o(7),h=o(30),m=o(92),v=d.WeakMap;u.exports=h(v)&&/native code/.test(m(v))},function(u,c,o){var d=o(36),h=o(38),m=o(32),v=o(41),x=o(77);u.exports=d?Object.defineProperties:function(S,j){m(S);for(var P,k=v(j),D=x(j),N=D.length,R=0;N>R;)h.f(S,P=D[R++],k[P]);return S}},function(u,c,o){var d=o(7);u.exports=d},function(u,c,o){var d=o(7),h=o(96),m=o(99),v=o(33),x=o(28)("species"),S=d.Array;u.exports=function(j){var P;return h(j)&&(P=j.constructor,(m(P)&&(P===S||h(P.prototype))||v(P)&&(P=P[x])===null)&&(P=void 0)),P===void 0?S:P}},function(u,c,o){var d=o(113),h=o(97);u.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},function(u,c,o){var d=o(142).IteratorPrototype,h=o(60),m=o(69),v=o(78),x=o(80),S=function(){return this};u.exports=function(j,P,k,D){var N=P+" Iterator";return j.prototype=h(d,{next:m(+!D,k)}),v(j,N,!1,!0),x[N]=S,j}},function(u,c,o){var d=o(7),h=o(30),m=d.String,v=d.TypeError;u.exports=function(x){if(typeof x=="object"||h(x))return x;throw v("Can't set "+m(x)+" as a prototype")}},function(u,c,o){var d=o(16),h=o(7),m=o(15),v=o(95),x=o(42),S=o(144),j=o(117),P=o(119),k=o(30),D=o(33),N=o(18),R=o(120),W=o(78),G=o(148);u.exports=function(K,oe,re){var Z=K.indexOf("Map")!==-1,Q=K.indexOf("Weak")!==-1,$=Z?"set":"add",F=h[K],H=F&&F.prototype,Y=F,J={},ne=function(me){var Pe=m(H[me]);x(H,me,me=="add"?function(ke){return Pe(this,ke===0?0:ke),this}:me=="delete"?function(ke){return!(Q&&!D(ke))&&Pe(this,ke===0?0:ke)}:me=="get"?function(ke){return Q&&!D(ke)?void 0:Pe(this,ke===0?0:ke)}:me=="has"?function(ke){return!(Q&&!D(ke))&&Pe(this,ke===0?0:ke)}:function(ke,Ve){return Pe(this,ke===0?0:ke,Ve),this})};if(v(K,!k(F)||!(Q||H.forEach&&!N(function(){new F().entries().next()}))))Y=re.getConstructor(oe,K,Z,$),S.enable();else if(v(K,!0)){var ge=new Y,le=ge[$](Q?{}:-0,1)!=ge,xe=N(function(){ge.has(1)}),Ce=R(function(me){new F(me)}),je=!Q&&N(function(){for(var me=new F,Pe=5;Pe--;)me[$](Pe,Pe);return!me.has(-0)});Ce||((Y=oe(function(me,Pe){P(me,H);var ke=G(new F,me,Y);return Pe!=null&&j(Pe,ke[$],{that:ke,AS_ENTRIES:Z}),ke})).prototype=H,H.constructor=Y),(xe||je)&&(ne("delete"),ne("has"),Z&&ne("get")),(je||le)&&ne($),Q&&H.clear&&delete H.clear}return J[K]=Y,d({global:!0,forced:Y!=F},J),W(Y,K),Q||re.setStrong(Y,K,Z),Y}},function(u,c,o){var d=o(18),h=o(33),m=o(51),v=o(184),x=Object.isExtensible,S=d(function(){});u.exports=S||v?function(j){return!!h(j)&&(!v||m(j)!="ArrayBuffer")&&(!x||x(j))}:x},function(u,c,o){var d=o(18);u.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(u,c,o){var d=o(18);u.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,o){var d=o(38).f,h=o(60),m=o(149),v=o(64),x=o(119),S=o(117),j=o(116),P=o(150),k=o(36),D=o(144).fastKey,N=o(58),R=N.set,W=N.getterFor;u.exports={getConstructor:function(G,K,oe,re){var Z=G(function(Y,J){x(Y,Q),R(Y,{type:K,index:h(null),first:void 0,last:void 0,size:0}),k||(Y.size=0),J!=null&&S(J,Y[re],{that:Y,AS_ENTRIES:oe})}),Q=Z.prototype,$=W(K),F=function(Y,J,ne){var ge,le,xe=$(Y),Ce=H(Y,J);return Ce?Ce.value=ne:(xe.last=Ce={index:le=D(J,!0),key:J,value:ne,previous:ge=xe.last,next:void 0,removed:!1},xe.first||(xe.first=Ce),ge&&(ge.next=Ce),k?xe.size++:Y.size++,le!=="F"&&(xe.index[le]=Ce)),Y},H=function(Y,J){var ne,ge=$(Y),le=D(J);if(le!=="F")return ge.index[le];for(ne=ge.first;ne;ne=ne.next)if(ne.key==J)return ne};return m(Q,{clear:function(){for(var Y=$(this),J=Y.index,ne=Y.first;ne;)ne.removed=!0,ne.previous&&(ne.previous=ne.previous.next=void 0),delete J[ne.index],ne=ne.next;Y.first=Y.last=void 0,k?Y.size=0:this.size=0},delete:function(Y){var J=this,ne=$(J),ge=H(J,Y);if(ge){var le=ge.next,xe=ge.previous;delete ne.index[ge.index],ge.removed=!0,xe&&(xe.next=le),le&&(le.previous=xe),ne.first==ge&&(ne.first=le),ne.last==ge&&(ne.last=xe),k?ne.size--:J.size--}return!!ge},forEach:function(Y){for(var J,ne=$(this),ge=v(Y,arguments.length>1?arguments[1]:void 0);J=J?J.next:ne.first;)for(ge(J.value,J.key,this);J&&J.removed;)J=J.previous},has:function(Y){return!!H(this,Y)}}),m(Q,oe?{get:function(Y){var J=H(this,Y);return J&&J.value},set:function(Y,J){return F(this,Y===0?0:Y,J)}}:{add:function(Y){return F(this,Y=Y===0?0:Y,Y)}}),k&&d(Q,"size",{get:function(){return $(this).size}}),Z},setStrong:function(G,K,oe){var re=K+" Iterator",Z=W(K),Q=W(re);j(G,K,function($,F){R(this,{type:re,target:$,state:Z($),kind:F,last:void 0})},function(){for(var $=Q(this),F=$.kind,H=$.last;H&&H.removed;)H=H.previous;return $.target&&($.last=H=H?H.next:$.state.first)?F=="keys"?{value:H.key,done:!1}:F=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:($.target=void 0,{value:void 0,done:!0})},oe?"entries":"values",!oe,!0),P(K)}}},function(u,c,o){var d=o(79).forEach,h=o(121)("forEach");u.exports=h?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},function(u,c,o){var d=o(7),h=o(64),m=o(34),v=o(40),x=o(189),S=o(145),j=o(99),P=o(45),k=o(63),D=o(146),N=o(118),R=d.Array;u.exports=function(W){var G=v(W),K=j(this),oe=arguments.length,re=oe>1?arguments[1]:void 0,Z=re!==void 0;Z&&(re=h(re,oe>2?arguments[2]:void 0));var Q,$,F,H,Y,J,ne=N(G),ge=0;if(!ne||this==R&&S(ne))for(Q=P(G),$=K?new this(Q):R(Q);Q>ge;ge++)J=Z?re(G[ge],ge):G[ge],k($,ge,J);else for(Y=(H=D(G,ne)).next,$=K?new this:[];!(F=m(Y,H)).done;ge++)J=Z?x(H,re,[F.value,ge],!0):F.value,k($,ge,J);return $.length=ge,$}},function(u,c,o){var d=o(32),h=o(147);u.exports=function(m,v,x,S){try{return S?v(d(x)[0],x[1]):v(x)}catch(j){h(m,"throw",j)}}},function(u,c,o){var d=o(18),h=o(7).RegExp;u.exports=d(function(){var m=h(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(u,c,o){var d=o(18),h=o(7).RegExp;u.exports=d(function(){var m=h("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(u,c,o){var d=o(16),h=o(15),m=o(56),v=o(40),x=o(45),S=o(39),j=o(18),P=o(193),k=o(121),D=o(194),N=o(195),R=o(70),W=o(196),G=[],K=h(G.sort),oe=h(G.push),re=j(function(){G.sort(void 0)}),Z=j(function(){G.sort(null)}),Q=k("sort"),$=!j(function(){if(R)return R<70;if(!(D&&D>3)){if(N)return!0;if(W)return W<603;var F,H,Y,J,ne="";for(F=65;F<76;F++){switch(H=String.fromCharCode(F),F){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(J=0;J<47;J++)G.push({k:H+J,v:Y})}for(G.sort(function(ge,le){return le.v-ge.v}),J=0;J<G.length;J++)H=G[J].k.charAt(0),ne.charAt(ne.length-1)!==H&&(ne+=H);return ne!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:re||!Z||!Q||!$},{sort:function(F){F!==void 0&&m(F);var H=v(this);if($)return F===void 0?K(H):K(H,F);var Y,J,ne=[],ge=x(H);for(J=0;J<ge;J++)J in H&&oe(ne,H[J]);for(P(ne,function(le){return function(xe,Ce){return Ce===void 0?-1:xe===void 0?1:le!==void 0?+le(xe,Ce)||0:S(xe)>S(Ce)?1:-1}}(F)),Y=ne.length,J=0;J<Y;)H[J]=ne[J++];for(;J<ge;)delete H[J++];return H}})},function(u,c,o){var d=o(114),h=Math.floor,m=function(S,j){var P=S.length,k=h(P/2);return P<8?v(S,j):x(S,m(d(S,0,k),j),m(d(S,k),j),j)},v=function(S,j){for(var P,k,D=S.length,N=1;N<D;){for(k=N,P=S[N];k&&j(S[k-1],P)>0;)S[k]=S[--k];k!==N++&&(S[k]=P)}return S},x=function(S,j,P,k){for(var D=j.length,N=P.length,R=0,W=0;R<D||W<N;)S[R+W]=R<D&&W<N?k(j[R],P[W])<=0?j[R++]:P[W++]:R<D?j[R++]:P[W++];return S};u.exports=m},function(u,c,o){var d=o(55).match(/firefox\/(\d+)/i);u.exports=!!d&&+d[1]},function(u,c,o){var d=o(55);u.exports=/MSIE|Trident/.test(d)},function(u,c,o){var d=o(55).match(/AppleWebKit\/(\d+)\./);u.exports=!!d&&+d[1]},function(u,c,o){var d=o(7),h=o(159),m=d.TypeError;u.exports=function(v){if(h(v))throw m("The method doesn't accept regular expressions");return v}},function(u,c,o){var d=o(28)("match");u.exports=function(h){var m=/./;try{"/./"[h](m)}catch{try{return m[d]=!1,"/./"[h](m)}catch{}}return!1}},function(u,c,o){o(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(u,c,o){var d=o(73).PROPER,h=o(18),m=o(162);u.exports=function(v){return h(function(){return!!m[v]()||"​᠎"[v]()!=="​᠎"||d&&m[v].name!==v})}},function(u,c,o){var d=o(15),h=o(40),m=Math.floor,v=d("".charAt),x=d("".replace),S=d("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P=/\$([$&'`]|\d{1,2})/g;u.exports=function(k,D,N,R,W,G){var K=N+k.length,oe=R.length,re=P;return W!==void 0&&(W=h(W),re=j),x(G,re,function(Z,Q){var $;switch(v(Q,0)){case"$":return"$";case"&":return k;case"`":return S(D,0,N);case"'":return S(D,K);case"<":$=W[S(Q,1,-1)];break;default:var F=+Q;if(F===0)return Z;if(F>oe){var H=m(F/10);return H===0?Z:H<=oe?R[H-1]===void 0?v(Q,1):R[H-1]+v(Q,1):Z}$=R[F-1]}return $===void 0?"":$})}},function(u,c,o){var d=o(36),h=o(15),m=o(34),v=o(18),x=o(77),S=o(112),j=o(84),P=o(40),k=o(85),D=Object.assign,N=Object.defineProperty,R=h([].concat);u.exports=!D||v(function(){if(d&&D({b:1},D(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var W={},G={},K=Symbol(),oe="abcdefghijklmnopqrst";return W[K]=7,oe.split("").forEach(function(re){G[re]=re}),D({},W)[K]!=7||x(D({},G)).join("")!=oe})?function(W,G){for(var K=P(W),oe=arguments.length,re=1,Z=S.f,Q=j.f;oe>re;)for(var $,F=k(arguments[re++]),H=Z?R(x(F),Z(F)):x(F),Y=H.length,J=0;Y>J;)$=H[J++],d&&!m(Q,F,$)||(K[$]=F[$]);return K}:D},function(u,c,o){var d=o(7),h=o(15),m=o(56),v=o(33),x=o(35),S=o(98),j=d.Function,P=h([].concat),k=h([].join),D={},N=function(R,W,G){if(!x(D,W)){for(var K=[],oe=0;oe<W;oe++)K[oe]="a["+oe+"]";D[W]=j("C,a","return new C("+k(K,",")+")")}return D[W](R,G)};u.exports=j.bind||function(R){var W=m(this),G=W.prototype,K=S(arguments,1),oe=function(){var re=P(K,S(arguments));return this instanceof oe?N(W,re.length,re):W.apply(R,re)};return v(G)&&(oe.prototype=G),oe}},function(u,c,o){var d=o(35);u.exports=function(h){return h!==void 0&&(d(h,"value")||d(h,"writable"))}},function(u,c,o){var d=o(15),h=o(44),m=o(39),v=/"/g,x=d("".replace);u.exports=function(S,j,P,k){var D=m(h(S)),N="<"+j;return P!==""&&(N+=" "+P+'="'+x(m(k),v,"&quot;")+'"'),N+">"+D+"</"+j+">"}},function(u,c,o){var d=o(18);u.exports=function(h){return d(function(){var m=""[h]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(u,c,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(u,c,o){var d,h,m,v,x=o(16),S=o(71),j=o(7),P=o(46),k=o(34),D=o(209),N=o(42),R=o(149),W=o(102),G=o(78),K=o(150),oe=o(56),re=o(30),Z=o(33),Q=o(119),$=o(92),F=o(117),H=o(120),Y=o(164),J=o(168).set,ne=o(210),ge=o(213),le=o(214),xe=o(170),Ce=o(215),je=o(58),me=o(95),Pe=o(28),ke=o(216),Ve=o(128),it=o(70),wt=Pe("species"),Ye="Promise",Ze=je.getterFor(Ye),_t=je.set,ce=je.getterFor(Ye),se=D&&D.prototype,he=D,Ne=se,Ke=j.TypeError,Fe=j.document,At=j.process,It=xe.f,kt=It,Ot=!!(Fe&&Fe.createEvent&&j.dispatchEvent),Te=re(j.PromiseRejectionEvent),dt="unhandledrejection",de=!1,ct=me(Ye,function(){var ue=$(he),Oe=ue!==String(he);if(!Oe&&it===66||S&&!Ne.finally)return!0;if(it>=51&&/native code/.test(ue))return!1;var Je=new he(function(yt){yt(1)}),Qe=function(yt){yt(function(){},function(){})};return(Je.constructor={})[wt]=Qe,!(de=Je.then(function(){})instanceof Qe)||!Oe&&ke&&!Te}),Wt=ct||!H(function(ue){he.all(ue).catch(function(){})}),gn=function(ue){var Oe;return!(!Z(ue)||!re(Oe=ue.then))&&Oe},Gt=function(ue,Oe){if(!ue.notified){ue.notified=!0;var Je=ue.reactions;ne(function(){for(var Qe=ue.value,yt=ue.state==1,qt=0;Je.length>qt;){var sr,Or,Qn,rr=Je[qt++],ft=yt?rr.ok:rr.fail,Et=rr.resolve,Mt=rr.reject,Bt=rr.domain;try{ft?(yt||(ue.rejection===2&&zt(ue),ue.rejection=1),ft===!0?sr=Qe:(Bt&&Bt.enter(),sr=ft(Qe),Bt&&(Bt.exit(),Qn=!0)),sr===rr.promise?Mt(Ke("Promise-chain cycle")):(Or=gn(sr))?k(Or,sr,Et,Mt):Et(sr)):Mt(Qe)}catch(wn){Bt&&!Qn&&Bt.exit(),Mt(wn)}}ue.reactions=[],ue.notified=!1,Oe&&!ue.rejection&&jn(ue)})}},un=function(ue,Oe,Je){var Qe,yt;Ot?((Qe=Fe.createEvent("Event")).promise=Oe,Qe.reason=Je,Qe.initEvent(ue,!1,!0),j.dispatchEvent(Qe)):Qe={promise:Oe,reason:Je},!Te&&(yt=j["on"+ue])?yt(Qe):ue===dt&&le("Unhandled promise rejection",Je)},jn=function(ue){k(J,j,function(){var Oe,Je=ue.facade,Qe=ue.value;if(Ln(ue)&&(Oe=Ce(function(){Ve?At.emit("unhandledRejection",Qe,Je):un(dt,Je,Qe)}),ue.rejection=Ve||Ln(ue)?2:1,Oe.error))throw Oe.value})},Ln=function(ue){return ue.rejection!==1&&!ue.parent},zt=function(ue){k(J,j,function(){var Oe=ue.facade;Ve?At.emit("rejectionHandled",Oe):un("rejectionhandled",Oe,ue.value)})},Jn=function(ue,Oe,Je){return function(Qe){ue(Oe,Qe,Je)}},te=function(ue,Oe,Je){ue.done||(ue.done=!0,Je&&(ue=Je),ue.value=Oe,ue.state=2,Gt(ue,!0))},ve=function(ue,Oe,Je){if(!ue.done){ue.done=!0,Je&&(ue=Je);try{if(ue.facade===Oe)throw Ke("Promise can't be resolved itself");var Qe=gn(Oe);Qe?ne(function(){var yt={done:!1};try{k(Qe,Oe,Jn(ve,yt,ue),Jn(te,yt,ue))}catch(qt){te(yt,qt,ue)}}):(ue.value=Oe,ue.state=1,Gt(ue,!1))}catch(yt){te({done:!1},yt,ue)}}};if(ct&&(Ne=(he=function(ue){Q(this,Ne),oe(ue),k(d,this);var Oe=Ze(this);try{ue(Jn(ve,Oe),Jn(te,Oe))}catch(Je){te(Oe,Je)}}).prototype,(d=function(ue){_t(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=R(Ne,{then:function(ue,Oe){var Je=ce(this),Qe=Je.reactions,yt=It(Y(this,he));return yt.ok=!re(ue)||ue,yt.fail=re(Oe)&&Oe,yt.domain=Ve?At.domain:void 0,Je.parent=!0,Qe[Qe.length]=yt,Je.state!=0&&Gt(Je,!1),yt.promise},catch:function(ue){return this.then(void 0,ue)}}),h=function(){var ue=new d,Oe=Ze(ue);this.promise=ue,this.resolve=Jn(ve,Oe),this.reject=Jn(te,Oe)},xe.f=It=function(ue){return ue===he||ue===m?new h(ue):kt(ue)},!S&&re(D)&&se!==Object.prototype)){v=se.then,de||(N(se,"then",function(ue,Oe){var Je=this;return new he(function(Qe,yt){k(v,Je,Qe,yt)}).then(ue,Oe)},{unsafe:!0}),N(se,"catch",Ne.catch,{unsafe:!0}));try{delete se.constructor}catch{}W&&W(se,Ne)}x({global:!0,wrap:!0,forced:ct},{Promise:he}),G(he,Ye,!1,!0),K(Ye),m=P(Ye),x({target:Ye,stat:!0,forced:ct},{reject:function(ue){var Oe=It(this);return k(Oe.reject,void 0,ue),Oe.promise}}),x({target:Ye,stat:!0,forced:S||ct},{resolve:function(ue){return ge(S&&this===m?he:this,ue)}}),x({target:Ye,stat:!0,forced:Wt},{all:function(ue){var Oe=this,Je=It(Oe),Qe=Je.resolve,yt=Je.reject,qt=Ce(function(){var sr=oe(Oe.resolve),Or=[],Qn=0,rr=1;F(ue,function(ft){var Et=Qn++,Mt=!1;rr++,k(sr,Oe,ft).then(function(Bt){Mt||(Mt=!0,Or[Et]=Bt,--rr||Qe(Or))},yt)}),--rr||Qe(Or)});return qt.error&&yt(qt.value),Je.promise},race:function(ue){var Oe=this,Je=It(Oe),Qe=Je.reject,yt=Ce(function(){var qt=oe(Oe.resolve);F(ue,function(sr){k(qt,Oe,sr).then(Je.resolve,Qe)})});return yt.error&&Qe(yt.value),Je.promise}})},function(u,c,o){var d=o(7);u.exports=d.Promise},function(u,c,o){var d,h,m,v,x,S,j,P,k=o(7),D=o(64),N=o(50).f,R=o(168).set,W=o(169),G=o(211),K=o(212),oe=o(128),re=k.MutationObserver||k.WebKitMutationObserver,Z=k.document,Q=k.process,$=k.Promise,F=N(k,"queueMicrotask"),H=F&&F.value;H||(d=function(){var Y,J;for(oe&&(Y=Q.domain)&&Y.exit();h;){J=h.fn,h=h.next;try{J()}catch(ne){throw h?v():m=void 0,ne}}m=void 0,Y&&Y.enter()},W||oe||K||!re||!Z?!G&&$&&$.resolve?((j=$.resolve(void 0)).constructor=$,P=D(j.then,j),v=function(){P(d)}):oe?v=function(){Q.nextTick(d)}:(R=D(R,k),v=function(){R(d)}):(x=!0,S=Z.createTextNode(""),new re(d).observe(S,{characterData:!0}),v=function(){S.data=x=!x})),u.exports=H||function(Y){var J={fn:Y,next:void 0};m&&(m.next=J),h||(h=J,v()),m=J}},function(u,c,o){var d=o(55),h=o(7);u.exports=/ipad|iphone|ipod/i.test(d)&&h.Pebble!==void 0},function(u,c,o){var d=o(55);u.exports=/web0s(?!.*chrome)/i.test(d)},function(u,c,o){var d=o(32),h=o(33),m=o(170);u.exports=function(v,x){if(d(v),h(x)&&x.constructor===v)return x;var S=m.f(v);return(0,S.resolve)(x),S.promise}},function(u,c,o){var d=o(7);u.exports=function(h,m){var v=d.console;v&&v.error&&(arguments.length==1?v.error(h):v.error(h,m))}},function(u,c){u.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,o){var d=o(40),h=o(75),m=o(45);u.exports=function(v){for(var x=d(this),S=m(x),j=arguments.length,P=h(j>1?arguments[1]:void 0,S),k=j>2?arguments[2]:void 0,D=k===void 0?S:h(k,S);D>P;)x[P++]=v;return x}},function(u,c,o){var d=o(16),h=o(7),m=o(15),v=o(59),x=o(160),S=o(219),j=o(18),P=h.RangeError,k=h.String,D=Math.floor,N=m(S),R=m("".slice),W=m(1 .toFixed),G=function(Z,Q,$){return Q===0?$:Q%2==1?G(Z,Q-1,$*Z):G(Z*Z,Q/2,$)},K=function(Z,Q,$){for(var F=-1,H=$;++F<6;)H+=Q*Z[F],Z[F]=H%1e7,H=D(H/1e7)},oe=function(Z,Q){for(var $=6,F=0;--$>=0;)F+=Z[$],Z[$]=D(F/Q),F=F%Q*1e7},re=function(Z){for(var Q=6,$="";--Q>=0;)if($!==""||Q===0||Z[Q]!==0){var F=k(Z[Q]);$=$===""?F:$+N("0",7-F.length)+F}return $};d({target:"Number",proto:!0,forced:j(function(){return W(8e-5,3)!=="0.000"||W(.9,0)!=="1"||W(1.255,2)!=="1.25"||W(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!j(function(){W({})})},{toFixed:function(Z){var Q,$,F,H,Y=x(this),J=v(Z),ne=[0,0,0,0,0,0],ge="",le="0";if(J<0||J>20)throw P("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return k(Y);if(Y<0&&(ge="-",Y=-Y),Y>1e-21)if($=(Q=function(xe){for(var Ce=0,je=xe;je>=4096;)Ce+=12,je/=4096;for(;je>=2;)Ce+=1,je/=2;return Ce}(Y*G(2,69,1))-69)<0?Y*G(2,-Q,1):Y/G(2,Q,1),$*=4503599627370496,(Q=52-Q)>0){for(K(ne,0,$),F=J;F>=7;)K(ne,1e7,0),F-=7;for(K(ne,G(10,F,1),0),F=Q-1;F>=23;)oe(ne,1<<23),F-=23;oe(ne,1<<F),K(ne,1,1),oe(ne,2),le=re(ne)}else K(ne,0,$),K(ne,1<<-Q,0),le=re(ne)+N("0",J);return le=J>0?ge+((H=le.length)<=J?"0."+N("0",J-H)+le:R(le,0,H-J)+"."+R(le,H-J)):ge+le}})},function(u,c,o){var d=o(7),h=o(59),m=o(39),v=o(44),x=d.RangeError;u.exports=function(S){var j=m(v(this)),P="",k=h(S);if(k<0||k==1/0)throw x("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(j+=j))1&k&&(P+=j);return P}},function(u,c,o){var d=o(36),h=o(15),m=o(77),v=o(41),x=h(o(84).f),S=h([].push),j=function(P){return function(k){for(var D,N=v(k),R=m(N),W=R.length,G=0,K=[];W>G;)D=R[G++],d&&!x(N,D)||S(K,P?[D,N[D]]:N[D]);return K}};u.exports={entries:j(!0),values:j(!1)}},function(u,c){u.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(u,c,o){o.r(c),o.d(c,"observer",function(){return Wi}),o.d(c,"LogicFlow",function(){return $m}),o.d(c,"h",function(){return de.g}),o.d(c,"LogicFlowUtil",function(){return d}),o.d(c,"BaseNode",function(){return za}),o.d(c,"RectNode",function(){return Ig}),o.d(c,"CircleNode",function(){return Fg}),o.d(c,"PolygonNode",function(){return $g}),o.d(c,"DiamondNode",function(){return Kg}),o.d(c,"EllipseNode",function(){return em}),o.d(c,"TextNode",function(){return rm}),o.d(c,"HtmlNode",function(){return um}),o.d(c,"BaseEdge",function(){return mp}),o.d(c,"LineEdge",function(){return Om}),o.d(c,"PolylineEdge",function(){return jm}),o.d(c,"BezierEdge",function(){return km}),o.d(c,"Arrow",function(){return fP}),o.d(c,"BaseEdgeModel",function(){return Cf}),o.d(c,"BezierEdgeModel",function(){return Wv}),o.d(c,"LineEdgeModel",function(){return ql}),o.d(c,"PolylineEdgeModel",function(){return jo}),o.d(c,"BaseNodeModel",function(){return La}),o.d(c,"CircleNodeModel",function(){return Yv}),o.d(c,"DiamondNodeModel",function(){return Qv}),o.d(c,"EllipseNodeModel",function(){return rg}),o.d(c,"PolygonNodeModel",function(){return lg}),o.d(c,"RectNodeModel",function(){return dg}),o.d(c,"TextNodeModel",function(){return gg}),o.d(c,"HtmlNodeModel",function(){return _g}),o.d(c,"EditConfigModel",function(){return rf}),o.d(c,"GraphModel",function(){return c0}),o.d(c,"SnaplineModel",function(){return X_}),o.d(c,"Keyboard",function(){return D1}),o.d(c,"get",function(){return D0}),o.d(c,"defaults",function(){return R0}),o.d(c,"ElementState",function(){return On}),o.d(c,"ModelType",function(){return Qt}),o.d(c,"ElementType",function(){return or}),o.d(c,"EventType",function(){return vt}),o.d(c,"formateAnchorConnectValidateData",function(){return Ou});var d={};o.r(d),o.d(d,"createUuid",function(){return Ni}),o.d(d,"refreshGraphId",function(){return Qy}),o.d(d,"StepDrag",function(){return Ao}),o.d(d,"setupEdgeModel",function(){return Wd}),o.d(d,"isBboxOverLapping",function(){return si}),o.d(d,"filterRepeatPoints",function(){return Xt}),o.d(d,"getSimplePolyline",function(){return Gd}),o.d(d,"getExpandedBBox",function(){return Ir}),o.d(d,"pointDirection",function(){return $f}),o.d(d,"getExpandedBBoxPoint",function(){return hn}),o.d(d,"mergeBBox",function(){return Hf}),o.d(d,"getBBoxOfPoints",function(){return Ta}),o.d(d,"getPointsFromBBox",function(){return oa}),o.d(d,"isPointOutsideBBox",function(){return Ps}),o.d(d,"getBBoxXCrossPoints",function(){return Vd}),o.d(d,"getBBoxYCrossPoints",function(){return $d}),o.d(d,"getBBoxCrossPointsByPoint",function(){return Hd}),o.d(d,"estimateDistance",function(){return Au}),o.d(d,"costByPoints",function(){return tc}),o.d(d,"heuristicCostEstimate",function(){return Xf}),o.d(d,"rebuildPath",function(){return Xd}),o.d(d,"removeClosePointFromOpenList",function(){return Yd}),o.d(d,"isSegmentsIntersected",function(){return qn}),o.d(d,"isSegmentCrossingBBox",function(){return Lr}),o.d(d,"getNextNeighborPoints",function(){return Kd}),o.d(d,"pathFinder",function(){return Yf}),o.d(d,"getBoxByOriginNode",function(){return Kf}),o.d(d,"pointFilter",function(){return qf}),o.d(d,"getPolylinePoints",function(){return nc}),o.d(d,"getLongestEdge",function(){return Zf}),o.d(d,"isSegmentsInNode",function(){return rc}),o.d(d,"isSegmentsCrossNode",function(){return ia}),o.d(d,"getCrossPointInRect",function(){return Jf}),o.d(d,"segmentDirection",function(){return Pu}),o.d(d,"points2PointsList",function(){return Ci}),o.d(d,"getSimplePoints",function(){return qd}),o.d(d,"getBytesLength",function(){return Qf}),o.d(d,"getTextWidth",function(){return cv}),o.d(d,"getAppendAttributes",function(){return Jd}),o.d(d,"getBezierControlPoints",function(){return Ms}),o.d(d,"getBezierPoints",function(){return ks}),o.d(d,"getEndTangent",function(){return tp}),o.d(d,"getClosestPointOfPolyline",function(){return Ns}),o.d(d,"pickEdgeConfig",function(){return Qd}),o.d(d,"twoPointDistance",function(){return np}),o.d(d,"createEdgeGenerator",function(){return Yr}),o.d(d,"snapToGrid",function(){return ea}),o.d(d,"getGridOffset",function(){return Dl}),o.d(d,"sampleCubic",function(){return Hn}),o.d(d,"getThetaOfVector",function(){return Wf}),o.d(d,"degrees",function(){return Gf}),o.d(d,"Vector",function(){return Sr}),o.d(d,"Point",function(){return f}),o.d(d,"Matrix",function(){return ci}),o.d(d,"RotateMatrix",function(){return aa}),o.d(d,"ScaleMatrix",function(){return up}),o.d(d,"TranslateMatrix",function(){return ku});var h=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=o(43),x=Object(v.b)("observerBatching");function S(t){t()}var j=!1;function P(){return j}function k(t){return Object(h.t)(t)}var D,N=1e4,R=new Set;function W(){D===void 0&&(D=setTimeout(G,1e4))}function G(){D=void 0;var t=Date.now();R.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,R.delete(e))}),R.size>0&&W()}var K=!1,oe=[],re={};function Z(t){return"observer"+t}function Q(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=re),P();var r,l=function(E){return function(){K?oe.push(E):E()}}((n.useForceUpdate||v.d)()),s=m.d.useRef(null);if(!s.current){var p=new h.c(Z(e),function(){g.mounted?l():(p.dispose(),s.current=null)}),g=function(E){return{cleanAt:Date.now()+N,reaction:E}}(p);s.current=g,r=s,R.add(r),W()}var b=s.current.reaction;return m.d.useDebugValue(b,k),m.d.useEffect(function(){var E;return E=s,R.delete(E),s.current?s.current.mounted=!0:(s.current={reaction:new h.c(Z(e),function(){l()}),cleanAt:1/0},l()),function(){s.current.reaction.dispose(),s.current=null}},[]),function(E){K=!0,oe=[];try{var A=E();K=!1;var C=oe.length>0?oe:void 0;return m.d.useLayoutEffect(function(){C&&C.forEach(function(L){return L()})},[C]),A}finally{K=!1}}(function(){var E,A;if(b.track(function(){try{E=t()}catch(C){A=C}}),A)throw A;return E})}var $=function(){return $=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var l in e=arguments[n])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t},$.apply(this,arguments)};function F(t,e){var n,r,l,s=$({forwardRef:!1},e),p=t.displayName||t.name,g=function(b,E){return Q(function(){return t(b,E)},p)};return g.displayName=p,n=s.forwardRef?Object(m.f)(Object(m.e)(g)):Object(m.f)(g),r=t,l=n,Object.keys(r).forEach(function(b){H[b]||Object.defineProperty(l,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=p,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:Q(r)}function J(t,e,n,r,l){var s=e==="children"?"render":"children",p=typeof t[e]=="function",g=typeof t[s]=="function";return p&&g?new Error("MobX Observer: Do not use children and render in the same time in`"+n):p||g?null:new Error("Invalid prop `"+l+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:J,render:J},Y.displayName="Observer";var ne;(ne=m.g)||(ne=S),Object(h.n)({reactionScheduler:ne}),Object(v.a)()[x]=!0;var ge=0,le={};function xe(t){return le[t]||(le[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+ge+")";return ge++,n}(t)),le[t]}function Ce(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var l=0;l<n.length;l++)if(!Object.hasOwnProperty.call(e,n[l])||!je(t[n[l]],e[n[l]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function me(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=xe("patchMixins"),ke=xe("patchedDefinition");function Ve(t,e){for(var n=this,r=arguments.length,l=new Array(r>2?r-2:0),s=2;s<r;s++)l[s-2]=arguments[s];e.locks++;try{var p;return t!=null&&(p=t.apply(this,l)),p}finally{e.locks--,e.locks===0&&e.methods.forEach(function(g){g.apply(n,l)})}}function it(t,e){return function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];Ve.call.apply(Ve,[this,t,e].concat(r))}}function wt(t,e,n){var r=function(g,b){var E=g[Pe]=g[Pe]||{},A=E[b]=E[b]||{};return A.locks=A.locks||0,A.methods=A.methods||[],A}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var l=Object.getOwnPropertyDescriptor(t,e);if(!l||!l[ke]){var s=t[e],p=Ye(t,e,l?l.enumerable:void 0,r,s);Object.defineProperty(t,e,p)}}function Ye(t,e,n,r,l){var s,p=it(l,r);return(s={})[ke]=!0,s.get=function(){return p},s.set=function(g){if(this===t)p=it(g,r);else{var b=Ye(this,e,n,r,g);Object.defineProperty(this,e,b)}},s.configurable=!0,s.enumerable=n,s}var Ze=h.a||"$mobx",_t=xe("isMobXReactObserver"),ce=xe("isUnmounted"),se=xe("skipRender"),he=xe("isForcingUpdate");function Ne(t){var e=t.prototype;if(t[_t]?Ke(e):t[_t]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==At)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=At;It(e,"props"),It(e,"state");var n=e.render;return e.render=function(){return Fe.call(this,n)},wt(e,"componentWillUnmount",function(){var r;(r=this.render[Ze])===null||r===void 0||r.dispose(),this[ce]=!0,!this.render[Ze]&&Ke(this)}),t}function Ke(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Fe(t){var e=this;me(this,se,!1),me(this,he,!1);var n=Ke(this),r=t.bind(this),l=!1,s=new h.c(n+".render()",function(){if(!l&&(l=!0,e[ce]!==!0)){var g=!0;try{me(e,he,!0),e[se]||m.a.prototype.forceUpdate.call(e),g=!1}finally{me(e,he,!1),g&&s.dispose()}}});function p(){l=!1;var g=void 0,b=void 0;if(s.track(function(){try{b=Object(h.d)(!1,r)}catch(E){g=E}}),g)throw g;return b}return s.reactComponent=this,p[Ze]=s,this.render=p,p.call(this)}function At(t,e){return this.state!==e||!Ce(this.props,t)}function It(t,e){var n=xe("reactProp_"+e+"_valueHolder"),r=xe("reactProp_"+e+"_atomHolder");function l(){return this[r]||me(this,r,Object(h.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var s=!1;return h.f&&h.e&&(s=Object(h.f)(!0)),l.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(s),this[n]},set:function(s){this[he]||Ce(this[n],s)?me(this,n,s):(me(this,n,s),me(this,se,!0),l.call(this).reportChanged(),me(this,se,!1))}})}var kt=typeof Symbol=="function"&&Symbol.for,Ot=kt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,Te=kt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function dt(t){if(t.isMobxInjector,Te&&t.$$typeof===Te)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ot&&t.$$typeof===Ot){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?Ne(t):F(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var de=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var ct=function(t,e){for(var n=-1,r=t==null?0:t.length,l=Array(r);++n<r;)l[n]=e(t[n],n,t);return l},Wt=function(){this.__data__=[],this.size=0},gn=function(t,e){return t===e||t!=t&&e!=e},Gt=function(t,e){for(var n=t.length;n--;)if(gn(t[n][0],e))return n;return-1},un=Array.prototype.splice,jn=function(t){var e=this.__data__,n=Gt(e,t);return!(n<0)&&(n==e.length-1?e.pop():un.call(e,n,1),--this.size,!0)},Ln=function(t){var e=this.__data__,n=Gt(e,t);return n<0?void 0:e[n][1]},zt=function(t){return Gt(this.__data__,t)>-1},Jn=function(t,e){var n=this.__data__,r=Gt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function te(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}te.prototype.clear=Wt,te.prototype.delete=jn,te.prototype.get=Ln,te.prototype.has=zt,te.prototype.set=Jn;var ve=te,ue=function(){this.__data__=new ve,this.size=0},Oe=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Je=function(t){return this.__data__.get(t)},Qe=function(t){return this.__data__.has(t)},yt=o(31),qt=yt.a.Symbol,sr=Object.prototype,Or=sr.hasOwnProperty,Qn=sr.toString,rr=qt?qt.toStringTag:void 0,ft=function(t){var e=Or.call(t,rr),n=t[rr];try{t[rr]=void 0;var r=!0}catch{}var l=Qn.call(t);return r&&(e?t[rr]=n:delete t[rr]),l},Et=Object.prototype.toString,Mt=function(t){return Et.call(t)},Bt=qt?qt.toStringTag:void 0,wn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Bt&&Bt in Object(t)?ft(t):Mt(t)},Wn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},qo,Do=function(t){if(!Wn(t))return!1;var e=wn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Zo=yt.a["__core-js_shared__"],Hi=(qo=/[^.]+$/.exec(Zo&&Zo.keys&&Zo.keys.IE_PROTO||""))?"Symbol(src)_1."+qo:"",Wc=function(t){return!!Hi&&Hi in t},Xu=Function.prototype.toString,io=function(t){if(t!=null){try{return Xu.call(t)}catch{}try{return t+""}catch{}}return""},ma=/^\[object .+?Constructor\]$/,ht=Function.prototype,Gc=Object.prototype,Yu=ht.toString,Ku=Gc.hasOwnProperty,Fr=RegExp("^"+Yu.call(Ku).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qr=function(t){return!(!Wn(t)||Wc(t))&&(Do(t)?Fr:ma).test(io(t))},Za=function(t,e){return t==null?void 0:t[e]},_o=function(t,e){var n=Za(t,e);return qr(n)?n:void 0},ao=_o(yt.a,"Map"),Oo=_o(Object,"create"),qu=function(){this.__data__=Oo?Oo(null):{},this.size=0},Zu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},il=Object.prototype.hasOwnProperty,ba=function(t){var e=this.__data__;if(Oo){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return il.call(e,t)?e[t]:void 0},al=Object.prototype.hasOwnProperty,Ju=function(t){var e=this.__data__;return Oo?e[t]!==void 0:al.call(e,t)},Vc=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Oo&&e===void 0?"__lodash_hash_undefined__":e,this};function Oi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oi.prototype.clear=qu,Oi.prototype.delete=Zu,Oi.prototype.get=ba,Oi.prototype.has=Ju,Oi.prototype.set=Vc;var ul=Oi,Jo=function(){this.size=0,this.__data__={hash:new ul,map:new(ao||ve),string:new ul}},Qu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Ja=function(t,e){var n=t.__data__;return Qu(e)?n[typeof e=="string"?"string":"hash"]:n.map},es=function(t){var e=Ja(this,t).delete(t);return this.size-=e?1:0,e},ts=function(t){return Ja(this,t).get(t)},$c=function(t){return Ja(this,t).has(t)},sl=function(t,e){var n=Ja(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function _n(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_n.prototype.clear=Jo,_n.prototype.delete=es,_n.prototype.get=ts,_n.prototype.has=$c,_n.prototype.set=sl;var mn=_n,ll=function(t,e){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!ao||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mn(r)}return n.set(t,e),this.size=n.size,this};function Xi(t){var e=this.__data__=new ve(t);this.size=e.size}Xi.prototype.clear=ue,Xi.prototype.delete=Oe,Xi.prototype.get=Je,Xi.prototype.has=Qe,Xi.prototype.set=ll;var Qo=Xi,ns=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},cl=function(t){return this.__data__.has(t)};function Xn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new mn;++e<n;)this.add(t[e])}Xn.prototype.add=Xn.prototype.push=ns,Xn.prototype.has=cl;var rs=Xn,_a=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},os=function(t,e){return t.has(e)},Qa=function(t,e,n,r,l,s){var p=1&n,g=t.length,b=e.length;if(g!=b&&!(p&&b>g))return!1;var E=s.get(t),A=s.get(e);if(E&&A)return E==e&&A==t;var C=-1,L=!0,X=2&n?new rs:void 0;for(s.set(t,e),s.set(e,t);++C<g;){var ee=t[C],ie=e[C];if(r)var _e=p?r(ie,ee,C,e,t,s):r(ee,ie,C,t,e,s);if(_e!==void 0){if(_e)continue;L=!1;break}if(X){if(!_a(e,function(be,Se){if(!os(X,Se)&&(ee===be||l(ee,be,n,r,s)))return X.push(Se)})){L=!1;break}}else if(ee!==ie&&!l(ee,ie,n,r,s)){L=!1;break}}return s.delete(t),s.delete(e),L},wr=yt.a.Uint8Array,is=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,l){n[++e]=[l,r]}),n},fl=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},as=qt?qt.prototype:void 0,eu=as?as.valueOf:void 0,Yi=function(t,e,n,r,l,s,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new wr(t),new wr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var g=is;case"[object Set]":var b=1&r;if(g||(g=fl),t.size!=e.size&&!b)return!1;var E=p.get(t);if(E)return E==e;r|=2,p.set(t,e);var A=Qa(g(t),g(e),r,l,s,p);return p.delete(t),A;case"[object Symbol]":if(eu)return eu.call(t)==eu.call(e)}return!1},ei=function(t,e){for(var n=-1,r=e.length,l=t.length;++n<r;)t[l+n]=e[n];return t},Mn=Array.isArray,Hc=function(t,e,n){var r=e(t);return Mn(t)?r:ei(r,n(t))},Ur=function(t,e){for(var n=-1,r=t==null?0:t.length,l=0,s=[];++n<r;){var p=t[n];e(p,n,t)&&(s[l++]=p)}return s},Xc=function(){return[]},pl=Object.prototype.propertyIsEnumerable,kr=Object.getOwnPropertySymbols,uo=kr?function(t){return t==null?[]:(t=Object(t),Ur(kr(t),function(e){return pl.call(t,e)}))}:Xc,us=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},fn=function(t){return t!=null&&typeof t=="object"},lr=function(t){return fn(t)&&wn(t)=="[object Arguments]"},tu=Object.prototype,dl=tu.hasOwnProperty,ss=tu.propertyIsEnumerable,nu=lr(function(){return arguments}())?lr:function(t){return fn(t)&&dl.call(t,"callee")&&!ss.call(t,"callee")},Co=nu,ti=o(48),Ki=/^(?:0|[1-9]\d*)$/,Wr=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Ki.test(t))&&t>-1&&t%1==0&&t<e},ni=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},sn={};sn["[object Float32Array]"]=sn["[object Float64Array]"]=sn["[object Int8Array]"]=sn["[object Int16Array]"]=sn["[object Int32Array]"]=sn["[object Uint8Array]"]=sn["[object Uint8ClampedArray]"]=sn["[object Uint16Array]"]=sn["[object Uint32Array]"]=!0,sn["[object Arguments]"]=sn["[object Array]"]=sn["[object ArrayBuffer]"]=sn["[object Boolean]"]=sn["[object DataView]"]=sn["[object Date]"]=sn["[object Error]"]=sn["[object Function]"]=sn["[object Map]"]=sn["[object Number]"]=sn["[object Object]"]=sn["[object RegExp]"]=sn["[object Set]"]=sn["[object String]"]=sn["[object WeakMap]"]=!1;var Gr=function(t){return fn(t)&&ni(t.length)&&!!sn[wn(t)]},Ro=function(t){return function(e){return t(e)}},mr=o(49),ru=mr.a&&mr.a.isTypedArray,Oa=ru?Ro(ru):Gr,ls=Object.prototype.hasOwnProperty,Gn=function(t,e){var n=Mn(t),r=!n&&Co(t),l=!n&&!r&&Object(ti.a)(t),s=!n&&!r&&!l&&Oa(t),p=n||r||l||s,g=p?us(t.length,String):[],b=g.length;for(var E in t)!e&&!ls.call(t,E)||p&&(E=="length"||l&&(E=="offset"||E=="parent")||s&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||Wr(E,b))||g.push(E);return g},ou=Object.prototype,ri=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||ou)},so=function(t,e){return function(n){return t(e(n))}},cs=so(Object.keys,Object),Yc=Object.prototype.hasOwnProperty,fs=function(t){if(!ri(t))return cs(t);var e=[];for(var n in Object(t))Yc.call(t,n)&&n!="constructor"&&e.push(n);return e},er=function(t){return t!=null&&ni(t.length)&&!Do(t)},wa=function(t){return er(t)?Gn(t):fs(t)},Io=function(t){return Hc(t,wa,uo)},Tr=Object.prototype.hasOwnProperty,ps=function(t,e,n,r,l,s){var p=1&n,g=Io(t),b=g.length;if(b!=Io(e).length&&!p)return!1;for(var E=b;E--;){var A=g[E];if(!(p?A in e:Tr.call(e,A)))return!1}var C=s.get(t),L=s.get(e);if(C&&L)return C==e&&L==t;var X=!0;s.set(t,e),s.set(e,t);for(var ee=p;++E<b;){var ie=t[A=g[E]],_e=e[A];if(r)var be=p?r(_e,ie,A,e,t,s):r(ie,_e,A,t,e,s);if(!(be===void 0?ie===_e||l(ie,_e,n,r,s):be)){X=!1;break}ee||(ee=A=="constructor")}if(X&&!ee){var Se=t.constructor,Le=e.constructor;Se==Le||!("constructor"in t)||!("constructor"in e)||typeof Se=="function"&&Se instanceof Se&&typeof Le=="function"&&Le instanceof Le||(X=!1)}return s.delete(t),s.delete(e),X},Zr=_o(yt.a,"DataView"),wi=_o(yt.a,"Promise"),iu=_o(yt.a,"Set"),Lo=_o(yt.a,"WeakMap"),Jr="[object Map]",Vr="[object Promise]",lo="[object Set]",zo="[object WeakMap]",Ee="[object DataView]",Ie=io(Zr),ze=io(ao),rt=io(wi),Vt=io(iu),tn=io(Lo),Dn=wn;(Zr&&Dn(new Zr(new ArrayBuffer(1)))!=Ee||ao&&Dn(new ao)!=Jr||wi&&Dn(wi.resolve())!=Vr||iu&&Dn(new iu)!=lo||Lo&&Dn(new Lo)!=zo)&&(Dn=function(t){var e=wn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?io(n):"";if(r)switch(r){case Ie:return Ee;case ze:return Jr;case rt:return Vr;case Vt:return lo;case tn:return zo}return e});var O=Dn,w="[object Arguments]",T="[object Array]",z="[object Object]",q=Object.prototype.hasOwnProperty,ye=function(t,e,n,r,l,s){var p=Mn(t),g=Mn(e),b=p?T:O(t),E=g?T:O(e),A=(b=b==w?z:b)==z,C=(E=E==w?z:E)==z,L=b==E;if(L&&Object(ti.a)(t)){if(!Object(ti.a)(e))return!1;p=!0,A=!1}if(L&&!A)return s||(s=new Qo),p||Oa(t)?Qa(t,e,n,r,l,s):Yi(t,e,b,n,r,l,s);if(!(1&n)){var X=A&&q.call(t,"__wrapped__"),ee=C&&q.call(e,"__wrapped__");if(X||ee){var ie=X?t.value():t,_e=ee?e.value():e;return s||(s=new Qo),l(ie,_e,n,r,s)}}return!!L&&(s||(s=new Qo),ps(t,e,n,r,l,s))},Ae=function t(e,n,r,l,s){return e===n||(e==null||n==null||!fn(e)&&!fn(n)?e!=e&&n!=n:ye(e,n,r,l,t,s))},Ge=function(t,e,n,r){var l=n.length,s=l;if(t==null)return!s;for(t=Object(t);l--;){var p=n[l];if(p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++l<s;){var g=(p=n[l])[0],b=t[g],E=p[1];if(p[2]){if(b===void 0&&!(g in t))return!1}else{var A=new Qo,C;if(!(C===void 0?Ae(E,b,3,r,A):C))return!1}}return!0},pt=function(t){return t==t&&!Wn(t)},Jt=function(t){for(var e=wa(t),n=e.length;n--;){var r=e[n],l=t[r];e[n]=[r,l,pt(l)]}return e},ot=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},An=function(t){var e=Jt(t);return e.length==1&&e[0][2]?ot(e[0][0],e[0][1]):function(n){return n===t||Ge(n,t,e)}},$t=function(t){return typeof t=="symbol"||fn(t)&&wn(t)=="[object Symbol]"},dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,co=/^\w*$/,Bn=function(t,e){if(Mn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!$t(t))||co.test(t)||!dn.test(t)||e!=null&&t in Object(e)};function $r(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,l=e?e.apply(this,r):r[0],s=n.cache;if(s.has(l))return s.get(l);var p=t.apply(this,r);return n.cache=s.set(l,p)||s,p};return n.cache=new($r.Cache||mn),n}$r.Cache=mn;var oi=$r,ii=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xa=/\\(\\)?/g,ds=function(t){var e=oi(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ii,function(n,r,l,s){e.push(l?s.replace(xa,"$1"):r||n)}),e}),xi=qt?qt.prototype:void 0,au=xi?xi.toString:void 0,Nr=function t(e){if(typeof e=="string")return e;if(Mn(e))return ct(e,t)+"";if($t(e))return au?au.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ea=function(t){return t==null?"":Nr(t)},qi=function(t,e){return Mn(t)?t:Bn(t,e)?[t]:ds(Ea(t))},Ei=function(t){if(typeof t=="string"||$t(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Si=function(t,e){for(var n=0,r=(e=qi(e,t)).length;t!=null&&n<r;)t=t[Ei(e[n++])];return n&&n==r?t:void 0},uu=function(t,e,n){var r=t==null?void 0:Si(t,e);return r===void 0?n:r},By=function(t,e){return t!=null&&e in Object(t)},Fy=function(t,e,n){for(var r=-1,l=(e=qi(e,t)).length,s=!1;++r<l;){var p=Ei(e[r]);if(!(s=t!=null&&n(t,p)))break;t=t[p]}return s||++r!=l?s:!!(l=t==null?0:t.length)&&ni(l)&&Wr(p,l)&&(Mn(t)||Co(t))},$p=function(t,e){return t!=null&&Fy(t,e,By)},hl=function(t,e){return Bn(t)&&pt(e)?ot(Ei(t),e):function(n){var r=uu(n,t);return r===void 0&&r===e?$p(n,t):Ae(e,r,3)}},su=function(t){return t},Kc=function(t){return function(e){return e==null?void 0:e[t]}},Uy=function(t){return function(e){return Si(e,t)}},Hp=function(t){return Bn(t)?Kc(Ei(t)):Uy(t)},qc=function(t){return typeof t=="function"?t:t==null?su:typeof t=="object"?Mn(t)?hl(t[0],t[1]):An(t):Hp(t)},Xp=function(t){return function(e,n,r){for(var l=-1,s=Object(e),p=r(e),g=p.length;g--;){var b=p[++l];if(n(s[b],b,s)===!1)break}return e}}(),br=function(t,e){return function(n,r){if(n==null)return n;if(!er(n))return t(n,r);for(var l=n.length,s=-1,p=Object(n);++s<l&&r(p[s],s,p)!==!1;);return n}}(function(t,e){return t&&Xp(t,e,wa)}),Dr=function(t,e){var n=-1,r=er(t)?Array(t.length):[];return br(t,function(l,s,p){r[++n]=e(l,s,p)}),r},yl=function(t,e){return(Mn(t)?ct:Dr)(t,qc(e))};Object(h.n)({isolateGlobalState:!0});var vl=function(){try{var t=_o(Object,"defineProperty");return t({},"",{}),t}catch{}}(),gl=function(t,e,n){e=="__proto__"&&vl?vl(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Wy=Object.prototype.hasOwnProperty,lu=function(t,e,n){var r=t[e];Wy.call(t,e)&&gn(r,n)&&(n!==void 0||e in t)||gl(t,e,n)},cu=function(t,e,n,r){var l=!n;n||(n={});for(var s=-1,p=e.length;++s<p;){var g=e[s],b=void 0;b===void 0&&(b=t[g]),l?gl(n,g,b):lu(n,g,b)}return n},Zc=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Sa=Math.max,fu=function(t,e,n){return e=Sa(e===void 0?t.length-1:e,0),function(){for(var r=arguments,l=-1,s=Sa(r.length-e,0),p=Array(s);++l<s;)p[l]=r[e+l];l=-1;for(var g=Array(e+1);++l<e;)g[l]=r[l];return g[e]=n(p),Zc(t,this,g)}},hs=function(t){return function(){return t}},ml=vl?function(t,e){return vl(t,"toString",{configurable:!0,enumerable:!1,value:hs(e),writable:!0})}:su,pu=Date.now,Gy=function(t){var e=0,n=0;return function(){var r=pu(),l=16-(r-n);if(n=r,l>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Yp=Gy(ml),Vy=function(t,e){return Yp(fu(t,e,su),t+"")},$y=function(t,e,n){if(!Wn(n))return!1;var r=typeof e;return!!(r=="number"?er(n)&&Wr(e,n.length):r=="string"&&e in n)&&gn(n[e],t)},Kp=function(t){return Vy(function(e,n){var r=-1,l=n.length,s=l>1?n[l-1]:void 0,p=l>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(l--,s):void 0,p&&$y(n[0],n[1],p)&&(s=l<3?void 0:s,l=1),e=Object(e);++r<l;){var g=n[r];g&&t(e,g,r,s)}return e})},bl=Object.prototype.hasOwnProperty,jr=Kp(function(t,e){if(ri(e)||er(e))cu(e,wa(e),t);else for(var n in e)bl.call(e,n)&&lu(t,n,e[n])}),qp=function(t,e,n,r){if(!Wn(t))return t;for(var l=-1,s=(e=qi(e,t)).length,p=s-1,g=t;g!=null&&++l<s;){var b=Ei(e[l]),E=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(l!=p){var A=g[b];(E=void 0)==void 0&&(E=Wn(A)?A:Wr(e[l+1])?[]:{})}lu(g,b,E),g=g[b]}return t},B=function(t,e,n){for(var r=-1,l=e.length,s={};++r<l;){var p=e[r],g=Si(t,p);n(g,p)&&qp(s,qi(p,t),g)}return s},du=function(t,e){return B(t,e,function(n,r){return $p(t,r)})},ys=qt?qt.isConcatSpreadable:void 0,wo=function(t){return Mn(t)||Co(t)||!!(ys&&t&&t[ys])},cn=function(e,n,r,l,s){var p=-1,g=e.length;for(r||(r=wo),s||(s=[]);++p<g;){var b=e[p];r(b)?ei(s,b):s[s.length]=b}return s},ja=function(t){return t!=null&&t.length?cn(t):[]},Pn,ai,Zi,xo,Jc,Qc,Zp,Jp,_l,hu,vs,Qp,ef,ui,Ol,Ji,fo,tf,nf,ji=function(t){return Yp(fu(t,void 0,ja),t+"")}(function(t,e){return t==null?{}:du(t,e)});function Fn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ed(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function td(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tr(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var On,xr,Qt,or,vt,Cn,wl={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ai=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],rf=(ai=tr((Pn=function(){function t(r){(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),Fn(this,"isSilentMode",ai,this),Fn(this,"stopZoomGraph",Zi,this),Fn(this,"stopScrollGraph",xo,this),Fn(this,"stopMoveGraph",Jc,this),Fn(this,"adjustEdge",Qc,this),Fn(this,"adjustEdgeMiddle",Zp,this),Fn(this,"adjustEdgeStartAndEnd",Jp,this),Fn(this,"adjustNodePosition",_l,this),Fn(this,"hideAnchors",hu,this),Fn(this,"allowRotation",vs,this),Fn(this,"hoverOutline",Qp,this),Fn(this,"nodeSelectedOutline",ef,this),Fn(this,"edgeSelectedOutline",ui,this),Fn(this,"nodeTextEdit",Ol,this),Fn(this,"edgeTextEdit",Ji,this),Fn(this,"nodeTextDraggable",fo,this),Fn(this,"edgeTextDraggable",tf,this),Fn(this,"autoExpand",nf,this),td(this,"multipleSelectKey",""),td(this,"defaultConfig",{}),jr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var l=this.getConfigDetail(r);jr(this,l)}},{key:"getConfigDetail",value:function(r){var l=r.isSilentMode,s=r.textEdit,p={};if(l===!1&&jr(p,this.defaultConfig),l===!0&&l!==this.isSilentMode){var g=ji(wl,Ai);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},jr(p,g)}s===!1&&jr(p,{nodeTextEdit:!1,edgeTextEdit:!1});var b=ji(r,Ai);return jr(p,b)}},{key:"getConfig",value:function(){return ji(this,Ai)}}])&&ed(e.prototype,n),t}()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zi=tr(Pn.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xo=tr(Pn.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jc=tr(Pn.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qc=tr(Pn.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zp=tr(Pn.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jp=tr(Pn.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_l=tr(Pn.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hu=tr(Pn.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vs=tr(Pn.prototype,"allowRotation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qp=tr(Pn.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ef=tr(Pn.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ui=tr(Pn.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=tr(Pn.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ji=tr(Pn.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fo=tr(Pn.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tf=tr(Pn.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nf=tr(Pn.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tr(Pn.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(Pn.prototype,"updateEditConfig"),Pn.prototype),Pn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(On||(On={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(xr||(xr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Qt||(Qt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(or||(or={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(vt||(vt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Cn||(Cn={}));var Vn,Yn,nd,rd,xl,yu,of,vu,El;function gu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return af(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return af(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function af(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pi(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eo(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Vn||(Vn={}));var od={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},id=(Yn=function(){function t(r,l){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),Mi(this,"MINI_SCALE_SIZE",.2),Mi(this,"MAX_SCALE_SIZE",16),Pi(this,"SCALE_X",nd,this),Pi(this,"SKEW_Y",rd,this),Pi(this,"SKEW_X",xl,this),Pi(this,"SCALE_Y",yu,this),Pi(this,"TRANSLATE_X",of,this),Pi(this,"TRANSLATE_Y",vu,this),Pi(this,"ZOOM_SIZE",El,this),Mi(this,"eventCenter",void 0),Mi(this,"translateLimitMinX",void 0),Mi(this,"translateLimitMinY",void 0),Mi(this,"translateLimitMaxX",void 0),Mi(this,"translateLimitMaxY",void 0),this.eventCenter=r;var s=l.stopMoveGraph,p=s!==void 0&&s;this.updateTranslateLimits(p)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var l=gu(r,2),s=l[0],p=l[1];return[(s-this.TRANSLATE_X)/this.SCALE_X,(p-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var l=gu(r,2),s=l[0],p=l[1];return[s*this.SCALE_X+this.TRANSLATE_X,p*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,l,s){var p=gu(r,2),g=p[0],b=p[1];return[g+l/this.SCALE_X,b+s/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,l){return[r/this.SCALE_X,l/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=arguments.length>1?arguments[1]:void 0,s=this.SCALE_X,p=this.SCALE_Y;return r===!0?(s+=this.ZOOM_SIZE,p+=this.ZOOM_SIZE):r===!1?(s-=this.ZOOM_SIZE,p-=this.ZOOM_SIZE):typeof r=="number"&&(s=r,p=r),s<this.MINI_SCALE_SIZE||s>this.MAX_SCALE_SIZE||(l&&(this.TRANSLATE_X-=(s-this.SCALE_X)*l[0],this.TRANSLATE_Y-=(p-this.SCALE_Y)*l[1]),this.SCALE_X=s,this.SCALE_Y=p,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(vt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,l){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+l<=this.translateLimitMaxY&&this.TRANSLATE_Y+l>=this.translateLimitMinY&&(this.TRANSLATE_Y+=l),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,l,s,p){var g=gu(this.CanvasPointToHtmlPoint([r,l]),2),b=s/2-g[0],E=p/2-g[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=E,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var l=gu(Array.isArray(r)&&r.length===4?r:od[r.toString()],4);this.translateLimitMinX=l[0],this.translateLimitMinY=l[1],this.translateLimitMaxX=l[2],this.translateLimitMaxY=l[3]}}],n&&Hy(e.prototype,n),t}(),nd=Eo(Yn.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rd=Eo(Yn.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xl=Eo(Yn.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yu=Eo(Yn.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),of=Eo(Yn.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vu=Eo(Yn.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),El=Eo(Yn.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Eo(Yn.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"zoom"),Yn.prototype),Eo(Yn.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"resetZoom"),Yn.prototype),Eo(Yn.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"translate"),Yn.prototype),Eo(Yn.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(Yn.prototype,"focusOn"),Yn.prototype),Yn),Sl=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},ad=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},ud=Object.prototype.hasOwnProperty,sd=function(t){if(!Wn(t))return ad(t);var e=ri(t),n=[];for(var r in t)(r!="constructor"||!e&&ud.call(t,r))&&n.push(r);return n},jl=function(t){return er(t)?Gn(t,!0):sd(t)},uf=o(107),sf=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Al=so(Object.getPrototypeOf,Object),nn=Object.prototype.hasOwnProperty,Xy=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&nn.call(t,"index")&&(n.index=t.index,n.input=t.input),n},lf=function(t){var e=new t.constructor(t.byteLength);return new wr(e).set(new wr(t)),e},gs=function(t,e){var n=lf(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)},ld=/\w*$/,Yy=function(t){var e=new t.constructor(t.source,ld.exec(t));return e.lastIndex=t.lastIndex,e},cd=qt?qt.prototype:void 0,po=cd?cd.valueOf:void 0,Ky=function(t){return po?Object(po.call(t)):{}},ms=function(t,e){var n=e?lf(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},cf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return lf(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return gs(t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ms(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Yy(t);case"[object Symbol]":return Ky(t)}},ff=Object.create,fd=function(){function t(){}return function(e){if(!Wn(e))return{};if(ff)return ff(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Qr=function(t){return typeof t.constructor!="function"||ri(t)?{}:fd(Al(t))},Qi=function(t){return fn(t)&&O(t)=="[object Map]"},Pl=mr.a&&mr.a.isMap,pd=Pl?Ro(Pl):Qi,Ml=function(t){return fn(t)&&O(t)=="[object Set]"},pf=mr.a&&mr.a.isSet,df=pf?Ro(pf):Ml,hf="[object Arguments]",kl="[object Function]",yf="[object Object]",bn={};bn[hf]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn["[object Object]"]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[kl]=bn["[object WeakMap]"]=!1;var qy=function t(e,n,r,l,s,p){var g,b=1&n;if(g!==void 0)return g;if(!Wn(e))return e;var E=Mn(e);if(E)g=Xy(e);else{var A=O(e),C=A==kl||A=="[object GeneratorFunction]";if(Object(ti.a)(e))return Object(uf.a)(e,b);if(A==yf||A==hf||C&&!s)g=C?{}:Qr(e);else{if(!bn[A])return s?e:{};g=cf(e,A,b)}}p||(p=new Qo);var L=p.get(e);if(L)return L;p.set(e,g),df(e)?e.forEach(function(ee){g.add(t(ee,n,r,ee,e,p))}):pd(e)&&e.forEach(function(ee,ie){g.set(ie,t(ee,n,r,ie,e,p))});var X=E?void 0:Io(e);return Sl(X||e,function(ee,ie){X&&(ee=e[ie=ee]),lu(g,ie,t(ee,n,r,ie,e,p))}),g},xn=function(t){return qy(t,5)},Tl=function(t,e,n){(n!==void 0&&!gn(t[e],n)||n===void 0&&!(e in t))&&gl(t,e,n)},dd=function(t){return fn(t)&&er(t)},vf=Function.prototype,hd=Object.prototype,gf=vf.toString,yd=hd.hasOwnProperty,vd=gf.call(Object),eo=function(t){if(!fn(t)||wn(t)!="[object Object]")return!1;var e=Al(t);if(e===null)return!0;var n=yd.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&gf.call(n)==vd},Bo=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Nl=function(t){return cu(t,jl(t))},mu=function(t,e,n,r,l,s,p){var g=Bo(t,n),b=Bo(e,n),E=p.get(b);if(E)Tl(t,n,E);else{var A=void 0,C=A===void 0;if(C){var L=Mn(b),X=!L&&Object(ti.a)(b),ee=!L&&!X&&Oa(b);A=b,L||X||ee?Mn(g)?A=g:dd(g)?A=sf(g):X?(C=!1,A=Object(uf.a)(b,!0)):ee?(C=!1,A=ms(b,!0)):A=[]:eo(b)||Co(b)?(A=g,Co(g)?A=Nl(g):Wn(g)&&!Do(g)||(A=Qr(b))):C=!1}C&&(p.set(b,A),l(A,b,r,s,p),p.delete(b)),Tl(t,n,A)}},gd=function t(e,n,r,l,s){e!==n&&Xp(n,function(p,g){if(s||(s=new Qo),Wn(p))mu(e,n,g,r,t,l,s);else{var b=void 0;b===void 0&&(b=p),Tl(e,g,b)}},jl)},bs=Kp(function(t,e,n){gd(t,e,n)}),md={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Aa=function(t){var e=xn(md);return t&&(e=bs(e,t)),e};o(82),o(166);function _s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var bd=function(){function t(){var r,l,s;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),s={},(l="_events")in(r=this)?Object.defineProperty(r,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[l]=s}var e,n;return e=t,(n=[{key:"on",value:function(r,l,s){var p=this;return r==null||r.split(",").forEach(function(g){g=g.trim(),p._events[g]||(p._events[g]=[]),p._events[g].push({callback:l,once:!!s})}),this}},{key:"once",value:function(r,l){var s=this;r==null||r.split(",").forEach(function(p){return p=p.trim(),s.on(p,l,!0)})}},{key:"emit",value:function(r,l){var s=this;r==null||r.split(",").forEach(function(p){var g=s._events[p]||[],b=s._events["*"]||[],E=function(A){for(var C=A.length,L=0;L<C;L++)if(A[L]){var X=A[L],ee=X.callback;X.once&&(A.splice(L,1),A.length===0&&delete s._events[p],C--,L--),ee.apply(s,[l])}};E(g),E(b)})}},{key:"off",value:function(r,l){var s=this;return r||(this._events={}),r.split(",").forEach(function(p){if(l){for(var g=s._events[p]||[],b=g.length,E=0;E<b;E++)g[E].callback===l&&(g.splice(E,1),b--,E--);g.length===0&&delete s._events[p]}else delete s._events[p]}),this}},{key:"getEvents",value:function(){return this._events}}])&&_s(e.prototype,n),t}();function ea(t,e){return e*Math.round(t/e)||t}function Dl(t,e){return t%e}function Cl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Os(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Os(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Os(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ws=function(t,e,n){var r=Cl(t,2),l=r[0],s=r[1],p=Cl(e,2),g=p[0],b=p[1],E=Cl(n,2),A=E[0],C=E[1];return l>g&&l<A&&s>b&&s<C},xs=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var _d=function(t){return function(e,n,r){var l=Object(e);if(!er(e)){var s=qc(n);e=wa(e),n=function(g){return s(l[g],g,l)}}var p=t(e,n,r);return p>-1?l[s?e[p]:p]:void 0}},Rl=function(t,e,n,r){for(var l=t.length,s=n+-1;++s<l;)if(e(t[s],s,t))return s;return-1},Od=/\s/,mf=function(t){for(var e=t.length;e--&&Od.test(t.charAt(e)););return e},Zy=/^\s+/,wd=function(t){return t&&t.slice(0,mf(t)+1).replace(Zy,"")},ki=/^[-+]0x[0-9a-f]+$/i,xd=/^0b[01]+$/i,Ed=/^0o[0-7]+$/i,Jy=parseInt,Il=function(t){if(typeof t=="number")return t;if($t(t))return NaN;if(Wn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=wd(t);var n=xd.test(t);return n||Ed.test(t)?Jy(t.slice(2),n?2:8):ki.test(t)?NaN:+t},Ti=1/0,bf=function(t){return t?(t=Il(t))===Ti||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},_f=function(t){var e=bf(t),n=e%1;return e==e?n?e-n:e:0},Of=Math.max,bu,Pa=_d(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var l=n==null?0:_f(n);return l<0&&(l=Of(r+l,0)),Rl(t,qc(e),l)}),Dt=new Uint8Array(16);function Ll(){if(!bu&&!(bu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(Dt)}for(var wf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ma=function(t){return typeof t=="string"&&wf.test(t)},_r=[],zl=0;zl<256;++zl)_r.push((zl+256).toString(16).substr(1));var Cr=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(_r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]).toLowerCase();if(!Ma(n))throw TypeError("Stringified UUID is invalid");return n},Bl=function(t,e,n){var r=(t=t||{}).random||(t.rng||Ll)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,Cr(r)},Ni=function(){return Bl()},Qy=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,l){return r[l.id]=e+Bl(),l.id=r[l.id],r},{});return t.edges.forEach(function(r){r.id=e+Bl(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},ho=(o(105),o(127),o(207),function(t,e,n){var r=t.x,l=t.y,s=e.x,p=e.y,g=n.x,b=n.y,E=(b-p)/(g-s),A=p-E*s;return r>=s&&r<=g&&l>=p&&l<=b&&Math.abs(l-E*r+A)<Number.EPSILON});function Ar(t){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function Fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fl(Object(n),!0).forEach(function(r){ev(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ev(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var De,xf,Ef,Sf,jf,Sd,Wl,Af,_u,Gl,Pf,Mf,Es,kf,Fo,ta,Tf,jd,Ad,Pd,Nf,Vl=function(t){return t.anchors},Ss=function(t,e){for(var n,r=e.nodes,l=r.length-1;l>=0;l--){var s=r[l];if(tv(t,s)){var p=s.getTargetAnchor(t);if(p){var g={node:s,anchorIndex:p.index,anchor:p.anchor};n&&!Md(s,n.node,e)||(n=g)}}}return n},Md=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Uo=function(t,e,n,r){return Math.hypot(t-n,e-r)},na=function(t,e){var n=!1,r=$n(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},tv=function(t,e){var n=!1,r=$n(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},$n=function(t){var e=t.x,n=t.y,r=t.width,l=t.height;return{minX:e-r/2,minY:n-l/2,maxX:e+r/2,maxY:n+l/2,x:e,y:n,width:r,height:l,centerX:e,centerY:n}},kd=function(t,e,n){var r,l=function(p){var g=p,b=g.x,E=g.y,A=g.width,C=g.height,L=g.radius;return[{x:b-A/2+L,y:E-C/2+L,r:L},{x:b+A/2-L,y:E-C/2+L,r:L},{x:b-A/2+L,y:E+C/2-L,r:L},{x:b+A/2-L,y:E+C/2-L,r:L}]}(n),s=Number.MAX_SAFE_INTEGER;return l.forEach(function(p){var g=Uo(t.x,t.y,p.x,p.y);g<s&&(s=g,r=p)}),$l(t,e,r)},$l=function(t,e,n){var r,l=n,s=l.x,p=l.y,g=l.r;if(e===Cn.HORIZONTAL){var b=s-Math.sqrt(g*g-(t.y-p)*(t.y-p)),E=s+Math.sqrt(g*g-(t.y-p)*(t.y-p));r={x:Math.abs(b-t.x)<Math.abs(E-t.x)?b:E,y:t.y}}else if(e===Cn.VERTICAL){var A=p-Math.sqrt(g*g-(t.x-s)*(t.x-s)),C=p+Math.sqrt(g*g-(t.x-s)*(t.x-s)),L=Math.abs(A-t.y)<Math.abs(C-t.y)?A:C;r={x:t.x,y:L}}return r},Td=function(t,e){var n=e,r=!1,l=n.x-n.width/2+n.radius,s=n.x+n.width/2-n.radius,p=n.y-n.height/2+n.radius,g=n.y+n.height/2-n.radius,b=n.x,E=n.y,A=n.width,C=n.height;return t.y===E+C/2||t.y===E-C/2?r=t.x>l&&t.x<s:t.x!==b+A/2&&t.x!==b-A/2||(r=t.y>p&&t.y<g),r},Hl=function(t,e,n){var r,l=n,s=l.x,p=l.y,g=l.rx,b=l.ry;if(e===Cn.HORIZONTAL){var E=s-Math.sqrt(g*g-(t.y-p)*(t.y-p)*g*g/(b*b)),A=s+Math.sqrt(g*g-(t.y-p)*(t.y-p)*g*g/(b*b));r={x:Math.abs(E-t.x)<Math.abs(A-t.x)?E:A,y:t.y}}else if(e===Cn.VERTICAL){var C=p-Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(g*g)),L=p+Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(g*g)),X=Math.abs(C-t.y)<Math.abs(L-t.y)?C:L;r={x:t.x,y:X}}return r},Nd=function(t,e,n){for(var r,l=n.pointsPosition,s=Number.MAX_SAFE_INTEGER,p=[],g=0;g<l.length;g++)p.push({start:l[g],end:l[(g+1)%l.length]});return p.forEach(function(b){var E=b.start,A=b.end,C=E,L=A;E.x>A.x&&(C=A,L=E);var X={x:t.x,y:t.y};if(C.x===L.x&&e===Cn.HORIZONTAL&&(X={x:C.x,y:t.y}),C.y===L.y&&e===Cn.VERTICAL&&(X={x:t.x,y:C.y}),C.x!==L.x&&C.y!==L.y){var ee=(L.y-C.y)/(L.x-C.x),ie=(C.x*L.y-L.x*C.y)/(C.x-L.x);e===Cn.HORIZONTAL?X={x:(t.y-ie)/ee,y:t.y}:e===Cn.VERTICAL&&(X={x:t.x,y:ee*t.x+ie})}if(ho(X,E,A)){var _e=Uo(X.x,X.y,t.x,t.y);_e<s&&(s=_e,r=X)}}),r},Dd=function(t,e,n,r){var l=t.x,s=t.y;return e.x>t.x?l=t.x+n/2:e.x<t.x&&(l=t.x-n/2),e.y>t.y?s=t.y+r/2:e.y<t.y&&(s=t.y-r/2),{x:l,y:s}},Cd=function(t){var e=t.rows,n=t.style,r=t.rowsLength,l=t.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=l,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),r>1?e.forEach(function(g){var b=document.createElement("div");b.textContent=g,s.appendChild(b)}):s.textContent=e,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},js=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,l=0;return e&&e.forEach(function(s){var p=Qf(s);l=p>l?p:l}),{width:Math.ceil(l/2)*r+r/4,height:n*(r+2)+r/4}},Ou=function(t){return Ar(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},Rr=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},nv=1e3,rv=999,Df=function(){return++nv};function Rd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rd(Object(n),!0).forEach(function(r){So(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ir(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Xl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function So(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nt(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Cf=(De=function(){function t(r,l){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),So(this,"id",""),ir(this,"type",xf,this),ir(this,"sourceNodeId",Ef,this),ir(this,"targetNodeId",Sf,this),ir(this,"startPoint",jf,this),ir(this,"endPoint",Sd,this),ir(this,"text",Wl,this),ir(this,"properties",Af,this),ir(this,"points",_u,this),ir(this,"pointsList",Gl,this),ir(this,"isSelected",Pf,this),ir(this,"isHovered",Mf,this),ir(this,"isHitable",Es,this),ir(this,"draggable",kf,this),ir(this,"visible",Fo,this),So(this,"virtual",!1),ir(this,"isAnimation",ta,this),ir(this,"isShowAdjustPoint",Tf,this),So(this,"graphModel",void 0),ir(this,"zIndex",jd,this),So(this,"BaseType",or.EDGE),So(this,"modelType",Qt.EDGE),ir(this,"state",Ad,this),So(this,"additionStateData",void 0),So(this,"sourceAnchorId",""),So(this,"targetAnchorId",""),So(this,"menu",void 0),So(this,"customTextPosition",!1),ir(this,"style",Pd,this),ir(this,"arrowConfig",Nf,this),this.graphModel=l,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var l=this.graphModel.idGenerator,s=l&&l(r.type),p=this.createId();r.id=p||s||Ni()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var g=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=g,jr(this,Qd(r)),this.graphModel.overlapMode===Vn.INCREASE&&(this.zIndex=r.zIndex||Df()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return to(to({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return to({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return xn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return xn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),l=this.getEdgeAnimationStyle(),s=this.graphModel.theme.arrow,p=this.isAnimation?l.stroke:r.stroke;return to(to({},r),{},{fill:p,stroke:p},s)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,l;return(r=this.graphModel)===null||r===void 0||(l=r.nodesMap[this.sourceNodeId])===null||l===void 0?void 0:l.model}},{key:"targetNode",get:function(){var r,l;return(r=this.graphModel)===null||r===void 0||(l=r.nodesMap[this.targetNodeId])===null||l===void 0?void 0:l.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,l,s){var p,g,b=Vl(r);return s&&(p=Pa(b,function(E){return E.id===s}))||b.forEach(function(E){var A=np(E,l);(g===void 0||A<g)&&(g=A,p=E)}),p}},{key:"getEndAnchor",value:function(r,l){var s,p,g=this,b=Vl(r);return l&&(s=Pa(b,function(E){return E.id===l}))||b.forEach(function(E){var A=np(E,g.startPoint);(p===void 0||A<p)&&(p=A,s=E)}),s}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,l=r.x,s=r.y,p=r.value,g={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return p&&(g.text={x:l,y:s,value:p}),this.graphModel.overlapMode===Vn.INCREASE&&(g.zIndex=this.zIndex),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,l){this.properties[r]=Rr(l),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=to(to({},Object(h.I)(this.properties)),Rr(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var l=this.arrowConfig,s=l.markerEnd,p=l.markerStart;p&&p==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),s&&s==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,l){this.style=to(to({},this.style),{},So({},r,Rr(l)))}},{key:"setStyles",value:function(r){this.style=to(to({},this.style),Rr(r))}},{key:"updateStyles",value:function(r){this.style=to({},Rr(r))}},{key:"formatText",value:function(r){var l=this.textPosition,s=l.x,p=l.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||s,y:r.text.y||p,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:s,y:p,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,l=r.x,s=r.y;this.text.x=l,this.text.y=s}},{key:"moveText",value:function(r,l){if(this.text){var s=this.text,p=s.x,g=s.y,b=s.value,E=s.draggable,A=s.editable;this.text={value:b,draggable:E,x:p+r,y:g+l,editable:A}}}},{key:"setText",value:function(r){r&&jr(this.text,r)}},{key:"updateText",value:function(r){this.text=to(to({},Object(h.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var l=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!l)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:l.x,y:l.y}),this.targetAnchorId||(this.targetAnchorId=l.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,l){this.state=r,this.additionStateData=l}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,l){this.startPoint.x+=r,this.startPoint.y+=l}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,l){this.endPoint.x+=r,this.endPoint.y+=l}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){jr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var l=r.startPoint,s=r.endPoint;this.updateStartPoint({x:l.x,y:l.y}),this.updateEndPoint({x:s.x,y:s.y})}}],n&&Xl(e.prototype,n),t}(),xf=Nt(De.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ef=Nt(De.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sf=Nt(De.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jf=Nt(De.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sd=Nt(De.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wl=Nt(De.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Af=Nt(De.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_u=Nt(De.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gl=Nt(De.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pf=Nt(De.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mf=Nt(De.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Es=Nt(De.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kf=Nt(De.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fo=Nt(De.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ta=Nt(De.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tf=Nt(De.prototype,"isShowAdjustPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jd=Nt(De.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ad=Nt(De.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pd=Nt(De.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Nf=Nt(De.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Nt(De.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(De.prototype,"sourceNode"),De.prototype),Nt(De.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(De.prototype,"targetNode"),De.prototype),Nt(De.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(De.prototype,"textPosition"),De.prototype),Nt(De.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperty"),De.prototype),Nt(De.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteProperty"),De.prototype),Nt(De.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setProperties"),De.prototype),Nt(De.prototype,"changeEdgeId",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"changeEdgeId"),De.prototype),Nt(De.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyle"),De.prototype),Nt(De.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setStyles"),De.prototype),Nt(De.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStyles"),De.prototype),Nt(De.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"formatText"),De.prototype),Nt(De.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"resetTextPosition"),De.prototype),Nt(De.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"moveText"),De.prototype),Nt(De.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setText"),De.prototype),Nt(De.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateText"),De.prototype),Nt(De.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setAnchors"),De.prototype),Nt(De.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setSelected"),De.prototype),Nt(De.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setHovered"),De.prototype),Nt(De.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setHitable"),De.prototype),Nt(De.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"openEdgeAnimation"),De.prototype),Nt(De.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"closeEdgeAnimation"),De.prototype),Nt(De.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setElementState"),De.prototype),Nt(De.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateStartPoint"),De.prototype),Nt(De.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"moveStartPoint"),De.prototype),Nt(De.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateEndPoint"),De.prototype),Nt(De.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"moveEndPoint"),De.prototype),Nt(De.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"setZIndex"),De.prototype),Nt(De.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"initPoints"),De.prototype),Nt(De.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAttributes"),De.prototype),Nt(De.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustStart"),De.prototype),Nt(De.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"getAdjustEnd"),De.prototype),Nt(De.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(De.prototype,"updateAfterAdjustStartAndEnd"),De.prototype),De),Rf=Cf;function Yl(t){return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function If(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?If(Object(n),!0).forEach(function(r){Bf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):If(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ov(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wu(){return wu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=av(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},wu.apply(this,arguments)}function av(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ra(t))!==null;);return t}function Lf(t,e){return Lf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lf(t,e)}function Kl(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ra(t);if(e){var l=ra(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return Ld(this,n)}}function Ld(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zf(t)}function zf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ra(t){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ra(t)}function Bf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft,zd,ql=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Lf(s,p)})(l,t);var e,n,r=Kl(l);function l(){var s;ov(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Bf(zf(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.LINE_EDGE),s}return e=l,(n=[{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.line;return Id(Id({},wu(ra(l.prototype),"getEdgeStyle",this).call(this)),xn(s))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&iv(e.prototype,n),l}(Rf);function xu(t){return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function Zl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Bd(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Bd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jl(Object(n),!0).forEach(function(r){Uf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uv(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function As(){return As=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=ka(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},As.apply(this,arguments)}function ka(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Hr(t))!==null;);return t}function Ht(t,e){return Ht=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ht(t,e)}function lv(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hr(t);if(e){var l=Hr(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return no(this,n)}}function no(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(t)}function Un(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hr(t){return Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(t)}function Uf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Er(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var jo=(Ft=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Ht(s,p)})(l,t);var e,n,r=lv(l);function l(){var s;Wo(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Uf(Un(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.POLYLINE_EDGE),Uf(Un(s),"draggingPointList",void 0),uv(Un(s),"dbClickPosition",zd,Un(s)),s}return e=l,(n=[{key:"initEdgeData",value:function(s){this.offset=30,As(Hr(l.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.polyline;return Ff(Ff({},As(Hr(l.prototype),"getEdgeStyle",this).call(this)),xn(s))}},{key:"getTextPosition",value:function(){var s,p=(s=this.text)===null||s===void 0?void 0:s.value;if(this.dbClickPosition&&!p){var g=this.dbClickPosition;return{x:g.x,y:g.y}}var b=Ci(this.points),E=Zl(Zf(b),2),A=E[0],C=E[1];return{x:(A.x+C.x)/2,y:(A.y+C.y)/2}}},{key:"getAfterAnchor",value:function(s,p,g){var b,E;return g.forEach(function(A){var C;s===Cn.HORIZONTAL?C=Math.abs(p.y-A.y):s===Cn.VERTICAL&&(C=Math.abs(p.x-A.x)),(!E||E>C)&&(E=C,b=A)}),b}},{key:"getCrossPoint",value:function(s,p,g){var b;return s===Cn.HORIZONTAL?b={x:g.x,y:p.y}:s===Cn.VERTICAL&&(b={x:p.x,y:g.y}),b}},{key:"removeCrossPoints",value:function(s,p,g){var b=g.map(function(be){return be});if(s===1){var E=b[s],A=b[p],C=b[s-1];if(rc(C,E,this.sourceNode)){if(ia(E,A,this.sourceNode)){var L=Jf(E,A,this.sourceNode);L&&(b[s]=L,b.splice(s-1,1),s--,p--)}}else this.sourceNode.anchors.forEach(function(be){(be.x===C.x&&be.x===E.x||be.y===C.y&&be.y===E.y)&&Uo(be.x,be.y,E.x,E.y)<Uo(C.x,C.y,E.x,E.y)&&(b[s-1]=be)})}if(p===g.length-2){var X=b[s],ee=b[p],ie=b[p+1];if(rc(ee,ie,this.targetNode)){if(ia(X,ee,this.targetNode)){var _e=Jf(X,ee,this.targetNode);_e&&(b[p]=_e,b.splice(p+1,1))}}else this.targetNode.anchors.forEach(function(be){(be.x===ie.x&&be.x===ee.x||be.y===ie.y&&be.y===ee.y)&&Uo(be.x,be.y,ee.x,ee.y)<Uo(ie.x,ie.y,ee.x,ee.y)&&(b[p+1]=be)})}return b}},{key:"getDraggingPoints",value:function(s,p,g,b,E){var A=E.map(function(X){return X}),C=this.getAfterAnchor(s,g,b),L=this.getCrossPoint(s,g,C);return p==="start"?(A.unshift(L),A.unshift(C)):(A.push(L),A.push(C)),A}},{key:"updateCrossPoints",value:function(s){var p=s.map(function(Le){return Le}),g=s[0],b=s[1],E=s[p.length-2],A=s[p.length-1],C=this.sourceNode,L=this.targetNode,X=C.modelType,ee=L.modelType,ie=Pu(g,b),_e=p[0];switch(X){case Qt.RECT_NODE:C.radius!==0&&(Td(g,C)||(_e=kd(g,ie,C)));break;case Qt.CIRCLE_NODE:_e=$l(g,ie,C);break;case Qt.ELLIPSE_NODE:_e=Hl(g,ie,C);break;case Qt.DIAMOND_NODE:case Qt.POLYGON_NODE:_e=Nd(g,ie,C)}_e&&(p[0]=_e);var be=Pu(E,A),Se=p[p.length-1];switch(ee){case Qt.RECT_NODE:L.radius!==0&&(Td(A,L)||(Se=kd(A,be,L)));break;case Qt.CIRCLE_NODE:Se=$l(A,be,L);break;case Qt.ELLIPSE_NODE:Se=Hl(A,be,L);break;case Qt.DIAMOND_NODE:case Qt.POLYGON_NODE:Se=Nd(A,be,L)}return Se&&(p[p.length-1]=Se),p}},{key:"getData",value:function(){var s=As(Hr(l.prototype),"getData",this).call(this),p=this.pointsList.map(function(g){return{x:g.x,y:g.y}});return Object.assign({},s,{pointsList:p})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var s=nc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=s,this.points=s.map(function(p){return"".concat(p.x,",").concat(p.y)}).join(" ")}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,p){this.startPoint.x+=s,this.startPoint.y+=p,this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveEndPoint",value:function(s,p){this.endPoint.x+=s,this.endPoint.y+=p,this.updatePoints()}},{key:"updatePointsList",value:function(s,p){this.pointsList.forEach(function(E){E.x+=s,E.y+=p});var g=this.pointsList[0];this.startPoint=Object.assign({},g);var b=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},b),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(s){return s})}},{key:"dragAppendSimple",value:function(s,p){this.isDragging=!0;var g=s.start,b=s.end,E=s.startIndex,A=s.endIndex,C=s.direction,L=this.pointsList,X=L;return C===Cn.HORIZONTAL?(L[E]={x:g.x,y:g.y+p.y},L[A]={x:b.x,y:b.y+p.y},X=this.pointsList.map(function(ee){return ee})):C===Cn.VERTICAL&&(L[E]={x:g.x+p.x,y:g.y},L[A]={x:b.x+p.x,y:b.y},X=this.pointsList.map(function(ee){return ee})),this.updatePointsAfterDrag(X),this.draggingPointList=X,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[E]),end:Object.assign({},L[A]),startIndex:E,endIndex:A,direction:C}}},{key:"dragAppend",value:function(s,p){this.isDragging=!0;var g=s.start,b=s.end,E=s.startIndex,A=s.endIndex,C=s.direction,L=this.pointsList;if(C===Cn.HORIZONTAL){L[E]={x:g.x,y:g.y+p.y},L[A]={x:b.x,y:b.y+p.y};var X=this.pointsList.map(function(et){return et});if(E!==0&&A!==this.pointsList.length-1&&(X=this.removeCrossPoints(E,A,X)),E===0){var ee={x:g.x,y:g.y+p.y};if(!na(ee,this.sourceNode)){var ie=this.sourceNode.anchors;X=this.getDraggingPoints(C,"start",ee,ie,X)}}if(A===this.pointsList.length-1){var _e={x:b.x,y:b.y+p.y};if(!na(_e,this.targetNode)){var be=this.targetNode.anchors;X=this.getDraggingPoints(C,"end",_e,be,X)}}this.updatePointsAfterDrag(X),this.draggingPointList=X}else if(C===Cn.VERTICAL){L[E]={x:g.x+p.x,y:g.y},L[A]={x:b.x+p.x,y:b.y};var Se=this.pointsList.map(function(et){return et});if(E!==0&&A!==this.pointsList.length-1&&(Se=this.removeCrossPoints(E,A,Se)),E===0){var Le={x:g.x+p.x,y:g.y};if(!na(Le,this.sourceNode)){var nt=this.sourceNode.anchors;Se=this.getDraggingPoints(C,"start",Le,nt,Se)}}if(A===this.pointsList.length-1){var tt={x:b.x+p.x,y:b.y};if(!na(tt,this.targetNode)){var xt=this.targetNode.anchors;Se=this.getDraggingPoints(C,"end",tt,xt,Se)}}this.updatePointsAfterDrag(Se),this.draggingPointList=Se}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[E]),end:Object.assign({},L[A]),startIndex:E,endIndex:A,direction:C}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var s=qf(Ci(this.points));this.pointsList=s.map(function(b){return b}),this.draggingPointList=[];var p=s[0];this.startPoint=Object.assign({},p);var g=s[s.length-1];this.endPoint=Object.assign({},g)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(s){var p=this.updateCrossPoints(s);this.points=p.map(function(g){return"".concat(g.x,",").concat(g.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var p=s.startPoint,g=s.endPoint,b=s.sourceNode,E=s.targetNode,A=nc({x:p.x,y:p.y},{x:g.x,y:g.y},b,E,this.offset||0);this.pointsList=A,this.initPoints()}}])&&sv(e.prototype,n),l}(Rf),zd=Er(Ft.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Er(Ft.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"initPoints"),Ft.prototype),Er(Ft.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePoints"),Ft.prototype),Er(Ft.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateStartPoint"),Ft.prototype),Er(Ft.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveStartPoint"),Ft.prototype),Er(Ft.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateEndPoint"),Ft.prototype),Er(Ft.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveEndPoint"),Ft.prototype),Er(Ft.prototype,"updatePointsList",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePointsList"),Ft.prototype),Er(Ft.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendStart"),Ft.prototype),Er(Ft.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendSimple"),Ft.prototype),Er(Ft.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppend"),Ft.prototype),Er(Ft.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendEnd"),Ft.prototype),Er(Ft.prototype,"updatePointsAfterDrag",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePointsAfterDrag"),Ft.prototype),Er(Ft.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustStart"),Ft.prototype),Er(Ft.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustEnd"),Ft.prototype),Er(Ft.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateAfterAdjustStartAndEnd"),Ft.prototype),Ft),Eu=function(t){var e=t.start,n=t.end,r=t.offset,l=t.verticalLength,s=t.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/l),E=Math.sqrt(l*l+r*r);return s==="start"?n.x>=e.x?(p.leftX=e.x+E*Math.sin(g+b),p.leftY=e.y-E*Math.cos(g+b),p.rightX=e.x-E*Math.sin(g-b),p.rightY=e.y+E*Math.cos(g-b)):(p.leftX=e.x-E*Math.sin(g+b),p.leftY=e.y+E*Math.cos(g+b),p.rightX=e.x+E*Math.sin(g-b),p.rightY=e.y-E*Math.cos(g-b)):s==="end"&&(n.x>=e.x?(p.leftX=n.x+E*Math.sin(g-b),p.leftY=n.y-E*Math.cos(g-b),p.rightX=n.x-E*Math.sin(g+b),p.rightY=n.y+E*Math.cos(g+b)):(p.leftX=n.x-E*Math.sin(g-b),p.leftY=n.y+E*Math.cos(g-b),p.rightX=n.x+E*Math.sin(g+b),p.rightY=n.y-E*Math.cos(g+b))),p},Ql={x:1,y:0,z:0};function Hn(t,e,n,r,l){for(var s=function(ee){if(ee<0||ee>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-ee,3)+3*e.x*ee*Math.pow(1-ee,2)+3*n.x*Math.pow(ee,2)*(1-ee)+r.x*Math.pow(ee,3),y:t.y*Math.pow(1-ee,3)+3*e.y*ee*Math.pow(1-ee,2)+3*n.y*Math.pow(ee,2)*(1-ee)+r.y*Math.pow(ee,3)}},p=0,g=2,b=r.x,E=r.y,A=r;p<l&&g<50;){var C=A=s(1-g/100),L=C.x,X=C.y;p=Uo(b,E,L,X),g++}return A}function Kn(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Wf(t){return r=function(s,p){return s.x*p.y-s.y*p.x}(e=Ql,n=t),l=Math.acos(function(s,p){var g=[s.x,s.y,s.z];return[p.x,p.y,p.z].reduce(function(b,E,A){return b+E*g[A]})}(Kn(e),Kn(n))),r>=0?l:-l;var e,n,r,l}function Gf(t){return t*(180/Math.PI)}function Su(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Su(Object(n),!0).forEach(function(r){Fd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ec(t){return function(e){if(Array.isArray(e))return Vf(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Ud(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xr(t){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(t)}function Di(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||Ud(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ud(t,e){if(t){if(typeof t=="string")return Vf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vf(t,e):void 0}}function Vf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wd=function(t,e){var n;switch(t.type){case"line":default:n=new ql(t,e);break;case"polyline":n=new jo(t,e)}return n},si=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Xt=function(t){var e=[],n={};return t.forEach(function(r){var l="".concat(r.x,"-").concat(r.y);r.id=l,n[l]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Gd=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Xt(n)},Ir=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},$f=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?Cn.HORIZONTAL:Cn.VERTICAL},hn=function(t,e,n){return $f(n,e)===Cn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Hf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),l=Math.max(t.maxX,e.maxX),s=Math.max(t.maxY,e.maxY);return{centerX:(n+l)/2,centerY:(r+s)/2,minX:n,minY:r,maxX:l,maxY:s,height:s-r,width:l-n}},Ta=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(A){n.push(A.x),r.push(A.y)});var l=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,r),g=Math.max.apply(Math,r),b=s-l,E=g-p;return e&&(b+=e,E+=e),{centerX:(l+s)/2,centerY:(p+g)/2,maxX:s,maxY:g,minX:l,minY:p,x:(l+s)/2,y:(p+g)/2,height:E,width:b}},oa=function(t){var e=t.minX,n=t.minY,r=t.maxX,l=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:l},{x:e,y:l}]},Ps=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Vd=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},$d=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Hd=function(t,e){return Vd(t,e.x).concat($d(t,e.y))},Au=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},tc=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},Xf=function(t,e,n,r,l){return Au(t,e)+Au(t,n)+tc(t,[e,n,r,l])},Xd=function t(e,n,r,l,s){s||(s=0),e.unshift(n[l]),r[l]&&r[l]!==l&&s<=100&&t(e,n,r,r[l],s+1)},Yd=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},qn=function(t,e,n,r){var l=e.x-t.x,s=e.y-t.y,p=r.x-n.x,g=r.y-n.y,b=(-s*(t.x-n.x)+l*(t.y-n.y))/(-p*s+l*g),E=(p*(t.y-n.y)-g*(t.x-n.x))/(-p*s+l*g);return b>=0&&b<=1&&E>=0&&E<=1},Lr=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Di(oa(n),4),l=r[0],s=r[1],p=r[2],g=r[3];return qn(t,e,l,s)||qn(t,e,l,g)||qn(t,e,s,p)||qn(t,e,p,g)},Kd=function(t,e,n,r){var l=[];return t.forEach(function(s){s!==e&&(s.x!==e.x&&s.y!==e.y||Lr(s,e,n)||Lr(s,e,r)||l.push(s))}),Xt(l)},Yf=function(t,e,n,r,l,s,p){var g=[],b=[e],E={},A={},C={};A[e.id]=0,C[e.id]=Xf(e,n,e);var L={};t.forEach(function(ie){L[ie.id]=ie});for(var X=function(){var ie=void 0,_e=1/0;if(b.forEach(function(Se){C[Se.id]<_e&&(_e=C[Se.id],ie=Se)}),ie===n){var be=[];return Xd(be,L,E,n.id),{v:be}}Yd(b,ie),g.push(ie),Kd(t,ie,r,l).forEach(function(Se){if(g.indexOf(Se)===-1){b.indexOf(Se)===-1&&b.push(Se);var Le=C[ie.id]+Au(ie,Se);A[Se.id]&&Le>=A[Se.id]||(E[Se.id]=ie.id,A[Se.id]=Le,C[Se.id]=A[Se.id]+Xf(Se,n,e,s,p))}})};b.length;){var ee=X();if(Xr(ee)==="object")return ee.v}return[e,n]},Kf=function(t){return $n(t)},qf=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],l=t[e+1];n.x===r.x&&r.x===l.x||n.y===r.y&&r.y===l.y?t.splice(e,1):e++}return t},nc=function(t,e,n,r,l){var s=Kf(n),p=Kf(r),g=Ir(s,l),b=Ir(p,l),E=hn(g,s,t),A=hn(b,p,e);if(si(g,b)){var C=qd(t,e,E,A);return[t,E].concat(ec(C),[A,e])}var L=Ta([E,A]),X=Hf(g,L),ee=Hf(b,L),ie=[];ie=(ie=ie.concat(oa(X))).concat(oa(ee));var _e={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,X,ee].forEach(function(Se){ie=ie.concat(Hd(Se,_e).filter(function(Le){return Ps(Le,g)&&Ps(Le,b)}))}),[{x:E.x,y:A.y},{x:A.x,y:E.y}].forEach(function(Se){Ps(Se,g)&&Ps(Se,b)&&ie.push(Se)}),ie.unshift(E),ie.push(A),ie=Xt(ie);var be=Yf(ie,E,A,s,p,t,e);return be.unshift(t),be.push(e),be.length>2&&(be=qf(be)),Xt(be)},Zf=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],l=Uo(n.x,n.y,r.x,r.y),s=1;s<t.length-1;s++){var p=t[s],g=t[s+1],b=Uo(p.x,p.y,g.x,g.y);b>l&&(l=b,n=p,r=g)}e=[n,r]}return e},rc=function(t,e,n){var r=na(t,n),l=na(e,n);return r&&l},ia=function(t,e,n){var r=na(t,n),l=na(e,n);return!(r&&l)&&(r||l)},Jf=function(t,e,n){for(var r,l,s=$n(n),p=oa(s),g=0;g<p.length;g++)qn(t,e,p[g],p[(g+1)%p.length])&&(l=[p[g],p[(g+1)%p.length]]);return l&&(r=function(b,E,A,C){var L=(E.y-b.y)*(C.x-A.x)-(b.x-E.x)*(A.y-C.y);if(L===0)return!1;var X=((E.x-b.x)*(C.x-A.x)*(A.y-b.y)+(E.y-b.y)*(C.x-A.x)*b.x-(C.y-A.y)*(E.x-b.x)*A.x)/L,ee=-((E.y-b.y)*(C.y-A.y)*(A.x-b.x)+(E.x-b.x)*(C.y-A.y)*b.y-(C.x-A.x)*(E.y-b.y)*A.y)/L;return(X-b.x)*(X-E.x)<=0&&(ee-b.y)*(ee-E.y)<=0&&(X-A.x)*(X-C.x)<=0&&(ee-A.y)*(ee-C.y)<=0&&{x:X,y:ee}}(t,e,l[0],l[1])),r},Pu=function(t,e){var n;return t.x===e.x?n=Cn.VERTICAL:t.y===e.y&&(n=Cn.HORIZONTAL),n},Ci=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var l=Di(r.split(","),2),s=l[0],p=l[1];n.push({x:Number(s),y:Number(p)})}),n},qd=function(t,e,n,r){var l=[];if(Pu(t,n)===Pu(e,r))t.y===n.y?(l.push({x:n.x,y:(n.y+r.y)/2}),l.push({x:r.x,y:(n.y+r.y)/2})):(l.push({x:(n.x+r.x)/2,y:n.y}),l.push({x:(n.x+r.x)/2,y:r.y}));else{var s={x:n.x,y:r.y},p=ho(s,t,n),g=ho(s,e,r);if(p||g)s={x:r.x,y:n.y};else{var b=Zd(s,t,n),E=Zd(s,e,r);b&&E&&(s={x:r.x,y:n.y})}l.push(s)}return l},Zd=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Qf=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},ep=null,cv=function(t,e){ep||(ep=document.createElement("canvas"));var n=ep.getContext("2d");return n.font=e,n.measureText(t).width},Jd=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var l={start:n,end:r,offset:10,verticalLength:5},s=Eu(ju(ju({},l),{},{type:"start"})),p=Eu(ju(ju({},l),{},{type:"end"}));e="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ms=function(t){var e=t.start,n=t.end,r=t.sourceNode,l=t.targetNode,s=t.offset,p=$n(r),g=$n(l),b=Ir(p,s),E=Ir(g,s);return{sNext:hn(b,p,e),ePre:hn(E,g,n)}},ks=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ts(e[0]),Ts(e[1]),Ts(e[2]),Ts(e[3])]},Ts=function(t){var e=Di(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},tp=function(t,e){var n=Di(t,4);return[Hn(n[0],n[1],n[2],n[3],e),t[3]]},Ns=function(t,e){for(var n,r=t.x,l=t.y,s=Ci(e),p=Number.MAX_SAFE_INTEGER,g=[],b=0;b<s.length;b++)g.push({start:s[b],end:s[(b+1)%s.length]});if(g.forEach(function(L){var X=L.start,ee=L.end;if(X.x===ee.x){var ie={x:X.x,y:l};if(ho(ie,X,ee)){var _e=Math.abs(X.x-r);_e<p&&(p=_e,n=ie)}}else if(X.y===ee.y){var be={x:r,y:X.y};if(ho(be,X,ee)){var Se=Math.abs(X.y-l);Se<p&&(p=Se,n=be)}}}),!n){var E=g[0],A=E.start,C=E.end;n={x:A.x+(C.x-A.x)/2,y:A.y+(C.y-A.y)/2}}return n},Qd=function(t){return ji(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},np=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Yr(t,e){return typeof e!="function"?function(n,r,l){return Object.assign({type:t.edgeType},l)}:function(n,r,l){var s=e(n,r,l);return s?typeof s=="string"?Object.assign({},l,{type:s}):Object.assign({type:s},l):{type:t.edgeType}}}o(208);var Ds=function(){};function fv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ao=function(){function t(r){var l=this,s=r.onDragStart,p=s===void 0?Ds:s,g=r.onDragging,b=g===void 0?Ds:g,E=r.onDragEnd,A=E===void 0?Ds:E,C=r.eventType,L=C===void 0?"":C,X=r.eventCenter,ee=X===void 0?null:X,ie=r.step,_e=ie===void 0?1:ie,be=r.isStopPropagation,Se=be===void 0||be,Le=r.model,nt=Le===void 0?null:Le,tt=r.data,xt=tt===void 0?null:tt;(function(et,mt){if(!(et instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,t),cr(this,"onDragStart",void 0),cr(this,"onDragging",void 0),cr(this,"onDragEnd",void 0),cr(this,"step",void 0),cr(this,"isStopPropagation",void 0),cr(this,"isDragging",!1),cr(this,"isStartDragging",!1),cr(this,"startX",0),cr(this,"startY",0),cr(this,"sumDeltaX",0),cr(this,"sumDeltaY",0),cr(this,"eventType",void 0),cr(this,"eventCenter",void 0),cr(this,"model",void 0),cr(this,"data",void 0),cr(this,"startTime",void 0),cr(this,"handleMouseDown",function(et){var mt,at,rn,ln=(mt=window)===null||mt===void 0?void 0:mt.document;if(et.button===0){l.isStopPropagation&&et.stopPropagation(),l.isStartDragging=!0,l.startX=et.clientX,l.startY=et.clientY,ln.addEventListener("mousemove",l.handleMouseMove,!1),ln.addEventListener("mouseup",l.handleMouseUp,!1);var Lt=(at=l.model)===null||at===void 0?void 0:at.getData();(rn=l.eventCenter)===null||rn===void 0||rn.emit(vt["".concat(l.eventType,"_MOUSEDOWN")],{e:et,data:l.data||Lt}),l.startTime=new Date().getTime()}}),cr(this,"handleMouseMove",function(et){if(l.isStopPropagation&&et.stopPropagation(),l.isStartDragging&&(l.sumDeltaX+=et.clientX-l.startX,l.sumDeltaY+=et.clientY-l.startY,l.startX=et.clientX,l.startY=et.clientY,l.step<=1||Math.abs(l.sumDeltaX)>l.step||Math.abs(l.sumDeltaY)>l.step)){var mt,at=l.sumDeltaX%l.step,rn=l.sumDeltaY%l.step,ln=l.sumDeltaX-at,Lt=l.sumDeltaY-rn;l.sumDeltaX=at,l.sumDeltaY=rn;var yn,ar=(mt=l.model)===null||mt===void 0?void 0:mt.getData();l.isDragging||((yn=l.eventCenter)===null||yn===void 0||yn.emit(vt["".concat(l.eventType,"_DRAGSTART")],{e:et,data:l.data||ar}),l.onDragStart({event:et})),l.isDragging=!0,Promise.resolve().then(function(){var ur,Kr;l.onDragging({deltaX:ln,deltaY:Lt,event:et}),(ur=l.eventCenter)===null||ur===void 0||ur.emit(vt["".concat(l.eventType,"_MOUSEMOVE")],{e:et,data:l.data||ar}),(Kr=l.eventCenter)===null||Kr===void 0||Kr.emit(vt["".concat(l.eventType,"_DRAG")],{e:et,data:l.data||ar})})}}),cr(this,"handleMouseUp",function(et){var mt=window.document;l.isStartDragging=!1,l.isStopPropagation&&et.stopPropagation(),Promise.resolve().then(function(){var at,rn,ln;mt.removeEventListener("mousemove",l.handleMouseMove,!1),mt.removeEventListener("mouseup",l.handleMouseUp,!1);var Lt=(at=l.model)===null||at===void 0?void 0:at.getData();(rn=l.eventCenter)===null||rn===void 0||rn.emit(vt["".concat(l.eventType,"_MOUSEUP")],{e:et,data:l.data||Lt}),l.isDragging&&(l.isDragging=!1,l.onDragEnd({event:et}),(ln=l.eventCenter)===null||ln===void 0||ln.emit(vt["".concat(l.eventType,"_DROP")],{e:et,data:l.data||Lt}))})}),cr(this,"cancelDrag",function(){var et,mt=(et=window)===null||et===void 0?void 0:et.document;mt.removeEventListener("mousemove",l.handleMouseMove,!1),mt.removeEventListener("mouseup",l.handleMouseUp,!1),l.onDragEnd({event:null}),l.isDragging=!1}),this.onDragStart=p,this.onDragging=b,this.onDragEnd=A,this.step=_e,this.isStopPropagation=Se,this.eventType=L,this.eventCenter=ee,this.model=nt,this.data=xt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&fv(e.prototype,n),t}();function Cs(t){return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function rp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function op(t,e,n){return e&&pv(t.prototype,e),t}function oc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Is(t,e)}function ip(t){var e=eh();return function(){var n,r=Ls(t);if(e){var l=Ls(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return dv(this,n)}}function dv(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Ri(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rs(t){var e=typeof Map=="function"?new Map:void 0;return Rs=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,l)}function l(){return ap(n,arguments,Ls(this).constructor)}return l.prototype=Object.create(n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Is(l,n)},Rs(t)}function ap(t,e,n){return ap=eh()?Reflect.construct:function(r,l,s){var p=[null];p.push.apply(p,l);var g=new(Function.bind.apply(r,p));return s&&Is(g,s.prototype),g},ap.apply(null,arguments)}function eh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Is(t,e){return Is=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Is(t,e)}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ls(t)}function zs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function th(t,e){return t instanceof Sr&&e instanceof Sr}var nh=function(t){oc(n,t);var e=ip(n);function n(r,l,s){var p;return rp(this,n),zs(Ri(p=e.call(this,3)),"x",void 0),zs(Ri(p),"y",void 0),zs(Ri(p),"z",void 0),p[0]=r,p[1]=l,p[2]=s,p.x=r,p.y=l,p.z=s,Object.setPrototypeOf(Ri(p),n.prototype),p}return op(n,[{key:"add",value:function(r){if(th(this,r))return new Sr(this.x+r.x,this.y+r.y);var l=this.z+r.z;return new f((this.x+r.x)/l,(this.y+r.y)/l)}},{key:"subtract",value:function(r){if(th(this,r))return new Sr(this.x-r.x,this.y-r.y);var l=this.z-r.z;return l===0?new Sr(this.x-r.x,this.y-r.y):new f((this.x-r.x)/l,(this.y-r.y)/l)}}]),n}(Rs(Array)),Sr=function(t){oc(n,t);var e=ip(n);function n(r,l,s){var p;return rp(this,n),p=e.call(this,r,l,s??0),Object.setPrototypeOf(Ri(p),n.prototype),p}return op(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var l=this;return r.reduce(function(s,p,g){return s+p*l[g]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var l=this.crossZ(r),s=Math.acos(this.normalize().dot(r.normalize()));return l>=0?s:-s}}]),n}(nh),f=function(t){oc(n,t);var e=ip(n);function n(r,l){var s;return rp(this,n),s=e.call(this,r,l,1),Object.setPrototypeOf(Ri(s),n.prototype),s}return op(n,[{key:"toString",value:function(){return"Point"}}]),n}(nh);o(67),o(218);function y(t){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(t)}function _(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||I(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(t){return function(e){if(Array.isArray(e))return V(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||I(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(t,e){if(t){if(typeof t=="string")return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}function V(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e,n){return e&&pe(t.prototype,e),t}function Be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}function Re(t){var e=Ue();return function(){var n,r=Tt(t);if(e){var l=Tt(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(t,e){if(e&&(y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){var e=typeof Map=="function"?new Map:void 0;return gt=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,l)}function l(){return Pt(n,arguments,Tt(this).constructor)}return l.prototype=Object.create(n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),He(l,n)},gt(t)}function Pt(t,e,n){return Pt=Ue()?Reflect.construct:function(r,l,s){var p=[null];p.push.apply(p,l);var g=new(Function.bind.apply(r,p));return s&&He(g,s.prototype),g},Pt.apply(null,arguments)}function Ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function He(t,e){return He=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},He(t,e)}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(t)}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fe,Ut,an,St,Ct,fr,ro,Go,pr,li,Ii,Mu,Bs,ci=function(t){Be(n,t);var e=Re(n);function n(){var r;ae(this,n);for(var l=arguments.length,s=new Array(l),p=0;p<l;p++)s[p]=arguments[p];return st(ut(r=e.call(this,s.length)),"rows",void 0),st(ut(r),"columns",void 0),r.fill(new Array(3)),s.forEach(function(g,b){r[b]=g}),r.columns=s[0].length,r.rows=s.length,Object.setPrototypeOf(ut(r),n.prototype),r}return we(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return M(this.map(function(l){return l[r]}))}},{key:"transpose",value:function(){for(var r=[],l=0;l<this.columns;l++)r.push(this.getColumn(l));return Pt(n,r)}},{key:"cross",value:function(r){var l=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var s=0;s<this.rows;s++)for(var p=this.getRow(s),g=function(E){var A=r.getColumn(E);l[s][E]=p.reduce(function(C,L,X){return C+L*A[X]},0)},b=0;b<r.columns;b++)g(b);return Pt(n,M(l))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new f(r[0],r[1])})}},{key:"toString",value:function(){var r=_(this[0],2),l=r[0],s=r[1],p=_(this[1],2),g=p[0],b=p[1],E=_(this[2],2),A=E[0],C=E[1];return"matrix(".concat(l," ").concat(s," ").concat(g," ").concat(b," ").concat(A," ").concat(C,")")}},{key:"translate",value:function(r,l){return this.cross(new ku(r,l))}},{key:"rotate",value:function(r){return this.cross(new aa(r))}},{key:"scale",value:function(r,l){return this.cross(new up(r,l))}}]),n}(gt(Array)),aa=function(t){Be(n,t);var e=Re(n);function n(r){var l;return ae(this,n),l=e.call(this,new Sr(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new Sr(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new Sr(0,0,1)),Object.setPrototypeOf(ut(l),n.prototype),l}return we(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(ci),up=function(t){Be(n,t);var e=Re(n);function n(r,l){var s;return ae(this,n),st(ut(s=e.call(this,new Sr(r,0,0),new Sr(0,l,0),new Sr(0,0,1))),"sx",void 0),st(ut(s),"sy",void 0),s.sx=r,s.sy=l,Object.setPrototypeOf(ut(s),n.prototype),s}return we(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(ci),ku=function(t){Be(n,t);var e=Re(n);function n(r,l){var s;return ae(this,n),st(ut(s=e.call(this,new Sr(1,0,0),new Sr(0,1,0),new Sr(r,l,1))),"tx",void 0),st(ut(s),"ty",void 0),s.tx=r,s.ty=l,Object.setPrototypeOf(ut(s),n.prototype),s}return we(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(ci),Fs={node:!1,edge:!1},sp={node:!0,edge:!0};function Us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Us(Object(n),!0).forEach(function(r){zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Da(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||Ws(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Li(t){return function(e){if(Array.isArray(e))return hv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Ws(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ws(t,e){if(t){if(typeof t=="string")return hv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hv(t,e):void 0}}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rh(t){return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function fi(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function LE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var s0,l0=200,c0=(fe=function(){function t(r){(function(X,ee){if(!(X instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,t),zi(this,"rootEl",void 0),fi(this,"width",Ut,this),fi(this,"height",an,this),zi(this,"theme",void 0),zi(this,"eventCenter",void 0),zi(this,"modelMap",new Map),zi(this,"topElement",void 0),zi(this,"animation",void 0),zi(this,"idGenerator",void 0),zi(this,"edgeGenerator",void 0),zi(this,"nodeMoveRules",[]),zi(this,"customTrajectory",void 0),fi(this,"edgeType",St,this),fi(this,"nodes",Ct,this),fi(this,"edges",fr,this),fi(this,"overlapMode",ro,this),fi(this,"background",Go,this),fi(this,"transformModel",pr,this),fi(this,"editConfigModel",li,this),fi(this,"gridSize",Ii,this),fi(this,"partial",Mu,this),fi(this,"fakerNode",Bs,this);var l,s=r.container,p=r.background,g=p===void 0?{}:p,b=r.grid,E=r.idGenerator,A=r.edgeGenerator,C=r.animation,L=r.customTrajectory;this.background=g,rh(b)==="object"&&(this.gridSize=b.size),this.rootEl=s,this.editConfigModel=new rf(r),this.eventCenter=new bd,this.transformModel=new id(this.eventCenter,r),this.theme=Aa(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(l=C)&&typeof l!="boolean"?bs(xn(Fs),l):xn(l===!0?sp:Fs),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=E,this.customTrajectory=L,this.edgeGenerator=Yr(this,A),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Ni()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,l,s){return r[l.id]={index:s,model:l},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,l,s){return r[l.id]={index:s,model:l},r},{})}},{key:"modelsMap",get:function(){return[].concat(Li(this.nodes),Li(this.edges)).reduce(function(r,l){return r[l.id]=l,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(E){return r.push(E)}),this.edges.forEach(function(E){return r.push(E)}),r=r.sort(function(E,A){return E.zIndex-A.zIndex});for(var l=[],s=[-200,-200],p=[this.width+l0,this.height+l0],g=0;g<r.length;g++){var b=r[g];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,s,p,!1,!1))&&l.push(b)}return l}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(s){return s.state===On.TEXT_EDIT}),l=this.edges.find(function(s){return s.state===On.TEXT_EDIT});return r||l}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(l){l.isSelected&&r.set(l.id,l)}),this.edges.forEach(function(l){l.isSelected&&r.set(l.id,l)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(l){l.isSelected&&r.push(l)}),r}},{key:"getAreaElement",value:function(r,l){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],E=[];this.nodes.forEach(function(L){return E.push(L)}),this.edges.forEach(function(L){return E.push(L)});for(var A=0;A<E.length;A++){var C=E[A];g&&!C.visible||!this.isElementInArea(C,r,l,s,p)||b.push(C)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var l;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(l=this.nodesMap[r])===null||l===void 0?void 0:l.model}},{key:"getPointByClient",value:function(r){var l=r.x,s=r.y,p=this.rootEl.getBoundingClientRect(),g={x:l-p.left,y:s-p.top},b=Da(this.transformModel.HtmlPointToCanvasPoint([g.x,g.y]),2);return{domOverlayPosition:g,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,l,s){var p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===or.NODE){for(var b=$n(r=r),E=b.minX,A=b.minY,C=b.maxX,L=b.maxY,X=[{x:E,y:A},{x:C,y:A},{x:C,y:L},{x:E,y:L}],ee=g,ie=0;ie<X.length;ie++){var _e=X[ie],be=_e.x,Se=_e.y,Le=this.transformModel.CanvasPointToHtmlPoint([be,Se]),nt=Da(Le,2);if(be=nt[0],Se=nt[1],ws([be,Se],l,s)!==g){ee=!g;break}}return ee}if(r.BaseType===or.EDGE){var tt=r=r,xt=tt.startPoint,et=tt.endPoint,mt=this.transformModel.CanvasPointToHtmlPoint([xt.x,xt.y]),at=this.transformModel.CanvasPointToHtmlPoint([et.x,et.y]),rn=ws(mt,l,s),ln=ws(at,l,s);return p?rn&&ln:rn||ln}return!1}},{key:"graphDataToModel",value:function(r){var l=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=yl(r.nodes,function(s){return l.getModelAfterSnapToGrid(s)}):this.nodes=[],r.edges?this.edges=yl(r.edges,function(s){var p=l.getModel(s.type);if(!p)throw new Error("找不到".concat(s.type,"对应的边。"));return new p(s,l)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(s){var p=s.getData();p&&!s.virtual&&r.push(p)});var l=[];return this.nodes.forEach(function(s){var p=s.getData();p&&!s.virtual&&l.push(p)}),{nodes:l,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,l=[],s=0;s<this.nodes.length;s++){var p=this.nodes[s];if(p.isDragging){r=!0;break}l.push(p.getHistoryData())}if(r)return!1;for(var g=!1,b=[],E=0;E<this.edges.length;E++){var A=this.edges[E];if(A.isDragging){g=!0;break}b.push(A.getHistoryData())}return!g&&{nodes:l,edges:b}}},{key:"getEdgeModelById",value:function(r){var l;return(l=this.edgesMap[r])===null||l===void 0?void 0:l.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var l=[],s=0;s<this.edges.length;s++){var p=this.edges[s],g=this.edges[s].sourceNodeId===r,b=this.edges[s].targetNodeId===r;(g||b)&&l.push(p)}return l}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],l=this.selectElements,s={nodes:[],edges:[]};return l.forEach(function(p){if(p.BaseType===or.NODE&&s.nodes.push(p.getData()),p.BaseType===or.EDGE){var g=p.getData(),b=l.get(g.sourceNodeId)&&l.get(g.targetNodeId);(r||b)&&s.edges.push(g)}}),s}},{key:"updateAttributes",value:function(r,l){this.getElement(r).updateAttributes(l)}},{key:"changeNodeId",value:function(r,l){return l||(l=Ni()),this.nodesMap[l]?"":this.nodesMap[r]?(this.edges.forEach(function(s){s.sourceNodeId===r&&(s.sourceNodeId=l),s.targetNodeId===r&&(s.targetNodeId=l)}),this.nodesMap[r].model.id=l,this.nodesMap[l]=this.nodesMap[r],l):""}},{key:"changeEdgeId",value:function(r,l){return l||(l=Ni()),this.edgesMap[l]?"":this.edgesMap[r]?(this.edges.forEach(function(s){s.id===r&&s.changeEdgeId(l)}),l):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,l){return this.modelMap.set(r,l)}},{key:"toFront",value:function(r){var l,s,p,g=((l=this.nodesMap[r])===null||l===void 0?void 0:l.model)||((s=this.edgesMap[r])===null||s===void 0?void 0:s.model);g&&(this.overlapMode===Vn.DEFAULT&&((p=this.topElement)===null||p===void 0||p.setZIndex(),g.setZIndex(9999),this.topElement=g),this.overlapMode===Vn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,l){var s,p,g,b=((s=this.nodesMap[r])===null||s===void 0?void 0:s.model)||((p=this.edgesMap[r])===null||p===void 0?void 0:p.model);b&&(typeof l=="number"&&(g=l),l==="top"&&(g=Df()),l==="bottom"&&(g=--rv),b.setZIndex(g))}},{key:"deleteNode",value:function(r){var l=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(vt.NODE_DELETE,{data:l})}},{key:"addNode",value:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.NODE_ADD,s=arguments.length>2?arguments[2]:void 0,p=Rr(r);p.id&&this.nodesMap[r.id]&&delete p.id;var g=this.getModelAfterSnapToGrid(p);this.nodes.push(g);var b=g.getData(),E={data:b};return s&&(E.e=s),this.eventCenter.emit(l,E),g}},{key:"getModelAfterSnapToGrid",value:function(r){var l=this.getModel(r.type);if(!l)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));var s=r.x,p=r.y;return s&&p&&(r.x=ea(s,this.gridSize),r.y=ea(p,this.gridSize),rh(r.text)==="object"&&(r.text.x+=r.x-s,r.text.y+=r.y-p)),new l(r,this)}},{key:"cloneNode",value:function(r){var l=this.getNodeModelById(r),s=l.getData();s.x+=30,s.y+=30,delete s.id,s.text&&(s.text.x+=30,s.text.y+=30);var p=this.addNode(s);return p.setSelected(!0),l.setSelected(!1),p.getData()}},{key:"moveNode",value:function(r,l,s){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=this.nodesMap[r];if(g){var b=g.model,E=b.getMoveDistance(l,s,p),A=Da(E,2);l=A[0],s=A[1],this.moveEdge(r,l,s)}}},{key:"moveNode2Coordinate",value:function(r,l,s){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=this.nodesMap[r];if(g){var b=g.model,E=b.x,A=b.y,C=l-E,L=s-A;this.moveNode(r,C,L,p)}}},{key:"editText",value:function(r){this.setElementStateById(r,On.TEXT_EDIT)}},{key:"addEdge",value:function(r){var l=Rr(r),s=l.type;s||(s=this.edgeType),l.id&&this.edgesMap[l.id]&&delete l.id;var p=this.getModel(s);if(!p)throw new Error("找不到".concat(s,"对应的边，请确认是否已注册此类型边。"));var g=new p(Na(Na({},l),{},{type:s}),this),b=g.getData();return this.edges.push(g),this.eventCenter.emit(vt.EDGE_ADD,{data:b}),g}},{key:"moveEdge",value:function(r,l,s){for(var p=0;p<this.edges.length;p++){var g=this.edges[p],b=g.textPosition,E=b.x,A=b.y,C=this.edges[p].sourceNodeId===r,L=this.edges[p].targetNodeId===r;C&&g.moveStartPoint(l,s),L&&g.moveEndPoint(l,s),(C||L)&&this.handleEdgeTextMove(g,E,A)}}},{key:"handleEdgeTextMove",value:function(r,l,s){var p;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Qt.POLYLINE_EDGE&&(p=r.text)!==null&&p!==void 0&&p.value){var g=r.text,b=Ns(g,r.points);r.moveText(b.x-g.x,b.y-g.y)}else{var E=r.textPosition,A=E.x,C=E.y;r.moveText(A-l,C-s)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,l){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===r&&this.edges[s].targetNodeId===l){var p=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(vt.EDGE_DELETE,{data:p})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var l=this.edgesMap[r].index,s=this.edgesMap[r].model.getData();this.edges.splice(l,1),this.eventCenter.emit(vt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeBySource",value:function(r){for(var l=0;l<this.edges.length;l++)if(this.edges[l].sourceNodeId===r){var s=this.edges[l].getData();this.edges.splice(l,1),l--,this.eventCenter.emit(vt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeByTarget",value:function(r){for(var l=0;l<this.edges.length;l++)if(this.edges[l].targetNodeId===r){var s=this.edges[l].getData();this.edges.splice(l,1),l--,this.eventCenter.emit(vt.EDGE_DELETE,{data:s})}}},{key:"setElementStateById",value:function(r,l,s){this.nodes.forEach(function(p){p.id===r?p.setElementState(l,s):p.setElementState(On.DEFAULT)}),this.edges.forEach(function(p){p.id===r?p.setElementState(l,s):p.setElementState(On.DEFAULT)})}},{key:"updateText",value:function(r,l){this.nodes.forEach(function(s){s.id===r&&s.updateText(l)}),this.edges.forEach(function(s){s.id===r&&s.updateText(l)})}},{key:"selectNodeById",value:function(r){var l,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var p=(l=this.nodesMap[r])===null||l===void 0?void 0:l.model;p==null||p.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var l,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var p=(l=this.edgesMap[r])===null||l===void 0?void 0:l.model;p==null||p.setSelected(!0)}},{key:"selectElementById",value:function(r){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l||this.clearSelectElements();var s=this.getElement(r);s==null||s.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(l){l==null||l.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Vn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,l,s){for(var p=this,g=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(tt,xt){var et=p.nodesMap[xt].model.getMoveDistance(l,s,g);return tt[xt]=et,tt},{}),E=0;E<this.edges.length;E++){var A=this.edges[E],C=A.textPosition,L=C.x,X=C.y,ee=b[A.sourceNodeId],ie=b[A.targetNodeId],_e=void 0,be=void 0;if(ee&&ie&&A.modelType===Qt.POLYLINE_EDGE){var Se=Da(ee,2);_e=Se[0],be=Se[1],A.updatePointsList(_e,be)}else{if(ee){var Le=Da(ee,2);_e=Le[0],be=Le[1],A.moveStartPoint(_e,be)}if(ie){var nt=Da(ie,2);_e=nt[0],be=nt[1],A.moveEndPoint(_e,be)}}(ee||ie)&&this.handleEdgeTextMove(A,L,X)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,l){var s=this.getNodeModelById(r);if(s){var p=s.getData();p.type=l;var g=this.getModel(l);if(!g)throw new Error("找不到".concat(l,"对应的节点，请确认是否已注册此类型节点。"));var b=new g(p,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(E){if(E.sourceNodeId===r){var A=Dd(b,E.startPoint,b.width,b.height);E.updateStartPoint(A)}if(E.targetNodeId===r){var C=Dd(b,E.endPoint,b.width,b.height);E.updateEndPoint(C)}})}}},{key:"changeEdgeType",value:function(r,l){var s=this.getEdgeModelById(r);if(s&&s.type!==l){var p=s.getData();p.type=l;var g=this.getModel(l);if(!g)throw new Error("找不到".concat(l,"对应的节点，请确认是否已注册此类型节点。"));delete p.pointsList;var b=new g(p,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var l=[];return this.edges.forEach(function(s){s.targetNodeId===r&&l.push(s)}),l}},{key:"getNodeOutgoingEdge",value:function(r){var l=[];return this.edges.forEach(function(s){s.sourceNodeId===r&&l.push(s)}),l}},{key:"getAnchorIncomingEdge",value:function(r){var l=[];return this.edges.forEach(function(s){s.targetAnchorId===r&&l.push(s)}),l}},{key:"getAnchorOutcomingEdge",value:function(r){var l=[];return this.edges.forEach(function(s){s.sourceAnchorId===r&&l.push(s)}),l}},{key:"getNodeIncomingNode",value:function(r){var l=this,s=[];return this.edges.forEach(function(p){p.targetNodeId===r&&s.push(l.nodesMap[p.sourceNodeId].model)}),s}},{key:"getNodeOutgoingNode",value:function(r){var l=this,s=[];return this.edges.forEach(function(p){p.sourceNodeId===r&&s.push(l.nodesMap[p.targetNodeId].model)}),s}},{key:"setTheme",value:function(r){this.theme=Aa(Na(Na({},this.theme),r))}},{key:"resize",value:function(r,l){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=l||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,l=[],s=[];r.forEach(function(C){var L=C.x,X=C.y,ee=C.width,ie=C.height,_e=C.getNodeStyle().strokeWidth,be=_e===void 0?0:_e,Se=L+ee/2+be,Le=L-ee/2-be,nt=X+ie/2+be,tt=X-ie/2-be;l=l.concat([Se,Le].filter(function(xt){return!Number.isNaN(xt)})),s=s.concat([nt,tt].filter(function(xt){return!Number.isNaN(xt)}))});var p=Math.min.apply(Math,Li(l)),g=Math.max.apply(Math,Li(l)),b=Math.min.apply(Math,Li(s)),E=g-p||0,A=Math.max.apply(Math,Li(s))-b||0;return{virtualRectWidth:E,virtualRectHeight:A,virtualRectCenterPositionX:p+E/2,virtualRectCenterPositionY:b+A/2}}},{key:"translateCenter",value:function(){var r=this.nodes,l=this.width,s=this.height,p=this.rootEl,g=this.transformModel;if(r.length){var b=l||p.clientWidth,E=s||p.clientHeight,A=this.getVirtualRectSize(),C=A.virtualRectCenterPositionX,L=A.virtualRectCenterPositionY;g.focusOn(C,L,b,E)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,s=this.nodes,p=this.width,g=this.height,b=this.rootEl,E=this.transformModel;if(s.length){var A=p||b.clientWidth,C=g||b.clientHeight,L=this.getVirtualRectSize(),X=L.virtualRectWidth,ee=L.virtualRectHeight,ie=L.virtualRectCenterPositionX,_e=L.virtualRectCenterPositionY,be=(X+l)/A,Se=(ee+r)/C,Le=0;Le=1/Math.max(be,Se);var nt=[A/2,C/2];E.zoom(Le,nt),E.focusOn(ie,_e,A,C)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&LE(e.prototype,n),t}(),Ut=jt(fe.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=jt(fe.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=jt(fe.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=jt(fe.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fr=jt(fe.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ro=jt(fe.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vn.DEFAULT}}),Go=jt(fe.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=jt(fe.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=jt(fe.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ii=jt(fe.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mu=jt(fe.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bs=jt(fe.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt(fe.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(fe.prototype,"nodesMap"),fe.prototype),jt(fe.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(fe.prototype,"edgesMap"),fe.prototype),jt(fe.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(fe.prototype,"modelsMap"),fe.prototype),jt(fe.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(fe.prototype,"sortElements"),fe.prototype),jt(fe.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(fe.prototype,"textEditElement"),fe.prototype),jt(fe.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(fe.prototype,"selectElements"),fe.prototype),jt(fe.prototype,"selectNodes",[h.m],Object.getOwnPropertyDescriptor(fe.prototype,"selectNodes"),fe.prototype),jt(fe.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"setFakerNode"),fe.prototype),jt(fe.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"removeFakerNode"),fe.prototype),jt(fe.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"setModel"),fe.prototype),jt(fe.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"toFront"),fe.prototype),jt(fe.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"setElementZIndex"),fe.prototype),jt(fe.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"deleteNode"),fe.prototype),jt(fe.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"addNode"),fe.prototype),jt(fe.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"cloneNode"),fe.prototype),jt(fe.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"moveNode"),fe.prototype),jt(fe.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"moveNode2Coordinate"),fe.prototype),jt(fe.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"editText"),fe.prototype),jt(fe.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"addEdge"),fe.prototype),jt(fe.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"moveEdge"),fe.prototype),jt(fe.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"deleteEdgeBySourceAndTarget"),fe.prototype),jt(fe.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"deleteEdgeById"),fe.prototype),jt(fe.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"deleteEdgeBySource"),fe.prototype),jt(fe.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"deleteEdgeByTarget"),fe.prototype),jt(fe.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"setElementStateById"),fe.prototype),jt(fe.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"updateText"),fe.prototype),jt(fe.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"selectNodeById"),fe.prototype),jt(fe.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"selectEdgeById"),fe.prototype),jt(fe.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"selectElementById"),fe.prototype),jt(fe.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"clearSelectElements"),fe.prototype),jt(fe.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"moveNodes"),fe.prototype),jt(fe.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"setDefaultEdgeType"),fe.prototype),jt(fe.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"changeNodeType"),fe.prototype),jt(fe.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"changeEdgeType"),fe.prototype),jt(fe.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"getNodeIncomingEdge"),fe.prototype),jt(fe.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"getNodeOutgoingEdge"),fe.prototype),jt(fe.prototype,"getAnchorIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"getAnchorIncomingEdge"),fe.prototype),jt(fe.prototype,"getAnchorOutcomingEdge",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"getAnchorOutcomingEdge"),fe.prototype),jt(fe.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"getNodeIncomingNode"),fe.prototype),jt(fe.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"getNodeOutgoingNode"),fe.prototype),jt(fe.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"setTheme"),fe.prototype),jt(fe.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"resize"),fe.prototype),jt(fe.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"clearData"),fe.prototype),jt(fe.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"translateCenter"),fe.prototype),jt(fe.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"fitView"),fe.prototype),jt(fe.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"openEdgeAnimation"),fe.prototype),jt(fe.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(fe.prototype,"closeEdgeAnimation"),fe.prototype),fe),zE=c0;function yv(t){return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function vv(){return vv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(this,arguments)}function BE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e){return gv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gv(t,e)}function FE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oh(t);if(e){var l=oh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return UE(this,n)}}function UE(t,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ua(t)}function ua(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}function Ca(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f0,WE=Wi(s0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&gv(s,p)})(l,t);var e,n,r=FE(l);function l(s){var p;(function(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")})(this,l),Ca(ua(p=r.call(this)),"stepDrag",void 0),Ca(ua(p),"stepScrollX",0),Ca(ua(p),"stepScrollY",0),Ca(ua(p),"onDragging",function(A){var C=A.deltaX,L=A.deltaY;p.setState({isDragging:!0});var X=p.props.graphModel,ee=X.transformModel;X.editConfigModel.stopMoveGraph!==!0&&ee.translate(C,L)}),Ca(ua(p),"onDragEnd",function(){p.setState({isDragging:!1})}),Ca(ua(p),"zoomHandler",function(A){var C=p.props,L=C.graphModel,X=L.editConfigModel,ee=L.transformModel,ie=L.gridSize,_e=C.graphModel,be=A.deltaX,Se=A.deltaY;if(X.stopScrollGraph||A.ctrlKey===!0){if(!X.stopZoomGraph){A.preventDefault();var Le=_e.getPointByClient({x:A.clientX,y:A.clientY}).canvasOverlayPosition,nt=Le.x,tt=Le.y;ee.zoom(A.deltaY<0,[nt,tt])}}else{if(A.preventDefault(),p.stepScrollX+=be,p.stepScrollY+=Se,Math.abs(p.stepScrollX)>=ie){var xt=p.stepScrollX%ie,et=p.stepScrollX-xt;ee.translate(-et*ee.SCALE_X,0),p.stepScrollX=xt}if(Math.abs(p.stepScrollY)>=ie){var mt=p.stepScrollY%ie,at=p.stepScrollY-mt;ee.translate(0,-at*ee.SCALE_Y),p.stepScrollY=mt}}}),Ca(ua(p),"clickHandler",function(A){if(A.target.getAttribute("name")==="canvas-overlay"){var C=p.props.graphModel;C.selectElements.size>0&&C.clearSelectElements(),C.eventCenter.emit(vt.BLANK_CLICK,{e:A})}}),Ca(ua(p),"handleContextMenu",function(A){if(A.target.getAttribute("name")==="canvas-overlay"){A.preventDefault();var C=p.props.graphModel,L=C.getPointByClient({x:A.clientX,y:A.clientY});C.eventCenter.emit(vt.BLANK_CONTEXTMENU,{e:A,position:L})}}),Ca(ua(p),"mouseDownHandler",function(A){var C=p.props.graphModel,L=C.eventCenter,X=C.editConfigModel,ee=C.transformModel.SCALE_X,ie=C.gridSize,_e=A.target,be=!X.adjustEdge&&!X.adjustNodePosition;(_e.getAttribute("name")==="canvas-overlay"||be)&&(X.stopMoveGraph!==!0?(p.stepDrag.setStep(ie*ee),p.stepDrag.handleMouseDown(A)):L.emit(vt.BLANK_MOUSEDOWN,{e:A}),p.clickHandler(A))});var g=s.graphModel,b=g.gridSize,E=g.eventCenter;return p.stepDrag=new Ao({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:E,model:null}),p.state={isDragging:!1},p}return e=l,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props,g=p.children,b=p.dnd,E=this.state.isDragging;return Object(de.g)("svg",vv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:E?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(de.g)("g",{transform:s},g))}}])&&BE(e.prototype,n),l}(de.a))||s0;function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function GE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bv(t,e)}function $E(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ih(t);if(e){var l=ih(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return HE(this,n)}}function HE(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(t)}var XE=Wi(f0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&bv(s,p)})(l,t);var e,n,r=$E(l);function l(){return GE(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var s=this.props,p=s.tool,g=s.graphModel,b=p.getTools().map(function(E){return Object(de.g)(E,{graphModel:g,logicFlow:p.instance})});return p.components=b,b}},{key:"triggerToolRender",value:function(){var s=this.props,p=s.tool,g=s.graphModel,b=document.querySelector("#ToolOverlay_".concat(g.flowId)),E=p.getInstance();E.components.forEach(function(A){return A(E,b)}),E.components=[]}},{key:"render",value:function(){var s=this.props.graphModel;return Object(de.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(s.flowId)},this.getTools())}}])&&VE(e.prototype,n),l}(de.a))||f0;function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function YE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ov(t,e){return Ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ov(t,e)}function qE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ah(t);if(e){var l=ah(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return ZE(this,n)}}function ZE(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}var p0,JE=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Ov(s,p)})(l,t);var e,n,r=qE(l);function l(){return YE(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"render",value:function(){var s=this.props.background;return Object(de.g)("div",{className:"lf-background"},Object(de.g)("div",{style:s,className:"lf-background-area"}))}}])&&KE(e.prototype,n),l}(de.a);function wv(t){return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function QE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xv(t,e){return xv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xv(t,e)}function tS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uh(t);if(e){var l=uh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return nS(this,n)}}function nS(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d0(t)}function d0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}function rS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h0=Wi(p0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&xv(s,p)})(l,t);var e,n,r=tS(l);function l(){var s;QE(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return rS(d0(s=r.call.apply(r,[this].concat(g))),"id",Ni()),s}return e=l,(n=[{key:"renderDot",value:function(){var s=this.props,p=s.config,g=p.color,b=p.thickness,E=b===void 0?2:b,A=s.size,C=s.visible,L=Math.min(Math.max(2,E),A/2),X=1;return C||(X=0),Object(de.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:g,opacity:X})}},{key:"renderMesh",value:function(){var s=this.props,p=s.config,g=p.color,b=p.thickness,E=b===void 0?1:b,A=s.size,C=s.visible,L=Math.min(Math.max(1,E),A/2),X="M ".concat(A," 0 H0 M0 0 V0 ").concat(A),ee=1;return C||(ee=0),Object(de.g)("path",{d:X,stroke:g,strokeWidth:L,opacity:ee})}},{key:"render",value:function(){var s=this.props,p=s.type,g=s.size,b=s.graphModel.transformModel,E=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),A="matrix(".concat(E,")");return Object(de.g)("div",{className:"lf-grid"},Object(de.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(de.g)("defs",null,Object(de.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:A,x:"0",y:"0",width:g,height:g},p==="dot"&&this.renderDot(),p==="mesh"&&this.renderMesh())),Object(de.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&eS(e.prototype,n),l}(de.a))||p0;h0.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function Ev(t){return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function oS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return y0(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return y0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v0,ic=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=oS(n,2),l=r[0],s=r[1];(l==="style"||Ev(s)!=="object")&&(e[l]=s)}),Object(de.g)("line",e)};function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function g0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g0(Object(n),!0).forEach(function(r){iS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jv(t,e){return jv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jv(t,e)}function sS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lh(t);if(e){var l=lh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return lS(this,n)}}function lS(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(t)}var m0,cS=Wi(v0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&jv(s,p)})(l,t);var e,n,r=sS(l);function l(){return aS(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"render",value:function(){var s=this.props.snaplineModel,p=s.position,g=s.isShowHorizontal,b=s.isShowVertical,E=s.getStyle(),A=p.x,C=A===void 0?0:A,L=p.y,X=L===void 0?0:L,ee=sh(sh({x1:-1e5,y1:X,x2:1e5,y2:X},E),{},{stroke:g?E.stroke:"none"}),ie=sh(sh({x1:C,y1:-1e5,x2:C,y2:1e5},E),{},{stroke:b?E.stroke:"none"});return Object(de.g)("g",{className:"lf-snapline"},Object(de.g)(ic,ee),Object(de.g)(ic,ie))}}])&&uS(e.prototype,n),l}(de.a))||v0;function Av(t){return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function fS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return b0(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return b0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tu(t){var e=t.x,n=t.y,r=t.width,l=t.height,s=t.className,p=t.radius,g=e-r/2,b=n-l/2,E={};return Object.entries(t).forEach(function(A){var C=fS(A,2),L=C[0],X=C[1];Av(X)!=="object"&&(E[L]=X)}),E.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",p&&(E.rx=p,E.ry=p),E.x=g,E.y=b,Object(de.g)("rect",E)}function Pv(t){return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function ac(){return ac=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function _0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function O0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_0(Object(n),!0).forEach(function(r){pS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mv(t,e){return Mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mv(t,e)}function yS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ch(t);if(e){var l=ch(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return vS(this,n)}}function vS(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(t)}Tu.defaultProps={className:"",radius:""};var w0,gS=Wi(m0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Mv(s,p)})(l,t);var e,n,r=yS(l);function l(){return dS(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getNodesOutline",value:function(){var s=this.props.graphModel,p=s.nodes,g=s.editConfigModel,b=g.hoverOutline,E=g.nodeSelectedOutline,A=[];return p.forEach(function(C){if(C.isHovered||C.isSelected){var L=C.isHovered,X=C.isSelected,ee=C.x,ie=C.y,_e=C.width,be=C.height;if(E&&X||b&&L){var Se=C.getOutlineStyle(),Le={};if(Object.keys(Se).forEach(function(tt){tt!=="hover"&&(Le[tt]=Se[tt])}),L){var nt=Se.hover;Le=O0(O0({},Le),nt)}A.push(Object(de.g)(Tu,ac({transform:C.transform,className:"lf-outline-node",x:ee,y:ie,width:_e+10,height:be+10},Le)))}}}),A}},{key:"getEdgeOutline",value:function(){for(var s=this.props.graphModel,p=s.edges,g=s.editConfigModel,b=g.edgeSelectedOutline,E=g.hoverOutline,A=[],C=0;C<p.length;C++){var L=p[C];(b&&L.isSelected||E&&L.isHovered)&&(L.modelType===Qt.LINE_EDGE?A.push(this.getLineOutline(L)):L.modelType===Qt.POLYLINE_EDGE?A.push(this.getPolylineOutline(L)):L.modelType===Qt.BEZIER_EDGE&&A.push(this.getBezierOutline(L)))}return A}},{key:"getLineOutline",value:function(s){var p=s.startPoint,g=s.endPoint,b=(p.x+g.x)/2,E=(p.y+g.y)/2,A=Math.abs(p.x-g.x)+10,C=Math.abs(p.y-g.y)+10,L=s.getOutlineStyle();return Object(de.g)(Tu,ac({className:"lf-outline-edge",x:b,y:E,width:A,height:C},L))}},{key:"getPolylineOutline",value:function(s){var p=s.points,g=Ci(p),b=Ta(g,8),E=b.x,A=b.y,C=b.width,L=b.height,X=s.getOutlineStyle();return Object(de.g)(Tu,ac({className:"lf-outline",x:E,y:A,width:C,height:L},X))}},{key:"getBezierOutline",value:function(s){var p=s.path,g=ks(p),b=Ta(g,8),E=b.x,A=b.y,C=b.width,L=b.height,X=s.getOutlineStyle();return Object(de.g)(Tu,ac({className:"lf-outline",x:E,y:A,width:C,height:L},X))}},{key:"render",value:function(){return Object(de.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&hS(e.prototype,n),l}(de.a))||m0;function kv(t){return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function mS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return x0(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return x0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uc(t){var e=t.x,n=e===void 0?0:e,r=t.y,l=r===void 0?0:r,s=t.r,p=s===void 0?4:s,g=t.className,b={cx:n,cy:l,r:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(E){var A=mS(E,2),C=A[0],L=A[1];kv(L)!=="object"&&(b[C]=L)}),b.className=g?"lf-basic-shape ".concat(g):"lf-basic-shape",Object(de.g)("circle",b)}function Tv(t){return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function bS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return E0(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return E0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lp(){return lp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function S0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j0(t,e,n){return e&&_S(t.prototype,e),t}function A0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nv(t,e)}function Nv(t,e){return Nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nv(t,e)}function P0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ph(t);if(e){var l=ph(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return OS(this,n)}}function OS(t,e){if(e&&(Tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fh(t)}function fh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}function Dv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M0,k0=function(t){A0(n,t);var e=P0(n);function n(){var r;return S0(this,n),Dv(fh(r=e.call(this)),"dragHandler",void 0),Dv(fh(r),"onDragging",function(l){var s=l.event,p=r.props,g=p.graphModel,b=p.bezierModel,E=p.type,A=g.getPointByClient({x:s.clientX,y:s.clientY}).canvasOverlayPosition,C=A.x,L=A.y;b.updateAdjustAnchor({x:C,y:L},E),g.eventCenter.emit(vt.EDGE_ADJUST,{data:b.getData()})}),Dv(fh(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Ao({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return j0(n,[{key:"render",value:function(){var r=this,l=this.props.position,s=l.x,p=l.y,g=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(de.g)(uc,lp({className:"lf-bezier-adjust-anchor",x:s,y:p},g,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(de.a),wS=Wi(w0=function(t){A0(n,t);var e=P0(n);function n(){return S0(this,n),e.apply(this,arguments)}return j0(n,[{key:"getBezierAdjust",value:function(r,l){var s=r.path,p=r.id,g=bS(ks(s),4),b=g[0],E=g[1],A=g[2],C=g[3],L=r.getEdgeStyle().adjustLine,X=[];return X.push(Object(de.g)(ic,lp({x1:b.x,y1:b.y,x2:E.x,y2:E.y},L))),X.push(Object(de.g)(k0,{position:E,bezierModel:r,graphModel:l,key:"".concat(p,"_ePre"),type:"sNext"})),X.push(Object(de.g)(ic,lp({x1:C.x,y1:C.y,x2:A.x,y2:A.y},L))),X.push(Object(de.g)(k0,{position:A,bezierModel:r,graphModel:l,key:"".concat(p,"_sNext"),type:"ePre"})),X}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,l=r.edges,s=[],p=0;p<l.length;p++){var g=l[p];g.isSelected&&g.modelType===Qt.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,r))}return s}},{key:"render",value:function(){return Object(de.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(de.a))||w0;function Cv(t){return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function xS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ES(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(t,e){return Rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rv(t,e)}function SS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dh(t);if(e){var l=dh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return jS(this,n)}}function jS(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}var T0,AS=Wi(M0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Rv(s,p)})(l,t);var e,n,r=SS(l);function l(){return xS(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props.children;return Object(de.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(de.g)("g",{transform:s},p))}}])&&ES(e.prototype,n),l}(de.a))||M0;function Iv(t){return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function Lv(){return Lv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function PS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zv(t,e){return zv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zv(t,e)}function kS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hh(t);if(e){var l=hh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return TS(this,n)}}function TS(t,e){if(e&&(Iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(t)}var NS=Wi(T0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&zv(s,p)})(l,t);var e,n,r=kS(l);function l(){return PS(this,l),r.apply(this,arguments)}return e=l,n=[{key:"getComponent",value:function(s,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,E=b(s.type);return Object(de.g)(E,{key:s.id,model:s,graphModel:p,overlay:g})}},{key:"render",value:function(){var s=this,p=this.props,g=p.graphModel,b=p.tool,E=p.options,A=p.dnd,C=p.snaplineModel,L={};E.width&&(L.width="".concat(g.width,"px")),E.height&&(L.height="".concat(g.height,"px"));var X=E.grid,ee=g.fakerNode,ie=g.editConfigModel.adjustEdge;return Object(de.g)("div",{className:"lf-graph","flow-id":g.flowId,style:L},Object(de.g)(WE,{graphModel:g,dnd:A},Object(de.g)("g",{className:"lf-base"},yl(g.sortElements,function(_e){return s.getComponent(_e,g)})),ee?this.getComponent(ee,g):""),Object(de.g)(AS,{graphModel:g},Object(de.g)(gS,{graphModel:g}),ie?Object(de.g)(wS,{graphModel:g}):"",E.snapline!==!1?Object(de.g)(cS,{snaplineModel:C}):""),Object(de.g)(XE,{graphModel:g,tool:b}),E.background&&Object(de.g)(JE,{background:E.background}),E.grid&&Object(de.g)(h0,Lv({},X,{graphModel:g})))}}],n&&MS(e.prototype,n),l}(de.a))||T0,DS=NS;function N0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(r){Ra(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ra(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var RS=function(){function t(r){var l=this;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),Ra(this,"nodeConfig",void 0),Ra(this,"lf",void 0),Ra(this,"fakerNode",void 0),Ra(this,"stopDrag",function(){l.nodeConfig=null,window.document.removeEventListener("mouseup",l.stopDrag)}),Ra(this,"dragEnter",function(p){l.nodeConfig&&!l.fakerNode&&(l.fakerNode=l.lf.createFakerNode(yh(yh({},l.nodeConfig),l.clientToLocalPoint({x:p.clientX,y:p.clientY}))))}),Ra(this,"onDragOver",function(p){if(p.preventDefault(),l.fakerNode){var g=l.clientToLocalPoint({x:p.clientX,y:p.clientY}),b=g.x,E=g.y;l.fakerNode.moveTo(b,E);var A=l.fakerNode.getData();l.lf.setNodeSnapLine(A),l.lf.graphModel.eventCenter.emit(vt.NODE_DND_DRAG,{data:A})}return!1}),Ra(this,"onDragLeave",function(){l.fakerNode&&(l.lf.removeNodeSnapLine(),l.lf.graphModel.removeFakerNode(),l.fakerNode=null)}),Ra(this,"onDrop",function(p){l.lf.graphModel&&p&&l.nodeConfig&&(l.lf.addNode(yh(yh({},l.nodeConfig),l.clientToLocalPoint({x:p.clientX,y:p.clientY})),vt.NODE_DND_ADD,p),p.preventDefault(),p.stopPropagation(),l.nodeConfig=null,l.lf.removeNodeSnapLine(),l.lf.graphModel.removeFakerNode(),l.fakerNode=null)});var s=r.lf;this.lf=s}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var l=r.x,s=r.y,p=uu(this.lf.options,["grid","size"]),g=this.lf.graphModel.getPointByClient({x:l,y:s}).canvasOverlayPosition,b=g.x,E=g.y;return{x:ea(b,p),y:ea(E,p)}}},{key:"startDrag",value:function(r){var l=this.lf.graphModel.editConfigModel;l!=null&&l.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&CS(e.prototype,n),t}();function D0(t){var e=t.container,n=t.grid,r=t.width,l=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof l=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=bs({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),bs({},R0,t)}var En,C0,R0={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Bv(t){return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function Fv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return I0(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return I0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L0(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function LS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cp(){return cp=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=BS(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},cp.apply(this,arguments)}function BS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Nu(t))!==null;);return t}function Uv(t,e){return Uv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uv(t,e)}function FS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nu(t);if(e){var l=Nu(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return US(this,n)}}function US(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gh(t)}function gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nu(t){return Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nu(t)}function z0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bi(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Wv=(En=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Uv(s,p)})(l,t);var e,n,r=FS(l);function l(){var s;LS(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return z0(gh(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.BEZIER_EDGE),IS(gh(s),"path",C0,gh(s)),s}return e=l,(n=[{key:"initEdgeData",value:function(s){this.offset=100,cp(Nu(l.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.bezier;return vh(vh({},cp(Nu(l.prototype),"getEdgeStyle",this).call(this)),xn(s))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var s=0,p=0;return this.pointsList.forEach(function(g){var b=g.x,E=g.y;s+=b,p+=E}),{x:s/this.pointsList.length,y:p/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var s=cp(Nu(l.prototype),"getData",this).call(this),p=this.pointsList.map(function(g){return{x:g.x,y:g.y}});return vh(vh({},s),{},{pointsList:p})}},{key:"getControls",value:function(){var s=this.startPoint,p=this.endPoint;return Ms({start:s,end:p,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(s){var p=Fv(s,4),g=p[0],b=p[1],E=p[2],A=p[3];return"M ".concat(g.x," ").concat(g.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(E.x," ").concat(E.y,`,
    `).concat(A.x," ").concat(A.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var s=this.getControls(),p=s.sNext,g=s.ePre;this.updatePath(p,g)}},{key:"updatePath",value:function(s,p){s=xn(s),p=xn(p);var g={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!s||!p){var E=this.getControls();s=E.sNext,p=E.ePre}this.pointsList=[g,s,p,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,p){this.startPoint.x+=s,this.startPoint.y+=p;var g=Fv(this.pointsList,3),b=g[1],E=g[2];b.x+=s,b.y+=p,this.updatePath(b,E)}},{key:"moveEndPoint",value:function(s,p){this.endPoint.x+=s,this.endPoint.y+=p;var g=Fv(this.pointsList,3),b=g[1],E=g[2];E.x+=s,E.y+=p,this.updatePath(b,E)}},{key:"updateAdjustAnchor",value:function(s,p){p==="sNext"?this.pointsList[1]=s:p==="ePre"&&(this.pointsList[2]=s),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var p=s.startPoint,g=s.endPoint,b=s.sourceNode,E=s.targetNode,A=Ms({start:p,end:g,sourceNode:b,targetNode:E,offset:this.offset}),C=A.sNext,L=A.ePre;this.pointsList=[p,C,L,g],this.initPoints()}}])&&zS(e.prototype,n),l}(Rf),C0=Bi(En.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bi(En.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"initPoints"),En.prototype),Bi(En.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updatePoints"),En.prototype),Bi(En.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateStartPoint"),En.prototype),Bi(En.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateEndPoint"),En.prototype),Bi(En.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"moveStartPoint"),En.prototype),Bi(En.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"moveEndPoint"),En.prototype),Bi(En.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateAdjustAnchor"),En.prototype),Bi(En.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"getAdjustStart"),En.prototype),Bi(En.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"getAdjustEnd"),En.prototype),Bi(En.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(En.prototype,"updateAfterAdjustStartAndEnd"),En.prototype),En),qe,B0,F0,U0,W0,G0,V0,$0,H0,X0,Y0,K0,q0,Z0,J0,Q0,e_,t_,n_,r_,o_,i_,a_,WS=function(t){return t==null};function GS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||u_(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gv(t){return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function u_(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s_(t,e):void 0}}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(n),!0).forEach(function(r){Po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function VS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zt(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Ia,c_,La=(qe=function(){function t(r,l){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Po(this,"id",""),dr(this,"type",B0,this),dr(this,"x",F0,this),dr(this,"y",U0,this),dr(this,"text",W0,this),dr(this,"properties",G0,this),dr(this,"_width",V0,this),dr(this,"_height",$0,this),dr(this,"anchorsOffset",H0,this),dr(this,"isSelected",X0,this),dr(this,"isHovered",Y0,this),dr(this,"isShowAnchor",K0,this),dr(this,"isDragging",q0,this),dr(this,"isHitable",Z0,this),dr(this,"draggable",J0,this),dr(this,"visible",Q0,this),dr(this,"enableRotate",e_,this),Po(this,"virtual",!1),Po(this,"graphModel",void 0),dr(this,"zIndex",t_,this),dr(this,"state",n_,this),dr(this,"autoToFront",r_,this),dr(this,"style",o_,this),dr(this,"transform",i_,this),dr(this,"_rotate",a_,this),Po(this,"BaseType",or.NODE),Po(this,"modelType",Qt.NODE),Po(this,"additionStateData",void 0),Po(this,"targetRules",[]),Po(this,"sourceRules",[]),Po(this,"moveRules",[]),Po(this,"hasSetTargetRules",!1),Po(this,"hasSetSourceRules",!1),this.graphModel=l,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var l=this.x,s=l===void 0?0:l,p=this.y,g=p===void 0?0:p;this.transform=new ku(-s,-g).rotate(r).translate(s,g).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var l=this.graphModel.idGenerator,s=l&&l(r.type),p=this.createId();r.id=p||s||Ni()}this.formatText(r),jr(this,function(g){return ji(g,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Vn.INCREASE&&(this.zIndex=r.zIndex||Df())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,l=r.x,s=r.y,p=r.value,g=this.properties;Object(h.x)(g)&&(g=Object(h.I)(g));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:g};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Vn.INCREASE&&(b.zIndex=this.zIndex),p&&(b.text={x:l,y:s,value:p}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return yo(yo({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return xn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return xn(r)}},{key:"getAnchorStyle",value:function(r){var l=this.graphModel.theme.anchor;return xn(l)}},{key:"getAnchorLineStyle",value:function(r){var l=this.graphModel.theme.anchorLine;return xn(l)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"isAllowConnectedAsSource",value:function(r,l,s,p){var g=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,E=!0,A=0;A<g.length;A++){var C=g[A];if(!C.validate.call(this,this,r,l,s,p)){E=!1,b=C.message;break}}return{isAllPass:E,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,l,s,p){var g=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,E=!0,A=0;A<g.length;A++){var C=g[A];if(!C.validate.call(this,r,this,l,s,p)){E=!1,b=C.message;break}}return{isAllPass:E,msg:b}}},{key:"isAllowMoveNode",value:function(r,l){var s,p=!0,g=!0,b=function(C,L){var X=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!X){if(Array.isArray(C)||(X=u_(C))||L){X&&(C=X);var ee=0,ie=function(){};return{s:ie,n:function(){return ee>=C.length?{done:!0}:{done:!1,value:C[ee++]}},e:function(Le){throw Le},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,be=!0,Se=!1;return{s:function(){X=X.call(C)},n:function(){var Le=X.next();return be=Le.done,Le},e:function(Le){Se=!0,_e=Le},f:function(){try{be||X.return==null||X.return()}finally{if(Se)throw _e}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(s=b.n()).done;){var E=(0,s.value)(this,r,l);if(!E)return!1;if(Gv(E)==="object"){var A=E;if(A.x===!1&&A.y===!1)return!1;p=p&&A.x,g=g&&A.y}}}catch(C){b.e(C)}finally{b.f()}return{x:p,y:g}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,l=this.id,s=this.x,p=this.y;return r&&r.length>0?r.map(function(g,b){return g.length?(g=g,{id:"".concat(l,"_").concat(b),x:s+g[0],y:p+g[1]}):yo(yo({},g=g),{},{x:s+g.x,y:p+g.y,id:g.id||"".concat(l,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(l,s){for(var p,g=Vl(s),b=Number.MAX_SAFE_INTEGER,E=0;E<g.length;E++){var A=Uo(l.x,l.y,g[E].x,g[E].y);A<b&&(b=A,p={index:E,anchor:Ul(Ul({},g[E]),{},{x:g[E].x,y:g[E].y,id:g[E].id})})}return p}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),l=this.x,s=this.y,p=this.rotate;return r.forEach(function(g){var b=g.x,E=g.y,A=GS(new ci([b,E,1]).translate(-l,-s).rotate(p).translate(l,s)[0],2),C=A[0],L=A[1];g.x=C,g.y=L}),r}},{key:"getAnchorInfo",value:function(r){if(!WS(r))for(var l=0;l<this.anchors.length;l++){var s=this.anchors[l];if(s.id===r)return s}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,l){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,g=!1;if(s)p=!0,g=!0;else{var b=this.isAllowMoveNode(r,l);typeof b=="boolean"?(p=b,g=b):(p=b.x,g=b.y)}if(p){var E=this.x+r;this.x=E,this.text&&this.moveText(r,0)}if(g){var A=this.y+l;this.y=A,this.text&&this.moveText(0,l)}return p||g}},{key:"getMoveDistance",value:function(r,l){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,g=!1,b=0,E=0;if(s)p=!0,g=!0;else{var A=this.isAllowMoveNode(r,l);typeof A=="boolean"?(p=A,g=A):(p=A.x,g=A.y)}if(p&&r){var C=this.x+r;this.x=C,this.text&&this.moveText(r,0),b=r}if(g&&l){var L=this.y+l;this.y=L,this.text&&this.moveText(0,l),E=l}return[b,E]}},{key:"moveTo",value:function(r,l){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=r-this.x,g=l-this.y;return!(!s&&!this.isAllowMoveNode(p,g)||(this.text&&this.text&&this.moveText(p,g),this.x=r,this.y=l,0))}},{key:"moveText",value:function(r,l){var s=this.text,p=s.x,g=s.y,b=s.value,E=s.draggable,A=s.editable;this.text={value:b,editable:A,draggable:E,x:p+r,y:g+l}}},{key:"updateText",value:function(r){this.text=yo(yo({},Object(h.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,l){this.state=r,this.additionStateData=l}},{key:"setProperty",value:function(r,l){this.properties=yo(yo({},Object(h.I)(this.properties)),{},Po({},r,Rr(l))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=yo(yo({},Object(h.I)(this.properties)),Rr(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,l){this.style=yo(yo({},this.style),{},Po({},r,Rr(l)))}},{key:"setStyles",value:function(r){this.style=yo(yo({},this.style),Rr(r))}},{key:"updateStyles",value:function(r){this.style=yo({},Rr(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){jr(this,r)}}],n&&VS(e.prototype,n),t}(),B0=Zt(qe.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F0=Zt(qe.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U0=Zt(qe.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W0=Zt(qe.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),G0=Zt(qe.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),V0=Zt(qe.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),$0=Zt(qe.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),H0=Zt(qe.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X0=Zt(qe.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y0=Zt(qe.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K0=Zt(qe.prototype,"isShowAnchor",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q0=Zt(qe.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z0=Zt(qe.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J0=Zt(qe.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Q0=Zt(qe.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e_=Zt(qe.prototype,"enableRotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t_=Zt(qe.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),n_=Zt(qe.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),r_=Zt(qe.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),o_=Zt(qe.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i_=Zt(qe.prototype,"transform",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a_=Zt(qe.prototype,"_rotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zt(qe.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(qe.prototype,"incoming"),qe.prototype),Zt(qe.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(qe.prototype,"outgoing"),qe.prototype),Zt(qe.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"addNodeMoveRules"),qe.prototype),Zt(qe.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"move"),qe.prototype),Zt(qe.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"getMoveDistance"),qe.prototype),Zt(qe.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"moveTo"),qe.prototype),Zt(qe.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"moveText"),qe.prototype),Zt(qe.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateText"),qe.prototype),Zt(qe.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setSelected"),qe.prototype),Zt(qe.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setHovered"),qe.prototype),Zt(qe.prototype,"setIsShowAnchor",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setIsShowAnchor"),qe.prototype),Zt(qe.prototype,"setEnableRotate",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setEnableRotate"),qe.prototype),Zt(qe.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setHitable"),qe.prototype),Zt(qe.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setElementState"),qe.prototype),Zt(qe.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setProperty"),qe.prototype),Zt(qe.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setProperties"),qe.prototype),Zt(qe.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"deleteProperty"),qe.prototype),Zt(qe.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setStyle"),qe.prototype),Zt(qe.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setStyles"),qe.prototype),Zt(qe.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateStyles"),qe.prototype),Zt(qe.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"setZIndex"),qe.prototype),Zt(qe.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateAttributes"),qe.prototype),qe);function Vv(t){return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(n),!0).forEach(function(r){d_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $S(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function HS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $v(){return $v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=YS(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},$v.apply(this,arguments)}function YS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=sc(t))!==null;);return t}function Hv(t,e){return Hv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hv(t,e)}function KS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(t);if(e){var l=sc(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return qS(this,n)}}function qS(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mh(t)}function mh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sc(t){return sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sc(t)}function d_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xv(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var oo,h_,y_,Yv=(Ia=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Hv(s,p)})(l,t);var e,n,r=KS(l);function l(){var s;HS(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return d_(mh(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.CIRCLE_NODE),$S(mh(s),"r",c_,mh(s)),s}return e=l,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var s=$v(sc(l.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.circle;return p_(p_({},s),xn(p))}},{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.r;return[{x:s,y:p-g,id:"".concat(this.id,"_0")},{x:s+g,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+g,id:"".concat(this.id,"_2")},{x:s-g,y:p,id:"".concat(this.id,"_3")}]}}])&&XS(e.prototype,n),l}(La),c_=Xv(Ia.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Xv(Ia.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Ia.prototype,"width"),Ia.prototype),Xv(Ia.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Ia.prototype,"height"),Ia.prototype),Ia);o(129);function Kv(t){return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function qv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return v_(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return v_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach(function(r){__(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ZS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zv(){return Zv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=QS(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},Zv.apply(this,arguments)}function QS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=cc(t))!==null;);return t}function Jv(t,e){return Jv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jv(t,e)}function ej(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cc(t);if(e){var l=cc(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return tj(this,n)}}function tj(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lc(t)}function lc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cc(t){return cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cc(t)}function __(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fc(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var sa,O_,w_,Qv=(oo=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Jv(s,p)})(l,t);var e,n,r=ej(l);function l(){var s;ZS(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return __(lc(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.DIAMOND_NODE),b_(lc(s),"rx",h_,lc(s)),b_(lc(s),"ry",y_,lc(s)),s}return e=l,(n=[{key:"getNodeStyle",value:function(){var s=Zv(cc(l.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.diamond;return m_(m_({},s),xn(p))}},{key:"points",get:function(){var s=this.x,p=this.y,g=this.rx,b=this.ry;return[[s,p-b],[s+g,p],[s,p+b],[s-g,p]]}},{key:"pointsPosition",get:function(){return this.points.map(function(s){return{x:s[0],y:s[1]}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=qv(g,1)[0];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=qv(g,2)[1];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"getDefaultAnchor",value:function(){var s=this;return this.points.map(function(p,g){var b=qv(p,2);return{x:b[0],y:b[1],id:"".concat(s.id,"_").concat(g)}})}}])&&JS(e.prototype,n),l}(La),h_=fc(oo.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),y_=fc(oo.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),fc(oo.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(oo.prototype,"points"),oo.prototype),fc(oo.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(oo.prototype,"pointsPosition"),oo.prototype),fc(oo.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(oo.prototype,"width"),oo.prototype),fc(oo.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(oo.prototype,"height"),oo.prototype),oo);function eg(t){return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function x_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function E_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(n),!0).forEach(function(r){j_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tg(){return tg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=oj(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},tg.apply(this,arguments)}function oj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=dc(t))!==null;);return t}function ng(t,e){return ng=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ng(t,e)}function ij(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(t);if(e){var l=dc(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return aj(this,n)}}function aj(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pc(t)}function pc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(t)}function j_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bh(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var pi,A_,rg=(sa=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&ng(s,p)})(l,t);var e,n,r=ij(l);function l(){var s;nj(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return j_(pc(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.ELLIPSE_NODE),S_(pc(s),"rx",O_,pc(s)),S_(pc(s),"ry",w_,pc(s)),s}return e=l,(n=[{key:"getNodeStyle",value:function(){var s=tg(dc(l.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.ellipse;return E_(E_({},s),xn(p))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.rx,b=this.ry;return[{x:s,y:p-b,id:"".concat(this.id,"_0")},{x:s+g,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b,id:"".concat(this.id,"_2")},{x:s-g,y:p,id:"".concat(this.id,"_3")}]}}])&&rj(e.prototype,n),l}(La),O_=bh(sa.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),w_=bh(sa.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),bh(sa.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(sa.prototype,"width"),sa.prototype),bh(sa.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(sa.prototype,"height"),sa.prototype),sa);function og(t){return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function ig(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return P_(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return P_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uj(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ag(){return ag=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=cj(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},ag.apply(this,arguments)}function cj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hc(t))!==null;);return t}function ug(t,e){return ug=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ug(t,e)}function fj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hc(t);if(e){var l=hc(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return pj(this,n)}}function pj(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _h(t)}function _h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(t)}function T_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oh(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var sg,N_,lg=(pi=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&ug(s,p)})(l,t);var e,n,r=fj(l);function l(){var s;sj(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return T_(_h(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.POLYGON_NODE),uj(_h(s),"points",A_,_h(s)),s}return e=l,(n=[{key:"getNodeStyle",value:function(){var s=ag(hc(l.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.polygon;return k_(k_({},s),xn(p))}},{key:"pointsPosition",get:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return this.points.map(function(E){return{x:E[0]+s-g/2,y:E[1]+p-b/2}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=ig(g,1)[0];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=ig(g,2)[1];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"getDefaultAnchor",value:function(){var s=this,p=this.x,g=this.y,b=this.width,E=this.height;return this.points.map(function(A,C){var L=ig(A,2),X=L[0],ee=L[1];return{x:p+X-b/2,y:g+ee-E/2,id:"".concat(s.id,"_").concat(C)}})}}])&&lj(e.prototype,n),l}(La),A_=Oh(pi.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Oh(pi.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(pi.prototype,"pointsPosition"),pi.prototype),Oh(pi.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(pi.prototype,"width"),pi.prototype),Oh(pi.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(pi.prototype,"height"),pi.prototype),pi);function cg(t){return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){R_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dj(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fg(){return fg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=vj(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},fg.apply(this,arguments)}function vj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=yc(t))!==null;);return t}function pg(t,e){return pg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pg(t,e)}function gj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yc(t);if(e){var l=yc(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wh(t)}function wh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yc(t){return yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yc(t)}function R_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Du,dg=(sg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&pg(s,p)})(l,t);var e,n,r=gj(l);function l(){var s;hj(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return R_(wh(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.RECT_NODE),dj(wh(s),"radius",N_,wh(s)),s}return e=l,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return[{x:s,y:p-b/2,id:"".concat(this.id,"_0")},{x:s+g/2,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b/2,id:"".concat(this.id,"_2")},{x:s-g/2,y:p,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var s=fg(yc(l.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.rect;return C_(C_({},s),xn(p))}}])&&yj(e.prototype,n),l}(La),N_=function(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}(sg.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sg);function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function L_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){B_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yg(){return yg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Oj(t,e);if(r){var l=Object.getOwnPropertyDescriptor(r,e);return l.get?l.get.call(arguments.length<3?t:n):l.value}},yg.apply(this,arguments)}function Oj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=vc(t))!==null;);return t}function vg(t,e){return vg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vg(t,e)}function wj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vc(t);if(e){var l=vc(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return xj(this,n)}}function xj(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_(t)}function z_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(t)}function B_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var gg=(Du=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&vg(s,p)})(l,t);var e,n,r=wj(l);function l(){var s;bj(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return B_(z_(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.TEXT_NODE),s}return e=l,(n=[{key:"getTextStyle",value:function(){var s=yg(vc(l.prototype),"getTextStyle",this).call(this),p=this.graphModel.theme.text;return L_(L_({},s),xn(p))}},{key:"width",get:function(){var s=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return js({rows:s,fontSize:p,rowsLength:s.length}).width}},{key:"height",get:function(){var s=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return js({rows:s,fontSize:p,rowsLength:s.length}).height}}])&&_j(e.prototype,n),l}(La),F_(Du.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Du.prototype,"width"),Du.prototype),F_(Du.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Du.prototype,"height"),Du.prototype),Du);function mg(t){return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function Ej(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bg(t,e){return bg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bg(t,e)}function jj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xh(t);if(e){var l=xh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return Aj(this,n)}}function Aj(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U_(t)}function U_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xh(t)}function Pj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fi,W_,G_,V_,_g=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&bg(s,p)})(l,t);var e,n,r=jj(l);function l(){var s;Ej(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Pj(U_(s=r.call.apply(r,[this].concat(g))),"modelType",Qt.HTML_NODE),s}return e=l,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return[{x:s,y:p-b/2,id:"".concat(this.id,"_0")},{x:s+g/2,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b/2,id:"".concat(this.id,"_2")},{x:s-g/2,y:p,id:"".concat(this.id,"_3")}]}}])&&Sj(e.prototype,n),l}(La);function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Og(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fp(t,e,n,r,l){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),l&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var X_=(Fi=function(){function t(r){(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),H_(this,"graphModel",void 0),Og(this,"isShowHorizontal",W_,this),Og(this,"isShowVertical",G_,this),Og(this,"position",V_,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?$_(Object(s),!0).forEach(function(p){H_(r,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):$_(Object(s)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(s,p))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,l){for(var s=r.x,p=r.y,g=!1,b=!1,E=0;E<l.length;E++){var A=l[E];if(A.id!==r.id&&(s===A.x&&(g=!0),p===A.y&&(b=!0),g&&b))break}return{isShowVertical:g,isShowHorizontal:b,position:{x:s,y:p}}}},{key:"getHorizontalSnapline",value:function(r,l){var s,p,g=!1,b=r.id;if(b){var E=this.graphModel.fakerNode;if(E&&E.id===b)p=$n(E);else{var A=this.graphModel.getNodeModelById(b);p=$n(A)}}for(var C=0;C<l.length;C++){var L=l[C];if(L.id!==r.id){var X=$n(L);if(X.minY===p.minY||X.maxY===p.minY){g=!0,s=p.minY;break}if(X.minY===p.maxY||X.maxY===p.maxY){g=!0,s=p.maxY;break}}}return jr({isShowHorizontal:g,position:{y:s}})}},{key:"getVerticalSnapline",value:function(r,l){var s,p,g=!1,b=r.id;if(b){var E=this.graphModel.fakerNode;if(E&&E.id===b)p=$n(E);else{var A=this.graphModel.getNodeModelById(b);p=$n(A)}}for(var C=0;C<l.length;C++){var L=l[C];if(L.id!==r.id){var X=$n(L);if(X.minX===p.minX||X.maxX===p.minX){g=!0,s=p.minX;break}if(X.minX===p.maxX||X.maxX===p.maxX){g=!0,s=p.maxX;break}}}return jr({isShowVertical:g,position:{x:s}})}},{key:"getSnapLinePosition",value:function(r,l){var s=this.getCenterSnapLine(r,l),p=s.isShowHorizontal,g=s.isShowVertical;if(!p){var b=this.getHorizontalSnapline(r,l);b.isShowHorizontal&&(s.isShowHorizontal=b.isShowHorizontal,s.position.y=b.position.y)}if(!g){var E=this.getVerticalSnapline(r,l);E.isShowVertical&&(s.isShowVertical=E.isShowVertical,s.position.x=E.position.x)}return s}},{key:"setSnaplineInfo",value:function(r){var l=r.isShowHorizontal,s=r.isShowVertical,p=r.position;this.position=p,this.isShowHorizontal=l,this.isShowVertical=s}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var l=this.graphModel.nodes,s=this.getSnapLinePosition(r,l);this.setSnaplineInfo(s)}}],n&&Mj(e.prototype,n),t}(),W_=fp(Fi.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G_=fp(Fi.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V_=fp(Fi.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fp(Fi.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(Fi.prototype,"clearSnapline"),Fi.prototype),fp(Fi.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(Fi.prototype,"setNodeSnapLine"),Fi.prototype),Fi),pp=new Map,Y_=function(t){var e=Ni(),n=window.requestAnimationFrame(function r(){if(t(),pp.get(e)){var l=window.requestAnimationFrame(r);pp.set(e,l)}});return pp.set(e,n),e},Eh=function(t){var e=pp.get(t);e&&(window.cancelAnimationFrame(e),pp.delete(t))};function wg(t){return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function dp(){return dp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(this,arguments)}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return q_(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return q_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xg(t,e){return xg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xg(t,e)}function Nj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sh(t);if(e){var l=Sh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return Dj(this,n)}}function Dj(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}function ca(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cj=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&xg(s,p)})(l,t);var e,n,r=Nj(l);function l(){var s;return function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}(this,l),ca(la(s=r.call(this)),"preTargetNode",void 0),ca(la(s),"sourceRuleResults",void 0),ca(la(s),"targetRuleResults",void 0),ca(la(s),"dragHandler",void 0),ca(la(s),"t",void 0),ca(la(s),"onDragStart",function(p){var g=p.event,b=s.props,E=b.anchorData,A=b.nodeModel,C=b.graphModel;C.overlapMode,C.selectNodeById(A.id),A.autoToFront&&C.toFront(A.id),C.eventCenter.emit(vt.ANCHOR_DRAGSTART,{data:E,e:g,nodeModel:A}),s.setState({startX:E.x,startY:E.y,endX:E.x,endY:E.y})}),ca(la(s),"onDragging",function(p){var g=p.event,b=s.props,E=b.graphModel,A=b.nodeModel,C=b.anchorData,L=E.transformModel,X=E.eventCenter,ee=E.width,ie=E.height,_e=E.editConfigModel,be=_e.autoExpand,Se=_e.stopMoveGraph,Le=g.clientX,nt=g.clientY,tt=E.getPointByClient({x:Le,y:nt}),xt=tt.domOverlayPosition,et=xt.x,mt=xt.y,at=tt.canvasOverlayPosition,rn=at.x,ln=at.y;s.t&&Eh(s.t);var Lt=[];et<10?Lt=[10,0]:et+10>ee?Lt=[-10,0]:mt<10?Lt=[0,10]:mt+10>ie&&(Lt=[0,-10]),s.setState({endX:rn,endY:ln,dragging:!0}),s.moveAnchorEnd(rn,ln),Lt.length>0&&!Se&&be&&(s.t=Y_(function(){var yn=kj(Lt,2),ar=yn[0],ur=yn[1];L.translate(ar,ur);var Kr=s.state,Ho=Kr.endX,Xo=Kr.endY;s.setState({endX:Ho-ar,endY:Xo-ur}),s.moveAnchorEnd(Ho-ar,Xo-ur)})),X.emit(vt.ANCHOR_DRAG,{data:C,e:g,nodeModel:A})}),ca(la(s),"onDragEnd",function(p){var g=p.event;s.t&&Eh(s.t);var b=s.checkEnd(g);s.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),s.sourceRuleResults.clear(),s.targetRuleResults.clear();var E=s.props,A=E.graphModel,C=E.nodeModel,L=E.anchorData;A.eventCenter.emit(vt.ANCHOR_DRAGEND,{data:L,e:g,nodeModel:C,edgeModel:b})}),ca(la(s),"checkEnd",function(p){var g=s.props,b=g.graphModel,E=g.nodeModel,A=g.anchorData,C=A.x,L=A.y,X=A.id,ee=(b.edgeType,s.state),ie=ee.endX,_e=ee.endY,be=ee.dragging,Se=Ss({x:ie,y:_e},b);if(s.preTargetNode&&s.preTargetNode.state!==On.DEFAULT&&s.preTargetNode.setElementState(On.DEFAULT),be&&Se&&Se.node){var Le=Se.node,nt=Se.anchor.id,tt="".concat(E.id,"_").concat(Le.id,"_").concat(nt,"_").concat(X),xt=s.sourceRuleResults.get(tt)||{},et=xt.isAllPass,mt=xt.msg,at=s.targetRuleResults.get(tt)||{},rn=at.isAllPass,ln=at.msg;if(et&&rn){Le.setElementState(On.DEFAULT);var Lt=b.edgeGenerator(E.getData(),b.getNodeModelById(Se.node.id).getData()),yn=b.addEdge(hp(hp({},Lt),{},{sourceNodeId:E.id,sourceAnchorId:X,startPoint:{x:C,y:L},targetNodeId:Se.node.id,targetAnchorId:Se.anchor.id,endPoint:{x:Se.anchor.x,y:Se.anchor.y}})),ar=s.props.anchorData;return b.eventCenter.emit(vt.ANCHOR_DROP,{data:ar,e:p,nodeModel:E,edgeModel:yn}),yn}var ur=Le.getData();return b.eventCenter.emit(vt.CONNECTION_NOT_ALLOWED,{data:ur,msg:ln||mt||"不允许添加连线"}),null}}),s.sourceRuleResults=new Map,s.targetRuleResults=new Map,s.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},s.dragHandler=new Ao({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd}),s}return e=l,(n=[{key:"getAnchorShape",value:function(){var s=this.props,p=s.anchorData,g=s.style,b=s.node.getAnchorShape(p);if(b)return b;var E=p.x,A=p.y,C=hp(hp({},g),g.hover);return Object(de.g)("g",null,Object(de.g)(uc,dp({className:"lf-node-anchor-hover"},C,{x:E,y:A})),Object(de.g)(uc,dp({className:"lf-node-anchor"},g,{x:E,y:A})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var s=this.props,p=s.graphModel,g=p.getAnchorIncomingEdge,b=p.getAnchorOutcomingEdge,E=s.anchorData.id;return{incomingEdgeList:g(E),outcomingEdgeList:b(E)}}},{key:"moveAnchorEnd",value:function(s,p){var g=this.props,b=g.graphModel,E=g.nodeModel,A=g.anchorData,C=Ss({x:s,y:p},b);if(C){var L=C.node,X=C.anchor.id;if(this.preTargetNode&&this.preTargetNode!==C.node&&this.preTargetNode.setElementState(On.DEFAULT),A.id===X)return;this.preTargetNode=L;var ee="".concat(E.id,"_").concat(L.id,"_").concat(X,"_").concat(A.id);if(!this.targetRuleResults.has(ee)){var ie=C.anchor,_e=E.isAllowConnectedAsSource(L,A,ie),be=L.isAllowConnectedAsTarget(E,A,ie);this.sourceRuleResults.set(ee,Ou(_e)),this.targetRuleResults.set(ee,Ou(be))}var Se=this.sourceRuleResults.get(ee).isAllPass,Le=this.targetRuleResults.get(ee).isAllPass;Se&&Le?L.setElementState(On.ALLOW_CONNECT):L.setElementState(On.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==On.DEFAULT&&this.preTargetNode.setElementState(On.DEFAULT)}},{key:"isShowLine",value:function(){var s=this.state,p=s.startX,g=s.startY,b=s.endX,E=s.endY;return Uo(p,g,b,E)>10}},{key:"render",value:function(){var s=this,p=this.state,g=p.startX,b=p.startY,E=p.endX,A=p.endY,C=this.props,L=C.anchorData.edgeAddable,X=C.edgeStyle;return Object(de.g)("g",{className:"lf-anchor"},Object(de.g)("g",{onMouseDown:function(ee){L!==!1&&s.dragHandler.handleMouseDown(ee)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(hp({sourcePoint:{x:g,y:b},targetPoint:{x:E,y:A}},X)):Object(de.g)(ic,dp({x1:g,y1:b,x2:E,y2:A},X,{"pointer-events":"none"}))))}}])&&Tj(e.prototype,n),l}(de.a);function Z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(n),!0).forEach(function(r){Ij(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ij(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eg(t){return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function Lj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return J_(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return J_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q_(t){var e=t.x,n=e===void 0?0:e,r=t.y,l=r===void 0?0:r,s=t.value,p=t.fontSize,g=t.fill,b=g===void 0?"currentColor":g,E=t.overflowMode,A=E===void 0?"default":E,C=t.textWidth,L=C===void 0?"":C,X=t.model,ee={textAnchor:"middle","dominant-baseline":"middle",x:n,y:l,fill:b};if(Object.entries(t).forEach(function(nt){var tt=Lj(nt,2),xt=tt[0],et=tt[1];Eg(et)!=="object"&&(ee[xt]=et)}),s){var ie=String(s).split(/[\r\n]/g),_e=ie.length;if(A!=="default"){var be=X.BaseType,Se=X.modelType;if(be===or.NODE&&Se!==Qt.TEXT_NODE||be===or.EDGE&&L)return function(nt){var tt=nt.value,xt=nt.fontSize,et=nt.model,mt=nt.fontFamily,at=mt===void 0?"":mt,rn=nt.lineHeight,ln=nt.wrapPadding,Lt=ln===void 0?"0, 0":ln,yn=nt.overflowMode,ar=nt.x,ur=nt.y,Kr=et.width,Ho=et.textHeight,Xo=nt.textWidth||Kr,da=String(tt).split(/[\r\n]/g),Xs=da.length,qh=Cd({rows:da,style:{fontSize:"".concat(xt,"px"),width:"".concat(Xo,"px"),fontFamily:at,lineHeight:rn,padding:Lt},rowsLength:Xs,className:"lf-get-text-height"}),Ys=et.height>qh?et.height:qh;Ho&&(Ys=Ho);var Iu=yn==="ellipsis";return Iu&&(Ys=xt+2),Object(de.g)("g",null,Object(de.g)("foreignObject",{width:Xo,height:Ys,x:ar-Xo/2,y:ur-Ys/2},Object(de.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ys,width:Xo,padding:Lt}},Object(de.g)("div",{className:Iu?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Iu?da.join(""):"",style:Rj({},nt)},da.map(function(Lu){return Object(de.g)("div",{className:"lf-node-text--auto-wrap-inner"},Lu)})))))}(t)}if(_e>1){var Le=ie.map(function(nt,tt){var xt=(tt-(_e-1)/2)*(p+2);return Object(de.g)("tspan",{className:"lf-text-tspan",x:n,y:l+xt},nt)});return Object(de.g)("text",ee,Le)}return Object(de.g)("text",ee,s)}}function Sg(t){return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function jg(){return jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function zj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return e1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return e1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ag(t,e){return Ag=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ag(t,e)}function Fj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jh(t);if(e){var l=jh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return Uj(this,n)}}function Uj(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cu(t)}function Cu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}function Gs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var t1=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Ag(s,p)})(l,t);var e,n,r=Fj(l);function l(s){var p;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,l),Gs(Cu(p=r.call(this)),"dragHandler",void 0),Gs(Cu(p),"sumDeltaX",0),Gs(Cu(p),"sumDeltaY",0),Gs(Cu(p),"stepDrag",void 0),Gs(Cu(p),"onDragging",function(b){var E=b.deltaX,A=b.deltaY,C=p.props,L=C.model,X=zj(C.graphModel.transformModel.fixDeltaXY(E,A),2),ee=X[0],ie=X[1];L.moveText(ee,ie)}),Gs(Cu(p),"dblClickHandler",function(){p.props.editable&&p.props.model.setElementState(On.TEXT_EDIT)}),Gs(Cu(p),"mouseDownHandle",function(b){var E=p.props,A=E.draggable,C=E.model,L=E.graphModel.editConfigModel.nodeTextDraggable;(A||L)&&(p.stepDrag.model=C,p.stepDrag.handleMouseDown(b))}),s.model;var g=s.draggable;return p.stepDrag=new Ao({onDragging:p.onDragging,step:1,isStopPropagation:g}),p}return e=l,(n=[{key:"getShape",value:function(){var s=this.props,p=s.model,g=s.graphModel,b=p.text,E=g.editConfigModel,A=b.value,C=b.x,L=b.y,X=b.editable,ee=b.draggable,ie={x:C,y:L,className:"",value:A};X?ie.className="lf-element-text":ee||E.nodeTextDraggable?ie.className="lf-text-draggable":ie.className="lf-text-disabled";var _e=p.getTextStyle();return Object(de.g)(Q_,jg({},ie,_e,{model:p}))}},{key:"render",value:function(){if(this.props.model.text)return Object(de.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Bj(e.prototype,n),l}(de.a),Wj=uu(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,n1=o(130);function Pg(t){return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function Mg(){return Mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function Gj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kg(t,e){return kg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kg(t,e)}function Vj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ah(t);if(e){var l=Ah(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return $j(this,n)}}function $j(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gc(t)}function gc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(t)}function yp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hj=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&kg(s,p)})(l,t);var e,n,r=Vj(l);function l(s){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,l),yp(gc(p=r.call(this,s)),"style",{}),yp(gc(p),"defaultAngle",void 0),yp(gc(p),"normal",void 0),yp(gc(p),"stepperDrag",void 0),yp(gc(p),"onDragging",function(g){var b,E=g.event,A=p.props,C=A.graphModel,L=A.nodeModel,X=A.eventCenter,ee=C.selectNodes,ie=L.x,_e=L.y,be=E.clientX,Se=E.clientY,Le=C.getPointByClient({x:be,y:Se}).canvasOverlayPosition,nt=Le.x,tt=Le.y,xt=new Sr(nt-ie,tt-_e),et=((b=p.normal)===null||b===void 0?void 0:b.angle(xt))-p.defaultAngle,mt=new ku(-ie,-_e).rotate(et).translate(ie,_e).toString();L.transform=mt,L.rotate=et;var at=Object(n1.map)(ee,function(ln){return ln.id});at.indexOf(L.id)===-1&&(at=[L.id]);var rn=Object(n1.reduce)(at,function(ln,Lt){var yn=C.getNodeModelById(Lt);return ln[Lt]=yn==null?void 0:yn.getMoveDistance(0,0,!1),ln},{});at.forEach(function(ln){C.getNodeEdges(ln).forEach(function(Lt){if(rn[Lt.sourceNodeId]){var yn=C.getNodeModelById(Lt.sourceNodeId).anchors.find(function(ur){return ur.id===Lt.sourceAnchorId});Lt.updateStartPoint(yn)}if(rn[Lt.targetNodeId]){var ar=C.getNodeModelById(Lt.targetNodeId).anchors.find(function(ur){return ur.id===Lt.targetAnchorId});Lt.updateEndPoint(ar)}})}),X.emit(vt.NODE_ROTATE,{e:E,nodeModel:L})}),p.style=s.style,p.stepperDrag=new Ao({onDragging:p.onDragging}),p}return e=l,(n=[{key:"render",value:function(){var s=this,p=this.props.nodeModel,g=p.x,b=p.y,E=g+p.width/2+20,A=b-p.height/2-20;return this.normal=new Sr(1,0),this.defaultAngle=this.normal.angle(new Sr(E-g,A-b)),p.defaultAngle=this.defaultAngle,Object(de.g)("g",{className:"lf-rotate-control"},Object(de.g)("g",{onMouseDown:function(C){s.stepperDrag.handleMouseDown(C)}},Object(de.g)(uc,Mg({},this.style,{cx:E,cy:A}))))}}])&&Gj(e.prototype,n),l}(de.a);function Tg(t){return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}var Xj=["className"];function Ph(){return Ph=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}function Yj(t,e){if(t==null)return{};var n,r,l=function(p,g){if(p==null)return{};var b,E,A={},C=Object.keys(p);for(E=0;E<C.length;E++)b=C[E],g.indexOf(b)>=0||(A[b]=p[b]);return A}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function Mh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return r1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return r1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ng(t,e){return Ng=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ng(t,e)}function Kj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=kh(t);if(e){var l=kh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return qj(this,n)}}function qj(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(t)}function Pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kh(t)}function zr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var za=function(t){(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&Ng(p,g)})(s,t);var e,n,r,l=Kj(s);function s(p){var g;(function(L,X){if(!(L instanceof X))throw new TypeError("Cannot call a class as a function")})(this,s),zr(Pr(g=l.call(this)),"t",void 0),zr(Pr(g),"moveOffset",void 0),zr(Pr(g),"stepDrag",void 0),zr(Pr(g),"contextMenuTime",void 0),zr(Pr(g),"mouseUpDrag",void 0),zr(Pr(g),"startTime",void 0),zr(Pr(g),"clickTimer",void 0),zr(Pr(g),"modelDisposer",void 0),zr(Pr(g),"onDragStart",function(L){var X=L.event,ee=X.clientX,ie=X.clientY,_e=g.props,be=_e.model,Se=_e.graphModel.getPointByClient({x:ee,y:ie}).canvasOverlayPosition,Le=Se.x,nt=Se.y;g.moveOffset={x:be.x-Le,y:be.y-nt}}),zr(Pr(g),"onDragging",function(L){var X=L.event,ee=g.props,ie=ee.model,_e=ee.graphModel,be=_e.editConfigModel,Se=be.stopMoveGraph,Le=be.autoExpand,nt=_e.transformModel,tt=_e.selectNodes,xt=_e.width,et=_e.height,mt=_e.gridSize;ie.isDragging=!0;var at=X.clientX,rn=X.clientY,ln=_e.getPointByClient({x:at,y:rn}).canvasOverlayPosition,Lt=ln.x,yn=ln.y,ar=Mh(nt.CanvasPointToHtmlPoint([Lt,yn]),2),ur=ar[0],Kr=ar[1];if(Lt+=g.moveOffset.x,yn+=g.moveOffset.y,Lt=ea(Lt,mt),yn=ea(yn,mt),xt&&et){if(!Le||Se||!(ur<0||Kr<0||ur>xt||Kr>et)){var Ho=Mh(nt.CanvasPointToHtmlPoint([Lt-ie.width/2,yn-ie.height/2]),2),Xo=Ho[0],da=Ho[1],Xs=Mh(nt.CanvasPointToHtmlPoint([Lt+ie.width/2,yn+ie.height/2]),2),qh=Xs[0],Ys=Xs[1],Iu=Math.max(mt,20),Lu=[];Xo<0?Lu=[Iu,0]:qh>_e.width?Lu=[-Iu,0]:da<0?Lu=[0,Iu]:Ys>_e.height&&(Lu=[0,-Iu]),g.t&&Eh(g.t);var DP=new ku(-Lt,-yn).rotate(ie.rotate).translate(Lt,yn).toString();ie.transform=DP;var Zh=tt.map(function(Jh){return Jh.id});Zh.indexOf(ie.id)===-1&&(Zh=[ie.id]),Lu.length>0&&!Se&&Le?g.t=Y_(function(){var Jh=Mh(Lu,2),z1=Jh[0],B1=Jh[1];nt.translate(z1,B1);var CP=-z1/nt.SCALE_X,RP=-B1/nt.SCALE_X;_e.moveNodes(Zh,CP,RP)}):_e.moveNodes(Zh,Lt-ie.x,yn-ie.y)}}else _e.moveNode2Coordinate(ie.id,Lt,yn)}),zr(Pr(g),"onDragEnd",function(){g.t&&Eh(g.t),g.props.model.isDragging=!1}),zr(Pr(g),"handleMouseUp",function(){var L=g.props.model;g.mouseUpDrag=L.isDragging}),zr(Pr(g),"handleClick",function(L){var X=g.mouseUpDrag===!1;if(g.startTime){var ee=g.props,ie=ee.model,_e=ee.graphModel;if(X){var be={data:ie.getData(),e:L,position:_e.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},Se=L.button===2,Le=L.detail===2;if(!Se){var nt=_e.editConfigModel,tt=xs(L,nt);be.isMultiple=tt,ie.isSelected&&!Le&&tt?(be.isSelected=!1,ie.setSelected(!1)):(_e.selectNodeById(ie.id,tt),be.isSelected=!0,g.toFront()),Le?(nt.nodeTextEdit&&ie.text.editable&&(ie.setSelected(!1),_e.setElementStateById(ie.id,On.TEXT_EDIT)),_e.eventCenter.emit(vt.NODE_DBCLICK,be)):(_e.eventCenter.emit(vt.ELEMENT_CLICK,be),_e.eventCenter.emit(vt.NODE_CLICK,be))}}}}),zr(Pr(g),"handleContextMenu",function(L){L.preventDefault();var X=g.props,ee=X.model,ie=X.graphModel,_e=ee.getData(),be=ie.getPointByClient({x:L.clientX,y:L.clientY});ie.setElementStateById(ee.id,On.SHOW_MENU,be.domOverlayPosition),ee.isSelected||ie.selectNodeById(ee.id),ie.eventCenter.emit(vt.NODE_CONTEXTMENU,{data:_e,e:L,position:be}),g.toFront()}),zr(Pr(g),"handleMouseDown",function(L){var X=g.props,ee=X.model,ie=X.graphModel;g.startTime=new Date().getTime(),ie.editConfigModel.adjustNodePosition&&ee.draggable&&g.stepDrag&&g.stepDrag.handleMouseDown(L)}),zr(Pr(g),"setHoverON",function(L){var X=g.props,ee=X.model,ie=X.graphModel;if(!ee.isHovered){var _e=ee.getData();ee.setHovered(!0),ie.eventCenter.emit(vt.NODE_MOUSEENTER,{data:_e,e:L})}}),zr(Pr(g),"setHoverOFF",function(L){var X=g.props,ee=X.model,ie=X.graphModel,_e=ee.getData();ee.isHovered&&(ee.setHovered(!1),ie.eventCenter.emit(vt.NODE_MOUSELEAVE,{data:_e,e:L}))}),zr(Pr(g),"onMouseOut",function(L){Wj&&g.setHoverOFF(L)});var b=p.graphModel,E=b.gridSize,A=b.eventCenter,C=p.model;return g.stepDrag=new Ao({onDragStart:g.onDragStart,onDragging:g.onDragging,onDragEnd:g.onDragEnd,step:E,eventType:"NODE",isStopPropagation:!1,eventCenter:A,model:C}),g.modelDisposer=Object(h.F)(function(){return g.props},function(L){L&&L.model&&g.stepDrag.setModel(L.model)}),g}return e=s,r=[{key:"getModel",value:function(p){return p}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(p){return null}},{key:"getAnchors",value:function(){var p=this,g=this.props,b=g.model,E=g.graphModel,A=b.isSelected,C=b.isHitable,L=b.isDragging,X=b.isShowAnchor;return C&&(A||X)&&!L?yl(b.anchors,function(ee,ie){var _e=b.getAnchorLineStyle(ee),be=b.getAnchorStyle(ee);return Object(de.g)(Cj,{anchorData:ee,node:p,style:be,edgeStyle:_e,anchorIndex:ie,nodeModel:b,graphModel:E,setHoverOFF:p.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var p=this.props,g=p.model,b=p.graphModel,E=g.isSelected,A=g.isHitable,C=g.enableRotate,L=g.isHovered,X=g.getRotateControlStyle().style;if(A&&(E||L)&&C)return Object(de.g)(Hj,{graphModel:b,nodeModel:g,eventCenter:b.eventCenter,style:X})}},{key:"getText",value:function(){var p=this.props,g=p.model,b=p.graphModel;if(g.state===On.TEXT_EDIT)return"";if(g.text){var E=b.editConfigModel,A=!1;return(g.text.draggable||E.nodeTextDraggable)&&(A=!0),Object(de.g)(t1,{editable:E.nodeTextEdit&&g.text.editable,model:g,graphModel:b,draggable:A})}}},{key:"getStateClassName",value:function(){var p=this.props.model,g=p.state,b=p.isDragging,E=p.isSelected,A="lf-node";switch(g){case On.ALLOW_CONNECT:A+=" lf-node-allow";break;case On.NOT_ALLOW_CONNECT:A+=" lf-node-not-allow";break;default:A+=" lf-node-default"}return b&&(A+=" lf-isDragging"),E&&(A+=" lf-node-selected"),A}},{key:"toFront",value:function(){var p=this.props,g=p.model,b=p.graphModel;g.autoToFront&&b.toFront(g.id)}},{key:"render",value:function(){var p,g=this.props,b=g.model,E=g.graphModel,A=E.editConfigModel,C=A.hideAnchors,L=A.adjustNodePosition,X=A.allowRotation,ee=E.gridSize,ie=E.transformModel.SCALE_X,_e=b.isHitable,be=b.draggable,Se=b.transform,Le=b.getOuterGAttributes(),nt=Le.className,tt=nt===void 0?"":nt,xt=Yj(Le,Xj),et=Object(de.g)("g",{className:"lf-node-content"},Object(de.g)("g",{transform:Se},this.getShape(),this.getText(),X&&this.getRotateControl()),!C&&this.getAnchors());return _e?(L&&be&&this.stepDrag.setStep(ee*ie),p=Object(de.g)("g",Ph({className:"".concat(this.getStateClassName()," ").concat(tt),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},xt),et)):p=Object(de.g)("g",Ph({className:"".concat(this.getStateClassName()," ").concat(tt)},xt),et),p}}])&&o1(e.prototype,n),r&&o1(e,r),s}(de.a);function Dg(t){return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function Cg(){return Cg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function Zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rg(t,e){return Rg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rg(t,e)}function Qj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Th(t);if(e){var l=Th(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return eA(this,n)}}function eA(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Th(t)}var Ig=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Rg(s,p)})(l,t);var e,n,r=Qj(l);function l(){return Zj(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(de.g)(Tu,Cg({},p,{x:s.x,y:s.y,width:s.width,height:s.height,radius:s.radius}))}}])&&Jj(e.prototype,n),l}(za);function Lg(t){return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function zg(){return zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function tA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bg(t,e){return Bg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bg(t,e)}function rA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nh(t);if(e){var l=Nh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return oA(this,n)}}function oA(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nh(t)}var Fg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Bg(s,p)})(l,t);var e,n,r=rA(l);function l(){return tA(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.r,E=s.getNodeStyle();return Object(de.g)(uc,zg({},E,{x:p,y:g,r:b}))}}])&&nA(e.prototype,n),l}(za);function Ug(t){return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function iA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return i1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return i1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a1(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(l){var s=iA(l,2),p=s[0],g=s[1];Ug(g)!=="object"&&(r[p]=g)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(l){return l.join(",")}).join(" "),Object(de.g)("polygon",r)}function Wg(t){return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function Gg(){return Gg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function aA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vg(t,e){return Vg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vg(t,e)}function sA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Dh(t);if(e){var l=Dh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return lA(this,n)}}function lA(t,e){if(e&&(Wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dh(t)}var $g=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Vg(s,p)})(l,t);var e,n,r=sA(l);function l(){return aA(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.width,E=s.height,A=s.points,C=s.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(p-b/2," ").concat(g-E/2,")")};return Object(de.g)("g",L,Object(de.g)(a1,Gg({},C,{points:A,x:p,y:g})))}}])&&uA(e.prototype,n),l}(za);function Hg(t){return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function cA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yg(t,e){return Yg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Yg(t,e)}function pA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ch(t);if(e){var l=Ch(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return dA(this,n)}}function dA(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(t)}var Kg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Yg(s,p)})(l,t);var e,n,r=pA(l);function l(){return cA(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(de.g)("g",null,Object(de.g)(a1,Xg({},p,{points:s.points,x:s.x,y:s.y})))}}])&&fA(e.prototype,n),l}(za);function qg(t){return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function hA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return u1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return u1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yA(t){var e=t.x,n=e===void 0?0:e,r=t.y,l=r===void 0?0:r,s=t.rx,p=s===void 0?4:s,g=t.ry,b=g===void 0?4:g,E=t.className,A={cx:n,cy:l,rx:p,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(C){var L=hA(C,2),X=L[0],ee=L[1];qg(ee)!=="object"&&(A[X]=ee)}),A.className=E?"lf-basic-shape ".concat(E):"lf-basic-shape",Object(de.g)("ellipse",A)}function Zg(t){return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function vA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qg(t,e){return Qg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qg(t,e)}function mA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rh(t);if(e){var l=Rh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return bA(this,n)}}function bA(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rh(t)}var em=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Qg(s,p)})(l,t);var e,n,r=mA(l);function l(){return vA(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(de.g)(yA,Jg({},p,{x:s.x,y:s.y,rx:s.rx,ry:s.ry}))}}])&&gA(e.prototype,n),l}(za);function tm(t){return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){_A(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nm(t,e){return nm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nm(t,e)}function xA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ih(t);if(e){var l=Ih(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return EA(this,n)}}function EA(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ih(t)}var rm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&nm(s,p)})(l,t);var e,n,r=xA(l);function l(){return OA(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getBackground",value:function(){var s=this.props.model,p=s.getTextStyle(),g=s.width,b=s.height,E=s.x,A=s.y,C=l1(l1({},p.background),{},{x:E,y:A-1,width:g,height:b});return Object(de.g)(Tu,C)}},{key:"getShape",value:function(){return Object(de.g)("g",null,this.getBackground())}}])&&wA(e.prototype,n),l}(za);function om(t){return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function im(){return im=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function SA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function am(t,e){return am=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},am(t,e)}function AA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Lh(t);if(e){var l=Lh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return PA(this,n)}}function PA(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vp(t)}function vp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lh(t)}function zh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var um=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&am(s,p)})(l,t);var e,n,r=AA(l);function l(){var s;SA(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return zh(vp(s=r.call.apply(r,[this].concat(g))),"ref",void 0),zh(vp(s),"currentProperties",void 0),zh(vp(s),"preProperties",void 0),zh(vp(s),"setRef",function(E){s.ref=E}),s}return e=l,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(s){s.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.height,E=s.width,A=s.getNodeStyle();return this.currentProperties=JSON.stringify(s.properties),Object(de.g)("foreignObject",im({},A,{x:p-E/2,y:g-b/2,width:E,height:b,ref:this.setRef}))}}])&&jA(e.prototype,n),l}(za);function sm(t){return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function lm(){return lm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){pm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cm(t,e){return cm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cm(t,e)}function kA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bh(t);if(e){var l=Bh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return TA(this,n)}}function TA(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fm(t)}function fm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(t)}function pm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var NA=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&cm(s,p)})(l,t);var e,n,r=kA(l);function l(s){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,l),pm(fm(p=r.call(this,s)),"setHoverON",function(){p.setState({isHovered:!0})}),pm(fm(p),"setHoverOFF",function(){p.setState({isHovered:!1})}),p.state={isHovered:!1},p}return e=l,(n=[{key:"getBackground",value:function(){var s=this.props.model,p=s.getTextStyle(),g=s.text,b=s.width,E=p.background||{};if(this.state.isHovered&&p.hover&&p.hover.background&&(E=Vs(Vs({},E),p.hover.background)),g&&g.value&&E.fill!=="transparent"){var A,C=p.fontSize,L=p.overflowMode,X=p.lineHeight,ee=p.wrapPadding,ie=p.textWidth,_e=g.value,be=g.x,Se=g.y,Le=String(_e).split(/[\r\n]/g),nt=Le.length;if(L==="autoWrap"&&ie){var tt=Cd({rows:Le,style:{fontSize:"".concat(C,"px"),width:"".concat(ie,"px"),lineHeight:X,padding:ee},rowsLength:nt,className:"lf-get-text-height"});A=Vs(Vs({},E),{},{x:be-1,y:Se-1,width:ie,height:tt})}else{Le&&Le.forEach(function(rn){Qf(rn)});var xt=js({rows:Le,fontSize:C,rowsLength:nt}),et=xt.width,mt=xt.height;if(L==="ellipsis"&&(et=ie||b,mt=C+2),typeof E.wrapPadding=="string"){var at=E.wrapPadding.split(",").filter(function(rn){return rn.trim()}).map(function(rn){return parseFloat(rn.trim())});at.length>0&&at.length<=4&&(at.length===1?at=[at[0],at[0],at[0],at[0]]:at.length===2?at=[at[0],at[1],at[0],at[1]]:at.length===3&&(at=[at[0],at[1],at[2],at[1]]),et+=at[1]+at[3],mt+=at[0]+at[2],be+=(at[1]-at[3])/2,Se+=(at[2]-at[0])/2)}A=Vs(Vs({},E),{},{x:be-1,y:Se-1,width:et,height:mt})}return Object(de.g)(Tu,A)}}},{key:"getShape",value:function(){var s=this.props.model,p=s.text,g=p.value,b=p.x,E=p.y;if(g){var A=Vs({x:b,y:E,className:"lf-element-text",value:g},s.getTextStyle());return Object(de.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(de.g)(Q_,lm({},A,{model:s})))}}}])&&MA(e.prototype,n),l}(t1);function dm(t){return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}var fa,DA=["text","sourceAnchorId","targetAnchorId"];function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){$o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CA(t,e){if(t==null)return{};var n,r,l=function(p,g){if(p==null)return{};var b,E,A={},C=Object.keys(p);for(E=0;E<C.length;E++)b=C[E],g.indexOf(b)>=0||(A[b]=p[b]);return A}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function RA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return p1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return p1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hm(t,e){return hm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hm(t,e)}function LA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fh(t);if(e){var l=Fh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return zA(this,n)}}function zA(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vo(t)}function Vo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fh(t)}function $o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(fa||(fa={}));var d1=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&hm(s,p)})(l,t);var e,n,r=LA(l);function l(s){var p;(function(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")})(this,l),$o(Vo(p=r.call(this)),"stepDragData",void 0),$o(Vo(p),"stepDrag",void 0),$o(Vo(p),"oldEdge",void 0),$o(Vo(p),"preTargetNode",void 0),$o(Vo(p),"targetRuleResults",void 0),$o(Vo(p),"sourceRuleResults",void 0),$o(Vo(p),"handleMouseDown",function(A){p.stepDrag&&p.stepDrag.handleMouseDown(A)}),$o(Vo(p),"onDragStart",function(){var A=p.props,C=A.x,L=A.y,X=A.edgeModel,ee=X.startPoint,ie=X.endPoint,_e=X.pointsList;p.oldEdge={startPoint:ee,endPoint:ie,pointsList:_e},p.setState({endX:C,endY:L,dragging:!0})}),$o(Vo(p),"onDragging",function(A){var C=A.deltaX,L=A.deltaY,X=p.state,ee=X.endX,ie=X.endY,_e=p.props,be=_e.graphModel,Se=_e.type,Le=be.transformModel,nt=be.editConfigModel,tt=RA(Le.moveCanvasPointByHtml([ee,ie],C,L),2),xt=tt[0],et=tt[1];p.setState({endX:xt,endY:et,dragging:!0});var mt=p.props.edgeModel,at=Ss({x:ee,y:ie},be);if(at&&at.node&&p.isAllowAdjust(at).pass){var rn,ln=mt.startPoint,Lt=mt.endPoint,yn=mt.sourceNode,ar=mt.targetNode;Se===fa.SOURCE?rn={startPoint:{x:at.anchor.x,y:at.anchor.y},endPoint:{x:Lt.x,y:Lt.y},sourceNode:at.node,targetNode:ar}:Se===fa.TARGET&&(rn={startPoint:{x:ln.x,y:ln.y},endPoint:{x:at.anchor.x,y:at.anchor.y},sourceNode:yn,targetNode:at.node}),mt.updateAfterAdjustStartAndEnd(rn)}else Se===fa.SOURCE?mt.updateStartPoint({x:xt,y:et}):Se===fa.TARGET&&mt.updateEndPoint({x:xt,y:et});mt.text.value&&nt.adjustEdge&&mt.setText(Object.assign({},mt.text,mt.textPosition))}),$o(Vo(p),"onDragEnd",function(A){var C=A.event;try{var L;p.setState({dragging:!1});var X=p.props,ee=X.graphModel,ie=X.edgeModel,_e=X.type,be=p.state,Se=be.endX,Le=be.endY,nt=be.dragging,tt=Ss({x:Se,y:Le},ee);if(!nt)return;var xt,et=!1;if(tt&&tt.node){var mt=p.isAllowAdjust(tt),at=mt.pass,rn=mt.msg,ln=mt.newTargetNode;if(at){var Lt=ie.getData(),yn=Lt.text,ar=Lt.sourceAnchorId,ur=ar===void 0?"":ar,Kr=Lt.targetAnchorId;xt=Ba(Ba({sourceAnchorId:ur,targetAnchorId:Kr===void 0?"":Kr},CA(Lt,DA)),{},{text:(yn==null?void 0:yn.value)||""}),_e===fa.SOURCE?(xt=Ba(Ba({},ee.edgeGenerator(ee.getNodeModelById(tt.node.id).getData(),ee.getNodeModelById(ie.targetNodeId).getData(),xt)),{},{sourceNodeId:tt.node.id,sourceAnchorId:tt.anchor.id,startPoint:{x:tt.anchor.x,y:tt.anchor.y},targetNodeId:ie.targetNodeId,endPoint:Ba({},ie.endPoint)}),ie.sourceNodeId===tt.node.id&&ie.sourceAnchorId===tt.anchor.id&&(et=!0)):_e===fa.TARGET&&(xt=Ba(Ba({},ee.edgeGenerator(ee.getNodeModelById(ie.sourceNodeId).getData(),ee.getNodeModelById(tt.node.id).getData(),xt)),{},{sourceNodeId:ie.sourceNodeId,startPoint:Ba({},ie.startPoint),targetNodeId:tt.node.id,targetAnchorId:tt.anchor.id,endPoint:{x:tt.anchor.x,y:tt.anchor.y}}),ie.targetNodeId===tt.node.id&&ie.targetAnchorId===tt.anchor.id&&(et=!0))}else{et=!0;var Ho=ln.getData();ee.eventCenter.emit(vt.CONNECTION_NOT_ALLOWED,{data:Ho,msg:rn})}}else et=!0;if(et)p.recoveryEdge();else{var Xo=ie.getData();ee.deleteEdgeById(ie.id);var da=ee.addEdge(Ba({},xt));ee.eventCenter.emit(vt.EDGE_EXCHANGE_NODE,{data:{newEdge:da.getData(),oldEdge:Xo}})}(L=p.preTargetNode)===null||L===void 0||L.setElementState(On.DEFAULT)}finally{p.props.graphModel.eventCenter.emit(vt.ADJUST_POINT_DRAGEND,{e:C,data:p.stepDragData})}}),$o(Vo(p),"recoveryEdge",function(){var A=p.props.edgeModel,C=p.oldEdge,L=C.startPoint,X=C.endPoint,ee=C.pointsList;A.updateStartPoint(L),A.updateEndPoint(X),A.modelType!==Qt.LINE_EDGE&&(A.pointsList=ee,A.initPoints())}),$o(Vo(p),"getAdjustPointStyle",function(){var A=p.props,C=A.graphModel.theme;return A.edgeModel,C.edgeAdjust}),p.state={dragging:!1,endX:0,endY:0},p.targetRuleResults=new Map,p.sourceRuleResults=new Map;var g=s.type,b=s.edgeModel,E=s.graphModel.eventCenter;return p.stepDragData={type:g,edgeData:b.getData()},p.stepDrag=new Ao({onDragStart:p.onDragStart,onDragging:p.onDragging,onDragEnd:p.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:E,data:p.stepDragData}),p}return e=l,(n=[{key:"isAllowAdjust",value:function(s){var p=this.props,g=p.edgeModel,b=g.id,E=g.sourceNode,A=g.targetNode,C=g.sourceAnchorId,L=g.targetAnchorId,X=p.type,ee=null,ie=null,_e=null,be=null;if(X===fa.SOURCE?(ee=s.node,ie=A,_e=s.anchor,be=A.getAnchorInfo(L)):(ee=E,ie=s.node,be=s.anchor,_e=E.getAnchorInfo(C)),this.preTargetNode&&this.preTargetNode!==s.node&&this.preTargetNode.setElementState(On.DEFAULT),this.preTargetNode=s.node,be.id===_e.id)return{pass:!1,msg:"",newTargetNode:ie};var Se="".concat(ee.id,"_").concat(ie.id,"_").concat(_e.id,"_").concat(be.id);if(!this.targetRuleResults.has(Se)){var Le=ee.isAllowConnectedAsSource(ie,_e,be,b),nt=ie.isAllowConnectedAsTarget(ee,_e,be,b);this.sourceRuleResults.set(Se,Ou(Le)),this.targetRuleResults.set(Se,Ou(nt))}var tt=this.sourceRuleResults.get(Se),xt=tt.isAllPass,et=tt.msg,mt=this.targetRuleResults.get(Se),at=mt.isAllPass,rn=mt.msg,ln=xt&&at?On.ALLOW_CONNECT:On.NOT_ALLOW_CONNECT;return X===fa.SOURCE?ee.setElementState(ln):ie.setElementState(ln),{pass:xt&&at,msg:rn||et,newTargetNode:ie}}},{key:"render",value:function(){var s=this.props,p=s.x,g=s.y,b=s.getAdjustPointShape,E=s.edgeModel,A=this.state.dragging;return Object(de.g)("g",{pointerEvents:A?"none":"",onMouseDown:this.handleMouseDown},A?"":b(p,g,E))}}])&&IA(e.prototype,n),l}(de.a);function ym(t){return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function gp(){return gp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}function BA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return h1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return h1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vm(t,e){return vm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vm(t,e)}function WA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Uh(t);if(e){var l=Uh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return GA(this,n)}}function GA(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ui(t)}function Ui(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uh(t)}function pa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mp=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&vm(s,p)})(l,t);var e,n,r=WA(l);function l(){var s;FA(this,l);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return pa(Ui(s=r.call.apply(r,[this].concat(g))),"startTime",void 0),pa(Ui(s),"contextMenuTime",void 0),pa(Ui(s),"clickTimer",void 0),pa(Ui(s),"textRef",Object(de.f)()),pa(Ui(s),"handleHover",function(E,A){var C=s.props,L=C.model,X=C.graphModel.eventCenter;L.setHovered(E);var ee=E?vt.EDGE_MOUSEENTER:vt.EDGE_MOUSELEAVE,ie=L.getData();X.emit(ee,{data:ie,e:A})}),pa(Ui(s),"setHoverON",function(E){s.props.model.isHovered||(s.textRef&&s.textRef.current&&s.textRef.current.setHoverON(),s.handleHover(!0,E))}),pa(Ui(s),"setHoverOFF",function(E){s.props.model.isHovered&&(s.textRef&&s.textRef.current&&s.textRef.current.setHoverOFF(),s.handleHover(!1,E))}),pa(Ui(s),"handleContextMenu",function(E){E.preventDefault(),s.contextMenuTime=new Date().getTime(),s.clickTimer&&clearTimeout(s.clickTimer);var A=s.props,C=A.model,L=A.graphModel,X=L.getPointByClient({x:E.clientX,y:E.clientY});L.setElementStateById(C.id,On.SHOW_MENU,X.domOverlayPosition),s.toFront(),C.isSelected||L.selectEdgeById(C.id);var ee=C==null?void 0:C.getData();L.eventCenter.emit(vt.EDGE_CONTEXTMENU,{data:ee,e:E,position:X})}),pa(Ui(s),"handleMouseDown",function(E){E.stopPropagation(),s.startTime=new Date().getTime()}),pa(Ui(s),"handleMouseUp",function(E){if(s.startTime&&!(new Date().getTime()-s.startTime>200||E.button===2)){var A=E.detail===2,C=s.props,L=C.model,X=C.graphModel,ee=L==null?void 0:L.getData(),ie=X.getPointByClient({x:E.clientX,y:E.clientY});if(A){var _e=X.editConfigModel,be=X.textEditElement;if(be&&be.id===L.id&&X.setElementStateById(L.id,On.DEFAULT),_e.edgeTextEdit&&L.text.editable&&X.setElementStateById(L.id,On.TEXT_EDIT),L.modelType===Qt.POLYLINE_EDGE){var Se=L,Le=X.getPointByClient({x:E.x,y:E.y}).canvasOverlayPosition,nt=Le.x,tt=Le.y,xt=Ns({x:nt,y:tt},Se.points);Se.dbClickPosition=xt}X.eventCenter.emit(vt.EDGE_DBCLICK,{data:ee,e:E,position:ie})}else X.eventCenter.emit(vt.ELEMENT_CLICK,{data:ee,e:E,position:ie}),X.eventCenter.emit(vt.EDGE_CLICK,{data:ee,e:E,position:ie});var et=X.editConfigModel;X.selectEdgeById(L.id,xs(E,et)),s.toFront()}}),s}return e=l,(n=[{key:"getShape",value:function(){return Object(de.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var s=this.props,p=s.model,g=s.graphModel;if(p.state===On.TEXT_EDIT)return null;var b=!1,E=g.editConfigModel;return(p.text.draggable||E.edgeTextDraggable)&&(b=!0),Object(de.g)(NA,{ref:this.textRef,editable:E.edgeTextEdit&&p.text.editable,model:p,graphModel:g,draggable:b})}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=s.isSelected;return{start:p,end:g,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model;return[s.startPoint,s.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var s=this.props.model,p=s.id,g=s.getArrowStyle(),b=g.refY,E=b===void 0?0:b,A=g.refX,C=A===void 0?2:A,L=BA(this.getLastTwoPoints(),2),X=L[0],ee=L[1],ie="auto";return X!==null&&ee!==null&&(ie=Gf(Wf({x:ee.x-X.x,y:ee.y-X.y,z:0}))),Object(de.g)("g",null,Object(de.g)("defs",null,Object(de.g)("marker",{id:"marker-start-".concat(p),refX:-C,refY:E,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(de.g)("marker",{id:"marker-end-".concat(p),refX:C,refY:E,overflow:"visible",orient:ie,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var s=this.props.model.getArrowStyle();return s.stroke,s.strokeWidth,s.offset,s.verticalLength,Object(de.g)("path",null)}},{key:"getEndArrow",value:function(){var s=this.props.model.getArrowStyle(),p=s.stroke,g=s.strokeWidth,b=s.offset,E=s.verticalLength;return Object(de.g)("path",{stroke:p,fill:p,strokeWidth:g,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(E," L ").concat(b," ").concat(E," Z")})}},{key:"getAdjustPointShape",value:function(s,p,g){var b=g.getAdjustPointStyle();return Object(de.g)(uc,gp({className:"lf-edge-adjust-point"},b,{x:s,y:p}))}},{key:"getAdjustPoints",value:function(){var s=this.props,p=s.model,g=s.graphModel,b=p.getAdjustStart(),E=p.getAdjustEnd();return Object(de.g)("g",null,Object(de.g)(d1,gp({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:g})),Object(de.g)(d1,gp({type:"TARGET"},E,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:g})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(de.g)("g",null)}},{key:"getAppend",value:function(){return Object(de.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var s=this.props,p=s.graphModel,g=s.model;p.toFront(g.id)}},{key:"render",value:function(){var s=this.props,p=s.model,g=p.isSelected,b=p.isHitable,E=p.isShowAdjustPoint;return s.graphModel.animation,Object(de.g)("g",null,Object(de.g)("g",{className:["lf-edge",!b&&"pointer-none",g&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),E&&g?this.getAdjustPoints():"")}}])&&UA(e.prototype,n),l}(de.a);function gm(t){return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function VA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return y1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return y1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bp=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=VA(n,2),l=r[0],s=r[1],p=gm(s);l!=="style"&&p==="object"||(e[l]=s)}),Object(de.g)("path",e)};function mm(t){return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function bm(){return bm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function $A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _m(t,e){return _m=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_m(t,e)}function XA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wh(t);if(e){var l=Wh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return YA(this,n)}}function YA(t,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wh(t)}var Om=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&_m(s,p)})(l,t);var e,n,r=XA(l);function l(){return $A(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=s.isAnimation,E=s.arrowConfig,A=s.getEdgeStyle(),C=s.getEdgeAnimationStyle(),L=C.strokeDasharray,X=C.stroke,ee=C.strokeDashoffset,ie=C.animationName,_e=C.animationDuration,be=C.animationIterationCount,Se=C.animationTimingFunction,Le=C.animationDirection;return Object(de.g)(ic,bm({},A,{x1:p.x,y1:p.y,x2:g.x,y2:g.y},E,b?{strokeDasharray:L,stroke:X,style:{strokeDashoffset:ee,animationName:ie,animationDuration:_e,animationIterationCount:be,animationTimingFunction:Se,animationDirection:Le}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=Jd({start:p,end:g}),E=b.d,A=b.strokeWidth,C=b.fill,L=b.strokeDasharray,X=b.stroke;return Object(de.g)(bp,{d:E,fill:C,strokeWidth:A,stroke:X,strokeDasharray:L})}}])&&HA(e.prototype,n),l}(mp);function wm(t){return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function KA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return v1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return v1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qA=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=KA(n,2),l=r[0],s=r[1];(l==="style"||wm(s)!=="object")&&(e[l]=s)}),Object(de.g)("polyline",e)};function xm(t){return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Em(){return Em=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(this,arguments)}function ZA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return m1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return m1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sm(t,e){return Sm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sm(t,e)}function QA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vh(t);if(e){var l=Vh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return eP(this,n)}}function eP(t,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vh(t)}function Ua(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Sm(s,p)})(l,t);var e,n,r=QA(l);function l(){var s;return function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}(this,l),Ua(Fa(s=r.call(this)),"drag",void 0),Ua(Fa(s),"isDragging",void 0),Ua(Fa(s),"isShowAdjustPointTemp",void 0),Ua(Fa(s),"appendInfo",void 0),Ua(Fa(s),"onDragStart",function(){var p=s.props.model;p.dragAppendStart(),s.isShowAdjustPointTemp=p.isShowAdjustPoint,p.isShowAdjustPoint=!1}),Ua(Fa(s),"onDragging",function(p){var g=p.deltaX,b=p.deltaY,E=s.props,A=E.model,C=E.graphModel;s.isDragging=!0;var L=C.transformModel,X=C.editConfigModel,ee=ZA(L.fixDeltaXY(g,b),2),ie=ee[0],_e=ee[1],be=A,Se=X.adjustEdgeMiddle;s.appendInfo=Se?be.dragAppendSimple(s.appendInfo,{x:ie,y:_e}):be.dragAppend(s.appendInfo,{x:ie,y:_e})}),Ua(Fa(s),"onDragEnd",function(){var p=s.props,g=p.model,b=p.graphModel.eventCenter,E=g;E.dragAppendEnd(),s.isDragging=!1,E.isShowAdjustPoint=s.isShowAdjustPointTemp,s.appendInfo=void 0,b.emit(vt.EDGE_ADJUST,{data:E.getData()})}),Ua(Fa(s),"beforeDragStart",function(p,g){g.dragAble&&s.drag.handleMouseDown(p),s.appendInfo=g}),s.drag=new Ao({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd,isStopPropagation:!1}),s}return e=l,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.points,g=s.isAnimation,b=s.arrowConfig,E=s.getEdgeStyle(),A=s.getEdgeAnimationStyle(),C=A.strokeDasharray,L=A.stroke,X=A.strokeDashoffset,ee=A.animationName,ie=A.animationDuration,_e=A.animationIterationCount,be=A.animationTimingFunction,Se=A.animationDirection;return Object(de.g)(qA,Em({points:p},E,b,g?{strokeDasharray:C,stroke:L,style:{strokeDashoffset:X,animationName:ee,animationDuration:ie,animationIterationCount:_e,animationTimingFunction:be,animationDirection:Se}}:{}))}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=s.points,g=s.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:g},E=Ci(p);return E.length>=2&&(b.start=E[E.length-2],b.end=E[E.length-1]),b}},{key:"getLastTwoPoints",value:function(){var s=this.props.model.points,p=Ci(s);return p.length>=2?[p[p.length-2],p[p.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(s){var p,g=s.start,b=s.end;if(g.x===b.x&&g.y===b.y)p="";else{var E={start:g,end:b,offset:10,verticalLength:5},A=Eu(Gh(Gh({},E),{},{type:"start"})),C=Eu(Gh(Gh({},E),{},{type:"end"}));p="M".concat(A.leftX," ").concat(A.leftY,` 
      L`).concat(A.rightX," ").concat(A.rightY,` 
      L`).concat(C.rightX," ").concat(C.rightY,`
      L`).concat(C.leftX," ").concat(C.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(s){var p=this.getAppendAttributes(s),g=p.d,b=p.strokeWidth,E=p.fill,A=p.strokeDasharray,C=p.stroke;return Object(de.g)(bp,{d:g,fill:E,strokeWidth:b,stroke:C,strokeDasharray:A})}},{key:"getAppendWidth",value:function(){for(var s=this,p=this.props,g=p.model,b=p.graphModel,E=g.pointsList,A=g.draggable,C=[],L=E.length,X=function(ie){var _e="lf-polyline-append",be={start:{x:E[ie].x,y:E[ie].y},end:{x:E[ie+1].x,y:E[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},Se=Object(de.g)("g",{className:_e},s.getAppendShape(be)),Le=b.editConfigModel,nt=Le.adjustEdge,tt=Le.adjustEdgeMiddle;if(nt&&A){var xt=be.startIndex,et=be.endIndex,mt=tt&&(xt===0||et===L-1);be.dragAble=!mt,be.start.x===be.end.x?(be.dragAble&&(_e+="-ew-resize"),be.direction=Cn.VERTICAL):be.start.y===be.end.y&&(be.dragAble&&(_e+="-ns-resize"),be.direction=Cn.HORIZONTAL),Se=Object(de.g)("g",{className:s.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(at){return s.beforeDragStart(at,be)}},Object(de.g)("g",{className:_e},s.getAppendShape(be)))}C.push(Se)},ee=0;ee<L-1;ee++)X(ee);return Object(de.g)("g",null,C)}}])&&JA(e.prototype,n),l}(mp);function Am(t){return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function tP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return b1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return b1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pm(){return Pm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function nP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mm(t,e){return Mm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mm(t,e)}function oP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$h(t);if(e){var l=$h(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return iP(this,n)}}function iP(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$h(t)}var km=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Mm(s,p)})(l,t);var e,n,r=oP(l);function l(){return nP(this,l),r.apply(this,arguments)}return e=l,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.getEdgeStyle(),g=s.path,b=s.isAnimation,E=s.arrowConfig,A=s.getEdgeAnimationStyle(),C=A.strokeDasharray,L=A.stroke,X=A.strokeDashoffset,ee=A.animationName,ie=A.animationDuration,_e=A.animationIterationCount,be=A.animationTimingFunction,Se=A.animationDirection;return Object(de.g)(bp,Pm({d:g},p,E,b?{strokeDasharray:C,stroke:L,style:{strokeDashoffset:X,animationName:ee,animationDuration:ie,animationIterationCount:_e,animationTimingFunction:be,animationDirection:Se}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model.path;return Object(de.g)(bp,{d:s,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=this.state.hover,g=s.isSelected,b=s.getArrowStyle().offset,E=s.pointsList.map(function(C){return{x:C.x,y:C.y}}),A=tP(tp(E,b),2);return{start:A[0],end:A[1],hover:p,isSelected:g}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model,p=s.getArrowStyle().offset,g=s.pointsList.map(function(b){return{x:b.x,y:b.y}});return tp(g,p)}}])&&rP(e.prototype,n),l}(mp);function Tm(t){return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function aP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nm(t,e){return Nm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nm(t,e)}function lP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hh(t);if(e){var l=Hh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return cP(this,n)}}function cP(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(t)}var fP=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Nm(s,p)})(l,t);var e,n,r=lP(l);function l(){return uP(this,l),r.apply(this,arguments)}return e=l,n=[{key:"getArrowAttributes",value:function(){var s=this.props,p=s.arrowInfo,g=s.style,b=p.start,E=p.end,A={start:b,end:E,offset:g.offset,verticalLength:g.verticalLength,type:"end"},C=Eu(A),L=C.leftX,X=C.leftY,ee=C.rightX,ie=C.rightY;return function(_e){for(var be=1;be<arguments.length;be++){var Se=arguments[be]!=null?arguments[be]:{};be%2?_1(Object(Se),!0).forEach(function(Le){aP(_e,Le,Se[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(Se)):_1(Object(Se)).forEach(function(Le){Object.defineProperty(_e,Le,Object.getOwnPropertyDescriptor(Se,Le))})}return _e}({d:"M".concat(L," ").concat(X," L").concat(E.x," ").concat(E.y," L").concat(ee," ").concat(ie," z")},g)}},{key:"getShape",value:function(){var s=this.getArrowAttributes(),p=s.d,g=s.strokeWidth,b=s.stroke,E=s.fill;return Object(de.g)(bp,{d:p,fill:E,strokeWidth:g,stroke:b})}},{key:"render",value:function(){return Object(de.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&sP(e.prototype,n),l}(de.a),O1=function(t,e){return Ae(t,e)},pP=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Dm=function(){return yt.a.Date.now()},dP=Math.max,hP=Math.min,yP=function(t,e,n){var r,l,s,p,g,b,E=0,A=!1,C=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function X(Le){var nt=r,tt=l;return r=l=void 0,E=Le,p=t.apply(tt,nt)}function ee(Le){return E=Le,g=setTimeout(_e,e),A?X(Le):p}function ie(Le){var nt=Le-b;return b===void 0||nt>=e||nt<0||C&&Le-E>=s}function _e(){var Le=Dm();if(ie(Le))return be(Le);g=setTimeout(_e,function(nt){var tt=e-(nt-b);return C?hP(tt,s-(nt-E)):tt}(Le))}function be(Le){return g=void 0,L&&r?X(Le):(r=l=void 0,p)}function Se(){var Le=Dm(),nt=ie(Le);if(r=arguments,l=this,b=Le,nt){if(g===void 0)return ee(b);if(C)return clearTimeout(g),g=setTimeout(_e,e),X(b)}return g===void 0&&(g=setTimeout(_e,e)),p}return e=Il(e)||0,Wn(n)&&(A=!!n.leading,s=(C="maxWait"in n)?dP(Il(n.maxWait)||0,e):s,L="trailing"in n?!!n.trailing:L),Se.cancel=function(){g!==void 0&&clearTimeout(g),E=0,r=b=l=g=void 0},Se.flush=function(){return g===void 0?p:be(Dm())},Se},vP=o(172);function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ru(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w1,x1,E1,mP=function(){function t(r){(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),Ru(this,"undos",[]),Ru(this,"redos",[]),Ru(this,"callbacks",[]),Ru(this,"stopWatch",null),Ru(this,"curData",null),Ru(this,"maxSize",50),Ru(this,"waitTime",100),Ru(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){O1(pP(this.undos),r)||(this.undos.push(r),O1(this.curData,r)||(this.redos=[]),this.eventCenter.emit(vt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var l=this.undos.pop();return this.curData=xn(l),l}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=xn(r),r}}},{key:"watch",value:function(r){var l=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(vP.a)(r,yP(function(){var s=r.modelToHistoryData();s&&l.add(s)},this.waitTime))}}])&&gP(e.prototype,n),t}();function Cm(t){return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function bP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return S1(n,r);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return S1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){Hs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rm(t,e){return Rm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rm(t,e)}function _P(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xh(t);if(e){var l=Xh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return OP(this,n)}}function OP(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mc(t)}function mc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xh(t)}function Hs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P1,M1,k1,Im=Wi((E1=x1=function(t){(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&Rm(p,g)})(s,t);var e,n,r,l=_P(s);function s(){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),Hs(mc(p=l.call(this)),"ref",Object(de.f)()),Hs(mc(p),"__prevText",{type:"",text:"",id:""}),Hs(mc(p),"keyupHandler",function(g){var b=p.props.graphModel.textEditElement;g.key==="Enter"&&g.altKey&&b.setElementState(0)}),Hs(mc(p),"inputHandler",function(g){var b=g.target.innerText,E=p.props.graphModel.textEditElement;p.__prevText={type:E.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:E.id}}),Hs(mc(p),"keydownHandler",function(g){g.stopPropagation()}),p.state={style:{left:0,top:0}},p}return e=s,r=[{key:"getDerivedStateFromProps",value:function(p){var g,b=p.graphModel,E=b.transformModel,A=b.theme,C=A.inputText,L=b.textEditElement;if(L){var X;if((X=L.text)===null||X===void 0||!X.value)if(L.BaseType===or.EDGE){var ee=(L=L).text,ie=L.textPosition,_e=ie.x,be=ie.y;ee.x=_e,ee.y=be,L.setText(ee)}else L=L;var Se={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(L.BaseType===or.EDGE){var Le=A.edgeText,nt=Le.overflowMode,tt=Le.lineHeight,xt=Le.wrapPadding,et=Le.textWidth;et&&nt==="autoWrap"&&(g=$s($s({},Se),{},{width:et,minWidth:et,lineHeight:tt,padding:xt}))}else if(L.BaseType===or.NODE){var mt=A.nodeText,at=mt.overflowMode,rn=mt.lineHeight,ln=mt.wrapPadding,Lt=mt.textWidth,yn=L,ar=yn.width,ur=yn.modelType,Kr=yn.textWidth||Lt||ar;(ur!==Qt.TEXT_NODE&&at==="autoWrap"||ur===Qt.TEXT_NODE&&Lt)&&(g=$s($s({},Se),{},{width:Kr,minWidth:Kr,lineHeight:rn,padding:ln}))}var Ho=L.text,Xo=Ho.x,da=Ho.y,Xs=bP(E.CanvasPointToHtmlPoint([Xo,da]),2);return{style:$s($s({left:Xs[0],top:Xs[1]},g),C)}}}}],(n=[{key:"componentDidUpdate",value:function(){var p=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var g=this.__prevText,b=g.text,E=g.id;p.updateText(E,b),p.eventCenter.emit(vt.TEXT_UPDATE,$s({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(p){if(window.getSelection!==void 0&&document.createRange!==void 0){var g=document.createRange();g.selectNodeContents(p),g.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(g)}}},{key:"render",value:function(){var p,g=this.props.graphModel.textEditElement,b=this.state.style;return g?Object(de.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:g.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(p=g.text)===null||p===void 0?void 0:p.value):null}}])&&A1(e.prototype,n),r&&A1(e,r),s}(de.a),Hs(x1,"toolName","textEdit"),w1=E1))||w1,wP=function(t){return t.modelType===Qt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,l=(n.x+r.x)/2,s=(n.y+r.y)/2,p=Math.abs(n.x-r.x)+10,g=Math.abs(n.y-r.y)+10;return{x:l-p/2,y:s-g/2,x1:l+p/2,y1:s+g/2}}(t):t.modelType===Qt.POLYLINE_EDGE?function(e){var n=e.points,r=Ci(n),l=Ta(r,8),s=l.x,p=l.y,g=l.width,b=l.height;return{x:s-g/2,y:p-b/2,x1:s+g/2,y1:p+b/2}}(t):t.modelType===Qt.BEZIER_EDGE?function(e){var n=e.path,r=ks(n),l=Ta(r,8),s=l.x,p=l.y,g=l.width,b=l.height;return{x:s-g/2,y:p-b/2,x1:s+g/2,y1:p+b/2}}(t):void 0};function Lm(t){return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function T1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var s,p,g=[],b=!0,E=!1;try{for(l=l.call(n);!(b=(s=l.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(A){E=!0,p=A}finally{try{b||l.return==null||l.return()}finally{if(E)throw p}}return g}}(t,e)||N1(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xP(t){return function(e){if(Array.isArray(e))return zm(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||N1(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N1(t,e){if(t){if(typeof t=="string")return zm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zm(t,e):void 0}}function zm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bm(t,e){return Bm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bm(t,e)}function SP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yh(t);if(e){var l=Yh(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(t,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bc(t)}function bc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yh(t)}function _c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fm=Wi((k1=M1=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Bm(s,p)})(l,t);var e,n,r=SP(l);function l(s){var p;(function(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")})(this,l),_c(bc(p=r.call(this)),"stepDrag",void 0),_c(bc(p),"handleMouseDown",function(A){p.stepDrag.handleMouseDown(A)}),_c(bc(p),"handleWheelEvent",function(A){var C,L;A.preventDefault();var X=A.deltaX,ee=A.deltaY,ie=A.clientX,_e=A.clientY,be=A.ctrlKey,Se=new WheelEvent("wheel",{deltaX:X,deltaY:ee,clientX:ie,clientY:_e,ctrlKey:be});(C=p.props.logicFlow.container)===null||C===void 0||(L=C.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||L===void 0||L.dispatchEvent(Se)}),_c(bc(p),"onDragging",function(A){var C=A.deltaX,L=A.deltaY,X=p.props.graphModel,ee=X.getSelectElements(!0);X.moveNodes(ee.nodes.map(function(ie){return ie.id}),C,L)}),_c(bc(p),"handleContextMenu",function(A){A.preventDefault();var C=p.props,L=C.graphModel,X=C.graphModel,ee=X.eventCenter,ie=X.selectElements,_e=L.getPointByClient({x:A.clientX,y:A.clientY}),be={nodes:[],edges:[]};xP(ie.values()).forEach(function(Se){Se.BaseType===or.NODE&&be.nodes.push(Se.getData()),Se.BaseType===or.EDGE&&be.edges.push(Se.getData())}),ee.emit(vt.SELECTION_CONTEXTMENU,{data:be,e:A,position:_e})});var g=s.graphModel,b=g.gridSize,E=g.eventCenter;return p.stepDrag=new Ao({onDragging:p.onDragging,step:b,eventType:"SELECTION",eventCenter:E}),p}return e=l,(n=[{key:"render",value:function(){var s=this.props.graphModel,p=s.selectElements,g=s.transformModel;if(!(p.size<=1)){var b=Number.MAX_SAFE_INTEGER,E=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER;p.forEach(function(ie){var _e={x:0,y:0,x1:0,y1:0};ie.BaseType===or.NODE&&(_e=function(be){var Se=be.x,Le=be.y,nt=be.width,tt=be.height;return{x:Se-nt/2,y:Le-tt/2,x1:Se+nt/2,y1:Le+tt/2}}(ie)),ie.BaseType===or.EDGE&&(_e=wP(ie)),b=Math.min(b,_e.x),E=Math.min(E,_e.y),A=Math.max(A,_e.x1),C=Math.max(C,_e.y1)});var L=T1(g.CanvasPointToHtmlPoint([b,E]),2);b=L[0],E=L[1];var X=T1(g.CanvasPointToHtmlPoint([A,C]),2);A=X[0],C=X[1];var ee={left:"".concat(b-10,"px"),top:"".concat(E-10,"px"),width:"".concat(A-b+20,"px"),height:"".concat(C-E+20,"px")};return Object(de.g)("div",{className:"lf-multiple-select",style:ee,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&EP(e.prototype,n),l}(de.a),_c(M1,"toolName","multipleSelect"),P1=k1))||P1;function AP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PP=function(){function t(r){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Kh(this,"tools",void 0),Kh(this,"components",void 0),Kh(this,"toolMap",new Map),Kh(this,"instance",void 0),this.instance=r,this.isDisabledTool(Im.toolName)||this.registerTool(Im.toolName,Im),this.isDisabledTool(Fm.toolName)||this.registerTool(Fm.toolName,Fm);var l=r.graphModel;l.eventCenter.on("".concat(vt.GRAPH_TRANSFORM,",").concat(vt.NODE_CLICK,",").concat(vt.BLANK_CLICK," "),function(){var s=l.textEditElement,p=l.editConfigModel,g=p.edgeTextEdit,b=p.nodeTextEdit;(g||b)&&s&&l.textEditElement.setElementState(On.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,l){this.toolMap.set(r,l)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&AP(e.prototype,n),t}(),MP=o(173),kP=o.n(MP);function TP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Um(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D1=function(){function t(r){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Um(this,"mousetrap",void 0),Um(this,"options",void 0),Um(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var l=r.lf;this.target=l.container,this.mousetrap=new kP.a(this.target),r.keyboard.enabled&&!l.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,l=this.options.keyboard.shortcuts;if(l)if(Mn(l))l.forEach(function(b){var E=b.keys,A=b.callback,C=b.action;return r.on(E,A,C)});else{var s=l.keys,p=l.callback,g=l.action;this.on(s,p,g)}}},{key:"on",value:function(r,l,s){this.mousetrap.bind(this.getKeys(r),l,s)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,l){this.mousetrap.unbind(this.getKeys(r),l)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var l=this;return(Array.isArray(r)?r:[r]).map(function(s){return l.formatKey(s)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&TP(e.prototype,n),t}(),NP=D1,Wa=null;function C1(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function R1(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var Oc=40,Wm=40;function Gm(t){return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,r)}return n}function _p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vm=Symbol("plugin register by Logicflow.use"),$m=function(){function t(l){var s,p,g=this;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,t),nr(this,"container",void 0),nr(this,"width",void 0),nr(this,"height",void 0),nr(this,"graphModel",void 0),nr(this,"history",void 0),nr(this,"viewMap",new Map),nr(this,"tool",void 0),nr(this,"keyboard",void 0),nr(this,"dnd",void 0),nr(this,"options",void 0),nr(this,"snaplineModel",void 0),nr(this,"components",[]),nr(this,"plugins",void 0),nr(this,"extension",{}),nr(this,"adapterIn",void 0),nr(this,"adapterOut",void 0),nr(this,"getView",function(b){return g.viewMap.get(b)}),l=D0(l),this.options=l,this.container=this.initContainer(l.container),this.plugins=l.plugins,this.graphModel=new zE(_p({},l)),this.tool=new PP(this),this.history=new mP(this.graphModel.eventCenter),this.dnd=new RS({lf:this}),this.keyboard=new NP({lf:this,keyboard:l.keyboard}),l.snapline!==!1&&(this.snaplineModel=new X_(this.graphModel),s=this.graphModel.eventCenter,p=this.snaplineModel,s.on("node:mousemove",function(b){var E=b.data;p.setNodeSnapLine(E)}),s.on("node:mouseup",function(){p.clearSnapline()})),function(b,E){var A=b.keyboard,C=A.options.keyboard;A.on(["cmd + c","ctrl + c"],function(){if(Wm=Oc,!C.enabled||E.textEditElement)return!0;var L=b.options.guards,X=E.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(X)||X.nodes.length===0&&X.edges.length===0?(Wa=null,!0):((Wa=X).nodes.forEach(function(ee){return C1(ee,Oc)}),Wa.edges.forEach(function(ee){return R1(ee,Oc)}),!1)}),A.on(["cmd + v","ctrl + v"],function(){if(!C.enabled||E.textEditElement)return!0;if(Wa&&(Wa.nodes||Wa.edges)){b.clearSelectElements();var L=b.addElements(Wa,Wm);if(!L)return!0;L.nodes.forEach(function(X){return b.selectElementById(X.id,!0)}),L.edges.forEach(function(X){return b.selectElementById(X.id,!0)}),Wa.nodes.forEach(function(X){return C1(X,Oc)}),Wa.edges.forEach(function(X){return R1(X,Oc)}),Wm+=Oc}return!1}),A.on(["cmd + z","ctrl + z"],function(){return!C.enabled||!!E.textEditElement||(b.undo(),!1)}),A.on(["cmd + y","ctrl + y"],function(){return!C.enabled||!!E.textEditElement||(b.redo(),!1)}),A.on(["backspace"],function(){if(!C.enabled||E.textEditElement)return!0;var L=E.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(X){return b.deleteEdge(X.id)}),L.nodes.forEach(function(X){return b.deleteNode(X.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(l.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(l,s){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof l=="string"){var g={BaseEdge:mp,BaseEdgeModel:Cf,BaseNode:za,BaseNodeModel:La,RectNode:Ig,RectNodeModel:dg,CircleNode:Fg,CircleNodeModel:Yv,PolygonNode:$g,PolygonNodeModel:lg,TextNode:rm,TextNodeModel:gg,LineEdge:Om,LineEdgeModel:ql,DiamondNode:Kg,DiamondNodeModel:Qv,PolylineEdge:jm,PolylineEdgeModel:jo,BezierEdge:km,BezierEdgeModel:Wv,EllipseNode:em,EllipseNodeModel:rg,HtmlNode:um,HtmlNodeModel:_g,h:de.g,type:l};this.viewMap.forEach(function(L){var X=L.extendKey;X&&(g[X]=L)}),this.graphModel.modelMap.forEach(function(L){var X=L.extendKey;X&&(g[X]=L)});var b=s(g),E=b.view,A=b.model,C=E;p&&!C.isObervered&&(C.isObervered=!0,C=dt(C)),this.setView(l,C),this.graphModel.setModel(l,A)}else this.registerElement(l)}},{key:"registerElement",value:function(l){var s=l.view;l.isObserverView===!1||s.isObervered||(s.isObervered=!0,s=dt(s)),this.setView(l.type,s),this.graphModel.setModel(l.type,l.model)}},{key:"batchRegister",value:function(){var l=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(p){l.registerElement(p)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Ig,model:dg,type:"rect"}),this.registerElement({type:"circle",view:Fg,model:Yv}),this.registerElement({type:"polygon",view:$g,model:lg}),this.registerElement({type:"line",view:Om,model:ql}),this.registerElement({type:"polyline",view:jm,model:jo}),this.registerElement({type:"bezier",view:km,model:Wv}),this.registerElement({type:"text",view:rm,model:gg}),this.registerElement({type:"ellipse",view:em,model:rg}),this.registerElement({type:"diamond",view:Kg,model:Qv}),this.registerElement({type:"html",view:um,model:_g})}},{key:"selectElementById",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(l,s),!s&&p&&this.graphModel.toFront(l)}},{key:"focusOn",value:function(l){var s=this.graphModel.transformModel,p=l.coordinate,g=l.id;if(!p){var b=this.getNodeModelById(g);b&&(p=b.getData());var E=this.getEdgeModelById(g);E&&(p=E.textPosition)}var A=p,C=A.x,L=A.y;s.focusOn(C,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(l){this.graphModel.setTheme(l)}},{key:"resize",value:function(l,s){this.graphModel.resize(l,s),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(l){this.graphModel.setDefaultEdgeType(l)}},{key:"updateText",value:function(l,s){this.graphModel.updateText(l,s)}},{key:"deleteElement",value:function(l){var s,p,g,b=this.getModelById(l);return!!b&&(p=(g=(nr(s={},or.NODE,this.deleteNode),nr(s,or.EDGE,this.deleteEdge),s)[b.BaseType])===null||g===void 0?void 0:g.call(this,l))!==null&&p!==void 0&&p}},{key:"getModelById",value:function(l){return this.graphModel.getElement(l)}},{key:"getDataById",value:function(l){var s;return(s=this.graphModel.getElement(l))===null||s===void 0?void 0:s.getData()}},{key:"changeNodeType",value:function(l,s){this.graphModel.changeNodeType(l,s)}},{key:"changeEdgeType",value:function(l,s){this.graphModel.changeEdgeType(l,s)}},{key:"getNodeEdges",value:function(l){return this.graphModel.getNodeEdges(l)}},{key:"addNode",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.NODE_ADD,p=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(l,s,p)}},{key:"deleteNode",value:function(l){var s=this.graphModel.getNodeModelById(l);if(!s)return!1;var p=s.getData(),g=this.options.guards,b=!g||!g.beforeDelete||g.beforeDelete(p);return b&&this.graphModel.deleteNode(l),b}},{key:"cloneNode",value:function(l){var s=this.graphModel.getNodeModelById(l).getData(),p=this.options.guards;if(!p||!p.beforeClone||p.beforeClone(s))return this.graphModel.cloneNode(l)}},{key:"changeNodeId",value:function(l,s){return this.graphModel.changeNodeId(l,s)}},{key:"getNodeModelById",value:function(l){return this.graphModel.getNodeModelById(l)}},{key:"getNodeDataById",value:function(l){var s;return(s=this.graphModel.getNodeModelById(l))===null||s===void 0?void 0:s.getData()}},{key:"addEdge",value:function(l){return this.graphModel.addEdge(l)}},{key:"deleteEdge",value:function(l){var s=this.options.guards,p=this.graphModel.edgesMap[l];if(!p)return!1;var g=p.model.getData(),b=!s||!s.beforeDelete||s.beforeDelete(g);return b&&this.graphModel.deleteEdgeById(l),b}},{key:"deleteEdgeByNodeId",value:function(l){var s=l.sourceNodeId,p=l.targetNodeId;s&&p?this.graphModel.deleteEdgeBySourceAndTarget(s,p):s?this.graphModel.deleteEdgeBySource(s):p&&this.graphModel.deleteEdgeByTarget(p)}},{key:"changeEdgeId",value:function(l,s){return this.graphModel.changeEdgeId(l,s)}},{key:"getEdgeModelById",value:function(l){var s;return(s=this.graphModel.edgesMap[l])===null||s===void 0?void 0:s.model}},{key:"getEdgeModels",value:function(l){var s=this.graphModel.edges,p=l.sourceNodeId,g=l.targetNodeId;if(p&&g){var b=[];return s.forEach(function(C){C.sourceNodeId===p&&C.targetNodeId===g&&b.push(C)}),b}if(p){var E=[];return s.forEach(function(C){C.sourceNodeId===p&&E.push(C)}),E}if(g){var A=[];return s.forEach(function(C){C.targetNodeId===g&&A.push(C)}),A}return[]}},{key:"getEdgeDataById",value:function(l){var s;return(s=this.getEdgeModelById(l))===null||s===void 0?void 0:s.getData()}},{key:"getNodeIncomingEdge",value:function(l){return this.graphModel.getNodeIncomingEdge(l)}},{key:"getNodeOutgoingEdge",value:function(l){return this.graphModel.getNodeOutgoingEdge(l)}},{key:"getNodeIncomingNode",value:function(l){return this.graphModel.getNodeIncomingNode(l)}},{key:"getNodeOutgoingNode",value:function(l){return this.graphModel.getNodeOutgoingNode(l)}},{key:"editText",value:function(l){this.graphModel.editText(l)}},{key:"setProperties",value:function(l,s){var p;(p=this.graphModel.getElement(l))===null||p===void 0||p.setProperties(Rr(s))}},{key:"deleteProperty",value:function(l,s){var p;(p=this.graphModel.getElement(l))===null||p===void 0||p.deleteProperty(s)}},{key:"getProperties",value:function(l){var s;return(s=this.graphModel.getElement(l))===null||s===void 0?void 0:s.getProperties()}},{key:"toFront",value:function(l){this.graphModel.toFront(l)}},{key:"setElementZIndex",value:function(l,s){return this.graphModel.setElementZIndex(l,s)}},{key:"addElements",value:function(l){for(var s=this,p=l.nodes,g=l.edges,b={},E={nodes:[],edges:[]},A=0;A<p.length;A++){var C=p[A],L=C.id,X=this.addNode(C);if(!X)return;L&&(b[L]=X.id),E.nodes.push(X)}return g.forEach(function(ee){var ie=ee.sourceNodeId,_e=ee.targetNodeId;b[ie]&&(ie=b[ie]),b[_e]&&(_e=b[_e]);var be=s.graphModel.addEdge(_p(_p({},ee),{},{sourceNodeId:ie,targetNodeId:_e}));E.edges.push(be)}),E}},{key:"getAreaElement",value:function(l,s){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],g=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(l,s,p,g,b).map(function(E){return E.getData()})}},{key:"getSelectElements",value:function(){var l=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(l)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var l=this.graphModel.modelToGraphData();if(this.adapterOut){for(var s=arguments.length,p=new Array(s),g=0;g<s;g++)p[g]=arguments[g];return this.adapterOut.apply(this,[l].concat(p))}return l}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(l){var s=this.graphModel,p=s.editConfigModel,g=s.transformModel;p.updateEditConfig(l),(l==null?void 0:l.stopMoveGraph)!==void 0&&g.updateTranslateLimits(l.stopMoveGraph),l!=null&&l.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(l,s){return this.graphModel.getPointByClient({x:l,y:s})}},{key:"undo",value:function(){if(this.history.undoAble()){var l=Rr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(l)}}},{key:"redo",value:function(){if(this.history.redoAble()){var l=Rr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(l)}}},{key:"zoom",value:function(l,s){return this.graphModel.transformModel.zoom(l,s)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(l){this.graphModel.transformModel.setZoomMiniSize(l)}},{key:"setZoomMaxSize",value:function(l){this.graphModel.transformModel.setZoomMaxSize(l)}},{key:"getTransform",value:function(){var l=this.graphModel.transformModel;return{SCALE_X:l.SCALE_X,SCALE_Y:l.SCALE_Y,TRANSLATE_X:l.TRANSLATE_X,TRANSLATE_Y:l.TRANSLATE_Y}}},{key:"translate",value:function(l,s){this.graphModel.transformModel.translate(l,s)}},{key:"resetTranslate",value:function(){var l=this.graphModel.transformModel,s=l.TRANSLATE_X,p=l.TRANSLATE_Y;this.translate(-s,-p)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(l,s){s===void 0&&(s=l),this.graphModel.fitView(l,s)}},{key:"openEdgeAnimation",value:function(l){this.graphModel.openEdgeAnimation(l)}},{key:"closeEdgeAnimation",value:function(l){this.graphModel.closeEdgeAnimation(l)}},{key:"on",value:function(l,s){this.graphModel.eventCenter.on(l,s)}},{key:"off",value:function(l,s){this.graphModel.eventCenter.off(l,s)}},{key:"once",value:function(l,s){this.graphModel.eventCenter.once(l,s)}},{key:"emit",value:function(l,s){this.graphModel.eventCenter.emit(l,s)}},{key:"initContainer",value:function(l){var s=document.createElement("div");return s.style.position="relative",s.style.width="100%",s.style.height="100%",l.innerHTML="",l.appendChild(s),s}},{key:"installPlugins",value:function(){var l,s=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=(l=this.plugins)!==null&&l!==void 0?l:t.extensions;g.forEach(function(b){var E=null,A=null;b[Vm]?(E=b.extension,A=b.props):E=b;var C=E.pluginName||E.name;p.indexOf(C)===-1&&s.installPlugin(E,A)})}},{key:"installPlugin",value:function(l,s){if(Gm(l)==="object"){var p=l.install,g=l.render;return p&&p.call(l,this,t),g&&this.components.push(g.bind(l)),void(this.extension[l.pluginName]=l)}var b=l,E=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:s});E.render&&this.components.push(E.render.bind(E)),this.extension[b.pluginName]=E}},{key:"updateAttributes",value:function(l,s){this.graphModel.updateAttributes(l,s)}},{key:"createFakerNode",value:function(l){var s=this.graphModel.modelMap.get(l.type);if(s){var p=new s(_p(_p({},l),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(p),p}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(l){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(l)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(l,s){this.viewMap.set(l,s)}},{key:"renderRawData",value:function(l){this.graphModel.graphDataToModel(Rr(l)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(de.j)(Object(de.g)(DS,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(vt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(l=this.adapterIn(l)),this.renderRawData(l)}}],r=[{key:"use",value:function(l,s){var p,g,b=l.pluginName;b||(b=l.name);var E=(p=this.extensions.get(b))===null||p===void 0?void 0:p.extension;E&&E.destroy&&E.destroy(),this.extensions.set(b,(nr(g={},Vm,Vm),nr(g,"extension",l),nr(g,"props",s),g))}}],n&&L1(e.prototype,n),r&&L1(e,r),t}();function Wi(t){return dt(t)}nr($m,"extensions",new Map),c.default=$m}])})})(lb,lb.exports);var Xe=lb.exports;const xp=MM(Xe);var _4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var c=Math.random()*16|0,o=u==="x"?c:c&3|8;return o.toString(16)});return a},i.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},i}(),O4=(globalThis==null?void 0:globalThis._ids)||new _4;function Fc(){return O4.next()}var nE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(i){nE(a,i);function a(u,c){var o=this;return u.id||(u.id="Event_"+Fc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=i.call(this,u,c)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedTargetRules=function(){var u=i.prototype.getConnectedTargetRules.call(this),c={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(c),u},a.extendKey="StartEventModel",a})(Xe.CircleNodeModel);(function(i){nE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.extendKey="StartEventNode",a})(Xe.CircleNode);var rE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),cy=function(){return cy=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},cy.apply(this,arguments)};(function(i){rE(a,i);function a(u,c){var o=this;return u.id||(u.id="Event_"+Fc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=i.call(this,u,c)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedSourceRules=function(){var u=i.prototype.getConnectedSourceRules.call(this),c={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(c),u},a.extendKey="EndEventModel",a})(Xe.CircleNodeModel);(function(i){rE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),o=u.x,d=u.y,h=u.r,m=i.prototype.getShape.call(this);return Xe.h("g",{},m,Xe.h("circle",cy(cy({},c),{cx:o,cy:d,r:h-5})))},a.extendKey="EndEventView",a})(Xe.CircleNode);var oE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ap=function(){return Ap=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Ap.apply(this,arguments)};(function(i){oE(a,i);function a(u,c){var o=this;return u.id||(u.id="Gateway_"+Fc()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=i.call(this,u,c)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return a.extendKey="ExclusiveGatewayModel",a})(Xe.PolygonNodeModel);(function(i){oE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getShape=function(){var u=this.props.model,c=u.x,o=u.y,d=u.width,h=u.height,m=u.points,v=u.getNodeStyle();return Xe.h("g",{transform:"matrix(1 0 0 1 "+(c-d/2)+" "+(o-h/2)+")"},Xe.h("polygon",Ap(Ap({},v),{x:c,y:o,points:m})),Xe.h("path",Ap({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},a.extendKey="ExclusiveGatewayNode",a})(Xe.PolygonNode);var iE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),fy=function(){return fy=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},fy.apply(this,arguments)};(function(i){iE(a,i);function a(u,c){var o=this;return u.id||(u.id="Activity_"+Fc()),o=i.call(this,u,c)||this,o}return a.extendKey="UserTaskModel",a})(Xe.RectNodeModel);(function(i){iE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,o=u.y,d=u.width,h=u.height,m=u.getNodeStyle();return Xe.h("svg",{x:c-d/2+5,y:o-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Xe.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},a.prototype.getShape=function(){var u=this.props.model,c=u.x,o=u.y,d=u.width,h=u.height,m=u.radius,v=u.getNodeStyle();return Xe.h("g",{},[Xe.h("rect",fy(fy({},v),{x:c-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h})),this.getLabelShape()])},a.extendKey="UserTaskNode",a})(Xe.RectNode);var aE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),cb=function(){return cb=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},cb.apply(this,arguments)};(function(i){aE(a,i);function a(u,c){var o=this;return u.id||(u.id="Activity_"+Fc()),o=i.call(this,u,c)||this,o}return a.extendKey="ServiceTaskModel",a})(Xe.RectNodeModel);(function(i){aE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,o=u.y,d=u.width,h=u.height,m=u.getNodeStyle();return Xe.h("svg",{x:c-d/2+5,y:o-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Xe.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},a.prototype.getShape=function(){var u=this.props.model,c=u.x,o=u.y,d=u.width,h=u.height,m=u.radius,v=u.getNodeStyle();return Xe.h("g",{},[Xe.h("rect",cb({x:c-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h},v)),this.getLabelShape()])},a.extendKey="ServiceTaskNode",a})(Xe.RectNode);var uE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(i){uE(a,i);function a(u,c){var o=this;return u.id||(u.id="Flow_"+Fc()),o=i.call(this,u,c)||this,o}return a.extendKey="SequenceFlowModel",a})(Xe.PolylineEdgeModel);(function(i){uE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.extendKey="SequenceFlowEdge",a})(Xe.PolylineEdge);var OO={width:40,height:40},wO={width:40,height:40},xO={width:40,height:40},EO={width:100,height:80},SO={width:100,height:80},w4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var c=Math.random()*16|0,o=u==="x"?c:c&3|8;return o.toString(16)});return a},i.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},i}(),x4=(globalThis==null?void 0:globalThis._ids)||new w4;function jO(){return x4.next()}function sE(i){return Object.prototype.toString.call(i)}function E4(i){return"  ".repeat(i)}function py(i){var a=i;return sE(i)==="[object Object]"?(a={},Object.keys(i).forEach(function(u){var c=u;u.charAt(0)==="-"&&(c=u.substring(1)),a[c]=py(i[u])})):Array.isArray(i)&&(a=[],i.forEach(function(u,c){a[c]=py(u)})),a}function S4(i){var a=i;try{typeof a!="string"&&(a=JSON.parse(i))}catch{a=JSON.stringify(py(i)).replace(/"/g,"'")}return a}var wc=`	
`;function ry(i,a,u){var c=E4(u),o="";if(a==="#text")return wc+c+i;if(a==="#cdata-section")return wc+c+"<![CDATA["+i+"]]>";if(a==="#comment")return wc+c+"<!--"+i+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+S4(i)+'"';if(Array.isArray(i))i.forEach(function(v){o+=ry(v,a,u+1)});else if(sE(i)==="[object Object]"){var d=Object.keys(i),h="",m="";o+=(u===0?"":wc+c)+"<"+a,d.forEach(function(v){v.charAt(0)==="-"?h+=ry(i[v],v,u+1):m+=ry(i[v],v,u+1)}),o+=h+(m!==""?">"+m+(wc+c)+"</"+a+">":" />")}else o+=wc+c+("<"+a+">"+i.toString()+"</"+a+">");return o}function j4(i){var a="";for(var u in i)a+=ry(i[u],u,0);return a}var mo=function(){};mo.ObjTree=function(){return this};mo.ObjTree.VERSION="0.23";mo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;mo.ObjTree.prototype.attr_prefix="-";mo.ObjTree.prototype.parseXML=function(i){var a;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(i,"application/xml");if(!c)return;a=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(i),a=u.documentElement);if(a)return this.parseDOM(a)};mo.ObjTree.prototype.parseHTTP=function(i,a,u){var c={};for(var o in a)c[o]=a[o];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var d=this,h=u,m=c.onComplete;c.onComplete=function(S){var j;S&&S.responseXML&&S.responseXML.documentElement&&(j=d.parseDOM(S.responseXML.documentElement)),h(j,S),m&&m(S)}}else c.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){c.uri=i;var x=new HTTP.Request(c);x&&(v=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(i,c);x&&(v=x.transport)}if(u)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};mo.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(i);if(this.__force_array[i.nodeName]&&(u=[u]),i.nodeType!=11){var c={};c[i.nodeName]=u,u=c}return u}};mo.ObjTree.prototype.parseElement=function(i){if(i.nodeType!=7){if(i.nodeType==3||i.nodeType==4||i.nodeType==8){var a=i.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:i.nodeValue}var u=null,c={};if(i.attributes&&i.attributes.length){u={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch{h=i.attributes[o].nodeValue}h&&(d=this.attr_prefix+d,typeof c[d]>"u"&&(c[d]=0),c[d]++,this.addNode(u,d,c[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var v=i.childNodes[o].nodeType;v==3||v==4||v==8||(m=!1)}if(m){u||(u="");for(var o=0;o<i.childNodes.length;o++)u+=i.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof c[d]>"u"&&(c[d]=0),c[d]++,this.addNode(u,d,c[d],h))}}}}else u===null&&(u={});return u}};mo.ObjTree.prototype.addNode=function(i,a,u,c){this.__force_array[a]?(u==1&&(i[a]=[]),i[a][i[a].length]=c):u==1?i[a]=c:u==2?i[a]=[i[a],c]:i[a][i[a].length]=c};mo.ObjTree.prototype.writeXML=function(i){var a=this.hash_to_xml(null,i);return this.xmlDecl+a};mo.ObjTree.prototype.hash_to_xml=function(i,a){var u=[],c=[];for(var o in a)if(a.hasOwnProperty(o)){var d=a[o];o.charAt(0)!=this.attr_prefix?typeof d>"u"||d==null?u[u.length]="<"+o+" />":typeof d=="object"&&d.constructor==Array?u[u.length]=this.array_to_xml(o,d):typeof d=="object"?u[u.length]=this.hash_to_xml(o,d):u[u.length]=this.scalar_to_xml(o,d):c[c.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=c.join(""),m=u.join("");return typeof i>"u"||i==null||(u.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};mo.ObjTree.prototype.array_to_xml=function(i,a){for(var u=[],c=0;c<a.length;c++){var o=a[c];typeof o>"u"||o==null?u[u.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?u[u.length]=this.array_to_xml(i,o):typeof o=="object"?u[u.length]=this.hash_to_xml(i,o):u[u.length]=this.scalar_to_xml(i,o)}return u.join("")};mo.ObjTree.prototype.scalar_to_xml=function(i,a){return i=="#text"?this.xml_escape(a):"<"+i+">"+this.xml_escape(a)+"</"+i+`>
`};mo.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var A4=function(i){return new mo.ObjTree().parseXML(i)},P4=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),fb=function(){return fb=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},fb.apply(this,arguments)},Ly=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var c=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=c.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d},ya;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow"})(ya||(ya={}));var lE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],AO=["properties","startPoint","endPoint","pointsList"];function PO(i){var a=i?AO.concat(i):AO;return function(u){function c(o){var d={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(h){return c(h)}):(Object.entries(o).forEach(function(h){var m=Ly(h,2),v=m[0],x=m[1];typeof x!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?d[v]=x:d["-"+v]=x:a.includes(v)?d["-"+v]=c(x):d[v]=c(x)}),d)}return c(u)}}function dy(i){var a={};return Object.entries(i).forEach(function(u){var c=Ly(u,2),o=c[0],d=c[1];o.indexOf("-")===0?a[o.substring(1)]=py(d):typeof d=="string"?a[o]=d:Object.prototype.toString.call(d)==="[object Object]"?a[o]=dy(d):Array.isArray(d)?a[o]=d.map(function(h){return dy(h)}):a[o]=d}),a}function M4(i,a,u){var c=new Map;a.nodes.forEach(function(d){var h,m={"-id":d.id};if(!((h=d.text)===null||h===void 0)&&h.value&&(m["-name"]=d.text.value),d.properties){var v=PO(u)(d.properties);Object.assign(m,v)}c.set(d.id,m),i[d.type]?Array.isArray(i[d.type])?i[d.type].push(m):i[d.type]=[i[d.type],m]:i[d.type]=m});var o=a.edges.map(function(d){var h,m,v=c.get(d.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(d.id):v["bpmn:incoming"]=[v["bpmn:incoming"],d.id]:v["bpmn:incoming"]=d.id;var x={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((h=d.text)===null||h===void 0)&&h.value&&(x["-name"]=(m=d.text)===null||m===void 0?void 0:m.value),d.properties){var S=PO(u)(d.properties);Object.assign(x,S)}return x});a.edges.forEach(function(d){var h=c.get(d.sourceNodeId);h["bpmn:outgoing"]?Array.isArray(h["bpmn:outgoing"])?h["bpmn:outgoing"].push(d.id):h["bpmn:outgoing"]=[h["bpmn:outgoing"],d.id]:h["bpmn:outgoing"]=d.id}),i[ya.FLOW]=o}function k4(i,a){i["bpmndi:BPMNEdge"]=a.edges.map(function(u){var c,o=u.id,d=u.pointsList.map(function(m){var v=m.x,x=m.y;return{"-x":v,"-y":x}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((c=u.text)===null||c===void 0)&&c.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=a.nodes.map(function(u){var c,o=u.id,d=100,h=80,m=u.x,v=u.y,x=Hu.shapeConfigMap.get(u.type);x&&(d=x.width,h=x.height),m-=d/2,v-=h/2;var S={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":v,"-width":d,"-height":h}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function T4(i){var a=[],u=[],c=i["bpmn:definitions"];if(c){var o=c["bpmn:process"];Object.keys(o).forEach(function(d){if(d.indexOf("bpmn:")===0){var h=o[d];if(d===ya.FLOW){var m=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=D4(h,m)}else{var v=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];a=a.concat(N4(h,v,d))}}})}return{nodes:a,edges:u}}function N4(i,a,u){var c=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(a)?m=a.find(function(x){return x["-bpmnElement"]===h["-id"]}):m=a;var v=MO(m,u,h);c.push(v)});else{var o=void 0;Array.isArray(a)?o=a.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=a;var d=MO(o,u,i);c.push(d)}return c}function MO(i,a,u){var c=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=u["-name"],h=Hu.shapeConfigMap.get(a);h&&(c+=h.width/2,o+=h.height/2);var m;Object.entries(u).forEach(function(j){var P=Ly(j,2),k=P[0],D=P[1];lE.indexOf(k)===-1&&(m||(m={}),m[k]=D)}),m&&(m=dy(m));var v;if(d&&(v={x:c,y:o,value:d},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=i["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(x["-x"])+Number(x["-width"])/2,v.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:i["-bpmnElement"],type:a,x:c,y:o,properties:m};return v&&(S.text=v),S}function D4(i,a){var u=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(a)?d=a.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=a,u.push(kO(d,o))});else{var c=void 0;Array.isArray(a)?c=a.find(function(o){return o["-bpmnElement"]===i["-id"]}):c=a,u.push(kO(c,i))}return u}function kO(i,a){var u,c=a["-name"];if(c){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;c.split(`
`).forEach(function(v){d<v.length&&(d=v.length)}),u={value:c,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h;Object.entries(a).forEach(function(v){var x=Ly(v,2),S=x[0],j=x[1];lE.indexOf(S)===-1&&(h||(h={}),h[S]=j)}),h&&(h=dy(h));var m={id:a["-id"],type:ya.FLOW,pointsList:i["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:h};return u&&(m.text=u),m}var Hu=function(){function i(a){var u=this,c=a.lf;this.adapterOut=function(o,d){var h=fb({},u.processAttributes);M4(h,o,d);var m={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};k4(m,o);var v=u.definitionAttributes;v["bpmn:process"]=h,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var x={"bpmn:definitions":v};return x},this.adapterIn=function(o){if(o)return T4(o)},c.adapterIn=function(o){return u.adapterIn(o)},c.adapterOut=function(o,d){return u.adapterOut(o,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+jO()},this.definitionAttributes={"-id":"Definitions_"+jO(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return i.prototype.setCustomShape=function(a,u){i.shapeConfigMap.set(a,u)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();Hu.shapeConfigMap.set(ya.START,{width:OO.width,height:OO.height});Hu.shapeConfigMap.set(ya.END,{width:wO.width,height:wO.height});Hu.shapeConfigMap.set(ya.GATEWAY,{width:xO.width,height:xO.height});Hu.shapeConfigMap.set(ya.SYSTEM,{width:EO.width,height:EO.height});Hu.shapeConfigMap.set(ya.USER,{width:SO.width,height:SO.height});(function(i){P4(a,i);function a(u){var c=i.call(this,u)||this;c.adapterXmlIn=function(d){var h=A4(d);return c.adapterIn(h)},c.adapterXmlOut=function(d,h){var m=c.adapterOut(d,h);return j4(m)};var o=u.lf;return o.adapterIn=c.adapterXmlIn,o.adapterOut=c.adapterXmlOut,c}return a.pluginName="bpmnXmlAdapter",a})(Hu);var C4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var c=Math.random()*16|0,o=u==="x"?c:c&3|8;return o.toString(16)});return a},i.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},i}(),R4=(globalThis==null?void 0:globalThis._ids)||new C4;function I4(){return R4.next()}Xe.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Xe.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Xe.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Xe.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});Xe.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var t0,yr,cE,Ks,TO,fE,pb,n0,db,hb,yb={},pE=[],L4=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,r0=Array.isArray;function zu(i,a){for(var u in a)i[u]=a[u];return i}function dE(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function Pp(i,a,u){var c,o,d,h={};for(d in a)d=="key"?c=a[d]:d=="ref"?o=a[d]:h[d]=a[d];if(arguments.length>2&&(h.children=arguments.length>3?t0.call(arguments,2):u),typeof i=="function"&&i.defaultProps!=null)for(d in i.defaultProps)h[d]===void 0&&(h[d]=i.defaultProps[d]);return oy(i,h,c,o,null)}function oy(i,a,u,c,o){var d={type:i,props:a,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++cE,__i:-1,__u:0};return o==null&&yr.vnode!=null&&yr.vnode(d),d}function o0(i){return i.children}function Pc(i,a){this.props=i,this.context=a}function Tc(i,a){if(a==null)return i.__?Tc(i.__,i.__i+1):null;for(var u;a<i.__k.length;a++)if((u=i.__k[a])!=null&&u.__e!=null)return u.__e;return typeof i.type=="function"?Tc(i):null}function hE(i){var a,u;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,a=0;a<i.__k.length;a++)if((u=i.__k[a])!=null&&u.__e!=null){i.__e=i.__c.base=u.__e;break}return hE(i)}}function NO(i){(!i.__d&&(i.__d=!0)&&Ks.push(i)&&!hy.__r++||TO!==yr.debounceRendering)&&((TO=yr.debounceRendering)||fE)(hy)}function hy(){var i,a,u,c,o,d,h,m;for(Ks.sort(pb);i=Ks.shift();)i.__d&&(a=Ks.length,c=void 0,d=(o=(u=i).__v).__e,h=[],m=[],u.__P&&((c=zu({},o)).__v=o.__v+1,yr.vnode&&yr.vnode(c),gE(u.__P,c,o,u.__n,u.__P.namespaceURI,32&o.__u?[d]:null,h,d??Tc(o),!!(32&o.__u),m),c.__v=o.__v,c.__.__k[c.__i]=c,F4(h,c,m),c.__e!=d&&hE(c)),Ks.length>a&&Ks.sort(pb));hy.__r=0}function yE(i,a,u,c,o,d,h,m,v,x,S){var j,P,k,D,N,R=c&&c.__k||pE,W=a.length;for(u.__d=v,z4(u,a,R),v=u.__d,j=0;j<W;j++)(k=u.__k[j])!=null&&(P=k.__i===-1?yb:R[k.__i]||yb,k.__i=j,gE(i,k,P,o,d,h,m,v,x,S),D=k.__e,k.ref&&P.ref!=k.ref&&(P.ref&&i0(P.ref,null,k),S.push(k.ref,k.__c||D,k)),N==null&&D!=null&&(N=D),65536&k.__u||P.__k===k.__k?v=vE(k,v,i):typeof k.type=="function"&&k.__d!==void 0?v=k.__d:D&&(v=D.nextSibling),k.__d=void 0,k.__u&=-196609);u.__d=v,u.__e=N}function z4(i,a,u){var c,o,d,h,m,v=a.length,x=u.length,S=x,j=0;for(i.__k=[],c=0;c<v;c++)(o=a[c])!=null&&typeof o!="boolean"&&typeof o!="function"?(h=c+j,(o=i.__k[c]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?oy(null,o,null,null,null):r0(o)?oy(o0,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?oy(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=i,o.__b=i.__b+1,d=null,(m=o.__i=B4(o,u,h,S))!==-1&&(S--,(d=u[m])&&(d.__u|=131072)),d==null||d.__v===null?(m==-1&&j--,typeof o.type!="function"&&(o.__u|=65536)):m!==h&&(m==h-1?j--:m==h+1?j++:(m>h?j--:j++,o.__u|=65536))):o=i.__k[c]=null;if(S)for(c=0;c<x;c++)(d=u[c])!=null&&!(131072&d.__u)&&(d.__e==i.__d&&(i.__d=Tc(d)),mE(d,d))}function vE(i,a,u){var c,o;if(typeof i.type=="function"){for(c=i.__k,o=0;c&&o<c.length;o++)c[o]&&(c[o].__=i,a=vE(c[o],a,u));return a}i.__e!=a&&(a&&i.type&&!u.contains(a)&&(a=Tc(i)),u.insertBefore(i.__e,a||null),a=i.__e);do a=a&&a.nextSibling;while(a!=null&&a.nodeType===8);return a}function B4(i,a,u,c){var o=i.key,d=i.type,h=u-1,m=u+1,v=a[u];if(v===null||v&&o==v.key&&d===v.type&&!(131072&v.__u))return u;if(c>(v!=null&&!(131072&v.__u)?1:0))for(;h>=0||m<a.length;){if(h>=0){if((v=a[h])&&!(131072&v.__u)&&o==v.key&&d===v.type)return h;h--}if(m<a.length){if((v=a[m])&&!(131072&v.__u)&&o==v.key&&d===v.type)return m;m++}}return-1}function DO(i,a,u){a[0]==="-"?i.setProperty(a,u??""):i[a]=u==null?"":typeof u!="number"||L4.test(a)?u:u+"px"}function ey(i,a,u,c,o){var d;e:if(a==="style")if(typeof u=="string")i.style.cssText=u;else{if(typeof c=="string"&&(i.style.cssText=c=""),c)for(a in c)u&&a in u||DO(i.style,a,"");if(u)for(a in u)c&&u[a]===c[a]||DO(i.style,a,u[a])}else if(a[0]==="o"&&a[1]==="n")d=a!==(a=a.replace(/(PointerCapture)$|Capture$/i,"$1")),a=a.toLowerCase()in i||a==="onFocusOut"||a==="onFocusIn"?a.toLowerCase().slice(2):a.slice(2),i.l||(i.l={}),i.l[a+d]=u,u?c?u.u=c.u:(u.u=n0,i.addEventListener(a,d?hb:db,d)):i.removeEventListener(a,d?hb:db,d);else{if(o=="http://www.w3.org/2000/svg")a=a.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(a!="width"&&a!="height"&&a!="href"&&a!="list"&&a!="form"&&a!="tabIndex"&&a!="download"&&a!="rowSpan"&&a!="colSpan"&&a!="role"&&a!="popover"&&a in i)try{i[a]=u??"";break e}catch{}typeof u=="function"||(u==null||u===!1&&a[4]!=="-"?i.removeAttribute(a):i.setAttribute(a,a=="popover"&&u==1?"":u))}}function CO(i){return function(a){if(this.l){var u=this.l[a.type+i];if(a.t==null)a.t=n0++;else if(a.t<u.u)return;return u(yr.event?yr.event(a):a)}}}function gE(i,a,u,c,o,d,h,m,v,x){var S,j,P,k,D,N,R,W,G,K,oe,re,Z,Q,$,F,H=a.type;if(a.constructor!==void 0)return null;128&u.__u&&(v=!!(32&u.__u),d=[m=a.__e=u.__e]),(S=yr.__b)&&S(a);e:if(typeof H=="function")try{if(W=a.props,G="prototype"in H&&H.prototype.render,K=(S=H.contextType)&&c[S.__c],oe=S?K?K.props.value:S.__:c,u.__c?R=(j=a.__c=u.__c).__=j.__E:(G?a.__c=j=new H(W,oe):(a.__c=j=new Pc(W,oe),j.constructor=H,j.render=W4),K&&K.sub(j),j.props=W,j.state||(j.state={}),j.context=oe,j.__n=c,P=j.__d=!0,j.__h=[],j._sb=[]),G&&j.__s==null&&(j.__s=j.state),G&&H.getDerivedStateFromProps!=null&&(j.__s==j.state&&(j.__s=zu({},j.__s)),zu(j.__s,H.getDerivedStateFromProps(W,j.__s))),k=j.props,D=j.state,j.__v=a,P)G&&H.getDerivedStateFromProps==null&&j.componentWillMount!=null&&j.componentWillMount(),G&&j.componentDidMount!=null&&j.__h.push(j.componentDidMount);else{if(G&&H.getDerivedStateFromProps==null&&W!==k&&j.componentWillReceiveProps!=null&&j.componentWillReceiveProps(W,oe),!j.__e&&(j.shouldComponentUpdate!=null&&j.shouldComponentUpdate(W,j.__s,oe)===!1||a.__v===u.__v)){for(a.__v!==u.__v&&(j.props=W,j.state=j.__s,j.__d=!1),a.__e=u.__e,a.__k=u.__k,a.__k.some(function(Y){Y&&(Y.__=a)}),re=0;re<j._sb.length;re++)j.__h.push(j._sb[re]);j._sb=[],j.__h.length&&h.push(j);break e}j.componentWillUpdate!=null&&j.componentWillUpdate(W,j.__s,oe),G&&j.componentDidUpdate!=null&&j.__h.push(function(){j.componentDidUpdate(k,D,N)})}if(j.context=oe,j.props=W,j.__P=i,j.__e=!1,Z=yr.__r,Q=0,G){for(j.state=j.__s,j.__d=!1,Z&&Z(a),S=j.render(j.props,j.state,j.context),$=0;$<j._sb.length;$++)j.__h.push(j._sb[$]);j._sb=[]}else do j.__d=!1,Z&&Z(a),S=j.render(j.props,j.state,j.context),j.state=j.__s;while(j.__d&&++Q<25);j.state=j.__s,j.getChildContext!=null&&(c=zu(zu({},c),j.getChildContext())),G&&!P&&j.getSnapshotBeforeUpdate!=null&&(N=j.getSnapshotBeforeUpdate(k,D)),yE(i,r0(F=S!=null&&S.type===o0&&S.key==null?S.props.children:S)?F:[F],a,u,c,o,d,h,m,v,x),j.base=a.__e,a.__u&=-161,j.__h.length&&h.push(j),R&&(j.__E=j.__=null)}catch(Y){if(a.__v=null,v||d!=null){for(a.__u|=v?160:32;m&&m.nodeType===8&&m.nextSibling;)m=m.nextSibling;d[d.indexOf(m)]=null,a.__e=m}else a.__e=u.__e,a.__k=u.__k;yr.__e(Y,a,u)}else d==null&&a.__v===u.__v?(a.__k=u.__k,a.__e=u.__e):a.__e=U4(u.__e,a,u,c,o,d,h,v,x);(S=yr.diffed)&&S(a)}function F4(i,a,u){a.__d=void 0;for(var c=0;c<u.length;c++)i0(u[c],u[++c],u[++c]);yr.__c&&yr.__c(a,i),i.some(function(o){try{i=o.__h,o.__h=[],i.some(function(d){d.call(o)})}catch(d){yr.__e(d,o.__v)}})}function U4(i,a,u,c,o,d,h,m,v){var x,S,j,P,k,D,N,R=u.props,W=a.props,G=a.type;if(G==="svg"?o="http://www.w3.org/2000/svg":G==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),d!=null){for(x=0;x<d.length;x++)if((k=d[x])&&"setAttribute"in k==!!G&&(G?k.localName===G:k.nodeType===3)){i=k,d[x]=null;break}}if(i==null){if(G===null)return document.createTextNode(W);i=document.createElementNS(o,G,W.is&&W),m&&(yr.__m&&yr.__m(a,d),m=!1),d=null}if(G===null)R===W||m&&i.data===W||(i.data=W);else{if(d=d&&t0.call(i.childNodes),R=u.props||yb,!m&&d!=null)for(R={},x=0;x<i.attributes.length;x++)R[(k=i.attributes[x]).name]=k.value;for(x in R)if(k=R[x],x!="children"){if(x=="dangerouslySetInnerHTML")j=k;else if(!(x in W)){if(x=="value"&&"defaultValue"in W||x=="checked"&&"defaultChecked"in W)continue;ey(i,x,null,k,o)}}for(x in W)k=W[x],x=="children"?P=k:x=="dangerouslySetInnerHTML"?S=k:x=="value"?D=k:x=="checked"?N=k:m&&typeof k!="function"||R[x]===k||ey(i,x,k,R[x],o);if(S)m||j&&(S.__html===j.__html||S.__html===i.innerHTML)||(i.innerHTML=S.__html),a.__k=[];else if(j&&(i.innerHTML=""),yE(i,r0(P)?P:[P],a,u,c,G==="foreignObject"?"http://www.w3.org/1999/xhtml":o,d,h,d?d[0]:u.__k&&Tc(u,0),m,v),d!=null)for(x=d.length;x--;)dE(d[x]);m||(x="value",G==="progress"&&D==null?i.removeAttribute("value"):D!==void 0&&(D!==i[x]||G==="progress"&&!D||G==="option"&&D!==R[x])&&ey(i,x,D,R[x],o),x="checked",N!==void 0&&N!==i[x]&&ey(i,x,N,R[x],o))}return i}function i0(i,a,u){try{if(typeof i=="function"){var c=typeof i.__u=="function";c&&i.__u(),c&&a==null||(i.__u=i(a))}else i.current=a}catch(o){yr.__e(o,u)}}function mE(i,a,u){var c,o;if(yr.unmount&&yr.unmount(i),(c=i.ref)&&(c.current&&c.current!==i.__e||i0(c,null,a)),(c=i.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(d){yr.__e(d,a)}c.base=c.__P=null}if(c=i.__k)for(o=0;o<c.length;o++)c[o]&&mE(c[o],a,u||typeof i.type!="function");u||dE(i.__e),i.__c=i.__=i.__e=i.__d=void 0}function W4(i,a,u){return this.constructor(i,u)}t0=pE.slice,yr={__e:function(i,a,u,c){for(var o,d,h;a=a.__;)if((o=a.__c)&&!o.__)try{if((d=o.constructor)&&d.getDerivedStateFromError!=null&&(o.setState(d.getDerivedStateFromError(i)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(i,c||{}),h=o.__d),h)return o.__E=o}catch(m){i=m}throw i}},cE=0,Pc.prototype.setState=function(i,a){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zu({},this.state),typeof i=="function"&&(i=i(zu({},u),this.props)),i&&zu(u,i),i!=null&&this.__v&&(a&&this._sb.push(a),NO(this))},Pc.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),NO(this))},Pc.prototype.render=o0,Ks=[],fE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,pb=function(i,a){return i.__v.__b-a.__v.__b},hy.__r=0,n0=0,db=CO(!1),hb=CO(!0);var Mp=function(){return Mp=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Mp.apply(this,arguments)};function a0(i){var a=i.x,u=i.y,c=i.width,o=i.height,d=i.radius,h=i.className,m=a-c/2,v=u-o/2,x=Mp(Mp({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},i),{x:m,y:v});return Xe.h("rect",Mp({},x))}a0.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ec;(function(i){i.NODE="node",i.CIRCLE_NODE="circle-node",i.POLYGON_NODE="polygon-node",i.RECT_NODE="rect-node",i.HTML_NODE="html-node",i.TEXT_NODE="text-node",i.ELLIPSE_NODE="ellipse-node",i.DIAMOND_NODE="diamond-node",i.EDGE="edge",i.LINE_EDGE="line-edge",i.POLYLINE_EDGE="polyline-edge",i.BEZIER_EDGE="bezier-edge",i.GRAPH="graph"})(Ec||(Ec={}));var G4=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),qs=function(){return qs=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},qs.apply(this,arguments)},V4=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var c=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=c.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d},$4=Xe.LogicFlowUtil.StepDrag,H4=function(i){G4(a,i);function a(u){var c=i.call(this)||this;return c.updatePosition=function(o){var d=o.deltaX,h=o.deltaY,m=c.nodeModel,v=m.x,x=m.y;c.nodeModel.x=v+d/2,c.nodeModel.y=x+h/2,c.nodeModel.moveText(d/2,h/2)},c.getResize=function(o){var d=o.index,h=o.deltaX,m=o.deltaY,v=o.width,x=o.height,S=o.PCTResizeInfo,j=o.pct,P=j===void 0?1:j,k=o.freezeWidth,D=k===void 0?!1:k,N=o.freezeHeight,R=N===void 0?!1:N,W={width:v,height:x,deltaX:h,deltaY:m};if(S){var G=4,K=0,oe=0;switch(d){case 0:oe=(h*-1-m)/G;break;case 1:oe=(h-m)/G;break;case 2:oe=(h+m)/G;break;case 3:oe=(h*-1+m)/G;break}oe!==0&&(K=Math.round(oe/S.ResizeBasis.basisHeight*1e5)/1e3),S.ResizePCT.widthPCT=Math.max(Math.min(S.ResizePCT.widthPCT+K,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit),S.ResizePCT.hightPCT=Math.max(Math.min(S.ResizePCT.hightPCT+K,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit);var re=Math.round(S.ResizePCT.widthPCT*S.ResizeBasis.basisWidth/100),Z=Math.round(S.ResizePCT.hightPCT*S.ResizeBasis.basisHeight/100);switch(d){case 0:h=v-re,m=x-Z;break;case 1:h=re-v,m=x-Z;break;case 2:h=re-v,m=Z-x;break;case 3:h=v-re,m=Z-x;break}return W.width=re,W.height=Z,W.deltaX=h/P,W.deltaY=m/P,W}switch(d){case 0:W.width=D?v:v-h*P,W.height=R?x:x-m*P;break;case 1:W.width=D?v:v+h*P,W.height=R?x:x-m*P;break;case 2:W.width=D?v:v+h*P,W.height=R?x:x+m*P;break;case 3:W.width=D?v:v-h*P,W.height=R?x:x+m*P;break}return W},c.updateEdgePointByAnchors=function(){var o=c.nodeModel,d=o.id,h=o.anchors,m=c.getNodeEdges(d);m.sourceEdges.forEach(function(v){var x=h.find(function(S){return S.id===v.sourceAnchorId});v.updateStartPoint({x:x.x,y:x.y})}),m.targetEdges.forEach(function(v){var x=h.find(function(S){return S.id===v.targetAnchorId});v.updateEndPoint({x:x.x,y:x.y})})},c.updateRect=function(o){var d=o.deltaX,h=o.deltaY,m=c.nodeModel,v=m.id,x=m.x,S=m.y,j=m.width,P=m.height,k=m.radius,D=m.PCTResizeInfo,N=c.nodeModel,R=N.minWidth,W=N.minHeight,G=N.maxWidth,K=N.maxHeight,oe=c.index,re=R===G,Z=W===K,Q=c.getResize({index:oe,deltaX:d,deltaY:h,width:j,height:P,PCTResizeInfo:D,pct:1,freezeWidth:re,freezeHeight:Z});if(Q.width<R||Q.width>G||Q.height<W||Q.height>K){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:re?0:Q.deltaX,deltaY:Z?0:Q.deltaY}),c.nodeModel.width=Q.width,c.nodeModel.height=Q.height,c.nodeModel.setProperties({nodeSize:{width:Q.width,height:Q.height}}),c.getNodeEdges(v);var $={x,y:S,width:j,height:P,radius:k},F={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:k};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:$,afterNode:F})},c.updateEllipse=function(o){var d=o.deltaX,h=o.deltaY,m=c.nodeModel,v=m.id,x=m.rx,S=m.ry,j=m.x,P=m.y,k=m.PCTResizeInfo,D=c.index,N=c.nodeModel,R=N.minWidth,W=N.minHeight,G=N.maxWidth,K=N.maxHeight,oe=R===G,re=W===K,Z=x,Q=S,$=c.getResize({index:D,deltaX:d,deltaY:h,width:Z,height:Q,PCTResizeInfo:k,pct:1/2,freezeWidth:oe,freezeHeight:re});if($.width<R/2||$.width>G/2||$.height<W/2||$.height>K/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:oe?0:$.deltaX,deltaY:re?0:$.deltaY}),c.nodeModel.rx=$.width,c.nodeModel.ry=$.height,c.nodeModel.setProperties({nodeSize:{rx:$.width,ry:$.height}}),c.getNodeEdges(v);var F={x:j,y:P},H={rx:$.width,ry:$.height,x:c.nodeModel.x,y:c.nodeModel.y};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:qs(qs({},F),{rx:x,ry:S}),afterNode:H})},c.updateDiamond=function(o){var d=o.deltaX,h=o.deltaY,m=c.nodeModel;m.id;var v=m.rx,x=m.ry,S=m.x,j=m.y,P=m.PCTResizeInfo,k=c.index,D=c.nodeModel,N=D.minWidth,R=D.minHeight,W=D.maxWidth,G=D.maxHeight,K=N===W,oe=R===G,re=v,Z=x,Q=c.getResize({index:k,deltaX:d,deltaY:h,width:re,height:Z,PCTResizeInfo:P,pct:1/2,freezeWidth:K,freezeHeight:oe});if(Q.width<N/2||Q.width>W/2||Q.height<R/2||Q.height>G/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:K?0:Q.deltaX,deltaY:oe?0:Q.deltaY}),c.nodeModel.rx=Q.width,c.nodeModel.ry=Q.height,c.nodeModel.setProperties({nodeSize:{rx:Q.width,ry:Q.height}});var $={x:S,y:j,rx:v,ry:x},F={rx:Q.width,ry:Q.height,x:c.nodeModel.x,y:c.nodeModel.y};c.updateEdgePointByAnchors(),c.eventEmit({beforeNode:$,afterNode:F})},c.eventEmit=function(o){var d=o.beforeNode,h=o.afterNode,m=c.nodeModel,v=m.id,x=m.modelType,S=m.type,j=qs({id:v,modelType:x,type:S},d),P=qs({id:v,modelType:x,type:S},h);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:j,newNodeSize:P})},c.onDragging=function(o){var d,h=o.deltaX,m=o.deltaY,v=c.graphModel.transformModel,x=c.nodeModel.modelType;d=V4(v.fixDeltaXY(h,m),2),h=d[0],m=d[1],x===Ec.RECT_NODE||x===Ec.HTML_NODE?c.updateRect({deltaX:h,deltaY:m}):x===Ec.ELLIPSE_NODE?c.updateEllipse({deltaX:h,deltaY:m}):x===Ec.DIAMOND_NODE&&c.updateDiamond({deltaX:h,deltaY:m})},c.onDragEnd=function(){var o=c.graphModel.gridSize,d=o===void 0?1:o,h=d*Math.round(c.nodeModel.x/d),m=d*Math.round(c.nodeModel.y/d);c.nodeModel.moveTo(h,m),c.updateEdgePointByAnchors()},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new $4({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:1}),c}return a.prototype.getNodeEdges=function(u){for(var c=this.graphModel,o=c.edges,d=[],h=[],m=0;m<o.length;m++){var v=o[m];v.sourceNodeId===u?d.push(v):o[m].targetNodeId===u&&h.push(v)}return{sourceEdges:d,targetEdges:h}},a.prototype.render=function(){var u=this.props,c=u.x,o=u.y,d=u.index,h=u.model,m=h.getControlPointStyle();return Pp("g",{className:"lf-resize-control-"+d},Pp(a0,qs({className:"lf-node-control"},{x:c,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},a}(Pc),X4=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),yy=function(){return yy=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},yy.apply(this,arguments)},zy=function(i){X4(a,i);function a(){var u=i.call(this)||this;return u.state={},u}return a.prototype.getResizeControl=function(){var u=this.props,c=u.model,o=u.graphModel,d=c.x,h=c.y,m=c.width,v=c.height,x={minX:d-m/2,minY:h-v/2,maxX:d+m/2,maxY:h+v/2},S=x.minX,j=x.minY,P=x.maxX,k=x.maxY,D=[{x:S,y:j},{x:P,y:j},{x:P,y:k},{x:S,y:k}];return D.map(function(N,R){return Pp(H4,yy({index:R},N,{model:c,graphModel:o}))})},a.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,o=u.y,d=u.width,h=u.height,m=u.getResizeOutlineStyle();return Pp(a0,yy({fill:"none"},m,{x:c,y:o,width:d,height:h}))},a.prototype.render=function(){return Pp("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},a}(Pc),bE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Y4=function(i){bE(a,i);function a(u,c){var o=i.call(this,u,c)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.resize=function(u,c){console.log(u,c)},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a}(Xe.RectNodeModel),K4=function(i){bE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,c=u.model,o=u.graphModel;return Xe.h(zy,{model:c,graphModel:o})},a.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Xe.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},a}(Xe.RectNode),_E={type:"rect",view:K4,model:Y4},OE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(i){OE(a,i);function a(u,c){var o=i.call(this,u,c)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Xe.EllipseNodeModel);(function(i){OE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,c=u.model,o=u.graphModel;return Xe.h(zy,{model:c,graphModel:o})},a.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,c=u.model,o=u.graphModel.editConfigModel.isSilentMode;return Xe.h("g",null,this.getResizeShape(),c.isSelected&&!o?this.getControlGroup():"")},a})(Xe.EllipseNode);var vb=function(){return vb=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},vb.apply(this,arguments)};function q4(i){var a=i.fillOpacity,u=a===void 0?1:a,c=i.strokeWidth,o=c===void 0?1:c,d=i.strokeOpacity,h=d===void 0?1:d,m=i.fill,v=m===void 0?"transparent":m,x=i.stroke,S=x===void 0?"#000":x,j=i.points,P=i.className,k=P===void 0?"lf-basic-shape":P,D={fill:v,fillOpacity:u,strokeWidth:o,stroke:S,strokeOpacity:h,points:"",className:k};return D.points=j.map(function(N){return N.join(",")}).join(" "),Xe.h("polygon",vb({},D))}var wE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),gb=function(){return gb=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},gb.apply(this,arguments)};(function(i){wE(a,i);function a(u,c){var o=i.call(this,u,c)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Xe.DiamondNodeModel);(function(i){wE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,c=u.model,o=u.graphModel;return Xe.h(zy,{model:c,graphModel:o})},a.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,o=u.getNodeStyle();return Xe.h("g",null,Xe.h(q4,gb({},o,{points:c})))},a.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Xe.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},a})(Xe.DiamondNode);var xE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(i){xE(a,i);function a(u,c){var o=i.call(this,u,c)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Xe.HtmlNodeModel);(function(i){xE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,c=u.model,o=u.graphModel;return Xe.h(zy,{model:c,graphModel:o})},a.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Xe.h("g",null,this.getResizeShape(),c&&!o?this.getControlGroup():"")},a})(Xe.HtmlNode);var EE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),vy=function(){return vy=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},vy.apply(this,arguments)},Z4=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var c=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=c.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d},J4=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(Z4(arguments[a]));return i},RO=500,IO=300,Q4=-1e4;(function(i){EE(a,i);function a(){var u=i!==null&&i.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=RO,u.unfoldedHight=IO,u.childrenLastFoldStatus={},u}return a.prototype.initNodeData=function(u){var c=this;i.prototype.initNodeData.call(this,u);var o=[];Array.isArray(u.children)&&(o=u.children),this.children=new Set(o),this.width=RO,this.height=IO,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=Q4,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},a.prototype.getResizeOutlineStyle=function(){var u=i.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},a.prototype.foldGroup=function(u){var c=this;if(u!==this.isFolded){this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var h=c.graphModel.getElement(d),m=h.isFolded;if(h.isGroup&&!h.isFolded&&h.foldGroup(u),h.isGroup&&!u){var v=c.childrenLastFoldStatus[d];v!==void 0&&v!==h.isFolded&&h.foldGroup(v)}c.childrenLastFoldStatus[d]=m,h.visible=!u,o=o.concat(h.incoming.edges.concat(h.outgoing.edges))}),this.foldEdge(u,o)}},a.prototype.getAnchorStyle=function(u){var c=i.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},a.prototype.foldEdge=function(u,c){var o=this;c.forEach(function(d,h){var m=d.id,v=d.sourceNodeId,x=d.targetNodeId,S=d.startPoint,j=d.endPoint,P=d.type,k=d.text,D=d.getProperties(),N={id:m+"__"+h,sourceNodeId:v,targetNodeId:x,startPoint:S,endPoint:j,type:P,properties:D,text:k==null?void 0:k.value};d.virtual&&o.graphModel.deleteEdgeById(d.id);var R=o.graphModel.group.getNodeGroup(x);R||(R=o.graphModel.getNodeModelById(x));var W=o.graphModel.group.getNodeGroup(v);W||(W=o.graphModel.getNodeModelById(v)),u&&d.visible!==!1&&(o.children.has(v)||o.id===v?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(R.id!==o.id||W.id!==o.id)&&o.createVirtualEdge(N),d.visible=!1),!u&&d.visible===!1&&(R&&R.isGroup&&R.isFolded?(N.targetNodeId=R.id,N.endPoint=void 0,o.createVirtualEdge(N)):W&&W.isGroup&&W.isFolded?(N.sourceNodeId=W.id,N.startPoint=void 0,o.createVirtualEdge(N)):d.visible=!0)})},a.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},a.prototype.isInRange=function(u){var c=u.x1,o=u.y1,d=u.x2,h=u.y2;return c>=this.x-this.width/2&&d<=this.x+this.width/2&&o>=this.y-this.height/2&&h<=this.y+this.height/2},a.prototype.isAllowMoveTo=function(u){var c=u.x1,o=u.y1,d=u.x2,h=u.y2;return{x:c>=this.x-this.width/2&&d<=this.x+this.width/2,y:o>=this.y-this.height/2&&h<=this.y+this.height/2}},a.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},a.prototype.addChild=function(u){this.children.add(u),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},a.prototype.removeChild=function(u){this.children.delete(u),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},a.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},a.prototype.getData=function(){var u=this,c=i.prototype.getData.call(this);c.children=[],this.children.forEach(function(d){var h=u.graphModel.getNodeModelById(d);h&&!h.virtual&&c.children.push(d)});var o=c.properties;return delete o.groupAddable,delete o.isFolded,c},a.prototype.getHistoryData=function(){var u=i.prototype.getData.call(this);u.children=J4(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},a.prototype.isAllowAppendIn=function(u){return!0},a.prototype.toBack=function(){this.zIndex--},a})(_E.model);(function(i){EE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,o=u.properties;return c&&!o.isFolded?i.prototype.getControlGroup.call(this):null},a.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,o=u.height,d=u.x,h=u.y,m=u.radius,v=u.properties;if(!v.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),j=c+x+8,P=o+x+8;return Xe.h("rect",vy(vy({},S),{width:j,height:P,x:d-j/2,y:h-P/2,rx:m,ry:m}))},a.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,o=u.y-u.height/2+5;if(!u.foldable)return null;var d=Xe.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(o+6)+" "+(c+11)+","+(o+6)+" M"+(c+7)+","+(o+2)+" "+(c+7)+","+(o+10):"M "+(c+3)+","+(o+6)+" "+(c+11)+","+(o+6)+" "});return Xe.h("g",{},[Xe.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),d])},a.prototype.getResizeShape=function(){return Xe.h("g",{},[this.getAddableShape(),i.prototype.getResizeShape.call(this),this.getFoldIcon()])},a})(_E.view);var LO=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),kp=function(){return kp=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},kp.apply(this,arguments)};function eL(i){var a=function(c){LO(o,c);function o(d,h){var m=this;d.id||(d.id="Flow_"+I4());var v=kp(kp(kp({},{}),d.properties),{isDefaultFlow:!1});return d.properties=v,m=c.call(this,d,h)||this,m}return o.extendKey="SequenceFlowModel",o}(Xe.PolylineEdgeModel),u=function(c){LO(o,c);function o(){return c!==null&&c.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var d=this.props.model,h=d.properties.isDefaultFlow;return h?Xe.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Xe.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Xe.PolylineEdge);return{type:"bpmn:sequenceFlow",view:u,model:a}}eL();var zO={width:40,height:40},BO={width:40,height:40},FO={width:100,height:80},gy={width:100,height:80},UO={width:100,height:80},WO={width:100,height:80},GO={width:100,height:80},VO={width:100,height:80},$O={width:100,height:80},HO={width:100,height:80},bo=function(){};bo.ObjTree=function(){return this};bo.ObjTree.VERSION="0.23";bo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;bo.ObjTree.prototype.attr_prefix="-";bo.ObjTree.prototype.parseXML=function(i){var a;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(i,"application/xml");if(!c)return;a=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(i),a=u.documentElement);if(a){var o=this.parseDOM(a);return o}};bo.ObjTree.prototype.parseHTTP=function(i,a,u){var c={};for(var o in a)c[o]=a[o];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var d=this,h=u,m=c.onComplete;c.onComplete=function(S){var j;S&&S.responseXML&&S.responseXML.documentElement&&(j=d.parseDOM(S.responseXML.documentElement)),h(j,S),m&&m(S)}}else c.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){c.uri=i;var x=new HTTP.Request(c);x&&(v=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(i,c);x&&(v=x.transport)}if(u)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};bo.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(i);if(this.__force_array[i.nodeName]&&(u=[u]),i.nodeType!==11){var c={};c[i.nodeName]=u,u=c}return u}};bo.ObjTree.prototype.parseElement=function(i){if(i.nodeType!==7){if(i.nodeType===3||i.nodeType===4||i.nodeType===8){var a=i.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:i.nodeValue}var u=null,c={};if(i.attributes&&i.attributes.length){u={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch{h=i.attributes[o].nodeValue}h!=null&&(d=this.attr_prefix+d,typeof c[d]>"u"&&(c[d]=0),c[d]++,this.addNode(u,d,c[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var v=i.childNodes[o].nodeType;v===3||v===4||v===8||(m=!1)}if(m){u||(u="");for(var o=0;o<i.childNodes.length;o++)u+=i.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof c[d]>"u"&&(c[d]=0),c[d]++,this.addNode(u,d,c[d],h))}}}}else u===null&&(u={});return u}};bo.ObjTree.prototype.addNode=function(i,a,u,c){this.__force_array[a]?(u===1&&(i[a]=[]),i[a][i[a].length]=c):u===1?i[a]=c:u===2?i[a]=[i[a],c]:i[a][i[a].length]=c};bo.ObjTree.prototype.writeXML=function(i){var a=this.hash_to_xml(null,i);return this.xmlDecl+a};bo.ObjTree.prototype.hash_to_xml=function(i,a){var u=[],c=[];for(var o in a)if(a!=null&&a.hasOwnProperty(o)){var d=a[o];o.charAt(0)!==this.attr_prefix?typeof d>"u"||d==null?u[u.length]="<"+o+" />":typeof d=="object"&&d.constructor===Array?u[u.length]=this.array_to_xml(o,d):typeof d=="object"?u[u.length]=this.hash_to_xml(o,d):u[u.length]=this.scalar_to_xml(o,d):c[c.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=c.join(""),m=u.join("");return typeof i>"u"||i==null||(u.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};bo.ObjTree.prototype.array_to_xml=function(i,a){for(var u=[],c=0;c<a.length;c++){var o=a[c];typeof o>"u"||o==null?u[u.length]="<"+i+" />":typeof o=="object"&&o.constructor===Array?u[u.length]=this.array_to_xml(i,o):typeof o=="object"?u[u.length]=this.hash_to_xml(i,o):u[u.length]=this.scalar_to_xml(i,o)}return u.join("")};bo.ObjTree.prototype.scalar_to_xml=function(i,a){return i==="#text"?this.xml_escape(a):"<"+i+">"+this.xml_escape(a)+"</"+i+`>
`};bo.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var tL=function(i){return new bo.ObjTree().parseXML(i)};function SE(i){return Object.prototype.toString.call(i)}function XO(i){return"  ".repeat(i)}function my(i){return SE(i)==="[object Object]"?Object.keys(i).reduce(function(a,u){var c=u;return u.charAt(0)==="-"&&(c=u.substring(1)),a[c]=my(i[u]),a},{}):Array.isArray(i)?i.map(function(a){return my(a)}):i}function nL(i){var a=i;try{typeof a!="string"&&(a=JSON.parse(i))}catch{a=JSON.stringify(my(i)).replace(/"/g,"'")}return a}var YO=`	
`;function iy(i,a,u){var c=XO(u),o="",d=YO+c;if(a==="-json")return"";if(a==="#text")return d+i;if(a==="#cdata-section")return d+"<![CDATA["+i+"]]>";if(a==="#comment")return d+"<!--"+i+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+nL(i)+'"';if(Array.isArray(i))o+=i.map(function(x){return iy(x,a,u+1)}).join("");else if(SE(i)==="[object Object]"){var h=Object.keys(i),m="",v=i["-json"]?YO+XO(u+1)+i["-json"]:"";o+=(u===0?"":d)+"<"+a,h.forEach(function(x){x.charAt(0)==="-"?m+=iy(i[x],x,u+1):v+=iy(i[x],x,u+1)}),o+=m+(v!==""?">"+v+d+"</"+a+">":" />")}else o+=d+"<"+a+">"+i.toString()+"</"+a+">";return o}function rL(i){var a="";for(var u in i)a+=iy(i[u],u,0);return a}var oL=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),mb=function(){return mb=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},mb.apply(this,arguments)},KO=function(i,a){var u={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&a.indexOf(c)<0&&(u[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,c=Object.getOwnPropertySymbols(i);o<c.length;o++)a.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(i,c[o])&&(u[c[o]]=i[c[o]]);return u},u0=function(i){var a=typeof Symbol=="function"&&Symbol.iterator,u=a&&i[a],c=0;if(u)return u.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&c>=i.length&&(i=void 0),{value:i&&i[c++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},Uc=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var c=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=c.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d},Mc=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(Uc(arguments[a]));return i},vo;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",i.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",i.BOUNDARY="bpmn:boundaryEvent",i.PARALLEL_GATEWAY="bpmn:parallelGateway",i.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",i.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow",i.SUBPROCESS="bpmn:subProcess"})(vo||(vo={}));var jE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],iL=["properties","startPoint","endPoint","pointsList"],by={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},AE=function(i,a){var u=Object.keys(a||{});return u.forEach(function(c){if(i[c]){var o=a[c],d=o.in,h=o.out;d&&(i[c].in=d),h&&(i[c].out=h)}else i[c]=a[c]}),i},di={"bpmn:startEvent":{out:function(i){var a,u,c=i.properties;return((u=(a=di[c.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:intermediateCatchEvent":{out:function(i){var a,u,c=i.properties;return((u=(a=di[c.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:intermediateThrowEvent":{out:function(i){var a,u,c=i.properties;return((u=(a=di[c.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:boundaryEvent":{out:function(i){var a,u,c=i.properties;return((u=(a=di[c.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:sequenceFlow":{out:function(i){var a=i.properties,u=a.expressionType,c=a.condition;return c?u==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+c+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+c+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(i){var a=i.properties,u=a.timerType,c=a.timerValue,o=a.definitionId,d=function(){return"<bpmn:"+u+' xsi:type="bpmn:tFormalExpression">'+c+"</bpmn:"+u+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(u&&c?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(i,a){var u,c,o,d,h=i,m=a["-id"],v="",x="";try{for(var S=u0(Object.keys(a)),j=S.next();!j.done;j=S.next()){var P=j.value;P.includes("bpmn:")&&(o=Uc(P.split(":"),2),v=o[1],x=(d=a[P])===null||d===void 0?void 0:d["#text"])}}catch(k){u={error:k}}finally{try{j&&!j.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}return{"-definitionId":m,"-definitionType":h,"-timerType":v,"-timerValue":x}}},"bpmn:conditionExpression":{in:function(i,a){var u,c="",o="";return a["#cdata-section"]?(o="cdata",c=((u=/^\$\{(.*)\}$/g.exec(a["#cdata-section"]))===null||u===void 0?void 0:u[1])||""):a["#text"]&&(o="normal",c=a["#text"]),{"-condition":c,"-expressionType":o}}}};function aL(i){var a=i??{},u=a.retainedAttrsFields,c=a.excludeFields,o=a.transformer,d=new Set(Mc(iL,u||[])),h={in:new Set(Mc(by.in,(c==null?void 0:c.in)||[])),out:new Set(Mc(by.out,(c==null?void 0:c.out)||[]))};return di=AE(di,o),function(m){var v=m.nodes,x=m.edges;function S(j,P){var k,D,N;if((j==null?void 0:j.flag)!==1){var R;if((R=di[j.type])&&R.out){var W=R.out(j),G=Object.keys(W);G.length>0&&G.forEach(function(H){j[H]=W[H]})}j!=null&&j.children&&(j.children=j.children.map(function(H){var Y=v.find(function(J){return J.id===H})||x.find(function(J){return J.id===H});return Y||{}}));var K={};if(typeof j=="string")return j;if(Array.isArray(j))return j.map(function(H){return S(H,"")}).filter(function(H){return H!=null});try{for(var oe=u0(Object.entries(j)),re=oe.next();!re.done;re=oe.next()){var Z=Uc(re.value,2),Q=Z[0],$=Z[1];if(((N=$)===null||N===void 0?void 0:N.flag)===1)return;var F=[P,Q].filter(function(H){return H}).join(".");h.out.has(F)||(typeof $!="object"?Q.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Q)?K[Q]=$:K["-"+Q]=$:d.has(F)?K["-"+Q]=S($,F):K[Q]=S($,F))}}catch(H){k={error:H}}finally{try{re&&!re.done&&(D=oe.return)&&D.call(oe)}finally{if(k)throw k.error}}return K}}return S(m,"")}}function _y(i){var a,u,c={};try{for(var o=u0(Object.entries(i)),d=o.next();!d.done;d=o.next()){var h=Uc(d.value,2),m=h[0],v=h[1];m.indexOf("-")===0?c[m.substring(1)]=my(v):typeof v=="string"?c[m]=v:Object.prototype.toString.call(v)==="[object Object]"?c[m]=_y(v):Array.isArray(v)?c[m]=v.map(function(x){return _y(x)}):c[m]=v}}catch(x){a={error:x}}finally{try{d&&!d.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}return c}function uL(i,a,u){var c,o=new Map,d=aL(u)(a);d.nodes.forEach(function(m){var v=m["-id"],x=m["-type"],S=m.text,j=m.children,P=KO(m,["-id","-type","text","children"]),k={"-id":v};S!=null&&S["-value"]&&(k["-name"]=S["-value"]),P["-json"]&&(k["-json"]=P["-json"]),P["-properties"]&&Object.assign(k,P["-properties"]),j&&(k.children=j),i[x]||(i[x]=[]),i[x].push(k),o.set(v,k)});var h=d.edges.map(function(m){var v=m["-id"];m["-type"];var x=m["-sourceNodeId"],S=m["-targetNodeId"],j=m.text,P=KO(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),k=o.get(S);k["bpmn:incoming"]||(k["bpmn:incoming"]=[]),k["bpmn:incoming"].push(v);var D={"-id":v,"-sourceRef":x,"-targetRef":S};return j!=null&&j["-value"]&&(D["-name"]=j["-value"]),P["-json"]&&(D["-json"]=P["-json"]),P["-properties"]&&Object.assign(D,P["-properties"]),D});return a.edges.forEach(function(m){var v=m.sourceNodeId,x=m.id,S=o.get(v);S["bpmn:outgoing"]||(S["bpmn:outgoing"]=[]),S["bpmn:outgoing"].push(x)}),(c=i["bpmn:subProcess"])===null||c===void 0||c.forEach(function(m){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},x=[];m.children.forEach(function(N){var R,W=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(K){W[K]&&W[K].forEach(function(oe){v[K].add(oe)})});var G=(R=i[N["-type"]])===null||R===void 0?void 0:R.findIndex(function(K){return K["-id"]===N["-id"]});G>=0&&i[N["-type"]].splice(G,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(W)});var S=v["bpmn:incoming"],j=v["bpmn:outgoing"];j.forEach(function(N){S.has(N)&&x.push(N)});for(var P=function(N){var R=h.findIndex(function(W){return W["-id"]===x[N]});R>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(h[R]),h.splice(R,1)):N++,k=N},k,D=0;D<x.length;)P(D),D=k;delete m.children}),i[vo.FLOW]=h,i}function sL(i,a){i["bpmndi:BPMNEdge"]=a.edges.map(function(u){var c,o=u.id,d=u.pointsList.map(function(m){var v=m.x,x=m.y;return{"-x":v,"-y":x}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((c=u.text)===null||c===void 0)&&c.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=a.nodes.map(function(u){var c,o=u.id,d=100,h=80,m=u.x,v=u.y,x=No.shapeConfigMap.get(u.type);x&&(d=x.width,h=x.height),m-=d/2,v-=h/2;var S={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":v,"-width":d,"-height":h}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}var lL=["bpmn:incoming","bpmn:outgoing"];function cL(i,a){var u=[],c=[],o=new Map,d=a??{},h=d.transformer,m=d.excludeFields,v={in:new Set(Mc(by.in,(m==null?void 0:m.in)||[])),out:new Set(Mc(by.out,(m==null?void 0:m.out)||[]))};di=AE(di,h);var x=i["bpmn:definitions"];if(x){var S=x["bpmn:process"];(function(P,k){k.forEach(function(D){try{Object.keys(P).forEach(function(N){try{D(N)}catch(R){console.error(R)}})}catch(N){console.error(N)}})})(S,[function(P){function k(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(R){var W;R.indexOf("bpmn:")===0&&!lL.includes(R)&&(S[R]||(S[R]=[]),!Array.isArray(S[R])&&(S[R]=[S[R]]),Array.isArray(N[R])?(W=S[R]).push.apply(W,Mc(N[R])):S[R].push(N[R]),Array.isArray(N[R])?N[R].forEach(function(G){!R.includes("Flow")&&N["-children"].push(G["-id"])}):!R.includes("Flow")&&N["-children"].push(N[R]["-id"]),delete N[R])})}if(P==="bpmn:subProcess"){var D=S[P];Array.isArray(D)?D.forEach(function(N){P==="bpmn:subProcess"&&k(N)}):k(D)}},function(P){var k=function(N){Object.keys(N).forEach(function(R){var W,G;if(R.includes("bpmn:")){var K={};di[R]&&di[R].in?(K=(G=(W=di[R]).in)===null||G===void 0?void 0:G.call(W,R,U.cloneDeep(N[R])),delete N[R]):D(N[R]);var oe=void 0;(oe=Reflect.ownKeys(K)).length>0&&oe.forEach(function(re){Reflect.set(N,re,K[re])})}})};function D(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(R){D(R)}):typeof N=="object"&&k(N)}D(S[P])},function(P){if(P.indexOf("bpmn:")===0){var k=S[P];if(P==="bpmn:sequenceFlow"){var D=x["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=pL(k,D)}else{var N=x["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(P==="bpmn:boundaryEvent"){var R=S[P],W=function(G){var K=G["-attachedToRef"],oe=o.get(K);oe["-boundaryEvents"]||(oe["-boundaryEvents"]=[]),oe["-boundaryEvents"].push(G["-id"])};Array.isArray(R)?R.forEach(function(G){W(G)}):W(R)}u=u.concat(fL(k,N,P))}}}])}var j=function(P,k,D){Object.keys(P).forEach(function(N){var R=D?D+"."+N:N;k.has(R)?delete P[N]:typeof P[N]=="object"&&j(P[N],k,R)})};return u.forEach(function(P){var k,D;if(!((k=a==null?void 0:a.mapping)===null||k===void 0)&&k.in){var N=(D=a==null?void 0:a.mapping)===null||D===void 0?void 0:D.in,R=P.type;N[R]&&(P.type=N[R])}j(P,v.in,"")}),c.forEach(function(P){var k,D;if(!((k=a==null?void 0:a.mapping)===null||k===void 0)&&k.in){var N=(D=a==null?void 0:a.mapping)===null||D===void 0?void 0:D.in,R=P.type;N[R]&&(P.type=N[R])}j(P,v.in,"")}),{nodes:u,edges:c}}function fL(i,a,u){var c=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(a)?m=a.find(function(x){return x["-bpmnElement"]===h["-id"]}):m=a;var v=qO(m,u,h);c.push(v)});else{var o=void 0;Array.isArray(a)?o=a.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=a;var d=qO(o,u,i);c.push(d)}return c}function qO(i,a,u){var c=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=u["-children"],h=u["-name"],m=No.shapeConfigMap.get(a);m&&(c+=m.width/2,o+=m.height/2);var v={};Object.entries(u).forEach(function(P){var k=Uc(P,2),D=k[0],N=k[1];jE.includes(D)||(v[D]=N)}),v=_y(v);var x;if(h&&(x={x:c,y:o,value:h},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var S=i["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(S["-x"])+Number(S["-width"])/2,x.y=Number(S["-y"])+Number(S["-height"])/2}var j={id:i["-bpmnElement"],type:a,x:c,y:o,properties:v};return d&&(j.children=d),x&&(j.text=x),j}function pL(i,a){var u=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(a)?d=a.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=a,u.push(ZO(d,o))});else{var c=void 0;Array.isArray(a)?c=a.find(function(o){return o["-bpmnElement"]===i["-id"]}):c=a,u.push(ZO(c,i))}return u}function ZO(i,a){var u,c=a["-name"];if(c){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;c.split(`
`).forEach(function(x){d<x.length&&(d=x.length)}),u={value:c,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h={};Object.entries(a).forEach(function(x){var S=Uc(x,2),j=S[0],P=S[1];jE.includes(j)||(h[j]=P)}),h=_y(h);var m=i["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),v={id:a["-id"],type:vo.FLOW,pointsList:m,sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:h};return u&&(v.text=u),v}var No=function(){function i(a){var u=this,c=a.lf;this.adapterOut=function(o,d){var h,m,v=mb({},u.processAttributes);uL(v,o,d);var x={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};sL(x,o);var S=u.definitionAttributes;S["bpmn:process"]=v,S["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":x};var j={"bpmn:definitions":S};if(!((h=d==null?void 0:d.mapping)===null||h===void 0)&&h.out){var P=(m=d==null?void 0:d.mapping)===null||m===void 0?void 0:m.out,k=function(D){Array.isArray(D)&&D.forEach(function(N){return k(N)}),typeof D=="object"&&Object.keys(D).forEach(function(N){var R;(R=P[N])?(D[R]=U.cloneDeep(D[N]),delete D[N],k(D[R])):k(D[N])})};k(j)}return j},this.adapterIn=function(o,d){if(o)return cL(o,d)},c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return i.prototype.setCustomShape=function(a,u){i.shapeConfigMap.set(a,u)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();No.shapeConfigMap.set(vo.START,{width:zO.width,height:zO.height});No.shapeConfigMap.set(vo.END,{width:BO.width,height:BO.height});No.shapeConfigMap.set(vo.INTERMEDIATE_CATCH,{width:gy.width,height:gy.height});No.shapeConfigMap.set(vo.INTERMEDIATE_THROW,{width:gy.width,height:gy.height});No.shapeConfigMap.set(vo.BOUNDARY,{width:FO.width,height:FO.height});No.shapeConfigMap.set(vo.PARALLEL_GATEWAY,{width:UO.width,height:UO.height});No.shapeConfigMap.set(vo.INCLUSIVE_GATEWAY,{width:WO.width,height:WO.height});No.shapeConfigMap.set(vo.EXCLUSIVE_GATEWAY,{width:GO.width,height:GO.height});No.shapeConfigMap.set(vo.SYSTEM,{width:VO.width,height:VO.height});No.shapeConfigMap.set(vo.USER,{width:$O.width,height:$O.height});No.shapeConfigMap.set(vo.SUBPROCESS,{width:HO.width,height:HO.height});(function(i){oL(a,i);function a(u){var c=i.call(this,u)||this;c.adapterXmlIn=function(h){var m=tL(h);return c.adapterIn(m,c.props)},c.adapterXmlOut=function(h){var m=c.adapterOut(h,c.props);return rL(m)};var o=u.lf,d=u.props;return o.adapterIn=c.adapterXmlIn,o.adapterOut=c.adapterXmlOut,c.props=d,c}return a.pluginName="BPMNAdapter",a})(No);var JO;(function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"})(JO||(JO={}));var dL=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var c=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=c.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d},hL=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(dL(arguments[a]));return i},yL=function(){function i(a){var u=this,c=a.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){u.lf.redo()}}],this.lf=c}return i.prototype.render=function(a,u){this.destroy();var c=this.getControlTool();this.toolEl=c,u.appendChild(c),this.domContainer=u},i.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},i.prototype.addItem=function(a){this.controlItems.push(a)},i.prototype.removeItem=function(a){var u=this.controlItems.findIndex(function(c){return c.key===a});return u==-1?null:this.controlItems.splice(u,1)[0]},i.prototype.getControlTool=function(){var a=this,u="lf-control-item",c="lf-control-item disabled",o=document.createElement("div"),d=[];return o.className="lf-control",this.controlItems.forEach(function(h){var m=document.createElement("div"),v=document.createElement("i"),x=document.createElement("span");switch(m.className=c,h.onClick&&(m.onclick=h.onClick.bind(null,a.lf)),h.onMouseEnter&&(m.onmouseenter=h.onMouseEnter.bind(null,a.lf)),h.onMouseLeave&&(m.onmouseleave=h.onMouseLeave.bind(null,a.lf)),v.className=h.iconClass,x.className="lf-control-text",x.title=h.title,x.innerText=h.text,m.append(v,x),h.text){case"上一步":a.lf.on("history:change",function(S){var j=S.data.undoAble;m.className=j?u:c});break;case"下一步":a.lf.on("history:change",function(S){var j=S.data.redoAble;m.className=j?u:c});break;default:m.className=u;break}d.push(m)}),o.append.apply(o,hL(d)),o},i.pluginName="control",i}(),vL=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var c=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=c.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d},gL=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(vL(arguments[a]));return i},Ep="lf:defaultNodeMenu",Sp="lf:defaultEdgeMenu",jp="lf:defaultGraphMenu",QO="lf:defaultSelectionMenu",mL=function(){function i(a){var u=this,c=a.lf;this.lf=c;var o=c.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(d){u.setMenuConfig(d)},this.lf.addMenuConfig=function(d){u.addMenuConfig(d)},this.lf.setMenuByType=function(d){u.setMenuByType(d)})}return i.prototype.init=function(){var a=this,u=[{text:"删除",callback:function(d){a.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){a.lf.graphModel.editText(d.id)}},{text:"复制",callback:function(d){a.lf.cloneNode(d.id)}}];this.menuTypeMap.set(Ep,u);var c=[{text:"删除",callback:function(d){a.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){a.lf.graphModel.editText(d.id)}}];this.menuTypeMap.set(Sp,c),this.menuTypeMap.set(jp,[]);var o=[{text:"删除",callback:function(d){a.lf.clearSelectElements(),d.edges.forEach(function(h){return a.lf.deleteEdge(h.id)}),d.nodes.forEach(function(h){return a.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(QO,o)},i.prototype.render=function(a,u){var c=this;a.options.isSilentMode||(this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var d=o.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,v=h.domOverlayPosition,x=v.x,S=v.y,j=d.id,P=c.lf.graphModel.getNodeModelById(j),k=[],D=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?k=P.menu:D?k=D:k=c.menuTypeMap.get(Ep),c.__currentData=d,c.showMenu(x,S,k,{width:P.width,height:P.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,v=h.domOverlayPosition,x=v.x,S=v.y,j=d.id,P=c.lf.graphModel.getEdgeModelById(j),k=[],D=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?k=P.menu:D?k=D:k=c.menuTypeMap.get(Sp),c.__currentData=d,c.showMenu(x,S,k,{width:P.width,height:P.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var d=o.position,h=c.menuTypeMap.get(jp),m=d.domOverlayPosition,v=m.x,x=m.y;c.showMenu(v,x,h)}),this.lf.on("selection:contextmenu",function(o){var d=o.data,h=o.position,m=c.menuTypeMap.get(QO),v=h.domOverlayPosition,x=v.x,S=v.y;c.__currentData=d,c.showMenu(x,S,m)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"}))},i.prototype.destroy=function(){var a;(a=this===null||this===void 0?void 0:this.__container)===null||a===void 0||a.removeChild(this.__menuDOM),this.__menuDOM=null},i.prototype.showMenu=function(a,u,c,o){if(!(!c||!c.length)){var d=this.__menuDOM;if(d.innerHTML="",d.append.apply(d,gL(this.__getMenuDom(c))),!!d.children.length){if(d.style.display="block",!o){d.style.top=u+"px",d.style.left=a+"px";return}var h=o.width,m=o.height,v=o.clientX,x=o.clientY,S=this.lf.graphModel,j=d.offsetWidth,P=!0,k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,D=k-v,N=S.rootEl.getBoundingClientRect(),R=N.left+N.width;R<k&&(D=R-v),D<j&&(P=!1),P?d.style.left=a+"px":d.style.left=a-h+"px";var W=d.offsetHeight,G=!0,K=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,oe=K-x,re=N.top+N.height;re<K&&(oe=re-x),oe<W&&(G=!1),G?d.style.top=u+"px":d.style.top=u-m+"px"}}},i.prototype.setMenuByType=function(a){!a.type||!a.menu||this.menuTypeMap.set(a.type,a.menu)},i.prototype.__getMenuDom=function(a){var u=[];return a&&a.length>0&&a.forEach(function(c){var o=document.createElement("li");if(c.className?o.className="lf-menu-item "+c.className:o.className="lf-menu-item",c.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",o.appendChild(d)}var h=document.createElement("span");h.className="lf-menu-item-text",c.text&&(h.innerText=c.text),o.appendChild(h),o.onclickCallback=c.callback,u.push(o)}),u},i.prototype.setMenuConfig=function(a){a&&(a.nodeMenu!==void 0&&this.menuTypeMap.set(Ep,a.nodeMenu?a.nodeMenu:[]),a.edgeMenu!==void 0&&this.menuTypeMap.set(Sp,a.edgeMenu?a.edgeMenu:[]),a.graphMenu!==void 0&&this.menuTypeMap.set(jp,a.graphMenu?a.graphMenu:[]))},i.prototype.addMenuConfig=function(a){if(a){if(Array.isArray(a.nodeMenu)){var u=this.menuTypeMap.get(Ep);this.menuTypeMap.set(Ep,u.concat(a.nodeMenu))}if(Array.isArray(a.edgeMenu)){var u=this.menuTypeMap.get(Sp);this.menuTypeMap.set(Sp,u.concat(a.edgeMenu))}if(Array.isArray(a.graphMenu)){var u=this.menuTypeMap.get(jp);this.menuTypeMap.set(jp,u.concat(a.graphMenu))}}},i.prototype.changeMenuItem=function(a,u){if(a==="add")this.addMenuConfig(u);else if(a==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},i.pluginName="menu",i}(),bL=function(){function i(a){var u=this,c=a.lf;this.lf=c,this.lf.setPatternItems=function(o){u.setPatternItems(o)}}return i.prototype.render=function(a,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){c.panelEl.appendChild(c.createDndItem(o))}),u.appendChild(this.panelEl),this.domContainer=u},i.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},i.prototype.setPatternItems=function(a){this.shapeList=a,this.domContainer&&this.render(this.lf,this.domContainer)},i.prototype.createDndItem=function(a){var u=this,c=document.createElement("div");c.className=a.className?"lf-dnd-item "+a.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",a.icon&&(o.style.backgroundImage="url("+a.icon+")"),c.appendChild(o),a.label){var d=document.createElement("div");d.innerText=a.label,d.className="lf-dnd-text",c.appendChild(d)}return a.disabled?(c.classList.add("disabled"),c.onmousedown=function(){a.callback&&a.callback(u.lf,u.domContainer)},c):(c.onmousedown=function(){a.type&&u.lf.dnd.startDrag({type:a.type,properties:a.properties,text:a.text}),a.callback&&a.callback(u.lf,u.domContainer)},c.ondblclick=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:h,data:a})},c.onclick=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:h,data:a})},c.oncontextmenu=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:h,data:a})},c)},i.pluginName="dndPanel",i}(),_L=function(){function i(a){var u=this,c=a.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(d){var h=u.lf.getPointByClient(d.clientX,d.clientY).domOverlayPosition,m=h.x,v=h.y;u.endPoint={x:m,y:v};var x=u.startPoint,S=x.x,j=x.y,P=u.wrapper.style,k=S,D=j,N=m-S,R=v-j;m<S&&(k=m,N=S-m),v<j&&(D=v,R=j-v),P.left=k+"px",P.top=D+"px",P.width=N+"px",P.height=R+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var d=u.startPoint,h=d.x,m=d.y,v=u.endPoint,x=v.x,S=v.y;if(!(Math.abs(x-h)<10&&Math.abs(S-m)<10)){var j=[Math.min(h,x),Math.min(m,S)],P=[Math.max(h,x),Math.max(m,S)],k=u.lf.graphModel.getAreaElement(j,P,u.isWholeEdge,u.isWholeNode,!0),D=u.lf.graphModel.group;k.forEach(function(N){(!D||!D.getNodeGroup(N.id))&&u.lf.selectElementById(N.id,!0)}),u.lf.emit("selection:selected",k)}},this.lf=c;var o=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return i.prototype.render=function(a,u){var c=this;this.__domContainer=u,a.on("blank:mousedown",function(o){var d=o.e,h=a.getEditConfig();if(!(!h.stopMoveGraph||c.__disabled)){var m=d.button===2;if(!m){var v=a.getPointByClient(d.clientX,d.clientY).domOverlayPosition,x=v.x,S=v.y;c.startPoint={x,y:S},c.endPoint={x,y:S};var j=document.createElement("div");j.className="lf-selection-select",j.oncontextmenu=function(k){k.preventDefault()},j.style.top=c.startPoint.y+"px",j.style.left=c.startPoint.x+"px",u.appendChild(j),c.wrapper=j,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}}})},i.prototype.setSelectionSense=function(a,u){a===void 0&&(a=!0),u===void 0&&(u=!0),this.isWholeEdge=a,this.isWholeNode=u},i.prototype.openSelectionSelect=function(){var a=this.lf.getEditConfig().stopMoveGraph;a||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},i.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},i.prototype.open=function(){this.__disabled=!1},i.prototype.close=function(){this.__disabled=!0},i.pluginName="selectionSelect",i}(),PE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Sc=function(){return Sc=Object.assign||function(i){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Sc.apply(this,arguments)},Tp=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var c=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=c.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d},OL={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function wL(i){for(var a=i,u=1;u<a.length-1;){var c=Tp(a[u-1],2),o=c[0],d=c[1],h=Tp(a[u],2),m=h[0],v=h[1],x=Tp(a[u+1],2),S=x[0],j=x[1];o===m&&m===S||d===v&&v===j?a.splice(u,1):u++}return a}function xL(i,a,u,c){var o=[i[0],i[1]],d=[i[0],i[1]];switch(u){case"tl":return a==="tr"?(o[1]+=c,d[0]+=c):a==="lb"&&(o[0]+=c,d[1]+=c),[o,d];case"tr":return a==="tl"?(o[1]+=c,d[0]-=c):a==="rb"&&(o[0]-=c,d[1]+=c),[o,d];case"bl":return a==="br"?(o[1]-=c,d[0]+=c):a==="lt"&&(o[0]+=c,d[1]-=c),[o,d];case"br":return a==="bl"?(o[1]-=c,d[0]-=c):a==="rt"&&(o[0]-=c,d[1]-=c),[o,d];default:return[]}}function EL(i,a,u,c){var o,d="",h="";i[0]===a[0]?d=i[1]>a[1]?"t":"b":i[1]===a[1]&&(d=i[0]>a[0]?"l":"r"),a[0]===u[0]?h=a[1]>u[1]?"t":"b":a[1]===u[1]&&(h=a[0]>u[0]?"l":"r");var m=Math.min(Math.hypot(a[0]-i[0],a[1]-i[1])/2,Math.hypot(u[0]-a[0],u[1]-a[1])/2,c)||1/5*c,v=""+d+h,x=OL[v]||"-",S="L "+i[0]+" "+i[1];if(x==="-")S+="L "+a[0]+" "+a[1]+" L "+u[0]+" "+u[1];else{var j=Tp(xL(a,v,x,m),2),P=j[0],k=j[1];P&&k&&(S+="L "+P[0]+" "+P[1]+" Q "+a[0]+" "+a[1]+" "+k[0]+" "+k[1],o=Tp(k,2),a[0]=o[0],a[1]=o[1])}return S}function SL(i,a){var u=0,c="";if(i.length===2)c+="M"+i[u][0]+" "+i[u++][1]+" L "+i[u][0]+" "+i[u][1];else{for(c+="M"+i[u][0]+" "+i[u++][1];u+1<i.length;){var o=i[u-1],d=i[u],h=i[u+++1];c+=EL(o,d,h,a)}c+="L "+i[u][0]+" "+i[u][1]}return c}(function(i){PE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getEdge=function(){var u=this.props.model,c=u.points,o=u.isAnimation,d=u.arrowConfig,h=u.radius,m=h===void 0?5:h,v=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=wL(c.split(" ").map(function(k){return k.split(",").map(function(D){return+D})})),j=SL(S,m),P=Sc(Sc(Sc({style:o?x:{}},v),d),{fill:"none"});return Xe.h("path",Sc({d:j},P))},a})(Xe.PolylineEdge);(function(i){PE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a})(Xe.PolylineEdgeModel);class jL extends Xe.CircleNodeModel{initNodeData(a){super.initNodeData(a),this.r=20}}class AL extends Xe.CircleNode{}const PL={type:"start",model:jL,view:AL};class ML extends Xe.RectNodeModel{initNodeData(a){super.initNodeData(a),this.width=100,this.height=80,this.radius=5}getNodeStyle(){return super.getNodeStyle()}}class kL extends Xe.RectNode{}const TL={type:"between",model:ML,view:kL};class ME extends Xe.PolygonNodeModel{constructor(a,u){a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),super(a,u),this.points=[[25,0],[50,25],[25,50],[0,25]]}}Op(ME,"extendKey","SerialModel");class kE extends Xe.PolygonNode{getShape(){const{model:a}=this.props,{x:u,y:c,width:o,height:d,points:h}=a,m=a.getNodeStyle();return Xe.h("g",{transform:`matrix(1 0 0 1 ${u-o/2} ${c-d/2})`},Xe.h("polygon",{...m,x:u,y:c,points:h}),Xe.h("path",{d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",...m}))}}Op(kE,"extendKey","SerialNode");const NL={type:"serial",view:kE,model:ME};class TE extends Xe.PolygonNodeModel{constructor(a,u){a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),super(a,u),this.points=[[25,0],[50,25],[25,50],[0,25]]}}Op(TE,"extendKey","ParallelModel");class NE extends Xe.PolygonNode{getShape(){const{model:a}=this.props,{x:u,y:c,width:o,height:d,points:h}=a,m=a.getNodeStyle();return Xe.h("g",{transform:`matrix(1 0 0 1 ${u-o/2} ${c-d/2})`},Xe.h("polygon",{...m,x:u,y:c,points:h}),Xe.h("path",{d:"m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z",...m}))}}Op(NE,"extendKey","ParallelNode");const DL={type:"parallel",view:NE,model:TE};class CL extends Xe.CircleNodeModel{initNodeData(a){super.initNodeData(a),this.r=20}}class RL extends Xe.CircleNode{}const IL={type:"end",model:CL,view:RL};class LL extends Xe.PolylineEdgeModel{setAttributes(){this.offset=20}getEdgeStyle(){const a=super.getEdgeStyle(),{properties:u}=this;return u.isActived&&(a.strokeDasharray="4 4"),a}getData(){const a=super.getData();return a.sourceAnchorId=this.sourceAnchorId,a.targetAnchorId=this.targetAnchorId,a}}const zL={type:"skip",view:Xe.PolylineEdge,model:LL},BL=Fu("i",{class:"el-icon-question"},null,-1),FL=Ka({name:"Start"}),UL=Object.assign(FL,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const c=Sn(i.modelValue),o=a;return hr(()=>c,d=>{d&&o("change",d)},{deep:!0}),c.value.listenerType&&(c.value.listenerType=c.value.listenerType.split(",")),(d,h)=>{const m=Yt("el-input"),v=Yt("el-form-item"),x=Yt("el-option"),S=Yt("el-select"),j=Yt("el-tooltip"),P=Yt("el-form");return kn(),Yo("div",null,[We(P,{ref:"formRef",model:Me(c),"label-width":"120px",size:"small",disabled:i.disabled},{default:lt(()=>[Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeCode"},()=>[We(v,{label:"节点编码"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=k=>Me(c).nodeCode=k),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeName"},()=>[We(v,{label:"节点名称"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeName,"onUpdate:modelValue":h[1]||(h[1]=k=>Me(c).nodeName=k),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Zn(d.$slots,"form-item-task-listenerType",{model:Me(c),field:"listenerType"},()=>[We(v,{label:"监听器类型"},{default:lt(()=>[We(S,{modelValue:Me(c).listenerType,"onUpdate:modelValue":h[2]||(h[2]=k=>Me(c).listenerType=k),multiple:""},{default:lt(()=>[We(x,{label:"任务创建",value:"create"}),We(x,{label:"任务开始办理",value:"start"}),We(x,{label:"分派监听器",value:"assignment"}),We(x,{label:"权限认证",value:"permission"}),We(x,{label:"任务完成",value:"finish"})]),_:1},8,["modelValue"])]),_:1})]),Zn(d.$slots,"form-item-task-listenerPath",{model:Me(c),field:"listenerPath"},()=>[We(v,{label:"监听器路径",description:"输入监听器的路径，以@@分隔,顺序与监听器类型一致"},{default:lt(()=>[We(m,{type:"textarea",modelValue:Me(c).listenerPath,"onUpdate:modelValue":h[3]||(h[3]=k=>Me(c).listenerPath=k),rows:"8"},null,8,["modelValue"]),We(j,{class:"item",effect:"dark",content:"输入监听器的路径，以@@分隔，顺序与监听器类型一致"},{default:lt(()=>[BL]),_:1})]),_:1})])]),_:3},8,["model","disabled"])])}}});function WL(i){return rl({url:"/system/user/list",method:"get",params:i})}function DE(i){return rl({url:"/flow/execute/idReverseDisplayName/"+i,method:"get"})}function CE(){return rl({url:"/system/user/deptTree",method:"get"})}const GL=Object.freeze(Object.defineProperty({__proto__:null,deptTreeSelect:CE,idReverseDisplayName:DE,listUser:WL},Symbol.toStringTag,{value:"Module"}));function VL(i){return rl({url:"/warm-flow-ui/save-xml",method:"post",data:i})}function $L(i){return rl({url:"/warm-flow-ui/xml-string/"+i,method:"get"})}function HL(){return rl({url:"/warm-flow-ui/select-group",method:"get"})}function XL(i){return rl({url:"/warm-flow-ui/handler-result",method:"get",params:i})}const YL={class:"app-container"},KL={class:"head-container"},qL={class:"head-container"},ZL=Ka({name:"User"}),JL=Object.assign(ZL,{props:{userVisible:{type:Boolean},selectUser:{type:Array},postParams:{type:Object},type:{type:String}},emits:["update:userVisible","handleUserSelect"],setup(i,{emit:a}){const{proxy:u}=Sb(),c=i,o=Sn([]),d=Sn(!0),h=Sn(!0),m=Sn(0);Sn("");const v=Sn([]),x=Sn(""),S=Sn(void 0),j=Sn([{key:0,label:"用户编号",visible:!0},{key:1,label:"用户名称",visible:!0},{key:2,label:"用户昵称",visible:!0},{key:3,label:"部门",visible:!0},{key:4,label:"创建时间",visible:!0}]),P=Sn([]),k=_w({form:{},queryParams:{pageNum:1,pageSize:10,userName:void 0,status:"0",deptId:void 0},checkAllInfo:{isIndeterminate:!1,isChecked:!1}}),{queryParams:D,form:N,checkAllInfo:R}=kM(k),W=a,G=(ge,le)=>ge?le.label.indexOf(ge)!==-1:!0;hr(x,ge=>{u.$refs.deptTreeRef.filter(ge)}),hr(()=>c.selectUser,(ge,le)=>{le?u.$nextTick(()=>{P.value=P.value.filter(xe=>{let Ce=ge?ge.findIndex(je=>je===xe.userId):-1;return o.value.forEach(je=>{je.userId===xe.userId&&(je.isChecked=Ce!==-1)}),Ce!==-1})}):P.value=[]},{deep:!0,immediate:!0});function K(){CE().then(ge=>{S.value=ge.data})}function oe(){d.value=!0;let ge=u.addDateRange(D.value,v.value),le="listUser";if(c.type){let xe=JSON.parse(JSON.stringify(c.postParams));le=xe.url,delete xe.url,ge={...xe,deptId:D.value.deptId}}GL[le](ge).then(xe=>{d.value=!1,m.value=xe.total,xe.rows.forEach(Ce=>{Ce.isChecked=P.value.findIndex(je=>je.userId===Ce.userId)!==-1}),o.value=xe.rows,$()})}function re(ge){D.value.deptId=ge.id,Z()}function Z(){D.value.pageNum=1,oe()}function Q(){v.value=[],u.resetForm("queryRef"),D.value.deptId=void 0,u.$refs.deptTreeRef.setCurrentKey(null),Z()}function $(){const ge=o.value.length;let le=0;o.value.map(xe=>{xe.isChecked&&(le+=1)}),R.value.isChecked=ge===le&&ge>0,R.value.isIndeterminate=le>0&&le<ge}function F(){const ge=P.value;R.value.isIndeterminate=!1,R.value.isChecked?o.value=o.value.map(le=>(le.isChecked=!0,P.value.findIndex(xe=>xe.userId===le.userId)===-1&&ge.push({userId:le.userId}),le)):o.value=o.value.map(le=>{le.isChecked=!1;let xe=ge.findIndex(Ce=>Ce.userId===le.userId);return xe!==-1&&ge.splice(xe,1),le}),P.value=ge}function H(ge){if(["转办","委派"].includes(c.type))o.value.forEach(le=>{le.userId===ge.userId?le.isChecked=!0:le.isChecked=!1}),P.value=[{userId:ge.userId}];else{o.value.forEach(xe=>{xe.userId===ge.userId&&(xe.isChecked=!xe.isChecked)});const le=[...P.value];if(ge.isChecked)le.push({userId:ge.userId});else{const xe=le.findIndex(Ce=>Ce.userId===ge.userId);xe!==-1&&le.splice(xe,1)}P.value=le,$()}}function Y(ge){o.value.forEach(Ce=>{Ce.userId===ge&&(Ce.isChecked=!Ce.isChecked)});const le=P.value,xe=le.findIndex(Ce=>Ce.userId===ge);xe!==-1&&le.splice(xe,1),P.value=le,$()}function J(){W("update:userVisible",!1)}function ne(){W("handleUserSelect",P.value),J()}return K(),oe(),(ge,le)=>{const xe=Yt("el-input"),Ce=Yt("el-tree"),je=Yt("el-col"),me=Yt("el-form-item"),Pe=Yt("el-date-picker"),ke=Yt("el-button"),Ve=Yt("el-form"),it=Yt("el-tag"),wt=Yt("el-row"),Ye=Yt("el-checkbox"),Ze=Yt("el-table-column"),_t=Yt("el-table"),ce=Yt("pagination"),se=TM("loading");return kn(),Yo("div",YL,[We(wt,{gutter:20},{default:lt(()=>[We(je,{span:4,xs:24},{default:lt(()=>[Fu("div",KL,[We(xe,{modelValue:Me(x),"onUpdate:modelValue":le[0]||(le[0]=he=>Js(x)?x.value=he:null),placeholder:"请输入部门名称",clearable:"","prefix-icon":"Search",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),Fu("div",qL,[We(Ce,{data:Me(S),props:{label:"label",children:"children"},"expand-on-click-node":!1,"filter-node-method":G,ref:"deptTreeRef","node-key":"id","highlight-current":"","default-expand-all":"",onNodeClick:re},null,8,["data"])])]),_:1}),We(je,{span:20,xs:24},{default:lt(()=>[Hm(We(Ve,{model:Me(D),ref:"queryRef",inline:!0,"label-width":"68px"},{default:lt(()=>[We(me,{label:"用户名称",prop:"userName"},{default:lt(()=>[We(xe,{modelValue:Me(D).userName,"onUpdate:modelValue":le[1]||(le[1]=he=>Me(D).userName=he),placeholder:"请输入用户名称",clearable:"",style:{width:"240px"},onKeyup:NM(Z,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),We(me,{label:"创建时间",style:{width:"308px"}},{default:lt(()=>[We(Pe,{modelValue:Me(v),"onUpdate:modelValue":le[2]||(le[2]=he=>Js(v)?v.value=he:null),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),We(me,null,{default:lt(()=>[We(ke,{type:"primary",icon:"Search",onClick:Z},{default:lt(()=>[Ga("搜索")]),_:1}),We(ke,{icon:"Refresh",onClick:Q},{default:lt(()=>[Ga("重置")]),_:1}),We(ke,{type:"primary",disabled:Me(P).length===0,onClick:ne},{default:lt(()=>[Ga("确 定")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"]),[[U1,Me(h)]]),We(wt,{gutter:10,class:"mb8"},{default:lt(()=>[(kn(!0),Yo(ty,null,jc(Me(P),he=>(kn(),Br(it,{type:"primary",style:{"margin-right":"10px"},key:he.userId,closable:"",onClose:Ne=>Y(he.userId)},{default:lt(()=>[Ga(W1(he.userId),1)]),_:2},1032,["onClose"]))),128))]),_:1}),Hm((kn(),Br(_t,{data:Me(o),onRowClick:H},{default:lt(()=>[We(Ze,{width:"50",align:"center"},Eb({default:lt(he=>[We(Ye,{modelValue:he.row.isChecked,"onUpdate:modelValue":Ne=>he.row.isChecked=Ne,onChangeCapture:le[4]||(le[4]=Ne=>H(ge.row))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},[["转办","委派"].includes(i.type)?void 0:{name:"header",fn:lt(()=>[We(Ye,{indeterminate:Me(R).isIndeterminate,modelValue:Me(R).isChecked,"onUpdate:modelValue":le[3]||(le[3]=he=>Me(R).isChecked=he),onChange:F},null,8,["indeterminate","modelValue"])]),key:"0"}]),1024),Me(j)[0].visible?(kn(),Br(Ze,{label:"用户编号",align:"center",key:"userId",prop:"userId"})):Mo("",!0),Me(j)[1].visible?(kn(),Br(Ze,{label:"用户名称",align:"center",key:"userName",prop:"userName","show-overflow-tooltip":!0})):Mo("",!0),Me(j)[2].visible?(kn(),Br(Ze,{label:"用户昵称",align:"center",key:"nickName",prop:"nickName","show-overflow-tooltip":!0})):Mo("",!0),Me(j)[3].visible?(kn(),Br(Ze,{label:"部门",align:"center",key:"deptName",prop:"dept.deptName","show-overflow-tooltip":!0})):Mo("",!0),Me(j)[6].visible?(kn(),Br(Ze,{key:4,label:"创建时间",align:"center",prop:"createTime",width:"160"},{default:lt(he=>[Fu("span",null,W1(ge.parseTime(he.row.createTime)),1)]),_:1})):Mo("",!0)]),_:1},8,["data"])),[[se,Me(d)]]),Hm(We(ce,{style:{"margin-bottom":"35px"},total:Me(m),page:Me(D).pageNum,"onUpdate:page":le[5]||(le[5]=he=>Me(D).pageNum=he),limit:Me(D).pageSize,"onUpdate:limit":le[6]||(le[6]=he=>Me(D).pageSize=he),onPagination:oe},null,8,["total","page","limit"]),[[U1,Me(m)>0]])]),_:1})]),_:1})])}}}),QL=i=>(DM("data-v-d6eb8380"),i=i(),CM(),i),e5={class:"between"},t5={class:"flex-hc"},n5={class:"flex-hc"},r5={class:"flex-hc"},o5=QL(()=>Fu("div",{class:"placeholder"},"票签比例范围：(0-100)的值",-1)),i5=Ka({name:"Between"}),a5=Object.assign(i5,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const{proxy:u}=Sb(),c=i,o=Sn(c.modelValue),d=Sn(""),h=Sn([]),m=_w({nodeRatio:[{required:!1,message:"请输入",trigger:"change"},{pattern:/^(?:[1-9]\d?|0\.\d{1,3}|[1-9]\d?\.\d{1,3})$/,message:"请输入(0, 100)的值，最多保留三位小数",trigger:["change","blur"]}]}),v=Sn(!1),x=a;hr(()=>o,N=>{N&&x("change",N)},{deep:!0});function S(){o.value.collaborativeWay!=="1"&&DE(o.value.permissionFlag.join(",")).then(N=>{d.value=N.data?N.data.map(R=>R.nickName).join(","):""})}function j(){o.value.permissionFlag&&(o.value.permissionFlag=o.value.permissionFlag.split(",")),o.value.listenerType&&(o.value.listenerType=o.value.listenerType.split(",")),XL().then(N=>{}),HL().then(N=>{if(console.log("groupOptions",N),h.value=N.data,c.disabled&&o.value.collaborativeWay==="1"){let R=[];h.value.forEach(W=>{W.options.forEach(G=>{o.value.permissionFlag.includes(G.value)&&R.push(G.label)})}),R.value=R.join(",")}})}function P(N){o.value.permissionFlag=[],o.value.nodeRatio=N==="1"?"0.000":N==="3"?"100.000":""}function k(){v.value=!0,u.$refs.userSelect.blur()}function D(N){o.value.permissionFlag=N.map(R=>R.userId)}return j(),c.disabled&&S(),(N,R)=>{const W=Yt("el-input"),G=Yt("el-form-item"),K=Yt("WarningFilled"),oe=Yt("el-icon"),re=Yt("el-tooltip"),Z=Yt("el-radio"),Q=Yt("el-radio-group"),$=Yt("el-option"),F=Yt("el-option-group"),H=Yt("el-select"),Y=Yt("el-form"),J=Yt("el-dialog");return kn(),Yo("div",e5,[We(Y,{ref:"formRef",model:Me(o),"label-width":"120px",size:"small",rules:Me(m),disabled:i.disabled},{default:lt(()=>[Zn(N.$slots,"form-item-task-nodeCode",{model:Me(o),field:"nodeCode"},()=>[We(G,{label:"节点编码"},{default:lt(()=>[We(W,{modelValue:Me(o).nodeCode,"onUpdate:modelValue":R[0]||(R[0]=ne=>Me(o).nodeCode=ne),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})],!0),Zn(N.$slots,"form-item-task-nodeName",{model:Me(o),field:"nodeName"},()=>[We(G,{label:"节点名称"},{default:lt(()=>[We(W,{modelValue:Me(o).nodeName,"onUpdate:modelValue":R[1]||(R[1]=ne=>Me(o).nodeName=ne),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})],!0),Zn(N.$slots,"form-item-task-collaborativeWay",{model:Me(o),field:"collaborativeWay"},()=>[We(G,{label:"协作方式"},{default:lt(()=>[We(Q,{modelValue:Me(o).collaborativeWay,"onUpdate:modelValue":R[2]||(R[2]=ne=>Me(o).collaborativeWay=ne),onChange:P},{default:lt(()=>[Me(o).collaborativeWay==="1"?(kn(),Br(Z,{key:0,label:"1"},{default:lt(()=>[Fu("span",t5,[Ga(" 或签 "),We(re,{class:"box-item",effect:"dark",content:"只需一个人审批"},{default:lt(()=>[We(oe,{size:14,class:"ml5"},{default:lt(()=>[We(K)]),_:1})]),_:1})])]),_:1})):Mo("",!0),Me(o).collaborativeWay==="2"?(kn(),Br(Z,{key:1,label:"2"},{default:lt(()=>[Fu("span",n5,[Ga(" 票签 "),We(re,{class:"box-item",effect:"dark",content:"部分办理人审批，只支持选择用户"},{default:lt(()=>[We(oe,{size:14,class:"ml5"},{default:lt(()=>[We(K)]),_:1})]),_:1})])]),_:1})):Mo("",!0),Me(o).collaborativeWay==="3"?(kn(),Br(Z,{key:2,label:"3"},{default:lt(()=>[Fu("span",r5,[Ga(" 会签 "),We(re,{class:"box-item",effect:"dark",content:"所有办理都需要审批，只支持选择用户"},{default:lt(()=>[We(oe,{size:14,class:"ml5"},{default:lt(()=>[We(K)]),_:1})]),_:1})])]),_:1})):Mo("",!0)]),_:1},8,["modelValue"])]),_:1})],!0),Me(o).collaborativeWay==="2"?Zn(N.$slots,"form-item-task-nodeRatio",{key:0,model:Me(o),field:"nodeRatio"},()=>[We(G,{label:"票签占比",prop:"nodeRatio"},{default:lt(()=>[We(W,{modelValue:Me(o).nodeRatio,"onUpdate:modelValue":R[3]||(R[3]=ne=>Me(o).nodeRatio=ne),type:"number",placeholder:"请输入"},null,8,["modelValue"]),o5]),_:1})],!0):Mo("",!0),Zn(N.$slots,"form-item-task-permissionFlag",{model:Me(o),field:"permissionFlag"},()=>[We(re,{effect:"dark",content:Me(d),disabled:!i.disabled},{default:lt(()=>[We(G,{label:"办理人选择"},{default:lt(()=>[Me(o).collaborativeWay==="1"?(kn(),Br(H,{key:0,modelValue:Me(o).permissionFlag,"onUpdate:modelValue":R[4]||(R[4]=ne=>Me(o).permissionFlag=ne),"allow-create":"",multiple:"","collapse-tags":"",disabled:i.disabled,clearable:!i.disabled,filterable:""},{default:lt(()=>[(kn(!0),Yo(ty,null,jc(Me(h),ne=>(kn(),Br(F,{key:ne.label,label:ne.label,disabled:i.disabled},{default:lt(()=>[(kn(!0),Yo(ty,null,jc(ne.options,ge=>(kn(),Br($,{key:ge.value,label:ge.label,value:ge.value},null,8,["label","value"]))),128))]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue","disabled","clearable"])):(kn(),Br(H,{key:1,modelValue:Me(o).permissionFlag,"onUpdate:modelValue":R[5]||(R[5]=ne=>Me(o).permissionFlag=ne),multiple:"","collapse-tags":"",ref:"userSelect",disabled:i.disabled,clearable:!i.disabled,onFocus:k,"popper-class":"dialogSelect","popper-append-to-body":!1},{default:lt(()=>[(kn(!0),Yo(ty,null,jc(Me(o).permissionFlag,ne=>(kn(),Br($,{key:ne,label:ne,value:ne},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","clearable"]))]),_:1})]),_:1},8,["content","disabled"])],!0),Zn(N.$slots,"form-item-task-skipAnyNode",{model:Me(o),field:"skipAnyNode"},()=>[We(G,{label:"是否可以跳转任意节点"},{default:lt(()=>[We(Q,{modelValue:Me(o).skipAnyNode,"onUpdate:modelValue":R[6]||(R[6]=ne=>Me(o).skipAnyNode=ne)},{default:lt(()=>[We(Z,{label:"N"},{default:lt(()=>[Ga("否")]),_:1}),We(Z,{label:"Y"},{default:lt(()=>[Ga("是")]),_:1})]),_:1},8,["modelValue"])]),_:1})],!0),Zn(N.$slots,"form-item-task-listenerType",{model:Me(o),field:"listenerType"},()=>[We(G,{label:"监听器类型"},{default:lt(()=>[We(H,{modelValue:Me(o).listenerType,"onUpdate:modelValue":R[7]||(R[7]=ne=>Me(o).listenerType=ne),multiple:""},{default:lt(()=>[We($,{label:"任务创建",value:"create"}),We($,{label:"任务开始办理",value:"start"}),We($,{label:"分派监听器",value:"assignment"}),We($,{label:"权限认证",value:"permission"}),We($,{label:"任务完成",value:"finish"})]),_:1},8,["modelValue"])]),_:1})],!0),Zn(N.$slots,"form-item-task-listenerPath",{model:Me(o),field:"listenerPath"},()=>[We(G,{label:"监听器路径",description:"输入监听器的路径，以@@分隔,顺序与监听器类型一致"},{default:lt(()=>[We(W,{type:"textarea",modelValue:Me(o).listenerPath,"onUpdate:modelValue":R[8]||(R[8]=ne=>Me(o).listenerPath=ne),rows:"8"},null,8,["modelValue"]),We(re,{class:"box-item",effect:"dark",content:"输入监听器的路径，以@@分隔，顺序与监听器类型一致"},{default:lt(()=>[We(oe,{size:14,class:"mt5"},{default:lt(()=>[We(K)]),_:1})]),_:1})]),_:1})],!0),Zn(N.$slots,"form-item-task-formCustom",{model:Me(o),field:"formCustom"},()=>[We(G,{label:"审批表单是否自定义"},{default:lt(()=>[We(H,{modelValue:Me(o).formCustom,"onUpdate:modelValue":R[9]||(R[9]=ne=>Me(o).formCustom=ne)},{default:lt(()=>[We($,{label:"使用流程表单",value:""}),We($,{label:"节点表单路径",value:"N"})]),_:1},8,["modelValue"])]),_:1})],!0),Me(o).formCustom==="N"?Zn(N.$slots,"form-item-task-formPath",{key:1,model:Me(o),field:"formPath"},()=>[We(G,{label:"审批表单路径"},{default:lt(()=>[We(W,{modelValue:Me(o).formPath,"onUpdate:modelValue":R[10]||(R[10]=ne=>Me(o).formPath=ne)},null,8,["modelValue"])]),_:1})],!0):Mo("",!0)]),_:3},8,["model","rules","disabled"]),Me(v)?(kn(),Br(J,{key:0,title:"办理人选择",modelValue:Me(v),"onUpdate:modelValue":R[13]||(R[13]=ne=>Js(v)?v.value=ne:null),width:"80%","append-to-body":""},{default:lt(()=>[We(Me(JL),{selectUser:Me(o).permissionFlag,"onUpdate:selectUser":R[11]||(R[11]=ne=>Me(o).permissionFlag=ne),userVisible:Me(v),"onUpdate:userVisible":R[12]||(R[12]=ne=>Js(v)?v.value=ne:null),onHandleUserSelect:D},null,8,["selectUser","userVisible"])]),_:1},8,["modelValue"])):Mo("",!0)])}}}),u5=jb(a5,[["__scopeId","data-v-d6eb8380"]]),s5=Ka({name:"Serial"}),l5=Object.assign(s5,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const c=Sn(i.modelValue),o=a;return hr(()=>c,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=Yt("el-input"),v=Yt("el-form-item"),x=Yt("el-form");return kn(),Yo("div",null,[We(x,{ref:"formRef",model:Me(c),"label-width":"120px",size:"small",disabled:i.disabled},{default:lt(()=>[Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeCode"},()=>[We(v,{label:"节点编码"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=S=>Me(c).nodeCode=S),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeName"},()=>[We(v,{label:"节点名称"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeName,"onUpdate:modelValue":h[1]||(h[1]=S=>Me(c).nodeName=S),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),c5=Ka({name:"Parallel"}),f5=Object.assign(c5,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const c=Sn(i.modelValue),o=a;return hr(()=>c,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=Yt("el-input"),v=Yt("el-form-item"),x=Yt("el-form");return kn(),Yo("div",null,[We(x,{ref:"formRef",model:Me(c),"label-width":"120px",size:"small",disabled:i.disabled},{default:lt(()=>[Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeCode"},()=>[We(v,{label:"节点编码"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=S=>Me(c).nodeCode=S),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeName"},()=>[We(v,{label:"节点名称"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeName,"onUpdate:modelValue":h[1]||(h[1]=S=>Me(c).nodeName=S),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),p5=Ka({name:"End"}),d5=Object.assign(p5,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const c=Sn(i.modelValue),o=a;return hr(()=>c,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=Yt("el-input"),v=Yt("el-form-item"),x=Yt("el-form");return kn(),Yo("div",null,[We(x,{ref:"formRef",model:Me(c),"label-width":"120px",size:"small",disabled:i.disabled},{default:lt(()=>[Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeCode"},()=>[We(v,{label:"节点编码"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=S=>Me(c).nodeCode=S),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Zn(d.$slots,"form-item-task-name",{model:Me(c),field:"nodeName"},()=>[We(v,{label:"节点名称"},{default:lt(()=>[We(m,{modelValue:Me(c).nodeName,"onUpdate:modelValue":h[1]||(h[1]=S=>Me(c).nodeName=S),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),h5=Ka({name:"Skip"}),y5=Object.assign(h5,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1},skipConditionShow:{type:Boolean,default:!0}},emits:["change"],setup(i,{emit:a}){var m;const u=i,c=Sn(!1),o=Sn(u.modelValue),d=a;hr(()=>o,v=>{v=v.value;let x=v.skipCondition;x="@@"+v.conditionType+"@@|",v.conditionType!=="spel"&&(x=x+(v.condition?v.condition:"")+"@@"+v.conditionType+"@@"),v.skipCondition=x+(v.conditionValue?v.conditionValue:""),v&&d("change",v)},{deep:!0});function h(v){c.value=v==="spel"}return((m=u.modelValue)==null?void 0:m.conditionType)==="spel"&&(c.value=!0),(v,x)=>{const S=Yt("el-input"),j=Yt("el-form-item"),P=Yt("el-option"),k=Yt("el-select"),D=Yt("el-form");return kn(),Yo("div",null,[We(D,{ref:"formRef",model:Me(o),"label-width":"120px",size:"small",disabled:i.disabled},{default:lt(()=>[i.skipConditionShow?Zn(v.$slots,"form-item-task-skipName",{key:0,model:Me(o),field:"skipName"},()=>[We(j,{label:"跳转名称"},{default:lt(()=>[We(S,{modelValue:Me(o).skipName,"onUpdate:modelValue":x[0]||(x[0]=N=>Me(o).skipName=N),placeholder:"跳转名称"},null,8,["modelValue"])]),_:1})]):Mo("",!0),Zn(v.$slots,"form-item-task-skipType",{model:Me(o),field:"skipType"},()=>[We(j,{label:"跳转类型"},{default:lt(()=>[We(k,{modelValue:Me(o).skipType,"onUpdate:modelValue":x[1]||(x[1]=N=>Me(o).skipType=N)},{default:lt(()=>[We(P,{sel:"",label:"审批通过",value:"PASS"}),We(P,{label:"退回",value:"REJECT"})]),_:1},8,["modelValue"])]),_:1})]),i.skipConditionShow?Zn(v.$slots,"form-item-task-skipCondition",{key:1,model:Me(o),field:"skipCondition"},()=>[We(j,{label:"跳转条件"},{default:lt(()=>[Me(c)?Mo("",!0):(kn(),Br(S,{key:0,modelValue:Me(o).condition,"onUpdate:modelValue":x[2]||(x[2]=N=>Me(o).condition=N),placeholder:"条件名",style:{width:"20%"}},null,8,["modelValue"])),We(k,{modelValue:Me(o).conditionType,"onUpdate:modelValue":x[3]||(x[3]=N=>Me(o).conditionType=N),placeholder:"请选择条件方式",style:{width:"35%","margin-left":"1%"},onChange:h},{default:lt(()=>[We(P,{label:"大于",value:"gt"}),We(P,{label:"大于等于",value:"ge"}),We(P,{label:"等于",value:"eq"}),We(P,{label:"不等于",value:"ne"}),We(P,{label:"小于",value:"lt"}),We(P,{label:"小于等于",value:"le"}),We(P,{label:"包含",value:"like"}),We(P,{label:"不包含",value:"notNike"}),We(P,{label:"spel表达式",value:"spel"})]),_:1},8,["modelValue"]),We(S,{modelValue:Me(o).conditionValue,"onUpdate:modelValue":x[4]||(x[4]=N=>Me(o).conditionValue=N),placeholder:"条件值",style:{width:"42%","margin-left":"1%","margin-right":"1%"}},null,8,["modelValue"])]),_:1})]):Mo("",!0)]),_:3},8,["model","disabled"])])}}}),v5=Ka({name:"Definition"}),g5=Object.assign(v5,{props:{value:{type:Object,default(){return{}}},node:{type:Object,default(){return{}}},lf:{type:Object,default(){return null}},disabled:{type:Boolean,default:!1},skipConditionShow:{type:Boolean,default:!0}},setup(i,{expose:a}){const u={start:UL,between:u5,serial:l5,parallel:f5,end:d5,skip:y5},c=i,o=Sn(!1),d=Sn({}),h=Sn(void 0),m=Sn(null),v=G1(()=>c.node&&c.node.type==="skip"?"设置边属性":c.node&&c.node.type==="serial"?"设置串行网关属性":c.node&&c.node.type==="parallel"?"设置并行网关属性":c.node&&c.node.type==="start"?"设置开始属性":c.node&&c.node.type==="end"?"设置结束属性":"设置中间属性"),x=G1(()=>{if(!(!c.node||!c.node.type))return u[c.node.type]});hr(()=>c.node,P=>{if(P)if(h.value=P.id,P.type==="skip"){let k=P.properties.skipCondition,D=k?k.split("@@|"):[],N=D&&D.length>0?D[1]:[],R,W,G="";D&&D.length>0&&D[0]==="@@spel"?(W="spel",G=N):D&&D.length>0&&D[0]!=="@@spel"&&(R=N&&N.length>0?N.split("@@")[0]:"",W=N&&N.length>0?N.split("@@")[1]:"",G=N&&N.length>0?N.split("@@")[2]:""),d.value={nodeType:P.type,skipType:P.properties.skipType,skipName:P.text instanceof Object?P.text.value:P.text,skipCondition:k,condition:R,conditionType:W,conditionValue:G}}else{let k=P.properties.nodeRatio||"";P.properties.collaborativeWay||(P.properties.collaborativeWay=k==="0.000"?"1":k==="100.000"?"3":k?"2":"1"),P.properties.formCustom=JSON.stringify(P.properties)==="{}"?"N":P.properties.formCustom||"",d.value={nodeType:P.type,nodeCode:P.id,...P.properties,nodeName:P.text instanceof Object?P.text.value:P.text}}}),hr(()=>d.value.nodeCode,P=>{m.value=P}),hr(()=>d.value.skipType,P=>{c.lf.setProperties(h.value,{skipType:P})}),hr(()=>d.value.nodeName,P=>{c.lf.updateText(h.value,P),c.lf.setProperties(h.value,{nodeName:P})}),hr(()=>d.value.collaborativeWay,P=>{c.lf.setProperties(h.value,{nodeRatio:P==="1"?"0.000":P==="3"?"100.000":""})}),hr(()=>d.value.nodeRatio,P=>{c.lf.setProperties(h.value,{nodeRatio:P})}),hr(()=>d.value.permissionFlag,P=>{c.lf.setProperties(h.value,{permissionFlag:Array.isArray(P)?P.join(","):P})}),hr(()=>d.value.skipAnyNode,P=>{c.lf.setProperties(h.value,{skipAnyNode:P})}),hr(()=>d.value.listenerType,P=>{Array.isArray(P)||(P=[P]);let k=P.join(",");c.lf.setProperties(h.value,{listenerType:k})}),hr(()=>d.value.listenerPath,P=>{c.lf.setProperties(h.value,{listenerPath:P})}),hr(()=>d.value.formCustom,P=>{c.lf.setProperties(h.value,{formCustom:P||""})}),hr(()=>d.value.formPath,P=>{c.lf.setProperties(h.value,{formPath:P})}),hr(()=>d.value.skipName,P=>{["skip"].includes(c.node.type)&&(c.lf.updateText(h.value,P),c.lf.setProperties(h.value,{skipName:P}))}),hr(()=>d.value.skipCondition,P=>{c.lf.setProperties(h.value,{skipCondition:P})});function S(){o.value=!0}function j(){var P;m.value&&h.value&&(["skip"].includes((P=c.node)==null?void 0:P.type)?c.lf.getEdgeModelById(m.value)||c.lf.changeEdgeId(h.value,m.value):c.lf.getNodeModelById(m.value)||c.lf.changeNodeId(h.value,m.value)),o.value=!1}return a({show:S,handleClose:j}),(P,k)=>{const D=Yt("el-drawer");return kn(),Yo("div",null,[We(D,{ref:"drawerRef",title:Me(v),"destroy-on-close":"",modelValue:Me(o),"onUpdate:modelValue":k[1]||(k[1]=N=>Js(o)?o.value=N:null),direction:"rtl","append-to-body":!0,"before-close":j},{default:lt(()=>[(kn(),Br(RM(Me(x)),{modelValue:Me(d),"onUpdate:modelValue":k[0]||(k[0]=N=>Js(d)?d.value=N:null),disabled:i.disabled,skipConditionShow:i.skipConditionShow},Eb({_:2},[jc(P.$slots,(N,R)=>({name:R,fn:lt(W=>[Zn(P.$slots,R,Ow(ww(W||{})),void 0,!0)])}))]),1032,["modelValue","disabled","skipConditionShow"]))]),_:3},8,["title","modelValue"])])}}}),m5=jb(g5,[["__scopeId","data-v-64ad5411"]]),b5=i=>{let a=null;return window.DOMParser?a=new DOMParser().parseFromString(i,"text/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i)),a},_5=["start","between","serial","parallel","end"],RE=["flowCode","flowName","version","fromCustom","fromPath"],IE=["nodeType","nodeCode","nodeName","coordinate","nodeRatio","permissionFlag","skipAnyNode","listenerType","listenerPath","formCustom","formPath"],O5=["skipName","skipType","coordinate","skipCondition"],w5=i=>{const a={nodes:[],edges:[]},c=b5(i).getElementsByTagName("definition");if(!c.length)return a;let o=null;RE.forEach(P=>{o=c[0].getAttribute(P),o&&(a[P]=o)});let d=null,h=null,m={};if(d=c[0].getElementsByTagName("node"),d.length)for(var v=0,x=d.length;v<x;v++){h=d[v],m={text:{},properties:{}},IE.forEach(N=>{if(o=h.getAttribute(N),o)if(N==="nodeType")m.type=o;else if(N==="nodeCode")m.id=o;else if(N==="coordinate"){const R=o.split("|"),W=R[0].split(",");if(m.x=parseInt(W[0]),m.y=parseInt(W[1]),R.length===2){const G=R[1].split(",");m.text.x=parseInt(G[0]),m.text.y=parseInt(G[1])}}else N==="nodeName"?m.text.value=o:m.properties[N]=o}),a.nodes.push(m);let P=null,k=null,D={};P=h.getElementsByTagName("skip");for(var S=0,j=P.length;S<j;S++){k=P[S],D={text:{},properties:{}},D.id=k.getAttribute("id"),D.type="skip",D.sourceNodeId=m.id,D.targetNodeId=k.textContent,D.text={value:k.getAttribute("skipName")},D.properties.skipCondition=k.getAttribute("skipCondition"),D.properties.skipName=k.getAttribute("skipName"),D.properties.skipType=k.getAttribute("skipType");const N=k.getAttribute("expr");N&&(D.properties.expr=N);const R=k.getAttribute("coordinate");if(R){const W=R.split("|");if(D.pointsList=[],W[0].split(";").forEach(G=>{const K=G.split(",");D.pointsList.push({x:parseInt(K[0]),y:parseInt(K[1])})}),D.startPoint=D.pointsList[0],D.endPoint=D.pointsList[D.pointsList.length-1],W.length>1){let G=W[1].split(",");D.text.x=parseInt(G[0]),D.text.y=parseInt(G[1])}}a.edges.push(D)}}return a},x5=i=>{let a="";const u={flowCode:i.flowCode,flowName:i.flowName,version:i.version,fromCustom:i.fromCustom,fromPath:i.fromPath},c=()=>i.nodes.find(S=>S.type==="start"),o=S=>i.edges.filter(j=>j.sourceNodeId===S).map(j=>i.nodes.find(P=>P.id===j.targetNodeId)),d=S=>i.edges.filter(j=>j.sourceNodeId===S).map(j=>{var k;let P="";for(let D=0;D<j.pointsList.length;D++)P=P+parseInt(j.pointsList[D].x)+","+parseInt(j.pointsList[D].y),D!==j.pointsList.length-1&&(P=P+";");return j.text&&(P=P+"|"+parseInt(j.text.x)+","+parseInt(j.text.y)),{skipType:j.properties.skipType,skipCondition:j.properties.skipCondition,skipName:((k=j==null?void 0:j.text)==null?void 0:k.value)||j.properties.skipName,textContent:j.targetNodeId,coordinate:P}}),h=S=>{let j="";return S.text&&(j="|"+S.text.x+","+S.text.y),{nodeType:S.type,nodeCode:S.id,nodeName:S.text instanceof String||S.text===void 0?S.text:S.text.value,permissionFlag:S.properties.permissionFlag,nodeRatio:S.properties.nodeRatio,skipAnyNode:S.properties.skipAnyNode,listenerType:S.properties.listenerType,listenerPath:S.properties.listenerPath,coordinate:S.x+","+S.y+j,skip:d(S.id),formCustom:S.properties.formCustom,formPath:S.properties.formPath}},m=S=>(S=S.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),S),v=S=>{const j=S.type;u[j+"_"+S.id]||(u[j+"_"+S.id]=h(S),o(S.id).forEach(k=>{v(k)}))},x=c();return x?(v(x),a=`<?xml version="1.0" encoding="UTF-8"?>
`,a+="<definition",Object.keys(u).forEach(S=>{const j=u[S];RE.includes(S)&&j&&(a+=" "+S+'="'+m(j)+'"')}),a+=`>
`,Object.keys(u).forEach(S=>{const j=u[S];let P=S.split("_")[0];_5.includes(P)&&(a+="	<node",Object.keys(j).forEach(k=>{IE.includes(k)&&j[k]&&(a+=" "+k+'="'+m(j[k])+'"')}),a+=`>
	`,j.skip&&j.skip.forEach(k=>{a+="	<skip",Object.keys(k).forEach(D=>{O5.includes(D)&&k[D]&&(a+=" "+D+'="'+m(k[D])+'"')}),a+=">",a+=k.textContent+`</skip>
`}),a+=`	</node>
`)}),a+="</definition>",a):""},E5={class:"container",ref:"container"},S5=Ka({name:"Design"}),j5=Object.assign(S5,{setup(i){const{proxy:a}=Sb(),u=Sn(null),c=Sn(null),o=Sn(null),d=Sn(!1),h=Sn({}),m=Sn({}),v=Sn({}),x=Sn(""),S=Sn(!0);function j(){c.value=a.$route.params&&a.$route.params.id,a.$route.query.disabled==="true"&&(d.value=!0)}IM(()=>{R(),u.value=new xp({container:a.$refs.container,grid:!0}),N(),P(),k(),D(),W(),c.value&&$L(c.value).then(K=>{x.value=K.data,x.value&&(v.value=w5(x.value),u.value.render(v.value))})});function P(){u.value.extension.dndPanel.setPatternItems([{type:"start",text:"开始",label:"开始节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"between",text:"中间节点-或签",label:"中间节点-或签",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node",properties:{collaborativeWay:"1"}},{type:"between",text:"中间节点-票签",label:"中间节点-票签",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node",properties:{collaborativeWay:"2"}},{type:"between",text:"中间节点-会签",label:"中间节点-会签",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node",properties:{collaborativeWay:"3"}},{type:"serial",text:"",label:"互斥网关",properties:{},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"parallel",text:"",label:"并行网关",properties:{},icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAuMTQxOTM3MjU1ODU5Mzc1IiBoZWlnaHQ9IjIwLjE0MTkzNzI1NTg1OTM3NSIgdmlld0JveD0iMCAwIDIwLjE0MTkzNzI1NTg1OTM3NSAyMC4xNDE5MzcyNTU4NTkzNzUiIGZpbGw9Im5vbmUiPg0KPHBhdGggZD0iTTE5LjI2MzMgNy45NDk2N0wxMi4xOTIzIDAuODc4NjY5QzExLjAyMDcgLTAuMjkyODkyIDkuMTIxMjMgLTAuMjkyODkyIDcuOTQ5NjcgMC44Nzg2NjlMMC44Nzg2NyA3Ljk0OTY3Qy0wLjI5Mjg5MiA5LjEyMTIzIC0wLjI5Mjg5MiAxMS4wMjA3IDAuODc4NjcgMTIuMTkyM0w3Ljk0OTY3IDE5LjI2MzNDOS4xMjEyMyAyMC40MzQ4IDExLjAyMDcgMjAuNDM0OCAxMi4xOTIzIDE5LjI2MzNMMTkuMjYzMyAxMi4xOTIzQzIwLjQzNDggMTEuMDIwNyAyMC40MzQ4IDkuMTIxMjMgMTkuMjYzMyA3Ljk0OTY3Wk05LjM2Mzg3IDIuMjkyODdDOS43NTQzOSAxLjkwMjM1IDEwLjM4NzUgMS45MDIzNSAxMC43NzgxIDIuMjkyODdMMTcuODQ5MSA5LjM2Mzg3QzE4LjIzOTYgOS43NTQzOSAxOC4yMzk2IDEwLjM4NzUgMTcuODQ5MSAxMC43NzgxTDEwLjc3ODEgMTcuODQ5MUMxMC4zODc1IDE4LjIzOTYgOS43NTQzOSAxOC4yMzk2IDkuMzYzODcgMTcuODQ5MUwyLjI5Mjg3IDEwLjc3ODFDMS45MDIzNSAxMC4zODc1IDEuOTAyMzUgOS43NTQzOSAyLjI5Mjg3IDkuMzYzODdMOS4zNjM4NyAyLjI5Mjg3Wk05LjI0OTk3IDkuMDQ5OTdMOS4yNDk5NyA2LjQ5OTk2QzkuMjQ5OTcgNS45NDc2OCA5LjY5NzY4IDUuNDk5OTYgMTAuMjUgNS40OTk5NkMxMC44MDIzIDUuNDk5OTYgMTEuMjUgNS45NDc2OCAxMS4yNSA2LjQ5OTk2TDExLjI1IDkuMDQ5OTdMMTMuNDYgOS4wNDk5N0MxNC4wMTIzIDkuMDQ5OTcgMTQuNDYgOS40OTc2OCAxNC40NiAxMC4wNUMxNC40NiAxMC42MDIzIDE0LjAxMjMgMTEuMDUgMTMuNDYgMTEuMDVMMTEuMjUgMTEuMDVMMTEuMjUgMTMuMjVDMTEuMjUgMTMuODAyMyAxMC44MDIzIDE0LjI1IDEwLjI1IDE0LjI1QzkuNjk3NjggMTQuMjUgOS4yNDk5NyAxMy44MDIzIDkuMjQ5OTcgMTMuMjVMOS4yNDk5NyAxMS4wNUw2LjcwOTk3IDExLjA1QzYuMTU3NjggMTEuMDUgNS43MDk5NyAxMC42MDIzIDUuNzA5OTcgMTAuMDVDNS43MDk5NyA5LjQ5NzY4IDYuMTU3NjggOS4wNDk5NyA2LjcwOTk3IDkuMDQ5OTdMOS4yNDk5NyA5LjA0OTk3WiIgZmlsbC1ydWxlPSJldmVub2RkIiAgZmlsbD0iIzI5ODZGRiIgPg0KPC9wYXRoPg0KPC9zdmc+DQo="},{type:"end",text:"结束",label:"结束节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}])}function k(){d.value||(u.value.extension.control.addItem({iconClass:"lf-control-clear",title:"clear",text:"清空",onClick:(K,oe)=>{K.clearData()}}),u.value.extension.control.addItem({iconClass:"lf-control-save",title:"",text:"保存",onClick:(K,oe)=>{let re=K.getGraphData();v.value.nodes=re.nodes,v.value.edges=re.edges,console.log("value.value:",v.value);let Z=x5(v.value);console.log("xmlString.value:",Z);let Q={xmlString:Z,id:c.value};VL(Q).then($=>{a.$modal.msgSuccess("保存成功"),$.code===200&&G()})}}))}function D(){u.value.extension.menu.addMenuConfig({nodeMenu:[{text:"属性",callback(K){alert(`
          节点id：${K.id}
          节点类型：${K.type}
          节点坐标：(x: ${K.x}, y: ${K.y})
          文本坐标：(x: ${K.text.x}, y: ${K.text.y})`)}}],edgeMenu:[{text:"属性",callback(K){alert(`
          边id：${K.id}
          边类型：${K.type}
          边坐标：(x: ${K.x}, y: ${K.y})
          文本坐标：(x: ${K.text.x}, y: ${K.text.y})
          源节点id：${K.sourceNodeId}
          目标节点id：${K.targetNodeId}`)}}]})}function N(){u.value.register(PL),u.value.register(TL),u.value.register(NL),u.value.register(DL),u.value.register(IL),u.value.register(zL)}function R(){xp.use(bL),xp.use(_L),xp.use(yL),xp.use(mL)}function W(){const{eventCenter:K}=u.value.graphModel;K.on("node:click",oe=>{o.value=oe.data,a.$nextTick(()=>{m.value.show()})}),K.on("edge:click",oe=>{o.value=oe.data;const re=u.value.getNodeModelById(o.value.sourceNodeId);S.value=re.type==="serial",a.$nextTick(()=>{m.value.show(re.nodeType==="serial")})}),K.on("edge:add",oe=>{u.value.changeEdgeType(oe.data.id,"skip"),u.value.setProperties(oe.data.id,{skipType:"PASS"})}),K.on("blank:click",()=>{o.value=null,a.$nextTick(()=>{m.value.handleClose()})})}function G(){window.parent.postMessage({method:"close"},"http://localhost:80")}return j(),(K,oe)=>(kn(),Yo("div",E5,[We(m5,{ref_key:"propertySettingRef",ref:m,node:Me(o),modelValue:Me(h),"onUpdate:modelValue":oe[0]||(oe[0]=re=>Js(h)?h.value=re:null),lf:Me(u),disabled:Me(d),skipConditionShow:Me(S)},Eb({_:2},[jc(K.$slots,(re,Z)=>({name:Z,fn:lt(Q=>[Zn(K.$slots,Z,Ow(ww(Q||{})),void 0,!0)])}))]),1032,["node","modelValue","lf","disabled","skipConditionShow"])],512))}}),M5=jb(j5,[["__scopeId","data-v-1c788b27"]]);export{M5 as default};
