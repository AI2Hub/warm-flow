import{r as n,d as u,o as p,c as P,e as t,f as s,p as b,z as g,h as l,m as S,l as k,n as y,bN as $,B,v as D,bS as E}from"./index-CHQH9-TC.js";import{d as O}from"./execute-Dmqi2dJm.js";const q={class:"app-container"},z=B({name:"DoneList"}),F=Object.assign(z,{setup(J){const{proxy:r}=D(),{flow_status:I,cooperate_type:x}=r.useDict("flow_status","cooperate_type"),d=n(""),L=n(""),f=n([]),_=n(""),v=n(""),i=n(null),m=n(null);function N(){d.value=r.$route.params.instanceId,L.value=r.$route.query.formPath,testLeaveVoformPath.value=r.$route.query.testLeaveVo,h()}function h(){O(d.value).then(o=>{f.value=o.data})}function V(o){if(_.value=o.id,v.value=o.businessId,o.ext)try{const e=JSON.parse(o.ext);m.value={...e}}catch{console.error("Invalid ext JSON format:",o.ext)}const c=o.formPath||c.value;c?E(()=>import(`../../../../views/${c}`),__vite__mapDeps([])).then(e=>{i.value=e.default}):i.value=null}return N(),(o,c)=>{const e=u("el-table-column"),w=u("dict-tag"),C=u("el-button"),T=u("el-table");return p(),P("div",q,[t(T,{data:l(f)},{default:s(()=>[t(e,{label:"序号",width:"50",align:"center",key:"id",prop:"id"},{default:s(a=>[b(g(a.$index+1),1)]),_:1}),t(e,{label:"开始节点名称",align:"center",prop:"nodeName","show-overflow-tooltip":!0}),t(e,{label:"结束节点名称",align:"center",prop:"targetNodeName","show-overflow-tooltip":!0}),t(e,{label:"审批人",align:"center",prop:"approver","show-overflow-tooltip":!0}),t(e,{label:"协作类型",align:"center",prop:"cooperateType","show-overflow-tooltip":!0},{default:s(a=>[t(w,{options:l(x),value:a.row.cooperateType},null,8,["options","value"])]),_:1}),t(e,{label:"协作人",align:"center",prop:"collaborator","show-overflow-tooltip":!0}),t(e,{label:"流程状态",align:"center",prop:"flowStatus","show-overflow-tooltip":!0},{default:s(a=>[t(w,{options:l(I),value:a.row.flowStatus},null,8,["options","value"])]),_:1}),t(e,{label:"审批意见",align:"center",prop:"message","show-overflow-tooltip":!0}),t(e,{label:"创建时间",align:"center",prop:"createTime",width:"160","show-overflow-tooltip":!0},{default:s(a=>[S("span",null,g(o.parseTime(a.row.createTime)),1)]),_:1}),t(e,{label:"业务详情",align:"center",width:"100"},{default:s(a=>[a.row.ext?(p(),k(C,{key:0,size:"mini",onClick:R=>V(a.row)},{default:s(()=>[b("查看")]),_:2},1032,["onClick"])):y("",!0)]),_:1})]),_:1},8,["data"]),l(i)?(p(),k($(l(i)),{key:0,businessId:l(v),taskId:l(_),testLeaveVo:l(m),onRefresh:h},null,40,["businessId","taskId","testLeaveVo"])):y("",!0)])}}});export{F as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}