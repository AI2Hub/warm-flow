var MA=Object.defineProperty;var kA=(i,a,u)=>a in i?MA(i,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[a]=u;var yp=(i,a,u)=>(kA(i,typeof a!="symbol"?a+"":a,u),u);import{U as Wa,V as Ui,W as rn,X as L1,Y as yi,Z as Np,$ as Ga,a0 as qs,a1 as KO,a2 as fi,a3 as vi,a4 as Dn,a5 as TA,a6 as Gi,a7 as mb,a8 as NA,a9 as Dp,aa as pi,ab as Cp,ac as qO,ad as Lu,ae as Rp,af as Mo,ag as ZO,ah as $a,ai as JO,aj as zu,ak as Bu,al as by,am as fn,an as Ip,ao as jl,ap as Cn,aq as Ua,ar as Ao,as as Zs,at as Lp,au as gi,av as pr,aw as Qt,ax as Js,ay as DA,az as Pl,aA as QO,aB as pa,aC as ew,aD as tw,aE as Jm,aF as Pr,aG as CA,aH as RA,aI as zp,aJ as nw,aK as Qs,aL as rw,aM as Ha,aN as ow,aO as bb,aP as IA,aQ as Al,aR as LA,aS as Ru,aT as Bp,aU as iw,aV as _y,aW as Oy,aX as Sl,aY as _b,aZ as Ob,a_ as aw,a$ as uw,b0 as zA,b1 as sw,b2 as cw,b3 as BA,b4 as lw,b5 as FA,b6 as UA,b7 as WA,b8 as GA,b9 as oy,ba as $A,bb as fw,bc as HA,bd as XA,be as pw,bf as dw,bg as wb,bh as hw,bi as VA,bj as YA,bk as KA,bl as qA,bm as Ys,bn as ZA,bo as JA,bp as QA,bq as eM,br as tM,bs as nM,bt as rM,bu as oM,bv as iM,bw as aM,bx as uM,by as sM,bz as cM,bA as lM,bB as fM,bC as pM,bD as dM,bE as hM,bF as yM,bG as vM,bH as gM,bI as mM,bJ as bM,bK as _M,bL as OM,g as wM,r as gr,w as Lr,d as En,o as zr,c as Fi,e as He,f as Pt,bM as Kn,h as We,m as wp,B as Fu,_ as xb,C as xM,p as vp,n as xp,l as Hs,K as $m,L as Ep,D as kp,s as EM,t as SM,v as yw,y as z1,bN as jM,bO as vw,bP as gw,bQ as mw,bR as PM}from"./index-CHQH9-TC.js";import{l as AM}from"./role-BzOpfE4S.js";import{i as MM,l as kM}from"./user-Bu1ajp0e.js";import{l as TM}from"./dept-4ZYqBaUv.js";import NM from"./selectUser-BkUDpbL9.js";import{g as DM,s as CM}from"./definition-CAAY_8pD.js";var RM=NaN;function B1(i){return typeof i=="number"?i:Wa(i)?RM:+i}function wy(i,a){return function(u,l){var o;if(u===void 0&&l===void 0)return a;if(u!==void 0&&(o=u),l!==void 0){if(o===void 0)return l;typeof u=="string"||typeof l=="string"?(u=Ui(u),l=Ui(l)):(u=B1(u),l=B1(l)),o=i(u,l)}return o}}var IM=wy(function(i,a){return i+a},0),LM="Expected a function";function zM(i,a){if(typeof a!="function")throw new TypeError(LM);return i=rn(i),function(){if(--i<1)return a.apply(this,arguments)}}var iy=L1&&new L1,bw=iy?function(i,a){return iy.set(i,a),i}:yi;function Tp(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=Np(i.prototype),l=i.apply(u,a);return Ga(l)?l:u}}var BM=1;function FM(i,a,u){var l=a&BM,o=Tp(i);function d(){var h=this&&this!==qs&&this instanceof d?o:i;return h.apply(l?u:this,arguments)}return d}var UM=Math.max;function _w(i,a,u,l){for(var o=-1,d=i.length,h=u.length,m=-1,v=a.length,E=UM(d-h,0),j=Array(v+E),S=!l;++m<v;)j[m]=a[m];for(;++o<h;)(S||o<d)&&(j[u[o]]=i[o]);for(;E--;)j[m++]=i[o++];return j}var WM=Math.max;function Ow(i,a,u,l){for(var o=-1,d=i.length,h=-1,m=u.length,v=-1,E=a.length,j=WM(d-m,0),S=Array(j+E),T=!l;++o<j;)S[o]=i[o];for(var k=o;++v<E;)S[k+v]=a[v];for(;++h<m;)(T||o<d)&&(S[k+u[h]]=i[o++]);return S}function GM(i,a){for(var u=i.length,l=0;u--;)i[u]===a&&++l;return l}function xy(){}var $M=4294967295;function yn(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$M,this.__views__=[]}yn.prototype=Np(xy.prototype);yn.prototype.constructor=yn;var Eb=iy?function(i){return iy.get(i)}:KO,wl={},HM=Object.prototype,XM=HM.hasOwnProperty;function ey(i){for(var a=i.name+"",u=wl[a],l=XM.call(wl,a)?u.length:0;l--;){var o=u[l],d=o.func;if(d==null||d==i)return o.name}return a}function di(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}di.prototype=Np(xy.prototype);di.prototype.constructor=di;function ww(i){if(i instanceof yn)return i.clone();var a=new di(i.__wrapped__,i.__chain__);return a.__actions__=fi(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}var VM=Object.prototype,YM=VM.hasOwnProperty;function U(i){if(vi(i)&&!Dn(i)&&!(i instanceof yn)){if(i instanceof di)return i;if(YM.call(i,"__wrapped__"))return ww(i)}return new di(i)}U.prototype=xy.prototype;U.prototype.constructor=U;function Qm(i){var a=ey(i),u=U[a];if(typeof u!="function"||!(a in yn.prototype))return!1;if(i===u)return!0;var l=Eb(u);return!!l&&i===l[0]}var xw=TA(bw),KM=/\{\n\/\* \[wrapped with (.+)\] \*/,qM=/,? & /;function ZM(i){var a=i.match(KM);return a?a[1].split(qM):[]}var JM=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function QM(i,a){var u=a.length;if(!u)return i;var l=u-1;return a[l]=(u>1?"& ":"")+a[l],a=a.join(u>2?", ":" "),i.replace(JM,`{
/* [wrapped with `+a+`] */
`)}var e2=1,t2=2,n2=8,r2=16,o2=32,i2=64,a2=128,u2=256,s2=512,c2=[["ary",a2],["bind",e2],["bindKey",t2],["curry",n2],["curryRight",r2],["flip",s2],["partial",o2],["partialRight",i2],["rearg",u2]];function l2(i,a){return Gi(c2,function(u){var l="_."+u[0];a&u[1]&&!mb(i,l)&&i.push(l)}),i.sort()}function Ew(i,a,u){var l=a+"";return NA(i,QM(l,l2(ZM(l),u)))}var f2=1,p2=2,d2=4,h2=8,F1=32,U1=64;function Sw(i,a,u,l,o,d,h,m,v,E){var j=a&h2,S=j?h:void 0,T=j?void 0:h,k=j?d:void 0,C=j?void 0:d;a|=j?F1:U1,a&=~(j?U1:F1),a&d2||(a&=~(f2|p2));var N=[i,a,o,k,S,C,T,m,v,E],I=u.apply(void 0,N);return Qm(i)&&xw(I,N),I.placeholder=l,Ew(I,i,a)}function Ml(i){var a=i;return a.placeholder}var y2=Math.min;function v2(i,a){for(var u=i.length,l=y2(a.length,u),o=fi(i);l--;){var d=a[l];i[l]=Dp(d,u)?o[d]:void 0}return i}var W1="__lodash_placeholder__";function Iu(i,a){for(var u=-1,l=i.length,o=0,d=[];++u<l;){var h=i[u];(h===a||h===W1)&&(i[u]=W1,d[o++]=u)}return d}var g2=1,m2=2,b2=8,_2=16,O2=128,w2=512;function Ey(i,a,u,l,o,d,h,m,v,E){var j=a&O2,S=a&g2,T=a&m2,k=a&(b2|_2),C=a&w2,N=T?void 0:Tp(i);function I(){for(var G=arguments.length,W=Array(G),K=G;K--;)W[K]=arguments[K];if(k)var re=Ml(I),oe=GM(W,re);if(l&&(W=_w(W,l,o,k)),d&&(W=Ow(W,d,h,k)),G-=oe,k&&G<E){var Z=Iu(W,re);return Sw(i,a,Ey,I.placeholder,u,W,Z,m,v,E-G)}var J=S?u:this,H=T?J[i]:i;return G=W.length,m?W=v2(W,m):C&&G>1&&W.reverse(),j&&v<G&&(W.length=v),this&&this!==qs&&this instanceof I&&(H=N||Tp(H)),H.apply(J,W)}return I}function x2(i,a,u){var l=Tp(i);function o(){for(var d=arguments.length,h=Array(d),m=d,v=Ml(o);m--;)h[m]=arguments[m];var E=d<3&&h[0]!==v&&h[d-1]!==v?[]:Iu(h,v);if(d-=E.length,d<u)return Sw(i,a,Ey,o.placeholder,void 0,h,E,void 0,void 0,u-d);var j=this&&this!==qs&&this instanceof o?l:i;return pi(j,this,h)}return o}var E2=1;function S2(i,a,u,l){var o=a&E2,d=Tp(i);function h(){for(var m=-1,v=arguments.length,E=-1,j=l.length,S=Array(j+v),T=this&&this!==qs&&this instanceof h?d:i;++E<j;)S[E]=l[E];for(;v--;)S[E++]=arguments[++m];return pi(T,o?u:this,S)}return h}var G1="__lodash_placeholder__",Hm=1,j2=2,P2=4,$1=8,gp=128,H1=256,A2=Math.min;function M2(i,a){var u=i[1],l=a[1],o=u|l,d=o<(Hm|j2|gp),h=l==gp&&u==$1||l==gp&&u==H1&&i[7].length<=a[8]||l==(gp|H1)&&a[7].length<=a[8]&&u==$1;if(!(d||h))return i;l&Hm&&(i[2]=a[2],o|=u&Hm?0:P2);var m=a[3];if(m){var v=i[3];i[3]=v?_w(v,m,a[4]):m,i[4]=v?Iu(i[3],G1):a[4]}return m=a[5],m&&(v=i[5],i[5]=v?Ow(v,m,a[6]):m,i[6]=v?Iu(i[5],G1):a[6]),m=a[7],m&&(i[7]=m),l&gp&&(i[8]=i[8]==null?a[8]:A2(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=o,i}var k2="Expected a function",X1=1,T2=2,Xm=8,Vm=16,Ym=32,V1=64,Y1=Math.max;function Xa(i,a,u,l,o,d,h,m){var v=a&T2;if(!v&&typeof i!="function")throw new TypeError(k2);var E=l?l.length:0;if(E||(a&=~(Ym|V1),l=o=void 0),h=h===void 0?h:Y1(rn(h),0),m=m===void 0?m:rn(m),E-=o?o.length:0,a&V1){var j=l,S=o;l=o=void 0}var T=v?void 0:Eb(i),k=[i,a,u,l,o,j,S,d,h,m];if(T&&M2(k,T),i=k[0],a=k[1],u=k[2],l=k[3],o=k[4],m=k[9]=k[9]===void 0?v?0:i.length:Y1(k[9]-E,0),!m&&a&(Xm|Vm)&&(a&=~(Xm|Vm)),!a||a==X1)var C=FM(i,a,u);else a==Xm||a==Vm?C=x2(i,a,m):(a==Ym||a==(X1|Ym))&&!o.length?C=S2(i,a,u,l):C=Ey.apply(void 0,k);var N=T?bw:xw;return Ew(N(C,k),i,a)}var N2=128;function jw(i,a,u){return a=u?void 0:a,a=i&&a==null?i.length:a,Xa(i,N2,void 0,void 0,void 0,void 0,a)}var D2=Object.prototype,C2=D2.hasOwnProperty,R2=Cp(function(i,a){if(qO(a)||Lu(a)){Rp(a,Mo(a),i);return}for(var u in a)C2.call(a,u)&&ZO(i,u,a[u])}),K1=Cp(function(i,a){Rp(a,$a(a),i)}),ay=Cp(function(i,a,u,l){Rp(a,$a(a),i,l)}),I2=Cp(function(i,a,u,l){Rp(a,Mo(a),i,l)});function Sb(i,a){for(var u=-1,l=a.length,o=Array(l),d=i==null;++u<l;)o[u]=d?void 0:JO(i,a[u]);return o}var L2=zu(Sb),z2="[object DOMException]",B2="[object Error]";function jb(i){if(!vi(i))return!1;var a=Bu(i);return a==B2||a==z2||typeof i.message=="string"&&typeof i.name=="string"&&!by(i)}var Pw=fn(function(i,a){try{return pi(i,void 0,a)}catch(u){return jb(u)?u:new Error(u)}}),F2="Expected a function";function Aw(i,a){var u;if(typeof a!="function")throw new TypeError(F2);return i=rn(i),function(){return--i>0&&(u=a.apply(this,arguments)),i<=1&&(a=void 0),u}}var U2=1,W2=32,Sy=fn(function(i,a,u){var l=U2;if(u.length){var o=Iu(u,Ml(Sy));l|=W2}return Xa(i,l,a,u,o)});Sy.placeholder={};var G2=zu(function(i,a){return Gi(a,function(u){u=Ip(u),jl(i,u,Sy(i[u],i))}),i}),$2=1,H2=2,X2=32,Pb=fn(function(i,a,u){var l=$2|H2;if(u.length){var o=Iu(u,Ml(Pb));l|=X2}return Xa(a,l,i,u,o)});Pb.placeholder={};function hi(i,a,u){var l=-1,o=i.length;a<0&&(a=-a>o?0:o+a),u=u>o?o:u,u<0&&(u+=o),o=a>u?0:u-a>>>0,a>>>=0;for(var d=Array(o);++l<o;)d[l]=i[l+a];return d}function Uu(i,a,u){var l=i.length;return u=u===void 0?l:u,!a&&u>=l?i:hi(i,a,u)}var V2="\\ud800-\\udfff",Y2="\\u0300-\\u036f",K2="\\ufe20-\\ufe2f",q2="\\u20d0-\\u20ff",Z2=Y2+K2+q2,J2="\\ufe0e\\ufe0f",Q2="\\u200d",ek=RegExp("["+Q2+V2+Z2+J2+"]");function kl(i){return ek.test(i)}function tk(i){return i.split("")}var Mw="\\ud800-\\udfff",nk="\\u0300-\\u036f",rk="\\ufe20-\\ufe2f",ok="\\u20d0-\\u20ff",ik=nk+rk+ok,ak="\\ufe0e\\ufe0f",uk="["+Mw+"]",eb="["+ik+"]",tb="\\ud83c[\\udffb-\\udfff]",sk="(?:"+eb+"|"+tb+")",kw="[^"+Mw+"]",Tw="(?:\\ud83c[\\udde6-\\uddff]){2}",Nw="[\\ud800-\\udbff][\\udc00-\\udfff]",ck="\\u200d",Dw=sk+"?",Cw="["+ak+"]?",lk="(?:"+ck+"(?:"+[kw,Tw,Nw].join("|")+")"+Cw+Dw+")*",fk=Cw+Dw+lk,pk="(?:"+[kw+eb+"?",eb,Tw,Nw,uk].join("|")+")",dk=RegExp(tb+"(?="+tb+")|"+pk+fk,"g");function hk(i){return i.match(dk)||[]}function Wi(i){return kl(i)?hk(i):tk(i)}function Rw(i){return function(a){a=Cn(a);var u=kl(a)?Wi(a):void 0,l=u?u[0]:a.charAt(0),o=u?Uu(u,1).join(""):a.slice(1);return l[i]()+o}}var Ab=Rw("toUpperCase");function Iw(i){return Ab(Cn(i).toLowerCase())}function Mb(i,a,u,l){var o=-1,d=i==null?0:i.length;for(l&&d&&(u=i[++o]);++o<d;)u=a(u,i[o],o,i);return u}function kb(i){return function(a){return i==null?void 0:i[a]}}var yk={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},vk=kb(yk),gk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mk="\\u0300-\\u036f",bk="\\ufe20-\\ufe2f",_k="\\u20d0-\\u20ff",Ok=mk+bk+_k,wk="["+Ok+"]",xk=RegExp(wk,"g");function Lw(i){return i=Cn(i),i&&i.replace(gk,vk).replace(xk,"")}var Ek=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Sk(i){return i.match(Ek)||[]}var jk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Pk(i){return jk.test(i)}var zw="\\ud800-\\udfff",Ak="\\u0300-\\u036f",Mk="\\ufe20-\\ufe2f",kk="\\u20d0-\\u20ff",Tk=Ak+Mk+kk,Bw="\\u2700-\\u27bf",Fw="a-z\\xdf-\\xf6\\xf8-\\xff",Nk="\\xac\\xb1\\xd7\\xf7",Dk="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ck="\\u2000-\\u206f",Rk=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Uw="A-Z\\xc0-\\xd6\\xd8-\\xde",Ik="\\ufe0e\\ufe0f",Ww=Nk+Dk+Ck+Rk,Gw="['’]",q1="["+Ww+"]",Lk="["+Tk+"]",$w="\\d+",zk="["+Bw+"]",Hw="["+Fw+"]",Xw="[^"+zw+Ww+$w+Bw+Fw+Uw+"]",Bk="\\ud83c[\\udffb-\\udfff]",Fk="(?:"+Lk+"|"+Bk+")",Uk="[^"+zw+"]",Vw="(?:\\ud83c[\\udde6-\\uddff]){2}",Yw="[\\ud800-\\udbff][\\udc00-\\udfff]",bl="["+Uw+"]",Wk="\\u200d",Z1="(?:"+Hw+"|"+Xw+")",Gk="(?:"+bl+"|"+Xw+")",J1="(?:"+Gw+"(?:d|ll|m|re|s|t|ve))?",Q1="(?:"+Gw+"(?:D|LL|M|RE|S|T|VE))?",Kw=Fk+"?",qw="["+Ik+"]?",$k="(?:"+Wk+"(?:"+[Uk,Vw,Yw].join("|")+")"+qw+Kw+")*",Hk="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vk=qw+Kw+$k,Yk="(?:"+[zk,Vw,Yw].join("|")+")"+Vk,Kk=RegExp([bl+"?"+Hw+"+"+J1+"(?="+[q1,bl,"$"].join("|")+")",Gk+"+"+Q1+"(?="+[q1,bl+Z1,"$"].join("|")+")",bl+"?"+Z1+"+"+J1,bl+"+"+Q1,Xk,Hk,$w,Yk].join("|"),"g");function qk(i){return i.match(Kk)||[]}function Zw(i,a,u){return i=Cn(i),a=u?void 0:a,a===void 0?Pk(i)?qk(i):Sk(i):i.match(a)||[]}var Zk="['’]",Jk=RegExp(Zk,"g");function Tl(i){return function(a){return Mb(Zw(Lw(a).replace(Jk,"")),i,"")}}var Qk=Tl(function(i,a,u){return a=a.toLowerCase(),i+(u?Iw(a):a)}),eT=qs.isFinite,tT=Math.min;function Tb(i){var a=Math[i];return function(u,l){if(u=Ua(u),l=l==null?0:tT(rn(l),292),l&&eT(u)){var o=(Cn(u)+"e").split("e"),d=a(o[0]+"e"+(+o[1]+l));return o=(Cn(d)+"e").split("e"),+(o[0]+"e"+(+o[1]-l))}return a(u)}}var nT=Tb("ceil");function Jw(i){var a=U(i);return a.__chain__=!0,a}var rT=Math.ceil,oT=Math.max;function iT(i,a,u){(u?Ao(i,a,u):a===void 0)?a=1:a=oT(rn(a),0);var l=i==null?0:i.length;if(!l||a<1)return[];for(var o=0,d=0,h=Array(rT(l/a));o<l;)h[d++]=hi(i,o,o+=a);return h}function ec(i,a,u){return i===i&&(u!==void 0&&(i=i<=u?i:u),a!==void 0&&(i=i>=a?i:a)),i}function aT(i,a,u){return u===void 0&&(u=a,a=void 0),u!==void 0&&(u=Ua(u),u=u===u?u:0),a!==void 0&&(a=Ua(a),a=a===a?a:0),ec(Ua(i),a,u)}var uT=1,sT=4;function cT(i,a){return a=typeof a=="function"?a:void 0,Zs(i,uT|sT,a)}var lT=4;function fT(i,a){return a=typeof a=="function"?a:void 0,Zs(i,lT,a)}function pT(){return new di(this.value(),this.__chain__)}function dT(i){for(var a=-1,u=i==null?0:i.length,l=0,o=[];++a<u;){var d=i[a];d&&(o[l++]=d)}return o}function hT(){var i=arguments.length;if(!i)return[];for(var a=Array(i-1),u=arguments[0],l=i;l--;)a[l-1]=arguments[l];return Lp(Dn(u)?fi(u):[u],gi(a,1))}var yT="Expected a function";function vT(i){var a=i==null?0:i.length,u=Qt;return i=a?pr(i,function(l){if(typeof l[1]!="function")throw new TypeError(yT);return[u(l[0]),l[1]]}):[],fn(function(l){for(var o=-1;++o<a;){var d=i[o];if(pi(d[0],this,l))return pi(d[1],this,l)}})}function Qw(i,a,u){var l=u.length;if(i==null)return!l;for(i=Object(i);l--;){var o=u[l],d=a[o],h=i[o];if(h===void 0&&!(o in i)||!d(h))return!1}return!0}function gT(i){var a=Mo(i);return function(u){return Qw(u,i,a)}}var mT=1;function bT(i){return gT(Zs(i,mT))}function _T(i,a){return a==null||Qw(i,a,Mo(a))}function OT(i,a,u,l){for(var o=-1,d=i==null?0:i.length;++o<d;){var h=i[o];a(l,h,u(h),i)}return l}function wT(i,a,u,l){return Js(i,function(o,d,h){a(l,o,u(o),h)}),l}function jy(i,a){return function(u,l){var o=Dn(u)?OT:wT,d=a?a():{};return o(u,i,Qt(l),d)}}var xT=Object.prototype,ET=xT.hasOwnProperty,ST=jy(function(i,a,u){ET.call(i,u)?++i[u]:jl(i,u,1)});function jT(i,a){var u=Np(i);return a==null?u:DA(u,a)}var PT=8;function Nb(i,a,u){a=u?void 0:a;var l=Xa(i,PT,void 0,void 0,void 0,void 0,void 0,a);return l.placeholder=Nb.placeholder,l}Nb.placeholder={};var AT=16;function Db(i,a,u){a=u?void 0:a;var l=Xa(i,AT,void 0,void 0,void 0,void 0,void 0,a);return l.placeholder=Db.placeholder,l}Db.placeholder={};function MT(i,a){return i==null||i!==i?a:i}var ex=Object.prototype,kT=ex.hasOwnProperty,TT=fn(function(i,a){i=Object(i);var u=-1,l=a.length,o=l>2?a[2]:void 0;for(o&&Ao(a[0],a[1],o)&&(l=1);++u<l;)for(var d=a[u],h=$a(d),m=-1,v=h.length;++m<v;){var E=h[m],j=i[E];(j===void 0||Pl(j,ex[E])&&!kT.call(i,E))&&(i[E]=d[E])}return i});function tx(i,a,u,l,o,d){return Ga(i)&&Ga(a)&&(d.set(a,i),QO(i,a,void 0,tx,d),d.delete(a)),i}var nx=Cp(function(i,a,u,l){QO(i,a,u,l)}),NT=fn(function(i){return i.push(void 0,tx),pi(nx,void 0,i)}),DT="Expected a function";function rx(i,a,u){if(typeof i!="function")throw new TypeError(DT);return setTimeout(function(){i.apply(void 0,u)},a)}var CT=fn(function(i,a){return rx(i,1,a)}),RT=fn(function(i,a,u){return rx(i,Ua(a)||0,u)}),IT=200;function Fp(i,a,u,l){var o=-1,d=mb,h=!0,m=i.length,v=[],E=a.length;if(!m)return v;u&&(a=pr(a,pa(u))),l?(d=tw,h=!1):a.length>=IT&&(d=Jm,h=!1,a=new ew(a));e:for(;++o<m;){var j=i[o],S=u==null?j:u(j);if(j=l||j!==0?j:0,h&&S===S){for(var T=E;T--;)if(a[T]===S)continue e;v.push(j)}else d(a,S,l)||v.push(j)}return v}var LT=fn(function(i,a){return Pr(i)?Fp(i,gi(a,1,Pr,!0)):[]});function Xo(i){var a=i==null?0:i.length;return a?i[a-1]:void 0}var zT=fn(function(i,a){var u=Xo(a);return Pr(u)&&(u=void 0),Pr(i)?Fp(i,gi(a,1,Pr,!0),Qt(u)):[]}),BT=fn(function(i,a){var u=Xo(a);return Pr(u)&&(u=void 0),Pr(i)?Fp(i,gi(a,1,Pr,!0),void 0,u):[]}),FT=wy(function(i,a){return i/a},1);function UT(i,a,u){var l=i==null?0:i.length;return l?(a=u||a===void 0?1:rn(a),hi(i,a<0?0:a,l)):[]}function WT(i,a,u){var l=i==null?0:i.length;return l?(a=u||a===void 0?1:rn(a),a=l-a,hi(i,0,a<0?0:a)):[]}function Py(i,a,u,l){for(var o=i.length,d=l?o:-1;(l?d--:++d<o)&&a(i[d],d,i););return u?hi(i,l?0:d,l?d+1:o):hi(i,l?d+1:0,l?o:d)}function GT(i,a){return i&&i.length?Py(i,Qt(a),!0,!0):[]}function $T(i,a){return i&&i.length?Py(i,Qt(a),!0):[]}function ha(i){return typeof i=="function"?i:yi}function eO(i,a){var u=Dn(i)?Gi:Js;return u(i,ha(a))}function HT(i,a){for(var u=i==null?0:i.length;u--&&a(i[u],u,i)!==!1;);return i}var ox=CA(!0);function Cb(i,a){return i&&ox(i,a,Mo)}var ix=RA(Cb,!0);function tO(i,a){var u=Dn(i)?HT:ix;return u(i,ha(a))}function XT(i,a,u){i=Cn(i),a=Ui(a);var l=i.length;u=u===void 0?l:ec(rn(u),0,l);var o=u;return u-=a.length,u>=0&&i.slice(u,o)==a}function VT(i,a){return pr(a,function(u){return[u,i[u]]})}function YT(i){var a=-1,u=Array(i.size);return i.forEach(function(l){u[++a]=[l,l]}),u}var KT="[object Map]",qT="[object Set]";function ax(i){return function(a){var u=zp(a);return u==KT?nw(a):u==qT?YT(a):VT(a,i(a))}}var nO=ax(Mo),rO=ax($a),ZT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JT=kb(ZT),ux=/[&<>"']/g,QT=RegExp(ux.source);function sx(i){return i=Cn(i),i&&QT.test(i)?i.replace(ux,JT):i}var cx=/[\\^$.*+?()[\]{}|]/g,eN=RegExp(cx.source);function tN(i){return i=Cn(i),i&&eN.test(i)?i.replace(cx,"\\$&"):i}function lx(i,a){for(var u=-1,l=i==null?0:i.length;++u<l;)if(!a(i[u],u,i))return!1;return!0}function nN(i,a){var u=!0;return Js(i,function(l,o,d){return u=!!a(l,o,d),u}),u}function rN(i,a,u){var l=Dn(i)?lx:nN;return u&&Ao(i,a,u)&&(a=void 0),l(i,Qt(a))}var oN=4294967295;function fx(i){return i?ec(rn(i),0,oN):0}function iN(i,a,u,l){var o=i.length;for(u=rn(u),u<0&&(u=-u>o?0:o+u),l=l===void 0||l>o?o:rn(l),l<0&&(l+=o),l=u>l?0:fx(l);u<l;)i[u++]=a;return i}function aN(i,a,u,l){var o=i==null?0:i.length;return o?(u&&typeof u!="number"&&Ao(i,a,u)&&(u=0,l=o),iN(i,a,u,l)):[]}function px(i,a){var u=[];return Js(i,function(l,o,d){a(l,o,d)&&u.push(l)}),u}function uN(i,a){var u=Dn(i)?Qs:px;return u(i,Qt(a))}function dx(i){return function(a,u,l){var o=Object(a);if(!Lu(a)){var d=Qt(u);a=Mo(a),u=function(m){return d(o[m],m,o)}}var h=i(a,u,l);return h>-1?o[d?a[h]:h]:void 0}}var sN=Math.max;function hx(i,a,u){var l=i==null?0:i.length;if(!l)return-1;var o=u==null?0:rn(u);return o<0&&(o=sN(l+o,0)),rw(i,Qt(a),o)}var cN=dx(hx);function yx(i,a,u){var l;return u(i,function(o,d,h){if(a(o,d,h))return l=d,!1}),l}function lN(i,a){return yx(i,Qt(a),Ha)}var fN=dx(ow);function pN(i,a){return yx(i,Qt(a),Cb)}function oO(i){return i&&i.length?i[0]:void 0}var dN=1/0;function hN(i,a){return gi(bb(i,a),dN)}function yN(i,a,u){return u=u===void 0?1:rn(u),gi(bb(i,a),u)}function vN(i,a){var u=i==null?0:i.length;return u?(a=a===void 0?1:rn(a),gi(i,a)):[]}var gN=512;function mN(i){return Xa(i,gN)}var bN=Tb("floor"),_N="Expected a function",ON=8,wN=32,xN=128,EN=256;function vx(i){return zu(function(a){var u=a.length,l=u,o=di.prototype.thru;for(i&&a.reverse();l--;){var d=a[l];if(typeof d!="function")throw new TypeError(_N);if(o&&!h&&ey(d)=="wrapper")var h=new di([],!0)}for(l=h?l:u;++l<u;){d=a[l];var m=ey(d),v=m=="wrapper"?Eb(d):void 0;v&&Qm(v[0])&&v[1]==(xN|ON|wN|EN)&&!v[4].length&&v[9]==1?h=h[ey(v[0])].apply(h,v[3]):h=d.length==1&&Qm(d)?h[m]():h.thru(d)}return function(){var E=arguments,j=E[0];if(h&&E.length==1&&Dn(j))return h.plant(j).value();for(var S=0,T=u?a[S].apply(this,E):j;++S<u;)T=a[S].call(this,T);return T}})}var SN=vx(),jN=vx(!0);function PN(i,a){return i==null?i:IA(i,ha(a),$a)}function AN(i,a){return i==null?i:ox(i,ha(a),$a)}function MN(i,a){return i&&Ha(i,ha(a))}function kN(i,a){return i&&Cb(i,ha(a))}function Ay(i,a){return Qs(a,function(u){return Al(i[u])})}function TN(i){return i==null?[]:Ay(i,Mo(i))}function NN(i){return i==null?[]:Ay(i,$a(i))}var DN=Object.prototype,CN=DN.hasOwnProperty,RN=jy(function(i,a,u){CN.call(i,u)?i[u].push(a):jl(i,u,[a])});function Rb(i,a){return i>a}function My(i){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=Ua(a),u=Ua(u)),i(a,u)}}var IN=My(Rb),LN=My(function(i,a){return i>=a}),zN=Object.prototype,BN=zN.hasOwnProperty;function FN(i,a){return i!=null&&BN.call(i,a)}function UN(i,a){return i!=null&&LA(i,a,FN)}var WN=Math.max,GN=Math.min;function $N(i,a,u){return i>=GN(a,u)&&i<WN(a,u)}function HN(i,a,u){return a=Ru(a),u===void 0?(u=a,a=0):u=Ru(u),i=Ua(i),$N(i,a,u)}var XN="[object String]";function ky(i){return typeof i=="string"||!Dn(i)&&vi(i)&&Bu(i)==XN}function Ib(i,a){return pr(a,function(u){return i[u]})}function Nl(i){return i==null?[]:Ib(i,Mo(i))}var VN=Math.max;function YN(i,a,u,l){i=Lu(i)?i:Nl(i),u=u&&!l?rn(u):0;var o=i.length;return u<0&&(u=VN(o+u,0)),ky(i)?u<=o&&i.indexOf(a,u)>-1:!!o&&Bp(i,a,u)>-1}var KN=Math.max;function qN(i,a,u){var l=i==null?0:i.length;if(!l)return-1;var o=u==null?0:rn(u);return o<0&&(o=KN(l+o,0)),Bp(i,a,o)}function ZN(i){var a=i==null?0:i.length;return a?hi(i,0,-1):[]}var JN=Math.min;function Lb(i,a,u){for(var l=u?tw:mb,o=i[0].length,d=i.length,h=d,m=Array(d),v=1/0,E=[];h--;){var j=i[h];h&&a&&(j=pr(j,pa(a))),v=JN(j.length,v),m[h]=!u&&(a||o>=120&&j.length>=120)?new ew(h&&j):void 0}j=i[0];var S=-1,T=m[0];e:for(;++S<o&&E.length<v;){var k=j[S],C=a?a(k):k;if(k=u||k!==0?k:0,!(T?Jm(T,C):l(E,C,u))){for(h=d;--h;){var N=m[h];if(!(N?Jm(N,C):l(i[h],C,u)))continue e}T&&T.push(C),E.push(k)}}return E}function zb(i){return Pr(i)?i:[]}var QN=fn(function(i){var a=pr(i,zb);return a.length&&a[0]===i[0]?Lb(a):[]}),eD=fn(function(i){var a=Xo(i),u=pr(i,zb);return a===Xo(u)?a=void 0:u.pop(),u.length&&u[0]===i[0]?Lb(u,Qt(a)):[]}),tD=fn(function(i){var a=Xo(i),u=pr(i,zb);return a=typeof a=="function"?a:void 0,a&&u.pop(),u.length&&u[0]===i[0]?Lb(u,void 0,a):[]});function nD(i,a,u,l){return Ha(i,function(o,d,h){a(l,u(o),d,h)}),l}function gx(i,a){return function(u,l){return nD(u,i,a(l),{})}}var rD=Object.prototype,oD=rD.toString,iD=gx(function(i,a,u){a!=null&&typeof a.toString!="function"&&(a=oD.call(a)),i[a]=u},iw(yi)),mx=Object.prototype,aD=mx.hasOwnProperty,uD=mx.toString,sD=gx(function(i,a,u){a!=null&&typeof a.toString!="function"&&(a=uD.call(a)),aD.call(i,a)?i[a].push(u):i[a]=[u]},Qt);function bx(i,a){return a.length<2?i:_y(i,hi(a,0,-1))}function Up(i,a,u){a=Oy(a,i),i=bx(i,a);var l=i==null?i:i[Ip(Xo(a))];return l==null?void 0:pi(l,i,u)}var cD=fn(Up),lD=fn(function(i,a,u){var l=-1,o=typeof a=="function",d=Lu(i)?Array(i.length):[];return Js(i,function(h){d[++l]=o?pi(a,h,u):Up(h,a,u)}),d}),fD="[object ArrayBuffer]";function pD(i){return vi(i)&&Bu(i)==fD}var iO=Sl&&Sl.isArrayBuffer,dD=iO?pa(iO):pD,hD="[object Boolean]";function yD(i){return i===!0||i===!1||vi(i)&&Bu(i)==hD}var vD="[object Date]";function gD(i){return vi(i)&&Bu(i)==vD}var aO=Sl&&Sl.isDate,mD=aO?pa(aO):gD;function bD(i){return vi(i)&&i.nodeType===1&&!by(i)}var _D="[object Map]",OD="[object Set]",wD=Object.prototype,xD=wD.hasOwnProperty;function ED(i){if(i==null)return!0;if(Lu(i)&&(Dn(i)||typeof i=="string"||typeof i.splice=="function"||_b(i)||Ob(i)||aw(i)))return!i.length;var a=zp(i);if(a==_D||a==OD)return!i.size;if(qO(i))return!uw(i).length;for(var u in i)if(xD.call(i,u))return!1;return!0}function SD(i,a,u){u=typeof u=="function"?u:void 0;var l=u?u(i,a):void 0;return l===void 0?zA(i,a,void 0,u):!!l}var jD=qs.isFinite;function PD(i){return typeof i=="number"&&jD(i)}function _x(i){return typeof i=="number"&&i==rn(i)}function AD(i,a){return i===a||sw(i,a,cw(a))}function MD(i,a,u){return u=typeof u=="function"?u:void 0,sw(i,a,cw(a),u)}var kD="[object Number]";function Ox(i){return typeof i=="number"||vi(i)&&Bu(i)==kD}function TD(i){return Ox(i)&&i!=+i}var ND=BA?Al:lw,DD="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function CD(i){if(ND(i))throw new Error(DD);return FA(i)}function RD(i){return i===null}var ID="[object RegExp]";function LD(i){return vi(i)&&Bu(i)==ID}var uO=Sl&&Sl.isRegExp,Bb=uO?pa(uO):LD,sO=9007199254740991;function zD(i){return _x(i)&&i>=-sO&&i<=sO}var BD="[object WeakMap]";function FD(i){return vi(i)&&zp(i)==BD}var UD="[object WeakSet]";function WD(i){return vi(i)&&Bu(i)==UD}var GD=1;function $D(i){return Qt(typeof i=="function"?i:Zs(i,GD))}var HD=Array.prototype,XD=HD.join;function VD(i,a){return i==null?"":XD.call(i,a)}var YD=Tl(function(i,a,u){return i+(u?"-":"")+a.toLowerCase()}),KD=jy(function(i,a,u){jl(i,u,a)});function qD(i,a,u){for(var l=u+1;l--;)if(i[l]===a)return l;return l}var ZD=Math.max,JD=Math.min;function QD(i,a,u){var l=i==null?0:i.length;if(!l)return-1;var o=l;return u!==void 0&&(o=rn(u),o=o<0?ZD(l+o,0):JD(o,l-1)),a===a?qD(i,a,o):rw(i,UA,o,!0)}var eC=Tl(function(i,a,u){return i+(u?" ":"")+a.toLowerCase()}),tC=Rw("toLowerCase");function Fb(i,a){return i<a}var nC=My(Fb),rC=My(function(i,a){return i<=a});function oC(i,a){var u={};return a=Qt(a),Ha(i,function(l,o,d){jl(u,a(l,o,d),l)}),u}function iC(i,a){var u={};return a=Qt(a),Ha(i,function(l,o,d){jl(u,o,a(l,o,d))}),u}var aC=1;function uC(i){return WA(Zs(i,aC))}var sC=1;function cC(i,a){return GA(i,Zs(a,sC))}function Ty(i,a,u){for(var l=-1,o=i.length;++l<o;){var d=i[l],h=a(d);if(h!=null&&(m===void 0?h===h&&!Wa(h):u(h,m)))var m=h,v=d}return v}function lC(i){return i&&i.length?Ty(i,yi,Rb):void 0}function fC(i,a){return i&&i.length?Ty(i,Qt(a),Rb):void 0}function Ub(i,a){for(var u,l=-1,o=i.length;++l<o;){var d=a(i[l]);d!==void 0&&(u=u===void 0?d:u+d)}return u}var pC=NaN;function wx(i,a){var u=i==null?0:i.length;return u?Ub(i,a)/u:pC}function dC(i){return wx(i,yi)}function hC(i,a){return wx(i,Qt(a))}var yC=fn(function(i,a){return function(u){return Up(u,i,a)}}),vC=fn(function(i,a){return function(u){return Up(i,u,a)}});function gC(i){return i&&i.length?Ty(i,yi,Fb):void 0}function mC(i,a){return i&&i.length?Ty(i,Qt(a),Fb):void 0}function xx(i,a,u){var l=Mo(a),o=Ay(a,l),d=!(Ga(u)&&"chain"in u)||!!u.chain,h=Al(i);return Gi(o,function(m){var v=a[m];i[m]=v,h&&(i.prototype[m]=function(){var E=this.__chain__;if(d||E){var j=i(this.__wrapped__),S=j.__actions__=fi(this.__actions__);return S.push({func:v,args:arguments,thisArg:i}),j.__chain__=E,j}return v.apply(i,Lp([this.value()],arguments))})}),i}var bC=wy(function(i,a){return i*a},1),_C="Expected a function";function Wp(i){if(typeof i!="function")throw new TypeError(_C);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function OC(i){for(var a,u=[];!(a=i.next()).done;)u.push(a.value);return u}var wC="[object Map]",xC="[object Set]",Km=oy?oy.iterator:void 0;function Ex(i){if(!i)return[];if(Lu(i))return ky(i)?Wi(i):fi(i);if(Km&&i[Km])return OC(i[Km]());var a=zp(i),u=a==wC?nw:a==xC?$A:Nl;return u(i)}function EC(){this.__values__===void 0&&(this.__values__=Ex(this.value()));var i=this.__index__>=this.__values__.length,a=i?void 0:this.__values__[this.__index__++];return{done:i,value:a}}function Sx(i,a){var u=i.length;if(u)return a+=a<0?u:0,Dp(a,u)?i[a]:void 0}function SC(i,a){return i&&i.length?Sx(i,rn(a)):void 0}function jC(i){return i=rn(i),fn(function(a){return Sx(a,i)})}function Wb(i,a){return a=Oy(a,i),i=bx(i,a),i==null||delete i[Ip(Xo(a))]}function PC(i){return by(i)?void 0:i}var AC=1,MC=2,kC=4,TC=zu(function(i,a){var u={};if(i==null)return u;var l=!1;a=pr(a,function(d){return d=Oy(d,i),l||(l=d.length>1),d}),Rp(i,fw(i),u),l&&(u=Zs(u,AC|MC|kC,PC));for(var o=a.length;o--;)Wb(u,a[o]);return u});function jx(i,a){if(i==null)return{};var u=pr(fw(i),function(l){return[l]});return a=Qt(a),HA(i,u,function(l,o){return a(l,o[0])})}function NC(i,a){return jx(i,Wp(Qt(a)))}function DC(i){return Aw(2,i)}function CC(i,a){var u=i.length;for(i.sort(a);u--;)i[u]=i[u].value;return i}function Px(i,a){if(i!==a){var u=i!==void 0,l=i===null,o=i===i,d=Wa(i),h=a!==void 0,m=a===null,v=a===a,E=Wa(a);if(!m&&!E&&!d&&i>a||d&&h&&v&&!m&&!E||l&&h&&v||!u&&v||!o)return 1;if(!l&&!d&&!E&&i<a||E&&u&&o&&!l&&!d||m&&u&&o||!h&&o||!v)return-1}return 0}function RC(i,a,u){for(var l=-1,o=i.criteria,d=a.criteria,h=o.length,m=u.length;++l<h;){var v=Px(o[l],d[l]);if(v){if(l>=m)return v;var E=u[l];return v*(E=="desc"?-1:1)}}return i.index-a.index}function Ax(i,a,u){a.length?a=pr(a,function(d){return Dn(d)?function(h){return _y(h,d.length===1?d[0]:d)}:d}):a=[yi];var l=-1;a=pr(a,pa(Qt));var o=XA(i,function(d,h,m){var v=pr(a,function(E){return E(d)});return{criteria:v,index:++l,value:d}});return CC(o,function(d,h){return RC(d,h,u)})}function IC(i,a,u,l){return i==null?[]:(Dn(a)||(a=a==null?[]:[a]),u=l?void 0:u,Dn(u)||(u=u==null?[]:[u]),Ax(i,a,u))}function Gb(i){return zu(function(a){return a=pr(a,pa(Qt)),fn(function(u){var l=this;return i(a,function(o){return pi(o,l,u)})})})}var LC=Gb(pr),zC=fn,BC=Math.min,FC=zC(function(i,a){a=a.length==1&&Dn(a[0])?pr(a[0],pa(Qt)):pr(gi(a,1),pa(Qt));var u=a.length;return fn(function(l){for(var o=-1,d=BC(l.length,u);++o<d;)l[o]=a[o].call(this,l[o]);return pi(i,this,l)})}),UC=Gb(lx),WC=Gb(pw),GC=9007199254740991,$C=Math.floor;function nb(i,a){var u="";if(!i||a<1||a>GC)return u;do a%2&&(u+=i),a=$C(a/2),a&&(i+=i);while(a);return u}var HC=dw("length"),Mx="\\ud800-\\udfff",XC="\\u0300-\\u036f",VC="\\ufe20-\\ufe2f",YC="\\u20d0-\\u20ff",KC=XC+VC+YC,qC="\\ufe0e\\ufe0f",ZC="["+Mx+"]",rb="["+KC+"]",ob="\\ud83c[\\udffb-\\udfff]",JC="(?:"+rb+"|"+ob+")",kx="[^"+Mx+"]",Tx="(?:\\ud83c[\\udde6-\\uddff]){2}",Nx="[\\ud800-\\udbff][\\udc00-\\udfff]",QC="\\u200d",Dx=JC+"?",Cx="["+qC+"]?",eR="(?:"+QC+"(?:"+[kx,Tx,Nx].join("|")+")"+Cx+Dx+")*",tR=Cx+Dx+eR,nR="(?:"+[kx+rb+"?",rb,Tx,Nx,ZC].join("|")+")",cO=RegExp(ob+"(?="+ob+")|"+nR+tR,"g");function rR(i){for(var a=cO.lastIndex=0;cO.test(i);)++a;return a}function Dl(i){return kl(i)?rR(i):HC(i)}var oR=Math.ceil;function uy(i,a){a=a===void 0?" ":Ui(a);var u=a.length;if(u<2)return u?nb(a,i):a;var l=nb(a,oR(i/Dl(a)));return kl(a)?Uu(Wi(l),0,i).join(""):l.slice(0,i)}var iR=Math.ceil,aR=Math.floor;function uR(i,a,u){i=Cn(i),a=rn(a);var l=a?Dl(i):0;if(!a||l>=a)return i;var o=(a-l)/2;return uy(aR(o),u)+i+uy(iR(o),u)}function sR(i,a,u){i=Cn(i),a=rn(a);var l=a?Dl(i):0;return a&&l<a?i+uy(a-l,u):i}function cR(i,a,u){i=Cn(i),a=rn(a);var l=a?Dl(i):0;return a&&l<a?uy(a-l,u)+i:i}var lR=/^\s+/,fR=qs.parseInt;function pR(i,a,u){return u||a==null?a=0:a&&(a=+a),fR(Cn(i).replace(lR,""),a||0)}var dR=32,Ny=fn(function(i,a){var u=Iu(a,Ml(Ny));return Xa(i,dR,void 0,a,u)});Ny.placeholder={};var hR=64,$b=fn(function(i,a){var u=Iu(a,Ml($b));return Xa(i,hR,void 0,a,u)});$b.placeholder={};var yR=jy(function(i,a,u){i[u?0:1].push(a)},function(){return[[],[]]});function vR(i){for(var a,u=this;u instanceof xy;){var l=ww(u);l.__index__=0,l.__values__=void 0,a?o.__wrapped__=l:a=l;var o=l;u=u.__wrapped__}return o.__wrapped__=i,a}function gR(i){return function(a){return i==null?void 0:_y(i,a)}}function mR(i,a,u,l){for(var o=u-1,d=i.length;++o<d;)if(l(i[o],a))return o;return-1}var bR=Array.prototype,lO=bR.splice;function Hb(i,a,u,l){var o=l?mR:Bp,d=-1,h=a.length,m=i;for(i===a&&(a=fi(a)),u&&(m=pr(i,pa(u)));++d<h;)for(var v=0,E=a[d],j=u?u(E):E;(v=o(m,j,v,l))>-1;)m!==i&&lO.call(m,v,1),lO.call(i,v,1);return i}function Rx(i,a){return i&&i.length&&a&&a.length?Hb(i,a):i}var _R=fn(Rx);function OR(i,a,u){return i&&i.length&&a&&a.length?Hb(i,a,Qt(u)):i}function wR(i,a,u){return i&&i.length&&a&&a.length?Hb(i,a,void 0,u):i}var xR=Array.prototype,ER=xR.splice;function Ix(i,a){for(var u=i?a.length:0,l=u-1;u--;){var o=a[u];if(u==l||o!==d){var d=o;Dp(o)?ER.call(i,o,1):Wb(i,o)}}return i}var SR=zu(function(i,a){var u=i==null?0:i.length,l=Sb(i,a);return Ix(i,pr(a,function(o){return Dp(o,u)?+o:o}).sort(Px)),l}),jR=Math.floor,PR=Math.random;function Xb(i,a){return i+jR(PR()*(a-i+1))}var AR=parseFloat,MR=Math.min,kR=Math.random;function TR(i,a,u){if(u&&typeof u!="boolean"&&Ao(i,a,u)&&(a=u=void 0),u===void 0&&(typeof a=="boolean"?(u=a,a=void 0):typeof i=="boolean"&&(u=i,i=void 0)),i===void 0&&a===void 0?(i=0,a=1):(i=Ru(i),a===void 0?(a=i,i=0):a=Ru(a)),i>a){var l=i;i=a,a=l}if(u||i%1||a%1){var o=kR();return MR(i+o*(a-i+AR("1e-"+((o+"").length-1))),a)}return Xb(i,a)}var NR=Math.ceil,DR=Math.max;function CR(i,a,u,l){for(var o=-1,d=DR(NR((a-i)/(u||1)),0),h=Array(d);d--;)h[l?d:++o]=i,i+=u;return h}function Lx(i){return function(a,u,l){return l&&typeof l!="number"&&Ao(a,u,l)&&(u=l=void 0),a=Ru(a),u===void 0?(u=a,a=0):u=Ru(u),l=l===void 0?a<u?1:-1:Ru(l),CR(a,u,l,i)}}var RR=Lx(),IR=Lx(!0),LR=256,zR=zu(function(i,a){return Xa(i,LR,void 0,void 0,void 0,a)});function zx(i,a,u,l,o){return o(i,function(d,h,m){u=l?(l=!1,d):a(u,d,h,m)}),u}function BR(i,a,u){var l=Dn(i)?Mb:zx,o=arguments.length<3;return l(i,Qt(a),u,o,Js)}function FR(i,a,u,l){var o=i==null?0:i.length;for(l&&o&&(u=i[--o]);o--;)u=a(u,i[o],o,i);return u}function UR(i,a,u){var l=Dn(i)?FR:zx,o=arguments.length<3;return l(i,Qt(a),u,o,ix)}function WR(i,a){var u=Dn(i)?Qs:px;return u(i,Wp(Qt(a)))}function GR(i,a){var u=[];if(!(i&&i.length))return u;var l=-1,o=[],d=i.length;for(a=Qt(a);++l<d;){var h=i[l];a(h,l,i)&&(u.push(h),o.push(l))}return Ix(i,o),u}function $R(i,a,u){return(u?Ao(i,a,u):a===void 0)?a=1:a=rn(a),nb(Cn(i),a)}function HR(){var i=arguments,a=Cn(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var XR="Expected a function";function VR(i,a){if(typeof i!="function")throw new TypeError(XR);return a=a===void 0?a:rn(a),fn(i,a)}function YR(i,a,u){a=Oy(a,i);var l=-1,o=a.length;for(o||(o=1,i=void 0);++l<o;){var d=i==null?void 0:i[Ip(a[l])];d===void 0&&(l=o,d=u),i=Al(d)?d.call(i):d}return i}var KR=Array.prototype,qR=KR.reverse;function ib(i){return i==null?i:qR.call(i)}var ZR=Tb("round");function Bx(i){var a=i.length;return a?i[Xb(0,a-1)]:void 0}function JR(i){return Bx(Nl(i))}function QR(i){var a=Dn(i)?Bx:JR;return a(i)}function Dy(i,a){var u=-1,l=i.length,o=l-1;for(a=a===void 0?l:a;++u<a;){var d=Xb(u,o),h=i[d];i[d]=i[u],i[u]=h}return i.length=a,i}function eI(i,a){return Dy(fi(i),ec(a,0,i.length))}function tI(i,a){var u=Nl(i);return Dy(u,ec(a,0,u.length))}function nI(i,a,u){(u?Ao(i,a,u):a===void 0)?a=1:a=rn(a);var l=Dn(i)?eI:tI;return l(i,a)}function rI(i,a,u,l){return l=typeof l=="function"?l:void 0,i==null?i:wb(i,a,u,l)}function oI(i){return Dy(fi(i))}function iI(i){return Dy(Nl(i))}function aI(i){var a=Dn(i)?oI:iI;return a(i)}var uI="[object Map]",sI="[object Set]";function cI(i){if(i==null)return 0;if(Lu(i))return ky(i)?Dl(i):i.length;var a=zp(i);return a==uI||a==sI?i.size:uw(i).length}function lI(i,a,u){var l=i==null?0:i.length;return l?(u&&typeof u!="number"&&Ao(i,a,u)?(a=0,u=l):(a=a==null?0:rn(a),u=u===void 0?l:rn(u)),hi(i,a,u)):[]}var fI=Tl(function(i,a,u){return i+(u?"_":"")+a.toLowerCase()});function pI(i,a){var u;return Js(i,function(l,o,d){return u=a(l,o,d),!u}),!!u}function dI(i,a,u){var l=Dn(i)?pw:pI;return u&&Ao(i,a,u)&&(a=void 0),l(i,Qt(a))}var hI=fn(function(i,a){if(i==null)return[];var u=a.length;return u>1&&Ao(i,a[0],a[1])?a=[]:u>2&&Ao(a[0],a[1],a[2])&&(a=[a[0]]),Ax(i,gi(a,1),[])}),yI=4294967295,vI=yI-1,gI=Math.floor,mI=Math.min;function Vb(i,a,u,l){var o=0,d=i==null?0:i.length;if(d===0)return 0;a=u(a);for(var h=a!==a,m=a===null,v=Wa(a),E=a===void 0;o<d;){var j=gI((o+d)/2),S=u(i[j]),T=S!==void 0,k=S===null,C=S===S,N=Wa(S);if(h)var I=l||C;else E?I=C&&(l||T):m?I=C&&T&&(l||!k):v?I=C&&T&&!k&&(l||!N):k||N?I=!1:I=l?S<=a:S<a;I?o=j+1:d=j}return mI(d,vI)}var bI=4294967295,_I=bI>>>1;function Cy(i,a,u){var l=0,o=i==null?l:i.length;if(typeof a=="number"&&a===a&&o<=_I){for(;l<o;){var d=l+o>>>1,h=i[d];h!==null&&!Wa(h)&&(u?h<=a:h<a)?l=d+1:o=d}return o}return Vb(i,a,yi,u)}function OI(i,a){return Cy(i,a)}function wI(i,a,u){return Vb(i,a,Qt(u))}function xI(i,a){var u=i==null?0:i.length;if(u){var l=Cy(i,a);if(l<u&&Pl(i[l],a))return l}return-1}function EI(i,a){return Cy(i,a,!0)}function SI(i,a,u){return Vb(i,a,Qt(u),!0)}function jI(i,a){var u=i==null?0:i.length;if(u){var l=Cy(i,a,!0)-1;if(Pl(i[l],a))return l}return-1}function Fx(i,a){for(var u=-1,l=i.length,o=0,d=[];++u<l;){var h=i[u],m=a?a(h):h;if(!u||!Pl(m,v)){var v=m;d[o++]=h===0?0:h}}return d}function PI(i){return i&&i.length?Fx(i):[]}function AI(i,a){return i&&i.length?Fx(i,Qt(a)):[]}var MI=4294967295;function kI(i,a,u){return u&&typeof u!="number"&&Ao(i,a,u)&&(a=u=void 0),u=u===void 0?MI:u>>>0,u?(i=Cn(i),i&&(typeof a=="string"||a!=null&&!Bb(a))&&(a=Ui(a),!a&&kl(i))?Uu(Wi(i),0,u):i.split(a,u)):[]}var TI="Expected a function",NI=Math.max;function DI(i,a){if(typeof i!="function")throw new TypeError(TI);return a=a==null?0:NI(rn(a),0),fn(function(u){var l=u[a],o=Uu(u,0,a);return l&&Lp(o,l),pi(i,this,o)})}var CI=Tl(function(i,a,u){return i+(u?" ":"")+Ab(a)});function RI(i,a,u){return i=Cn(i),u=u==null?0:ec(rn(u),0,i.length),a=Ui(a),i.slice(u,u+a.length)==a}function II(){return{}}function LI(){return""}function zI(){return!0}var BI=wy(function(i,a){return i-a},0);function FI(i){return i&&i.length?Ub(i,yi):0}function UI(i,a){return i&&i.length?Ub(i,Qt(a)):0}function WI(i){var a=i==null?0:i.length;return a?hi(i,1,a):[]}function GI(i,a,u){return i&&i.length?(a=u||a===void 0?1:rn(a),hi(i,0,a<0?0:a)):[]}function $I(i,a,u){var l=i==null?0:i.length;return l?(a=u||a===void 0?1:rn(a),a=l-a,hi(i,a<0?0:a,l)):[]}function HI(i,a){return i&&i.length?Py(i,Qt(a),!1,!0):[]}function XI(i,a){return i&&i.length?Py(i,Qt(a)):[]}function VI(i,a){return a(i),i}var Ux=Object.prototype,YI=Ux.hasOwnProperty;function fO(i,a,u,l){return i===void 0||Pl(i,Ux[u])&&!YI.call(l,u)?a:i}var KI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function qI(i){return"\\"+KI[i]}var Wx=/<%=([\s\S]+?)%>/g,ZI=/<%-([\s\S]+?)%>/g,JI=/<%([\s\S]+?)%>/g,ab={escape:ZI,evaluate:JI,interpolate:Wx,variable:"",imports:{_:{escape:sx}}},QI="Invalid `variable` option passed into `_.template`",e3=/\b__p \+= '';/g,t3=/\b(__p \+=) '' \+/g,n3=/(__e\(.*?\)|\b__t\)) \+\n'';/g,r3=/[()=,{}\[\]\/\s]/,o3=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jh=/($^)/,i3=/['\n\r\u2028\u2029\\]/g,a3=Object.prototype,pO=a3.hasOwnProperty;function u3(i,a,u){var l=ab.imports._.templateSettings||ab;u&&Ao(i,a,u)&&(a=void 0),i=Cn(i),a=ay({},a,l,fO);var o=ay({},a.imports,l.imports,fO),d=Mo(o),h=Ib(o,d),m,v,E=0,j=a.interpolate||Jh,S="__p += '",T=RegExp((a.escape||Jh).source+"|"+j.source+"|"+(j===Wx?o3:Jh).source+"|"+(a.evaluate||Jh).source+"|$","g"),k=pO.call(a,"sourceURL")?"//# sourceURL="+(a.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(T,function(I,G,W,K,re,oe){return W||(W=K),S+=i.slice(E,oe).replace(i3,qI),G&&(m=!0,S+=`' +
__e(`+G+`) +
'`),re&&(v=!0,S+=`';
`+re+`;
__p += '`),W&&(S+=`' +
((__t = (`+W+`)) == null ? '' : __t) +
'`),E=oe+I.length,I}),S+=`';
`;var C=pO.call(a,"variable")&&a.variable;if(!C)S=`with (obj) {
`+S+`
}
`;else if(r3.test(C))throw new Error(QI);S=(v?S.replace(e3,""):S).replace(t3,"$1").replace(n3,"$1;"),S="function("+(C||"obj")+`) {
`+(C?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+S+`return __p
}`;var N=Pw(function(){return Function(d,k+"return "+S).apply(void 0,h)});if(N.source=S,jb(N))throw N;return N}function Gp(i,a){return a(i)}var s3=9007199254740991,qm=4294967295,c3=Math.min;function l3(i,a){if(i=rn(i),i<1||i>s3)return[];var u=qm,l=c3(i,qm);a=ha(a),i-=qm;for(var o=hw(l,a);++u<i;)a(u);return o}function f3(){return this}function Gx(i,a){var u=i;return u instanceof yn&&(u=u.value()),Mb(a,function(l,o){return o.func.apply(o.thisArg,Lp([l],o.args))},u)}function Zm(){return Gx(this.__wrapped__,this.__actions__)}function p3(i){return Cn(i).toLowerCase()}function d3(i){return Dn(i)?pr(i,Ip):Wa(i)?[i]:fi(VA(Cn(i)))}var dO=9007199254740991;function h3(i){return i?ec(rn(i),-dO,dO):i===0?i:0}function y3(i){return Cn(i).toUpperCase()}function v3(i,a,u){var l=Dn(i),o=l||_b(i)||Ob(i);if(a=Qt(a),u==null){var d=i&&i.constructor;o?u=l?new d:[]:Ga(i)?u=Al(d)?Np(YA(i)):{}:u={}}return(o?Gi:Ha)(i,function(h,m,v){return a(u,h,m,v)}),u}function $x(i,a){for(var u=i.length;u--&&Bp(a,i[u],0)>-1;);return u}function Hx(i,a){for(var u=-1,l=i.length;++u<l&&Bp(a,i[u],0)>-1;);return u}function g3(i,a,u){if(i=Cn(i),i&&(u||a===void 0))return KA(i);if(!i||!(a=Ui(a)))return i;var l=Wi(i),o=Wi(a),d=Hx(l,o),h=$x(l,o)+1;return Uu(l,d,h).join("")}function m3(i,a,u){if(i=Cn(i),i&&(u||a===void 0))return i.slice(0,qA(i)+1);if(!i||!(a=Ui(a)))return i;var l=Wi(i),o=$x(l,Wi(a))+1;return Uu(l,0,o).join("")}var b3=/^\s+/;function _3(i,a,u){if(i=Cn(i),i&&(u||a===void 0))return i.replace(b3,"");if(!i||!(a=Ui(a)))return i;var l=Wi(i),o=Hx(l,Wi(a));return Uu(l,o).join("")}var O3=30,w3="...",x3=/\w*$/;function E3(i,a){var u=O3,l=w3;if(Ga(a)){var o="separator"in a?a.separator:o;u="length"in a?rn(a.length):u,l="omission"in a?Ui(a.omission):l}i=Cn(i);var d=i.length;if(kl(i)){var h=Wi(i);d=h.length}if(u>=d)return i;var m=u-Dl(l);if(m<1)return l;var v=h?Uu(h,0,m).join(""):i.slice(0,m);if(o===void 0)return v+l;if(h&&(m+=v.length-m),Bb(o)){if(i.slice(m).search(o)){var E,j=v;for(o.global||(o=RegExp(o.source,Cn(x3.exec(o))+"g")),o.lastIndex=0;E=o.exec(j);)var S=E.index;v=v.slice(0,S===void 0?m:S)}}else if(i.indexOf(Ui(o),m)!=m){var T=v.lastIndexOf(o);T>-1&&(v=v.slice(0,T))}return v+l}function S3(i){return jw(i,1)}var j3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},P3=kb(j3),Xx=/&(?:amp|lt|gt|quot|#39);/g,A3=RegExp(Xx.source);function M3(i){return i=Cn(i),i&&A3.test(i)?i.replace(Xx,P3):i}var k3=fn(function(i){var a=Xo(i);return Pr(a)&&(a=void 0),Ys(gi(i,1,Pr,!0),Qt(a))}),T3=fn(function(i){var a=Xo(i);return a=typeof a=="function"?a:void 0,Ys(gi(i,1,Pr,!0),void 0,a)});function N3(i){return i&&i.length?Ys(i):[]}function D3(i,a){return i&&i.length?Ys(i,Qt(a)):[]}function C3(i,a){return a=typeof a=="function"?a:void 0,i&&i.length?Ys(i,void 0,a):[]}var R3=0;function I3(i){var a=++R3;return Cn(i)+a}function L3(i,a){return i==null?!0:Wb(i,a)}var z3=Math.max;function Yb(i){if(!(i&&i.length))return[];var a=0;return i=Qs(i,function(u){if(Pr(u))return a=z3(u.length,a),!0}),hw(a,function(u){return pr(i,dw(u))})}function Vx(i,a){if(!(i&&i.length))return[];var u=Yb(i);return a==null?u:pr(u,function(l){return pi(a,void 0,l)})}function Yx(i,a,u,l){return wb(i,a,u(_y(i,a)),l)}function B3(i,a,u){return i==null?i:Yx(i,a,ha(u))}function F3(i,a,u,l){return l=typeof l=="function"?l:void 0,i==null?i:Yx(i,a,ha(u),l)}var U3=Tl(function(i,a,u){return i+(u?" ":"")+a.toUpperCase()});function W3(i){return i==null?[]:Ib(i,$a(i))}var G3=fn(function(i,a){return Pr(i)?Fp(i,a):[]});function $3(i,a){return Ny(ha(a),i)}var H3=zu(function(i){var a=i.length,u=a?i[0]:0,l=this.__wrapped__,o=function(d){return Sb(d,i)};return a>1||this.__actions__.length||!(l instanceof yn)||!Dp(u)?this.thru(o):(l=l.slice(u,+u+(a?1:0)),l.__actions__.push({func:Gp,args:[o],thisArg:void 0}),new di(l,this.__chain__).thru(function(d){return a&&!d.length&&d.push(void 0),d}))});function X3(){return Jw(this)}function V3(){var i=this.__wrapped__;if(i instanceof yn){var a=i;return this.__actions__.length&&(a=new yn(this)),a=a.reverse(),a.__actions__.push({func:Gp,args:[ib],thisArg:void 0}),new di(a,this.__chain__)}return this.thru(ib)}function Kb(i,a,u){var l=i.length;if(l<2)return l?Ys(i[0]):[];for(var o=-1,d=Array(l);++o<l;)for(var h=i[o],m=-1;++m<l;)m!=o&&(d[o]=Fp(d[o]||h,i[m],a,u));return Ys(gi(d,1),a,u)}var Y3=fn(function(i){return Kb(Qs(i,Pr))}),K3=fn(function(i){var a=Xo(i);return Pr(a)&&(a=void 0),Kb(Qs(i,Pr),Qt(a))}),q3=fn(function(i){var a=Xo(i);return a=typeof a=="function"?a:void 0,Kb(Qs(i,Pr),void 0,a)}),Z3=fn(Yb);function Kx(i,a,u){for(var l=-1,o=i.length,d=a.length,h={};++l<o;){var m=l<d?a[l]:void 0;u(h,i[l],m)}return h}function J3(i,a){return Kx(i||[],a||[],ZO)}function Q3(i,a){return Kx(i||[],a||[],wb)}var e4=fn(function(i){var a=i.length,u=a>1?i[a-1]:void 0;return u=typeof u=="function"?(i.pop(),u):void 0,Vx(i,u)});const mt={chunk:iT,compact:dT,concat:hT,difference:LT,differenceBy:zT,differenceWith:BT,drop:UT,dropRight:WT,dropRightWhile:GT,dropWhile:$T,fill:aN,findIndex:hx,findLastIndex:ow,first:oO,flatten:ZA,flattenDeep:JA,flattenDepth:vN,fromPairs:QA,head:oO,indexOf:qN,initial:ZN,intersection:QN,intersectionBy:eD,intersectionWith:tD,join:VD,last:Xo,lastIndexOf:QD,nth:SC,pull:_R,pullAll:Rx,pullAllBy:OR,pullAllWith:wR,pullAt:SR,remove:GR,reverse:ib,slice:lI,sortedIndex:OI,sortedIndexBy:wI,sortedIndexOf:xI,sortedLastIndex:EI,sortedLastIndexBy:SI,sortedLastIndexOf:jI,sortedUniq:PI,sortedUniqBy:AI,tail:WI,take:GI,takeRight:$I,takeRightWhile:HI,takeWhile:XI,union:eM,unionBy:k3,unionWith:T3,uniq:N3,uniqBy:D3,uniqWith:C3,unzip:Yb,unzipWith:Vx,without:G3,xor:Y3,xorBy:K3,xorWith:q3,zip:Z3,zipObject:J3,zipObjectDeep:Q3,zipWith:e4},In={countBy:ST,each:eO,eachRight:tO,every:rN,filter:uN,find:cN,findLast:fN,flatMap:tM,flatMapDeep:hN,flatMapDepth:yN,forEach:eO,forEachRight:tO,groupBy:RN,includes:YN,invokeMap:lD,keyBy:KD,map:bb,orderBy:IC,partition:yR,reduce:BR,reduceRight:UR,reject:WR,sample:QR,sampleSize:nI,shuffle:aI,size:cI,some:dI,sortBy:hI},t4={now:nM},dr={after:zM,ary:jw,before:Aw,bind:Sy,bindKey:Pb,curry:Nb,curryRight:Db,debounce:rM,defer:CT,delay:RT,flip:mN,memoize:oM,negate:Wp,once:DC,overArgs:FC,partial:Ny,partialRight:$b,rearg:zR,rest:VR,spread:DI,throttle:iM,unary:S3,wrap:$3},Rt={castArray:aM,clone:uM,cloneDeep:sM,cloneDeepWith:cT,cloneWith:fT,conformsTo:_T,eq:Pl,gt:IN,gte:LN,isArguments:aw,isArray:Dn,isArrayBuffer:dD,isArrayLike:Lu,isArrayLikeObject:Pr,isBoolean:yD,isBuffer:_b,isDate:mD,isElement:bD,isEmpty:ED,isEqual:cM,isEqualWith:SD,isError:jb,isFinite:PD,isFunction:Al,isInteger:_x,isLength:lM,isMap:fM,isMatch:AD,isMatchWith:MD,isNaN:TD,isNative:CD,isNil:pM,isNull:RD,isNumber:Ox,isObject:Ga,isObjectLike:vi,isPlainObject:by,isRegExp:Bb,isSafeInteger:zD,isSet:dM,isString:ky,isSymbol:Wa,isTypedArray:Ob,isUndefined:hM,isWeakMap:FD,isWeakSet:WD,lt:nC,lte:rC,toArray:Ex,toFinite:Ru,toInteger:rn,toLength:fx,toNumber:Ua,toPlainObject:yM,toSafeInteger:h3,toString:Cn},vo={add:IM,ceil:nT,divide:FT,floor:bN,max:lC,maxBy:fC,mean:dC,meanBy:hC,min:gC,minBy:mC,multiply:bC,round:ZR,subtract:BI,sum:FI,sumBy:UI},qb={clamp:aT,inRange:HN,random:TR},Yt={assign:R2,assignIn:K1,assignInWith:ay,assignWith:I2,at:L2,create:jT,defaults:TT,defaultsDeep:NT,entries:nO,entriesIn:rO,extend:K1,extendWith:ay,findKey:lN,findLastKey:pN,forIn:PN,forInRight:AN,forOwn:MN,forOwnRight:kN,functions:TN,functionsIn:NN,get:JO,has:UN,hasIn:vM,invert:iD,invertBy:sD,invoke:cD,keys:Mo,keysIn:$a,mapKeys:oC,mapValues:iC,merge:gM,mergeWith:nx,omit:TC,omitBy:NC,pick:mM,pickBy:jx,result:YR,set:bM,setWith:rI,toPairs:nO,toPairsIn:rO,transform:v3,unset:L3,update:B3,updateWith:F3,values:Nl,valuesIn:W3},ya={at:H3,chain:Jw,commit:pT,lodash:U,next:EC,plant:vR,reverse:V3,tap:VI,thru:Gp,toIterator:f3,toJSON:Zm,value:Zm,valueOf:Zm,wrapperChain:X3},Mn={camelCase:Qk,capitalize:Iw,deburr:Lw,endsWith:XT,escape:sx,escapeRegExp:tN,kebabCase:YD,lowerCase:eC,lowerFirst:tC,pad:uR,padEnd:sR,padStart:cR,parseInt:pR,repeat:$R,replace:HR,snakeCase:fI,split:kI,startCase:CI,startsWith:RI,template:u3,templateSettings:ab,toLower:p3,toUpper:y3,trim:g3,trimEnd:m3,trimStart:_3,truncate:E3,unescape:M3,upperCase:U3,upperFirst:Ab,words:Zw},kn={attempt:Pw,bindAll:G2,cond:vT,conforms:bT,constant:iw,defaultTo:MT,flow:SN,flowRight:jN,identity:yi,iteratee:$D,matches:uC,matchesProperty:cC,method:yC,methodOf:vC,mixin:xx,noop:KO,nthArg:jC,over:LC,overEvery:UC,overSome:WC,property:_M,propertyOf:gR,range:RR,rangeRight:IR,stubArray:OM,stubFalse:lw,stubObject:II,stubString:LI,stubTrue:zI,times:l3,toPath:d3,uniqueId:I3};function n4(){var i=new yn(this.__wrapped__);return i.__actions__=fi(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=fi(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=fi(this.__views__),i}function r4(){if(this.__filtered__){var i=new yn(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}var o4=Math.max,i4=Math.min;function a4(i,a,u){for(var l=-1,o=u.length;++l<o;){var d=u[l],h=d.size;switch(d.type){case"drop":i+=h;break;case"dropRight":a-=h;break;case"take":a=i4(a,i+h);break;case"takeRight":i=o4(i,a-h);break}}return{start:i,end:a}}var u4=1,s4=2,c4=Math.min;function l4(){var i=this.__wrapped__.value(),a=this.__dir__,u=Dn(i),l=a<0,o=u?i.length:0,d=a4(0,o,this.__views__),h=d.start,m=d.end,v=m-h,E=l?m:h-1,j=this.__iteratees__,S=j.length,T=0,k=c4(v,this.__takeCount__);if(!u||!l&&o==v&&k==v)return Gx(i,this.__actions__);var C=[];e:for(;v--&&T<k;){E+=a;for(var N=-1,I=i[E];++N<S;){var G=j[N],W=G.iteratee,K=G.type,re=W(I);if(K==s4)I=re;else if(!re){if(K==u4)continue e;break e}}C[T++]=I}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var f4="4.17.21",p4=2,d4=1,h4=3,qx=4294967295,y4=Array.prototype,v4=Object.prototype,Zx=v4.hasOwnProperty,hO=oy?oy.iterator:void 0,g4=Math.max,yO=Math.min,Zb=function(i){return function(a,u,l){if(l==null){var o=Ga(u),d=o&&Mo(u),h=d&&d.length&&Ay(u,d);(h?h.length:o)||(l=u,u=a,a=this)}return i(a,u,l)}}(xx);U.after=dr.after;U.ary=dr.ary;U.assign=Yt.assign;U.assignIn=Yt.assignIn;U.assignInWith=Yt.assignInWith;U.assignWith=Yt.assignWith;U.at=Yt.at;U.before=dr.before;U.bind=dr.bind;U.bindAll=kn.bindAll;U.bindKey=dr.bindKey;U.castArray=Rt.castArray;U.chain=ya.chain;U.chunk=mt.chunk;U.compact=mt.compact;U.concat=mt.concat;U.cond=kn.cond;U.conforms=kn.conforms;U.constant=kn.constant;U.countBy=In.countBy;U.create=Yt.create;U.curry=dr.curry;U.curryRight=dr.curryRight;U.debounce=dr.debounce;U.defaults=Yt.defaults;U.defaultsDeep=Yt.defaultsDeep;U.defer=dr.defer;U.delay=dr.delay;U.difference=mt.difference;U.differenceBy=mt.differenceBy;U.differenceWith=mt.differenceWith;U.drop=mt.drop;U.dropRight=mt.dropRight;U.dropRightWhile=mt.dropRightWhile;U.dropWhile=mt.dropWhile;U.fill=mt.fill;U.filter=In.filter;U.flatMap=In.flatMap;U.flatMapDeep=In.flatMapDeep;U.flatMapDepth=In.flatMapDepth;U.flatten=mt.flatten;U.flattenDeep=mt.flattenDeep;U.flattenDepth=mt.flattenDepth;U.flip=dr.flip;U.flow=kn.flow;U.flowRight=kn.flowRight;U.fromPairs=mt.fromPairs;U.functions=Yt.functions;U.functionsIn=Yt.functionsIn;U.groupBy=In.groupBy;U.initial=mt.initial;U.intersection=mt.intersection;U.intersectionBy=mt.intersectionBy;U.intersectionWith=mt.intersectionWith;U.invert=Yt.invert;U.invertBy=Yt.invertBy;U.invokeMap=In.invokeMap;U.iteratee=kn.iteratee;U.keyBy=In.keyBy;U.keys=Mo;U.keysIn=Yt.keysIn;U.map=In.map;U.mapKeys=Yt.mapKeys;U.mapValues=Yt.mapValues;U.matches=kn.matches;U.matchesProperty=kn.matchesProperty;U.memoize=dr.memoize;U.merge=Yt.merge;U.mergeWith=Yt.mergeWith;U.method=kn.method;U.methodOf=kn.methodOf;U.mixin=Zb;U.negate=Wp;U.nthArg=kn.nthArg;U.omit=Yt.omit;U.omitBy=Yt.omitBy;U.once=dr.once;U.orderBy=In.orderBy;U.over=kn.over;U.overArgs=dr.overArgs;U.overEvery=kn.overEvery;U.overSome=kn.overSome;U.partial=dr.partial;U.partialRight=dr.partialRight;U.partition=In.partition;U.pick=Yt.pick;U.pickBy=Yt.pickBy;U.property=kn.property;U.propertyOf=kn.propertyOf;U.pull=mt.pull;U.pullAll=mt.pullAll;U.pullAllBy=mt.pullAllBy;U.pullAllWith=mt.pullAllWith;U.pullAt=mt.pullAt;U.range=kn.range;U.rangeRight=kn.rangeRight;U.rearg=dr.rearg;U.reject=In.reject;U.remove=mt.remove;U.rest=dr.rest;U.reverse=mt.reverse;U.sampleSize=In.sampleSize;U.set=Yt.set;U.setWith=Yt.setWith;U.shuffle=In.shuffle;U.slice=mt.slice;U.sortBy=In.sortBy;U.sortedUniq=mt.sortedUniq;U.sortedUniqBy=mt.sortedUniqBy;U.split=Mn.split;U.spread=dr.spread;U.tail=mt.tail;U.take=mt.take;U.takeRight=mt.takeRight;U.takeRightWhile=mt.takeRightWhile;U.takeWhile=mt.takeWhile;U.tap=ya.tap;U.throttle=dr.throttle;U.thru=Gp;U.toArray=Rt.toArray;U.toPairs=Yt.toPairs;U.toPairsIn=Yt.toPairsIn;U.toPath=kn.toPath;U.toPlainObject=Rt.toPlainObject;U.transform=Yt.transform;U.unary=dr.unary;U.union=mt.union;U.unionBy=mt.unionBy;U.unionWith=mt.unionWith;U.uniq=mt.uniq;U.uniqBy=mt.uniqBy;U.uniqWith=mt.uniqWith;U.unset=Yt.unset;U.unzip=mt.unzip;U.unzipWith=mt.unzipWith;U.update=Yt.update;U.updateWith=Yt.updateWith;U.values=Yt.values;U.valuesIn=Yt.valuesIn;U.without=mt.without;U.words=Mn.words;U.wrap=dr.wrap;U.xor=mt.xor;U.xorBy=mt.xorBy;U.xorWith=mt.xorWith;U.zip=mt.zip;U.zipObject=mt.zipObject;U.zipObjectDeep=mt.zipObjectDeep;U.zipWith=mt.zipWith;U.entries=Yt.toPairs;U.entriesIn=Yt.toPairsIn;U.extend=Yt.assignIn;U.extendWith=Yt.assignInWith;Zb(U,U);U.add=vo.add;U.attempt=kn.attempt;U.camelCase=Mn.camelCase;U.capitalize=Mn.capitalize;U.ceil=vo.ceil;U.clamp=qb.clamp;U.clone=Rt.clone;U.cloneDeep=Rt.cloneDeep;U.cloneDeepWith=Rt.cloneDeepWith;U.cloneWith=Rt.cloneWith;U.conformsTo=Rt.conformsTo;U.deburr=Mn.deburr;U.defaultTo=kn.defaultTo;U.divide=vo.divide;U.endsWith=Mn.endsWith;U.eq=Rt.eq;U.escape=Mn.escape;U.escapeRegExp=Mn.escapeRegExp;U.every=In.every;U.find=In.find;U.findIndex=mt.findIndex;U.findKey=Yt.findKey;U.findLast=In.findLast;U.findLastIndex=mt.findLastIndex;U.findLastKey=Yt.findLastKey;U.floor=vo.floor;U.forEach=In.forEach;U.forEachRight=In.forEachRight;U.forIn=Yt.forIn;U.forInRight=Yt.forInRight;U.forOwn=Yt.forOwn;U.forOwnRight=Yt.forOwnRight;U.get=Yt.get;U.gt=Rt.gt;U.gte=Rt.gte;U.has=Yt.has;U.hasIn=Yt.hasIn;U.head=mt.head;U.identity=yi;U.includes=In.includes;U.indexOf=mt.indexOf;U.inRange=qb.inRange;U.invoke=Yt.invoke;U.isArguments=Rt.isArguments;U.isArray=Dn;U.isArrayBuffer=Rt.isArrayBuffer;U.isArrayLike=Rt.isArrayLike;U.isArrayLikeObject=Rt.isArrayLikeObject;U.isBoolean=Rt.isBoolean;U.isBuffer=Rt.isBuffer;U.isDate=Rt.isDate;U.isElement=Rt.isElement;U.isEmpty=Rt.isEmpty;U.isEqual=Rt.isEqual;U.isEqualWith=Rt.isEqualWith;U.isError=Rt.isError;U.isFinite=Rt.isFinite;U.isFunction=Rt.isFunction;U.isInteger=Rt.isInteger;U.isLength=Rt.isLength;U.isMap=Rt.isMap;U.isMatch=Rt.isMatch;U.isMatchWith=Rt.isMatchWith;U.isNaN=Rt.isNaN;U.isNative=Rt.isNative;U.isNil=Rt.isNil;U.isNull=Rt.isNull;U.isNumber=Rt.isNumber;U.isObject=Ga;U.isObjectLike=Rt.isObjectLike;U.isPlainObject=Rt.isPlainObject;U.isRegExp=Rt.isRegExp;U.isSafeInteger=Rt.isSafeInteger;U.isSet=Rt.isSet;U.isString=Rt.isString;U.isSymbol=Rt.isSymbol;U.isTypedArray=Rt.isTypedArray;U.isUndefined=Rt.isUndefined;U.isWeakMap=Rt.isWeakMap;U.isWeakSet=Rt.isWeakSet;U.join=mt.join;U.kebabCase=Mn.kebabCase;U.last=Xo;U.lastIndexOf=mt.lastIndexOf;U.lowerCase=Mn.lowerCase;U.lowerFirst=Mn.lowerFirst;U.lt=Rt.lt;U.lte=Rt.lte;U.max=vo.max;U.maxBy=vo.maxBy;U.mean=vo.mean;U.meanBy=vo.meanBy;U.min=vo.min;U.minBy=vo.minBy;U.stubArray=kn.stubArray;U.stubFalse=kn.stubFalse;U.stubObject=kn.stubObject;U.stubString=kn.stubString;U.stubTrue=kn.stubTrue;U.multiply=vo.multiply;U.nth=mt.nth;U.noop=kn.noop;U.now=t4.now;U.pad=Mn.pad;U.padEnd=Mn.padEnd;U.padStart=Mn.padStart;U.parseInt=Mn.parseInt;U.random=qb.random;U.reduce=In.reduce;U.reduceRight=In.reduceRight;U.repeat=Mn.repeat;U.replace=Mn.replace;U.result=Yt.result;U.round=vo.round;U.sample=In.sample;U.size=In.size;U.snakeCase=Mn.snakeCase;U.some=In.some;U.sortedIndex=mt.sortedIndex;U.sortedIndexBy=mt.sortedIndexBy;U.sortedIndexOf=mt.sortedIndexOf;U.sortedLastIndex=mt.sortedLastIndex;U.sortedLastIndexBy=mt.sortedLastIndexBy;U.sortedLastIndexOf=mt.sortedLastIndexOf;U.startCase=Mn.startCase;U.startsWith=Mn.startsWith;U.subtract=vo.subtract;U.sum=vo.sum;U.sumBy=vo.sumBy;U.template=Mn.template;U.times=kn.times;U.toFinite=Rt.toFinite;U.toInteger=rn;U.toLength=Rt.toLength;U.toLower=Mn.toLower;U.toNumber=Rt.toNumber;U.toSafeInteger=Rt.toSafeInteger;U.toString=Rt.toString;U.toUpper=Mn.toUpper;U.trim=Mn.trim;U.trimEnd=Mn.trimEnd;U.trimStart=Mn.trimStart;U.truncate=Mn.truncate;U.unescape=Mn.unescape;U.uniqueId=kn.uniqueId;U.upperCase=Mn.upperCase;U.upperFirst=Mn.upperFirst;U.each=In.forEach;U.eachRight=In.forEachRight;U.first=mt.head;Zb(U,function(){var i={};return Ha(U,function(a,u){Zx.call(U.prototype,u)||(i[u]=a)}),i}(),{chain:!1});U.VERSION=f4;(U.templateSettings=Mn.templateSettings).imports._=U;Gi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){U[i].placeholder=U});Gi(["drop","take"],function(i,a){yn.prototype[i]=function(u){u=u===void 0?1:g4(rn(u),0);var l=this.__filtered__&&!a?new yn(this):this.clone();return l.__filtered__?l.__takeCount__=yO(u,l.__takeCount__):l.__views__.push({size:yO(u,qx),type:i+(l.__dir__<0?"Right":"")}),l},yn.prototype[i+"Right"]=function(u){return this.reverse()[i](u).reverse()}});Gi(["filter","map","takeWhile"],function(i,a){var u=a+1,l=u==d4||u==h4;yn.prototype[i]=function(o){var d=this.clone();return d.__iteratees__.push({iteratee:Qt(o),type:u}),d.__filtered__=d.__filtered__||l,d}});Gi(["head","last"],function(i,a){var u="take"+(a?"Right":"");yn.prototype[i]=function(){return this[u](1).value()[0]}});Gi(["initial","tail"],function(i,a){var u="drop"+(a?"":"Right");yn.prototype[i]=function(){return this.__filtered__?new yn(this):this[u](1)}});yn.prototype.compact=function(){return this.filter(yi)};yn.prototype.find=function(i){return this.filter(i).head()};yn.prototype.findLast=function(i){return this.reverse().find(i)};yn.prototype.invokeMap=fn(function(i,a){return typeof i=="function"?new yn(this):this.map(function(u){return Up(u,i,a)})});yn.prototype.reject=function(i){return this.filter(Wp(Qt(i)))};yn.prototype.slice=function(i,a){i=rn(i);var u=this;return u.__filtered__&&(i>0||a<0)?new yn(u):(i<0?u=u.takeRight(-i):i&&(u=u.drop(i)),a!==void 0&&(a=rn(a),u=a<0?u.dropRight(-a):u.take(a-i)),u)};yn.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()};yn.prototype.toArray=function(){return this.take(qx)};Ha(yn.prototype,function(i,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),l=/^(?:head|last)$/.test(a),o=U[l?"take"+(a=="last"?"Right":""):a],d=l||/^find/.test(a);o&&(U.prototype[a]=function(){var h=this.__wrapped__,m=l?[1]:arguments,v=h instanceof yn,E=m[0],j=v||Dn(h),S=function(G){var W=o.apply(U,Lp([G],m));return l&&T?W[0]:W};j&&u&&typeof E=="function"&&E.length!=1&&(v=j=!1);var T=this.__chain__,k=!!this.__actions__.length,C=d&&!T,N=v&&!k;if(!d&&j){h=N?h:new yn(this);var I=i.apply(h,m);return I.__actions__.push({func:Gp,args:[S],thisArg:void 0}),new di(I,T)}return C&&N?i.apply(this,m):(I=this.thru(S),C?l?I.value()[0]:I.value():I)})});Gi(["pop","push","shift","sort","splice","unshift"],function(i){var a=y4[i],u=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",l=/^(?:pop|shift)$/.test(i);U.prototype[i]=function(){var o=arguments;if(l&&!this.__chain__){var d=this.value();return a.apply(Dn(d)?d:[],o)}return this[u](function(h){return a.apply(Dn(h)?h:[],o)})}});Ha(yn.prototype,function(i,a){var u=U[a];if(u){var l=u.name+"";Zx.call(wl,l)||(wl[l]=[]),wl[l].push({name:a,func:u})}});wl[Ey(void 0,p4).name]=[{name:"wrapper",func:void 0}];yn.prototype.clone=n4;yn.prototype.reverse=r4;yn.prototype.value=l4;U.prototype.at=ya.at;U.prototype.chain=ya.wrapperChain;U.prototype.commit=ya.commit;U.prototype.next=ya.next;U.prototype.plant=ya.plant;U.prototype.reverse=ya.reverse;U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=ya.value;U.prototype.first=U.prototype.head;hO&&(U.prototype[hO]=ya.toIterator);var ub={exports:{}};(function(i,a){(function(u,l){i.exports=l()})(window,function(){return function(u){var l={};function o(d){if(l[d])return l[d].exports;var h=l[d]={i:d,l:!1,exports:{}};return u[d].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=u,o.c=l,o.d=function(d,h,m){o.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:m})},o.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,h){if(1&h&&(d=o(d)),8&h||4&h&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&h&&typeof d!="string")for(var v in d)o.d(m,v,(function(E){return d[E]}).bind(null,v));return m},o.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(h,"a",h),h},o.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},o.p="",o(o.s=222)}([function(u,l,o){o.d(l,"a",function(){return oe}),o.d(l,"b",function(){return re}),o.d(l,"c",function(){return tt}),o.d(l,"d",function(){return _t}),o.d(l,"e",function(){return G}),o.d(l,"f",function(){return K}),o.d(l,"g",function(){return G}),o.d(l,"h",function(){return qe}),o.d(l,"i",function(){return h}),o.d(l,"j",function(){return St}),o.d(l,"k",function(){return Q});var d,h,m,v,E,j,S,T={},k=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(ce,se){for(var ye in se)ce[ye]=se[ye];return ce}function I(ce){var se=ce.parentNode;se&&se.removeChild(ce)}function G(ce,se,ye){var Ne,Ye,ze,jt={};for(ze in se)ze=="key"?Ne=se[ze]:ze=="ref"?Ye=se[ze]:jt[ze]=se[ze];if(arguments.length>2&&(jt.children=arguments.length>3?d.call(arguments,2):ye),typeof ce=="function"&&ce.defaultProps!=null)for(ze in ce.defaultProps)jt[ze]===void 0&&(jt[ze]=ce.defaultProps[ze]);return W(ce,jt,Ne,Ye,null)}function W(ce,se,ye,Ne,Ye){var ze={type:ce,props:se,key:ye,ref:Ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ye??++m};return Ye==null&&h.vnode!=null&&h.vnode(ze),ze}function K(){return{current:null}}function re(ce){return ce.children}function oe(ce,se){this.props=ce,this.context=se}function Z(ce,se){if(se==null)return ce.__?Z(ce.__,ce.__.__k.indexOf(ce)+1):null;for(var ye;se<ce.__k.length;se++)if((ye=ce.__k[se])!=null&&ye.__e!=null)return ye.__e;return typeof ce.type=="function"?Z(ce):null}function J(ce){var se,ye;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,se=0;se<ce.__k.length;se++)if((ye=ce.__k[se])!=null&&ye.__e!=null){ce.__e=ce.__c.base=ye.__e;break}return J(ce)}}function H(ce){(!ce.__d&&(ce.__d=!0)&&v.push(ce)&&!F.__r++||j!==h.debounceRendering)&&((j=h.debounceRendering)||E)(F)}function F(){for(var ce;F.__r=v.length;)ce=v.sort(function(se,ye){return se.__v.__b-ye.__v.__b}),v=[],ce.some(function(se){var ye,Ne,Ye,ze,jt,It;se.__d&&(jt=(ze=(ye=se).__v).__e,(It=ye.__P)&&(Ne=[],(Ye=N({},ze)).__v=ze.__v+1,je(It,ze,Ye,ye.__n,It.ownerSVGElement!==void 0,ze.__h!=null?[jt]:null,Ne,jt??Z(ze),ze.__h),ve(Ne,ze),ze.__e!=jt&&J(ze)))})}function X(ce,se,ye,Ne,Ye,ze,jt,It,kt,bt){var ke,pt,pe,ct,Wt,vn,Gt,an=Ne&&Ne.__k||k,Sn=an.length;for(ye.__k=[],ke=0;ke<se.length;ke++)if((ct=ye.__k[ke]=(ct=se[ke])==null||typeof ct=="boolean"?null:typeof ct=="string"||typeof ct=="number"||typeof ct=="bigint"?W(null,ct,null,null,ct):Array.isArray(ct)?W(re,{children:ct},null,null,null):ct.__b>0?W(ct.type,ct.props,ct.key,null,ct.__v):ct)!=null){if(ct.__=ye,ct.__b=ye.__b+1,(pe=an[ke])===null||pe&&ct.key==pe.key&&ct.type===pe.type)an[ke]=void 0;else for(pt=0;pt<Sn;pt++){if((pe=an[pt])&&ct.key==pe.key&&ct.type===pe.type){an[pt]=void 0;break}pe=null}je(ce,ct,pe=pe||T,Ye,ze,jt,It,kt,bt),Wt=ct.__e,(pt=ct.ref)&&pe.ref!=pt&&(Gt||(Gt=[]),pe.ref&&Gt.push(pe.ref,null,ct),Gt.push(pt,ct.__c||Wt,ct)),Wt!=null?(vn==null&&(vn=Wt),typeof ct.type=="function"&&ct.__k===pe.__k?ct.__d=kt=Y(ct,kt,ce):kt=ne(ce,ct,pe,an,Wt,kt),typeof ye.type=="function"&&(ye.__d=kt)):kt&&pe.__e==kt&&kt.parentNode!=ce&&(kt=Z(pe))}for(ye.__e=vn,ke=Sn;ke--;)an[ke]!=null&&(typeof ye.type=="function"&&an[ke].__e!=null&&an[ke].__e==ye.__d&&(ye.__d=Z(Ne,ke+1)),Ge(an[ke],an[ke]));if(Gt)for(ke=0;ke<Gt.length;ke++)Me(Gt[ke],Gt[++ke],Gt[++ke])}function Y(ce,se,ye){for(var Ne,Ye=ce.__k,ze=0;Ye&&ze<Ye.length;ze++)(Ne=Ye[ze])&&(Ne.__=ce,se=typeof Ne.type=="function"?Y(Ne,se,ye):ne(ye,Ne,Ne,Ye,Ne.__e,se));return se}function Q(ce,se){return se=se||[],ce==null||typeof ce=="boolean"||(Array.isArray(ce)?ce.some(function(ye){Q(ye,se)}):se.push(ce)),se}function ne(ce,se,ye,Ne,Ye,ze){var jt,It,kt;if(se.__d!==void 0)jt=se.__d,se.__d=void 0;else if(ye==null||Ye!=ze||Ye.parentNode==null)e:if(ze==null||ze.parentNode!==ce)ce.appendChild(Ye),jt=null;else{for(It=ze,kt=0;(It=It.nextSibling)&&kt<Ne.length;kt+=2)if(It==Ye)break e;ce.insertBefore(Ye,ze),jt=ze}return jt!==void 0?jt:Ye.nextSibling}function Se(ce,se,ye){se[0]==="-"?ce.setProperty(se,ye):ce[se]=ye==null?"":typeof ye!="number"||C.test(se)?ye:ye+"px"}function _e(ce,se,ye,Ne,Ye){var ze;e:if(se==="style")if(typeof ye=="string")ce.style.cssText=ye;else{if(typeof Ne=="string"&&(ce.style.cssText=Ne=""),Ne)for(se in Ne)ye&&se in ye||Se(ce.style,se,"");if(ye)for(se in ye)Ne&&ye[se]===Ne[se]||Se(ce.style,se,ye[se])}else if(se[0]==="o"&&se[1]==="n")ze=se!==(se=se.replace(/Capture$/,"")),se=se.toLowerCase()in ce?se.toLowerCase().slice(2):se.slice(2),ce.l||(ce.l={}),ce.l[se+ze]=ye,ye?Ne||ce.addEventListener(se,ze?Fe:Ae,ze):ce.removeEventListener(se,ze?Fe:Ae,ze);else if(se!=="dangerouslySetInnerHTML"){if(Ye)se=se.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(se!=="href"&&se!=="list"&&se!=="form"&&se!=="tabIndex"&&se!=="download"&&se in ce)try{ce[se]=ye??"";break e}catch{}typeof ye=="function"||(ye!=null&&(ye!==!1||se[0]==="a"&&se[1]==="r")?ce.setAttribute(se,ye):ce.removeAttribute(se))}}function Ae(ce){this.l[ce.type+!1](h.event?h.event(ce):ce)}function Fe(ce){this.l[ce.type+!0](h.event?h.event(ce):ce)}function je(ce,se,ye,Ne,Ye,ze,jt,It,kt){var bt,ke,pt,pe,ct,Wt,vn,Gt,an,Sn,Rn,zt=se.type;if(se.constructor!==void 0)return null;ye.__h!=null&&(kt=ye.__h,It=se.__e=ye.__e,se.__h=null,ze=[It]),(bt=h.__b)&&bt(se);try{e:if(typeof zt=="function"){if(Gt=se.props,an=(bt=zt.contextType)&&Ne[bt.__c],Sn=bt?an?an.props.value:bt.__:Ne,ye.__c?vn=(ke=se.__c=ye.__c).__=ke.__E:("prototype"in zt&&zt.prototype.render?se.__c=ke=new zt(Gt,Sn):(se.__c=ke=new oe(Gt,Sn),ke.constructor=zt,ke.render=at),an&&an.sub(ke),ke.props=Gt,ke.state||(ke.state={}),ke.context=Sn,ke.__n=Ne,pt=ke.__d=!0,ke.__h=[]),ke.__s==null&&(ke.__s=ke.state),zt.getDerivedStateFromProps!=null&&(ke.__s==ke.state&&(ke.__s=N({},ke.__s)),N(ke.__s,zt.getDerivedStateFromProps(Gt,ke.__s))),pe=ke.props,ct=ke.state,pt)zt.getDerivedStateFromProps==null&&ke.componentWillMount!=null&&ke.componentWillMount(),ke.componentDidMount!=null&&ke.__h.push(ke.componentDidMount);else{if(zt.getDerivedStateFromProps==null&&Gt!==pe&&ke.componentWillReceiveProps!=null&&ke.componentWillReceiveProps(Gt,Sn),!ke.__e&&ke.shouldComponentUpdate!=null&&ke.shouldComponentUpdate(Gt,ke.__s,Sn)===!1||se.__v===ye.__v){ke.props=Gt,ke.state=ke.__s,se.__v!==ye.__v&&(ke.__d=!1),ke.__v=se,se.__e=ye.__e,se.__k=ye.__k,se.__k.forEach(function(qn){qn&&(qn.__=se)}),ke.__h.length&&jt.push(ke);break e}ke.componentWillUpdate!=null&&ke.componentWillUpdate(Gt,ke.__s,Sn),ke.componentDidUpdate!=null&&ke.__h.push(function(){ke.componentDidUpdate(pe,ct,Wt)})}ke.context=Sn,ke.props=Gt,ke.state=ke.__s,(bt=h.__r)&&bt(se),ke.__d=!1,ke.__v=se,ke.__P=ce,bt=ke.render(ke.props,ke.state,ke.context),ke.state=ke.__s,ke.getChildContext!=null&&(Ne=N(N({},Ne),ke.getChildContext())),pt||ke.getSnapshotBeforeUpdate==null||(Wt=ke.getSnapshotBeforeUpdate(pe,ct)),Rn=bt!=null&&bt.type===re&&bt.key==null?bt.props.children:bt,X(ce,Array.isArray(Rn)?Rn:[Rn],se,ye,Ne,Ye,ze,jt,It,kt),ke.base=se.__e,se.__h=null,ke.__h.length&&jt.push(ke),vn&&(ke.__E=ke.__=null),ke.__e=!1}else ze==null&&se.__v===ye.__v?(se.__k=ye.__k,se.__e=ye.__e):se.__e=Pe(ye.__e,se,ye,Ne,Ye,ze,jt,kt);(bt=h.diffed)&&bt(se)}catch(qn){se.__v=null,(kt||ze!=null)&&(se.__e=It,se.__h=!!kt,ze[ze.indexOf(It)]=null),h.__e(qn,se,ye)}}function ve(ce,se){h.__c&&h.__c(se,ce),ce.some(function(ye){try{ce=ye.__h,ye.__h=[],ce.some(function(Ne){Ne.call(ye)})}catch(Ne){h.__e(Ne,ye.__v)}})}function Pe(ce,se,ye,Ne,Ye,ze,jt,It){var kt,bt,ke,pt=ye.props,pe=se.props,ct=se.type,Wt=0;if(ct==="svg"&&(Ye=!0),ze!=null){for(;Wt<ze.length;Wt++)if((kt=ze[Wt])&&"setAttribute"in kt==!!ct&&(ct?kt.localName===ct:kt.nodeType===3)){ce=kt,ze[Wt]=null;break}}if(ce==null){if(ct===null)return document.createTextNode(pe);ce=Ye?document.createElementNS("http://www.w3.org/2000/svg",ct):document.createElement(ct,pe.is&&pe),ze=null,It=!1}if(ct===null)pt===pe||It&&ce.data===pe||(ce.data=pe);else{if(ze=ze&&d.call(ce.childNodes),bt=(pt=ye.props||T).dangerouslySetInnerHTML,ke=pe.dangerouslySetInnerHTML,!It){if(ze!=null)for(pt={},Wt=0;Wt<ce.attributes.length;Wt++)pt[ce.attributes[Wt].name]=ce.attributes[Wt].value;(ke||bt)&&(ke&&(bt&&ke.__html==bt.__html||ke.__html===ce.innerHTML)||(ce.innerHTML=ke&&ke.__html||""))}if(function(vn,Gt,an,Sn,Rn){var zt;for(zt in an)zt==="children"||zt==="key"||zt in Gt||_e(vn,zt,null,an[zt],Sn);for(zt in Gt)Rn&&typeof Gt[zt]!="function"||zt==="children"||zt==="key"||zt==="value"||zt==="checked"||an[zt]===Gt[zt]||_e(vn,zt,Gt[zt],an[zt],Sn)}(ce,pe,pt,Ye,It),ke)se.__k=[];else if(Wt=se.props.children,X(ce,Array.isArray(Wt)?Wt:[Wt],se,ye,Ne,Ye&&ct!=="foreignObject",ze,jt,ze?ze[0]:ye.__k&&Z(ye,0),It),ze!=null)for(Wt=ze.length;Wt--;)ze[Wt]!=null&&I(ze[Wt]);It||("value"in pe&&(Wt=pe.value)!==void 0&&(Wt!==pt.value||Wt!==ce.value||ct==="progress"&&!Wt)&&_e(ce,"value",Wt,pt.value,!1),"checked"in pe&&(Wt=pe.checked)!==void 0&&Wt!==ce.checked&&_e(ce,"checked",Wt,pt.checked,!1))}return ce}function Me(ce,se,ye){try{typeof ce=="function"?ce(se):ce.current=se}catch(Ne){h.__e(Ne,ye)}}function Ge(ce,se,ye){var Ne,Ye;if(h.unmount&&h.unmount(ce),(Ne=ce.ref)&&(Ne.current&&Ne.current!==ce.__e||Me(Ne,null,se)),(Ne=ce.__c)!=null){if(Ne.componentWillUnmount)try{Ne.componentWillUnmount()}catch(ze){h.__e(ze,se)}Ne.base=Ne.__P=null}if(Ne=ce.__k)for(Ye=0;Ye<Ne.length;Ye++)Ne[Ye]&&Ge(Ne[Ye],se,typeof ce.type!="function");ye||ce.__e==null||I(ce.__e),ce.__e=ce.__d=void 0}function at(ce,se,ye){return this.constructor(ce,ye)}function St(ce,se,ye){var Ne,Ye,ze;h.__&&h.__(ce,se),Ye=(Ne=typeof ye=="function")?null:ye&&ye.__k||se.__k,ze=[],je(se,ce=(!Ne&&ye||se).__k=G(re,null,[ce]),Ye||T,T,se.ownerSVGElement!==void 0,!Ne&&ye?[ye]:Ye?null:se.firstChild?d.call(se.childNodes):null,ze,!Ne&&ye?ye:Ye?Ye.__e:se.firstChild,Ne),ve(ze,ce)}function qe(ce,se){St(ce,se,qe)}function tt(ce,se,ye){var Ne,Ye,ze,jt=N({},ce.props);for(ze in se)ze=="key"?Ne=se[ze]:ze=="ref"?Ye=se[ze]:jt[ze]=se[ze];return arguments.length>2&&(jt.children=arguments.length>3?d.call(arguments,2):ye),W(ce.type,jt,Ne||ce.key,Ye||ce.ref,null)}function _t(ce,se){var ye={__c:se="__cC"+S++,__:ce,Consumer:function(Ne,Ye){return Ne.children(Ye)},Provider:function(Ne){var Ye,ze;return this.getChildContext||(Ye=[],(ze={})[se]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(jt){this.props.value!==jt.value&&Ye.some(H)},this.sub=function(jt){Ye.push(jt);var It=jt.componentWillUnmount;jt.componentWillUnmount=function(){Ye.splice(Ye.indexOf(jt),1),It&&It.call(jt)}}),Ne.children}};return ye.Provider.__=ye.Consumer.contextType=ye}d=k.slice,h={__e:function(ce,se){for(var ye,Ne,Ye;se=se.__;)if((ye=se.__c)&&!ye.__)try{if((Ne=ye.constructor)&&Ne.getDerivedStateFromError!=null&&(ye.setState(Ne.getDerivedStateFromError(ce)),Ye=ye.__d),ye.componentDidCatch!=null&&(ye.componentDidCatch(ce),Ye=ye.__d),Ye)return ye.__E=ye}catch(ze){ce=ze}throw ce}},m=0,oe.prototype.setState=function(ce,se){var ye;ye=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof ce=="function"&&(ce=ce(N({},ye),this.props)),ce&&N(ye,ce),ce!=null&&this.__v&&(se&&this.__h.push(se),H(this))},oe.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),H(this))},oe.prototype.render=re,v=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,F.__r=0,S=0},function(u,l,o){(function(d,h){o.d(l,"a",function(){return H}),o.d(l,"b",function(){return us}),o.d(l,"c",function(){return _o}),o.d(l,"d",function(){return Mt}),o.d(l,"e",function(){return Je}),o.d(l,"f",function(){return Ze}),o.d(l,"g",function(){return wt}),o.d(l,"h",function(){return Io}),o.d(l,"i",function(){return Rn}),o.d(l,"j",function(){return lt}),o.d(l,"k",function(){return Ko}),o.d(l,"l",function(){return Zu}),o.d(l,"m",function(){return vn}),o.d(l,"n",function(){return Hi}),o.d(l,"o",function(){return Y}),o.d(l,"p",function(){return Fl}),o.d(l,"q",function(){return qo}),o.d(l,"r",function(){return Ka}),o.d(l,"s",function(){return so}),o.d(l,"t",function(){return Hn}),o.d(l,"u",function(){return Ya}),o.d(l,"v",function(){return uc}),o.d(l,"w",function(){return ns}),o.d(l,"x",function(){return Xi}),o.d(l,"y",function(){return uo}),o.d(l,"z",function(){return Jn}),o.d(l,"A",function(){return Gr}),o.d(l,"B",function(){return Zo}),o.d(l,"C",function(){return bt}),o.d(l,"D",function(){return Ul}),o.d(l,"E",function(){return gn}),o.d(l,"F",function(){return bn}),o.d(l,"G",function(){return Ku}),o.d(l,"H",function(){return Yu}),o.d(l,"I",function(){return rs}),o.d(l,"J",function(){return ur}),o.d(l,"K",function(){return he}),o.d(l,"L",function(){return An}),o.d(l,"M",function(){return Za});var m=[];Object.freeze(m);var v={};function E(){return++dt.mobxGuid}function j(O){throw S(!1,O),"X"}function S(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function T(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var k=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function I(O,w,M){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:M})}function G(O,w){var M="isMobX"+O;return w.prototype[M]=!0,function(z){return C(z)&&z[M]===!0}}function W(O){return O instanceof Map}function K(O){return O instanceof Set}function re(O){var w=new Set;for(var M in O)w.add(M);return Object.getOwnPropertySymbols(O).forEach(function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)}),Array.from(w)}function oe(O){return O&&O.toString?O.toString():new String(O).toString()}function Z(O){return O===null?null:typeof O=="object"?""+O:O}var J=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,H=Symbol("mobx administration"),F=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=pt.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return Va(this)},O.prototype.reportChanged=function(){Br(),function(w){w.lowestObserverState!==pt.STALE&&(w.lowestObserverState=pt.STALE,w.observers.forEach(function(M){M.dependenciesState===pt.UP_TO_DATE&&(M.isTracing!==pe.NONE&&bo(M,w),M.onBecomeStale()),M.dependenciesState=pt.STALE}))}(this),Kr()},O.prototype.toString=function(){return this.name},O}(),X=G("Atom",F);function Y(O,w,M){w===void 0&&(w=k),M===void 0&&(M=k);var z,q=new F(O);return w!==k&&ic("onBecomeObserved",q,w,z),M!==k&&gn(q,M),q}var Q={identity:function(O,w){return O===w},structural:function(O,w){return Ce(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ce(O,w,1)}},ne=function(O,w){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,z){M.__proto__=z}||function(M,z){for(var q in z)z.hasOwnProperty(q)&&(M[q]=z[q])},ne(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Se=function(){return Se=Object.assign||function(O){for(var w,M=1,z=arguments.length;M<z;M++)for(var q in w=arguments[M])Object.prototype.hasOwnProperty.call(w,q)&&(O[q]=w[q]);return O},Se.apply(this,arguments)};function _e(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],M=0;return w?w.call(O):{next:function(){return O&&M>=O.length&&(O=void 0),{value:O&&O[M++],done:!O}}}}function Ae(O,w){var M=typeof Symbol=="function"&&O[Symbol.iterator];if(!M)return O;var z,q,de=M.call(O),Ee=[];try{for(;(w===void 0||w-- >0)&&!(z=de.next()).done;)Ee.push(z.value)}catch(Ue){q={error:Ue}}finally{try{z&&!z.done&&(M=de.return)&&M.call(de)}finally{if(q)throw q.error}}return Ee}function Fe(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Ae(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Pe={},Me={};function Ge(O,w){var M=w?Pe:Me;return M[O]||(M[O]={configurable:!0,enumerable:w,get:function(){return at(this),this[O]},set:function(z){at(this),this[O]=z}})}function at(O){var w,M;if(O[je]!==!0){var z=O[ve];if(z){I(O,je,!0);var q=Fe(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var de=_e(q),Ee=de.next();!Ee.done;Ee=de.next()){var Ue=z[Ee.value];Ue.propertyCreator(O,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(ft){w={error:ft}}finally{try{Ee&&!Ee.done&&(M=de.return)&&M.call(de)}finally{if(w)throw w.error}}}}}function St(O,w){return function(){var M,z=function(q,de,Ee,Ue){if(Ue===!0)return w(q,de,Ee,q,M),null;if(!Object.prototype.hasOwnProperty.call(q,ve)){var ft=q[ve];I(q,ve,Se({},ft))}return q[ve][de]={prop:de,propertyCreator:w,descriptor:Ee,decoratorTarget:q,decoratorArguments:M},Ge(de,O)};return qe(arguments)?(M=m,z.apply(null,arguments)):(M=Array.prototype.slice.call(arguments),z)}}function qe(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function tt(O,w,M){return Xi(O)?O:Array.isArray(O)?bt.array(O,{name:M}):N(O)?bt.object(O,void 0,{name:M}):W(O)?bt.map(O,{name:M}):K(O)?bt.set(O,{name:M}):O}function _t(O){return O}function ce(O){S(O);var w=St(!0,function(z,q,de,Ee,Ue){var ft=de?de.initializer?de.initializer.call(z):de.value:void 0;qr(z).addObservableProp(q,ft,O)}),M=(d!==void 0&&d.env,w);return M.enhancer=O,M}var se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(O){return O==null?se:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(se);var Ne=ce(tt),Ye=ce(function(O,w,M){return O==null||Gr(O)||uo(O)||Jn(O)||Mr(O)?O:Array.isArray(O)?bt.array(O,{name:M,deep:!1}):N(O)?bt.object(O,void 0,{name:M,deep:!1}):W(O)?bt.map(O,{name:M,deep:!1}):K(O)?bt.set(O,{name:M,deep:!1}):j(!1)}),ze=ce(_t),jt=ce(function(O,w,M){return Ce(O,w)?w:O});function It(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?_t:tt}var kt={box:function(O,w){arguments.length>2&&ke("box");var M=ye(w);return new Fn(O,It(M),M.name,!0,M.equals)},array:function(O,w){arguments.length>2&&ke("array");var M=ye(w);return ba(O,It(M),M.name)},map:function(O,w){arguments.length>2&&ke("map");var M=ye(w);return new us(O,It(M),M.name)},set:function(O,w){arguments.length>2&&ke("set");var M=ye(w);return new Co(O,It(M),M.name)},object:function(O,w,M){typeof arguments[1]=="string"&&ke("object");var z=ye(M);if(z.proxy===!1)return qo({},O,w,z);var q=Ju(z),de=qo({},void 0,void 0,z),Ee=Vi(de);return ac(Ee,O,w,q),Ee},ref:ze,shallow:Ye,deep:Ne,struct:jt},bt=function(O,w,M){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ne.apply(null,arguments);if(Xi(O))return O;var z=N(O)?bt.object(O,w,M):Array.isArray(O)?bt.array(O,w):W(O)?bt.map(O,w):K(O)?bt.set(O,w):O;if(z!==O)return z;j(!1)};function ke(O){j("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(kt).forEach(function(O){return bt[O]=kt[O]});var pt,pe,ct=St(!1,function(O,w,M,z,q){var de=M.get,Ee=M.set,Ue=q[0]||{};qr(O).addComputedProp(O,w,Se({get:de,set:Ee,context:O},Ue))}),Wt=ct({equals:Q.structural}),vn=function(O,w,M){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ct.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new To(z)};vn.struct=Wt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(pt||(pt={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(pe||(pe={}));var Gt=function(O){this.cause=O};function an(O){return O instanceof Gt}function Sn(O){switch(O.dependenciesState){case pt.UP_TO_DATE:return!1;case pt.NOT_TRACKING:case pt.STALE:return!0;case pt.POSSIBLY_STALE:for(var w=Ze(!0),M=ue(),z=O.observing,q=z.length,de=0;de<q;de++){var Ee=z[de];if(Yo(Ee)){if(dt.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch{return be(M),Je(w),!0}if(O.dependenciesState===pt.STALE)return be(M),Je(w),!0}}return ht(O),be(M),Je(w),!1}}function Rn(){return dt.trackingDerivation!==null}function zt(O){var w=O.observers.size>0;dt.computationDepth>0&&w&&j(!1),dt.allowStateChanges||!w&&dt.enforceActions!=="strict"||j(!1)}function qn(O,w,M){var z=Ze(!0);ht(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++dt.runId;var q,de=dt.trackingDerivation;if(dt.trackingDerivation=O,dt.disableErrorBoundaries===!0)q=w.call(M);else try{q=w.call(M)}catch(Ee){q=new Gt(Ee)}return dt.trackingDerivation=de,function(Ee){for(var Ue=Ee.observing,ft=Ee.observing=Ee.newObserving,Zt=pt.UP_TO_DATE,ot=0,jn=Ee.unboundDepsCount,Ht=0;Ht<jn;Ht++)(pn=ft[Ht]).diffValue===0&&(pn.diffValue=1,ot!==Ht&&(ft[ot]=pn),ot++),pn.dependenciesState>Zt&&(Zt=pn.dependenciesState);for(ft.length=ot,Ee.newObserving=null,jn=Ue.length;jn--;)(pn=Ue[jn]).diffValue===0&&$u(pn,Ee),pn.diffValue=0;for(;ot--;){var pn;(pn=ft[ot]).diffValue===1&&(pn.diffValue=0,Ll(pn,Ee))}Zt!==pt.UP_TO_DATE&&(Ee.dependenciesState=Zt,Ee.onBecomeStale())}(O),Je(z),q}function te(O){var w=O.observing;O.observing=[];for(var M=w.length;M--;)$u(w[M],O);O.dependenciesState=pt.NOT_TRACKING}function he(O){var w=ue();try{return O()}finally{be(w)}}function ue(){var O=dt.trackingDerivation;return dt.trackingDerivation=null,O}function be(O){dt.trackingDerivation=O}function Ze(O){var w=dt.allowStateReads;return dt.allowStateReads=O,w}function Je(O){dt.allowStateReads=O}function ht(O){if(O.dependenciesState!==pt.UP_TO_DATE){O.dependenciesState=pt.UP_TO_DATE;for(var w=O.observing,M=w.length;M--;)w[M].lowestObserverState=pt.UP_TO_DATE}}var Kt=0,ar=1,mr=Object.getOwnPropertyDescriptor(function(){},"name");mr&&mr.configurable;function Zn(O,w,M){var z=function(){return tr(O,w,M||this,arguments)};return z.isMobxAction=!0,z}function tr(O,w,M,z){var q=lt();try{return w.apply(M,z)}catch(de){throw q.error=de,de}finally{wt(q)}}function lt(O,w,M){var z=0,q=ue();Br();var de={prevDerivation:q,prevAllowStateChanges:Bt(!0),prevAllowStateReads:Ze(!0),notifySpy:!1,startTime:z,actionId:ar++,parentActionId:Kt};return Kt=de.actionId,de}function wt(O){Kt!==O.actionId&&j("invalid action stack. did you forget to finish an action?"),Kt=O.parentActionId,O.error!==void 0&&(dt.suppressReactionErrors=!0),On(O.prevAllowStateChanges),Je(O.prevAllowStateReads),Kr(),be(O.prevDerivation),O.notifySpy,dt.suppressReactionErrors=!1}function Mt(O,w){var M,z=Bt(O);try{M=w()}finally{On(z)}return M}function Bt(O){var w=dt.allowStateChanges;return dt.allowStateChanges=O,w}function On(O){dt.allowStateChanges=O}var Fn=function(O){function w(M,z,q,de,Ee){q===void 0&&(q="ObservableValue@"+E()),Ee===void 0&&(Ee=Q.default);var Ue=O.call(this,q)||this;return Ue.enhancer=z,Ue.name=q,Ue.equals=Ee,Ue.hasUnreportedChange=!1,Ue.value=z(M,void 0,q),Ue}return function(M,z){function q(){this.constructor=M}ne(M,z),M.prototype=z===null?Object.create(z):(q.prototype=z.prototype,new q)}(w,O),w.prototype.dehanceValue=function(M){return this.dehancer!==void 0?this.dehancer(M):M},w.prototype.set=function(M){this.value,(M=this.prepareNewValue(M))!==dt.UNCHANGED&&this.setNewValue(M)},w.prototype.prepareNewValue=function(M){if(zt(this),Ur(this)){var z=un(this,{object:this,type:"update",newValue:M});if(!z)return dt.UNCHANGED;M=z.newValue}return M=this.enhancer(M,this.value,this.name),this.equals(this.value,M)?dt.UNCHANGED:M},w.prototype.setNewValue=function(M){var z=this.value;this.value=M,this.reportChanged(),Wr(this)&&hr(this,{type:"update",object:this,newValue:M,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(M){return Qo(this,M)},w.prototype.observe=function(M,z){return z&&M({object:this,type:"update",newValue:this.value,oldValue:void 0}),Do(this,M)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return Z(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(F),Vo=G("ObservableValue",Fn),To=function(){function O(w){this.dependenciesState=pt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=pt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Gt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,S(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Zn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?Q.structural:Q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===pt.UP_TO_DATE&&(w.lowestObserverState=pt.POSSIBLY_STALE,w.observers.forEach(function(M){M.dependenciesState===pt.UP_TO_DATE&&(M.dependenciesState=pt.POSSIBLY_STALE,M.isTracing!==pe.NONE&&bo(M,w),M.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),dt.inBatch!==0||this.observers.size!==0||this.keepAlive?(Va(this),Sn(this)&&this.trackAndCompute()&&function(M){M.lowestObserverState!==pt.STALE&&(M.lowestObserverState=pt.STALE,M.observers.forEach(function(z){z.dependenciesState===pt.POSSIBLY_STALE?z.dependenciesState=pt.STALE:z.dependenciesState===pt.UP_TO_DATE&&(M.lowestObserverState=pt.UP_TO_DATE)}))}(this)):Sn(this)&&(this.warnAboutUntrackedRead(),Br(),this.value=this.computeValue(!1),Kr());var w=this.value;if(an(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(an(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else S(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,M=this.dependenciesState===pt.NOT_TRACKING,z=this.computeValue(!0),q=M||an(w)||an(z)||!this.equals(w,z);return q&&(this.value=z),q},O.prototype.computeValue=function(w){var M;if(this.isComputing=!0,dt.computationDepth++,w)M=qn(this,this.derivation,this.scope);else if(dt.disableErrorBoundaries===!0)M=this.derivation.call(this.scope);else try{M=this.derivation.call(this.scope)}catch(z){M=new Gt(z)}return dt.computationDepth--,this.isComputing=!1,M},O.prototype.suspend=function(){this.keepAlive||(te(this),this.value=void 0)},O.prototype.observe=function(w,M){var z=this,q=!0,de=void 0;return Zu(function(){var Ee=z.get();if(!q||M){var Ue=ue();w({type:"update",object:z,newValue:Ee,oldValue:de}),be(Ue)}q=!1,de=Ee})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return Z(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),Yo=G("ComputedValue",To),$i=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Il={};function Gu(){return typeof window<"u"?window:h!==void 0?h:typeof self<"u"?self:Il}var oo=!0,va=!1,dt=function(){var O=Gu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(oo=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new $i().version&&(oo=!1),oo?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new $i):(setTimeout(function(){va||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new $i)}();function Ll(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function $u(O,w){O.observers.delete(w),O.observers.size===0&&Hu(O)}function Hu(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,dt.pendingUnobservations.push(O))}function Br(){dt.inBatch++}function Kr(){if(--dt.inBatch==0){Vu();for(var O=dt.pendingUnobservations,w=0;w<O.length;w++){var M=O[w];M.isPendingUnobservation=!1,M.observers.size===0&&(M.isBeingObserved&&(M.isBeingObserved=!1,M.onBecomeUnobserved()),M instanceof To&&M.suspend())}dt.pendingUnobservations=[]}}function Va(O){var w=dt.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&dt.inBatch>0&&Hu(O),!1)}function bo(O,w){if(O.isTracing===pe.BREAK){var M=[];io(Hn(O),M,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof To?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+M.join(`
`)+`
*/
    `)()}}function io(O,w,M){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(M).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(z){return io(z,w,M+1)}))}var _o=function(){function O(w,M,z,q){w===void 0&&(w="Reaction@"+E()),q===void 0&&(q=!1),this.name=w,this.onInvalidate=M,this.errorHandler=z,this.requiresObservable=q,this.observing=[],this.newObserving=[],this.dependenciesState=pt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,dt.pendingReactions.push(this),Vu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(Br(),this._isScheduled=!1,Sn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Kr()}},O.prototype.track=function(w){if(!this.isDisposed){Br(),this._isRunning=!0;var M=qn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&te(this),an(M)&&this.reportExceptionInDerivation(M.cause),Kr()}},O.prototype.reportExceptionInDerivation=function(w){var M=this;if(this.errorHandler)this.errorHandler(w,this);else{if(dt.disableErrorBoundaries)throw w;dt.suppressReactionErrors,dt.globalReactionErrorHandlers.forEach(function(z){return z(w,M)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Br(),te(this),Kr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[H]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];var q=!1;typeof M[M.length-1]=="boolean"&&(q=M.pop());var de=ln(M);if(!de)return j(!1);de.isTracing,pe.NONE,de.isTracing=q?pe.BREAK:pe.LOG}(this,w)},O}(),Xu=function(O){return O()};function Vu(){dt.inBatch>0||dt.isRunningReactions||Xu(tc)}function tc(){dt.isRunningReactions=!0;for(var O=dt.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var M=O.splice(0),z=0,q=M.length;z<q;z++)M[z].runReaction()}dt.isRunningReactions=!1}var ga=G("Reaction",_o);function nc(O){var w=Xu;Xu=function(M){return O(function(){return w(M)})}}function Yu(O){return function(){}}function zl(){j(!1)}function mi(O){return function(w,M,z){if(z){if(z.value)return{value:Zn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var q=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Zn(O,q.call(this))}}}return rc(O).apply(this,arguments)}}function rc(O){return function(w,M,z){Object.defineProperty(w,M,{configurable:!0,enumerable:!1,get:function(){},set:function(q){I(this,M,Ko(O,q))}})}}var Ko=function(O,w,M,z){return arguments.length===1&&typeof O=="function"?Zn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Zn(O,w):arguments.length===1&&typeof O=="string"?mi(O):z!==!0?mi(w).apply(null,arguments):void I(O,w,Zn(O.name||w,M.value,this))};function Ku(O,w){return tr(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function Ya(O){return typeof O=="function"&&O.isMobxAction===!0}function qu(O,w,M){I(O,w,Zn(w,M.bind(O)))}function Zu(O,w){w===void 0&&(w=v);var M,z=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)M=new _o(z,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var q=oc(w),de=!1;M=new _o(z,function(){de||(de=!0,q(function(){de=!1,M.isDisposed||M.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){O(M)}return M.schedule(),M.getDisposer()}Ko.bound=function(O,w,M,z){return z===!0?(qu(O,w,M.value),null):M?{configurable:!0,enumerable:!1,get:function(){return qu(this,w,M.value||M.initializer.call(this)),this[w]},set:zl}:{enumerable:!1,configurable:!0,set:function(q){qu(this,w,q)},get:function(){}}};var Bl=function(O){return O()};function oc(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Bl}function bn(O,w,M){M===void 0&&(M=v);var z,q,de,Ee=M.name||"Reaction@"+E(),Ue=Ko(Ee,M.onError?(z=M.onError,q=w,function(){try{return q.apply(this,arguments)}catch(Ln){z.call(this,Ln)}}):w),ft=!M.scheduler&&!M.delay,Zt=oc(M),ot=!0,jn=!1,Ht=M.compareStructural?Q.structural:M.equals||Q.default,pn=new _o(Ee,function(){ot||ft?co():jn||(jn=!0,Zt(co))},M.onError,M.requiresObservable);function co(){if(jn=!1,!pn.isDisposed){var Ln=!1;pn.track(function(){var $r=O(pn);Ln=ot||!Ht(de,$r),de=$r}),ot&&M.fireImmediately&&Ue(de,pn),ot||Ln!==!0||Ue(de,pn),ot&&(ot=!1)}}return pn.schedule(),pn.getDisposer()}function gn(O,w,M){return ic("onBecomeUnobserved",O,w,M)}function ic(O,w,M,z){var q=typeof z=="function"?so(w,M):so(w),de=typeof z=="function"?z:M,Ee=O+"Listeners";return q[Ee]?q[Ee].add(de):q[Ee]=new Set([de]),typeof q[O]!="function"?j(!1):function(){var Ue=q[Ee];Ue&&(Ue.delete(de),Ue.size===0&&delete q[Ee])}}function Hi(O){var w=O.enforceActions,M=O.computedRequiresReaction,z=O.computedConfigurable,q=O.disableErrorBoundaries,de=O.reactionScheduler,Ee=O.reactionRequiresObservable,Ue=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((dt.pendingReactions.length||dt.inBatch||dt.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),va=!0,oo&&(--Gu().__mobxInstanceCount==0&&(Gu().__mobxGlobals=void 0),dt=new $i)),w!==void 0){var ft=void 0;switch(w){case!0:case"observed":ft=!0;break;case!1:case"never":ft=!1;break;case"strict":case"always":ft="strict";break;default:j("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}dt.enforceActions=ft,dt.allowStateChanges=ft!==!0&&ft!=="strict"}M!==void 0&&(dt.computedRequiresReaction=!!M),Ee!==void 0&&(dt.reactionRequiresObservable=!!Ee),Ue!==void 0&&(dt.observableRequiresReaction=!!Ue,dt.allowStateReads=!dt.observableRequiresReaction),z!==void 0&&(dt.computedConfigurable=!!z),q!==void 0&&(dt.disableErrorBoundaries=!!q),de&&nc(de)}function qo(O,w,M,z){var q=Ju(z=ye(z));return at(O),qr(O,z.name,q.enhancer),w&&ac(O,w,M,q),O}function Ju(O){return O.defaultDecorator||(O.deep===!1?ze:Ne)}function ac(O,w,M,z){var q,de;Br();try{var Ee=J(w);try{for(var Ue=_e(Ee),ft=Ue.next();!ft.done;ft=Ue.next()){var Zt=ft.value,ot=Object.getOwnPropertyDescriptor(w,Zt),jn=(M&&Zt in M?M[Zt]:ot.get?ct:z)(O,Zt,ot,!0);jn&&Object.defineProperty(O,Zt,jn)}}catch(Ht){q={error:Ht}}finally{try{ft&&!ft.done&&(de=Ue.return)&&de.call(Ue)}finally{if(q)throw q.error}}}finally{Kr()}}function Hn(O,w){return Qu(so(O,w))}function Qu(O){var w,M,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,M=[],w.forEach(function(q){M.indexOf(q)===-1&&M.push(q)}),M).map(Qu)),z}var ma=0;function es(){this.message="FLOW_CANCELLED"}function Ka(O){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var M,z=this,q=arguments,de=++ma,Ee=Ko(w+" - runid: "+de+" - init",O).apply(z,q),Ue=void 0,ft=new Promise(function(Zt,ot){var jn=0;function Ht(Ln){var $r;Ue=void 0;try{$r=Ko(w+" - runid: "+de+" - yield "+jn++,Ee.next).call(Ee,Ln)}catch(ti){return ot(ti)}co($r)}function pn(Ln){var $r;Ue=void 0;try{$r=Ko(w+" - runid: "+de+" - yield "+jn++,Ee.throw).call(Ee,Ln)}catch(ti){return ot(ti)}co($r)}function co(Ln){if(!Ln||typeof Ln.then!="function")return Ln.done?Zt(Ln.value):(Ue=Promise.resolve(Ln.value)).then(Ht,pn);Ln.then(co,ot)}M=ot,Ht(void 0)});return ft.cancel=Ko(w+" - runid: "+de+" - cancel",function(){try{Ue&&br(Ue);var Zt=Ee.return(void 0),ot=Promise.resolve(Zt.value);ot.then(k,k),br(ot),M(new es)}catch(jn){M(jn)}}),ft}}function br(O){typeof O.cancel=="function"&&O.cancel()}function ts(O,w){if(O==null)return!1;if(w!==void 0){if(Gr(O)===!1||!O[H].values.has(w))return!1;var M=so(O,w);return Yo(M)}return Yo(O)}function uc(O){return arguments.length>1?j(!1):ts(O)}function ns(O,w){return typeof w!="string"?j(!1):ts(O,w)}function qa(O,w){return O!=null&&(w!==void 0?!!Gr(O)&&O[H].values.has(w):Gr(O)||!!O[H]||X(O)||ga(O)||Yo(O))}function Xi(O){return arguments.length!==1&&j(!1),qa(O)}function Zo(O){return Gr(O)?O[H].getKeys():Jn(O)||Mr(O)?Array.from(O.keys()):uo(O)?O.map(function(w,M){return M}):j(!1)}function An(O){return Gr(O)?Zo(O).map(function(w){return O[w]}):Jn(O)?Zo(O).map(function(w){return O.get(w)}):Mr(O)?Array.from(O.values()):uo(O)?O.slice():j(!1)}function Fl(O){return Gr(O)?Zo(O).map(function(w){return[w,O[w]]}):Jn(O)?Zo(O).map(function(w){return[w,O.get(w)]}):Mr(O)?Array.from(O.entries()):uo(O)?O.map(function(w,M){return[M,w]}):j(!1)}function Fr(O,w,M){if(arguments.length!==2||Mr(O))if(Gr(O)){var z=O[H],q=z.values.get(w);q?z.write(w,M):z.addObservableProp(w,M,z.defaultEnhancer)}else if(Jn(O))O.set(w,M);else if(Mr(O))O.add(w);else{if(!uo(O))return j(!1);typeof w!="number"&&(w=parseInt(w,10)),S(w>=0,"Not a valid index: '"+w+"'"),Br(),w>=O.length&&(O.length=w+1),O[w]=M,Kr()}else{Br();var de=w;try{for(var Ee in de)Fr(O,Ee,de[Ee])}finally{Kr()}}}function Ul(O,w,M,z){return typeof M=="function"?function(q,de,Ee,Ue){return Io(q,de).observe(Ee,Ue)}(O,w,M,z):function(q,de,Ee){return Io(q).observe(de,Ee)}(O,w,M)}es.prototype=Object.create(Error.prototype);var sc={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ar(O,w,M,z){return z.detectCycles&&O.set(w,M),M}function ao(O,w,M){if(!w.recurseEverything&&!Xi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Vo(O))return ao(O.get(),w,M);if(Xi(O)&&Zo(O),w.detectCycles===!0&&O!==null&&M.has(O))return M.get(O);if(uo(O)||Array.isArray(O)){var z=Ar(M,O,[],w),q=O.map(function(Ht){return ao(Ht,w,M)});z.length=q.length;for(var de=0,Ee=q.length;de<Ee;de++)z[de]=q[de];return z}if(Mr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var Ue=Ar(M,O,new Set,w);return O.forEach(function(Ht){Ue.add(ao(Ht,w,M))}),Ue}var ft=Ar(M,O,[],w);return O.forEach(function(Ht){ft.push(ao(Ht,w,M))}),ft}if(Jn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Zt=Ar(M,O,new Map,w);return O.forEach(function(Ht,pn){Zt.set(pn,ao(Ht,w,M))}),Zt}var ot=Ar(M,O,{},w);return O.forEach(function(Ht,pn){ot[pn]=ao(Ht,w,M)}),ot}var jn=Ar(M,O,{},w);return re(O).forEach(function(Ht){jn[Ht]=ao(O[Ht],w,M)}),jn}function rs(O,w){var M;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=sc),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(M=new Map),ao(O,w,M)}function ln(O){switch(O.length){case 0:return dt.trackingDerivation;case 1:return so(O[0]);case 2:return so(O[0],O[1])}}function ur(O,w){w===void 0&&(w=void 0),Br();try{return O.apply(w)}finally{Kr()}}function Za(O,w,M){return arguments.length===1||w&&typeof w=="object"?os(O,w):cc(O,w,M||{})}function cc(O,w,M){var z;typeof M.timeout=="number"&&(z=setTimeout(function(){if(!de[H].isDisposed){de();var Ee=new Error("WHEN_TIMEOUT");if(!M.onError)throw Ee;M.onError(Ee)}},M.timeout)),M.name=M.name||"When@"+E();var q=Zn(M.name+"-effect",w),de=Zu(function(Ee){O()&&(Ee.dispose(),z&&clearTimeout(z),q())},M);return de}function os(O,w){var M,z=new Promise(function(q,de){var Ee=cc(O,q,Se(Se({},w),{onError:de}));M=function(){Ee(),de("WHEN_CANCELLED")}});return z.cancel=M,z}function Ja(O){return O[H]}function No(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var Jo={has:function(O,w){if(w===H||w==="constructor"||w===je)return!0;var M=Ja(O);return No(w)?M.has(w):w in O},get:function(O,w){if(w===H||w==="constructor"||w===je)return O[w];var M=Ja(O),z=M.values.get(w);if(z instanceof F){var q=z.get();return q===void 0&&M.has(w),q}return No(w)&&M.has(w),O[w]},set:function(O,w,M){return!!No(w)&&(Fr(O,w,M),!0)},deleteProperty:function(O,w){return!!No(w)&&(Ja(O).remove(w),!0)},ownKeys:function(O){return Ja(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return j("Dynamic observable objects cannot be frozen"),!1}};function Vi(O){var w=new Proxy(O,Jo);return O[H].proxy=w,w}function Ur(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Qo(O,w){var M=O.interceptors||(O.interceptors=[]);return M.push(w),T(function(){var z=M.indexOf(w);z!==-1&&M.splice(z,1)})}function un(O,w){var M=ue();try{for(var z=Fe(O.interceptors||[]),q=0,de=z.length;q<de&&(S(!(w=z[q](w))||w.type,"Intercept handlers should return nothing or a change object"),w);q++);return w}finally{be(M)}}function Wr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function Do(O,w){var M=O.changeListeners||(O.changeListeners=[]);return M.push(w),T(function(){var z=M.indexOf(w);z!==-1&&M.splice(z,1)})}function hr(O,w){var M=ue(),z=O.changeListeners;if(z){for(var q=0,de=(z=z.slice()).length;q<de;q++)z[q](w);be(M)}}var Qa={get:function(O,w){return w===H?O[H]:w==="length"?O[H].getArrayLength():typeof w=="number"?Un.get.call(O,w):typeof w!="string"||isNaN(w)?Un.hasOwnProperty(w)?Un[w]:O[w]:Un.get.call(O,parseInt(w))},set:function(O,w,M){return w==="length"&&O[H].setArrayLength(M),typeof w=="number"&&Un.set.call(O,w,M),typeof w=="symbol"||isNaN(w)?O[w]=M:Un.set.call(O,parseInt(w),M),!0},preventExtensions:function(O){return j("Observable arrays cannot be frozen"),!1}};function ba(O,w,M,z){M===void 0&&(M="ObservableArray@"+E()),z===void 0&&(z=!1);var q,de,Ee,Ue=new is(M,w,z);q=Ue.values,de=H,Ee=Ue,Object.defineProperty(q,de,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var ft=new Proxy(Ue.values,Qa);if(Ue.proxy=ft,O&&O.length){var Zt=Bt(!0);Ue.spliceWithArray(0,0,O),On(Zt)}return ft}var is=function(){function O(w,M,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new F(w||"ObservableArray@"+E()),this.enhancer=function(q,de){return M(q,de,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Qo(this,w)},O.prototype.observe=function(w,M){return M===void 0&&(M=!1),M&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Do(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var M=this.values.length;if(w!==M)if(w>M){for(var z=new Array(w-M),q=0;q<w-M;q++)z[q]=void 0;this.spliceWithArray(M,0,z)}else this.spliceWithArray(w,M-w)},O.prototype.updateArrayLength=function(w,M){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=M},O.prototype.spliceWithArray=function(w,M,z){var q=this;zt(this.atom);var de=this.values.length;if(w===void 0?w=0:w>de?w=de:w<0&&(w=Math.max(0,de+w)),M=arguments.length===1?de-w:M==null?0:Math.max(0,Math.min(M,de-w)),z===void 0&&(z=m),Ur(this)){var Ee=un(this,{object:this.proxy,type:"splice",index:w,removedCount:M,added:z});if(!Ee)return m;M=Ee.removedCount,z=Ee.added}z=z.length===0?z:z.map(function(ft){return q.enhancer(ft,void 0)});var Ue=this.spliceItemsIntoValues(w,M,z);return M===0&&z.length===0||this.notifyArraySplice(w,z,Ue),this.dehanceValues(Ue)},O.prototype.spliceItemsIntoValues=function(w,M,z){var q;if(z.length<1e4)return(q=this.values).splice.apply(q,Fe([w,M],z));var de=this.values.slice(w,w+M);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+M)),de},O.prototype.notifyArrayChildUpdate=function(w,M,z){var q=!this.owned&&!1,de=Wr(this),Ee=de||q?{object:this.proxy,type:"update",index:w,newValue:M,oldValue:z}:null;this.atom.reportChanged(),de&&hr(this,Ee)},O.prototype.notifyArraySplice=function(w,M,z){var q=!this.owned&&!1,de=Wr(this),Ee=de||q?{object:this.proxy,type:"splice",index:w,removed:z,added:M,removedCount:z.length,addedCount:M.length}:null;this.atom.reportChanged(),de&&hr(this,Ee)},O}(),Un={intercept:function(O){return this[H].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[H].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[H];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var M=[],z=2;z<arguments.length;z++)M[z-2]=arguments[z];var q=this[H];switch(arguments.length){case 0:return[];case 1:return q.spliceWithArray(O);case 2:return q.spliceWithArray(O,w)}return q.spliceWithArray(O,w,M)},spliceWithArray:function(O,w,M){return this[H].spliceWithArray(O,w,M)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[H];return M.spliceWithArray(M.values.length,0,O),M.values.length},pop:function(){return this.splice(Math.max(this[H].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[H];return M.spliceWithArray(0,0,O),M.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[H],M=w.dehanceValues(w.values).indexOf(O);return M>-1&&(this.splice(M,1),!0)},get:function(O){var w=this[H];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var M=this[H],z=M.values;if(O<z.length){zt(M.atom);var q=z[O];if(Ur(M)){var de=un(M,{type:"update",object:M.proxy,index:O,newValue:w});if(!de)return;w=de.newValue}(w=M.enhancer(w,q))!==q&&(z[O]=w,M.notifyArrayChildUpdate(O,w,q))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);M.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Un[O]=function(){var w=this[H];w.atom.reportObserved();var M=w.dehanceValues(w.values);return M[O].apply(M,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(Un[O]=function(w,M){var z=this,q=this[H];return q.atom.reportObserved(),q.dehanceValues(q.values)[O](function(de,Ee){return w.call(M,de,Ee,z)},M)})}),["reduce","reduceRight"].forEach(function(O){Un[O]=function(){var w=this,M=this[H];M.atom.reportObserved();var z=arguments[0];return arguments[0]=function(q,de,Ee){return de=M.dehanceValue(de),z(q,de,Ee,w)},M.values[O].apply(M.values,arguments)}});var eu,ei=G("ObservableArrayAdministration",is);function uo(O){return C(O)&&ei(O[H])}var as,Wl={},us=function(){function O(w,M,z){if(M===void 0&&(M=tt),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=M,this.name=z,this[eu]=Wl,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var M=this;if(!dt.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var q=z=new Fn(this._has(w),_t,this.name+"."+oe(w)+"?",!1);this._hasMap.set(w,q),gn(q,function(){return M._hasMap.delete(w)})}return z.get()},O.prototype.set=function(w,M){var z=this._has(w);if(Ur(this)){var q=un(this,{type:z?"update":"add",object:this,newValue:M,name:w});if(!q)return this;M=q.newValue}return z?this._updateValue(w,M):this._addValue(w,M),this},O.prototype.delete=function(w){var M=this;if(zt(this._keysAtom),Ur(this)&&!(q=un(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=Wr(this),q=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return ur(function(){M._keysAtom.reportChanged(),M._updateHasMapEntry(w,!1),M._data.get(w).setNewValue(void 0),M._data.delete(w)}),z&&hr(this,q),!0}return!1},O.prototype._updateHasMapEntry=function(w,M){var z=this._hasMap.get(w);z&&z.setNewValue(M)},O.prototype._updateValue=function(w,M){var z=this._data.get(w);if((M=z.prepareNewValue(M))!==dt.UNCHANGED){var q=Wr(this),de=q?{type:"update",object:this,oldValue:z.value,name:w,newValue:M}:null;z.setNewValue(M),q&&hr(this,de)}},O.prototype._addValue=function(w,M){var z=this;zt(this._keysAtom),ur(function(){var Ee=new Fn(M,z.enhancer,z.name+"."+oe(w),!1);z._data.set(w,Ee),M=Ee.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var q=Wr(this),de=q?{type:"add",object:this,name:w,newValue:M}:null;q&&hr(this,de)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,M=this.keys();return en({next:function(){var z=M.next(),q=z.done,de=z.value;return{done:q,value:q?void 0:w.get(de)}}})},O.prototype.entries=function(){var w=this,M=this.keys();return en({next:function(){var z=M.next(),q=z.done,de=z.value;return{done:q,value:q?void 0:[de,w.get(de)]}}})},O.prototype[eu=H,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,M){var z,q;try{for(var de=_e(this),Ee=de.next();!Ee.done;Ee=de.next()){var Ue=Ae(Ee.value,2),ft=Ue[0],Zt=Ue[1];w.call(M,Zt,ft,this)}}catch(ot){z={error:ot}}finally{try{Ee&&!Ee.done&&(q=de.return)&&q.call(de)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var M=this;return Jn(w)&&(w=w.toJS()),ur(function(){var z=Bt(!0);try{N(w)?re(w).forEach(function(q){return M.set(q,w[q])}):Array.isArray(w)?w.forEach(function(q){var de=Ae(q,2),Ee=de[0],Ue=de[1];return M.set(Ee,Ue)}):W(w)?(w.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(q,de){return M.set(de,q)})):w!=null&&j("Cannot initialize map from "+w)}finally{On(z)}}),this},O.prototype.clear=function(){var w=this;ur(function(){he(function(){var M,z;try{for(var q=_e(w.keys()),de=q.next();!de.done;de=q.next()){var Ee=de.value;w.delete(Ee)}}catch(Ue){M={error:Ue}}finally{try{de&&!de.done&&(z=q.return)&&z.call(q)}finally{if(M)throw M.error}}})})},O.prototype.replace=function(w){var M=this;return ur(function(){var z,q,de,Ee,Ue=function(kr){if(W(kr)||Jn(kr))return kr;if(Array.isArray(kr))return new Map(kr);if(N(kr)){var wa=new Map;for(var Yi in kr)wa.set(Yi,kr[Yi]);return wa}return j("Cannot convert to map from '"+kr+"'")}(w),ft=new Map,Zt=!1;try{for(var ot=_e(M._data.keys()),jn=ot.next();!jn.done;jn=ot.next()){var Ht=jn.value;if(!Ue.has(Ht))if(M.delete(Ht))Zt=!0;else{var pn=M._data.get(Ht);ft.set(Ht,pn)}}}catch(kr){z={error:kr}}finally{try{jn&&!jn.done&&(q=ot.return)&&q.call(ot)}finally{if(z)throw z.error}}try{for(var co=_e(Ue.entries()),Ln=co.next();!Ln.done;Ln=co.next()){var $r=Ae(Ln.value,2),ti=(Ht=$r[0],pn=$r[1],M._data.has(Ht));if(M.set(Ht,pn),M._data.has(Ht)){var ni=M._data.get(Ht);ft.set(Ht,ni),ti||(Zt=!0)}}}catch(kr){de={error:kr}}finally{try{Ln&&!Ln.done&&(Ee=co.return)&&Ee.call(co)}finally{if(de)throw de.error}}if(!Zt)if(M._data.size!==ft.size)M._keysAtom.reportChanged();else for(var Oa=M._data.keys(),cs=ft.keys(),_i=Oa.next(),nu=cs.next();!_i.done;){if(_i.value!==nu.value){M._keysAtom.reportChanged();break}_i=Oa.next(),nu=cs.next()}M._data=ft}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,M,z={};try{for(var q=_e(this),de=q.next();!de.done;de=q.next()){var Ee=Ae(de.value,2),Ue=Ee[0],ft=Ee[1];z[typeof Ue=="symbol"?Ue:oe(Ue)]=ft}}catch(Zt){w={error:Zt}}finally{try{de&&!de.done&&(M=q.return)&&M.call(q)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(M){return oe(M)+": "+w.get(M)}).join(", ")+" }]"},O.prototype.observe=function(w,M){return Do(this,w)},O.prototype.intercept=function(w){return Qo(this,w)},O}(),Jn=G("ObservableMap",us),_a={},Co=function(){function O(w,M,z){if(M===void 0&&(M=tt),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[as]=_a,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(q,de){return M(q,de,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;ur(function(){he(function(){var M,z;try{for(var q=_e(w._data.values()),de=q.next();!de.done;de=q.next()){var Ee=de.value;w.delete(Ee)}}catch(Ue){M={error:Ue}}finally{try{de&&!de.done&&(z=q.return)&&z.call(q)}finally{if(M)throw M.error}}})})},O.prototype.forEach=function(w,M){var z,q;try{for(var de=_e(this),Ee=de.next();!Ee.done;Ee=de.next()){var Ue=Ee.value;w.call(M,Ue,Ue,this)}}catch(ft){z={error:ft}}finally{try{Ee&&!Ee.done&&(q=de.return)&&q.call(de)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var M=this;if(zt(this._atom),Ur(this)&&!(q=un(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){ur(function(){M._data.add(M.enhancer(w,void 0)),M._atom.reportChanged()});var z=Wr(this),q=z?{type:"add",object:this,newValue:w}:null;z&&hr(this,q)}return this},O.prototype.delete=function(w){var M=this;if(Ur(this)&&!(q=un(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=Wr(this),q=z?{type:"delete",object:this,oldValue:w}:null;return ur(function(){M._atom.reportChanged(),M._data.delete(w)}),z&&hr(this,q),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,M=Array.from(this.keys()),z=Array.from(this.values());return en({next:function(){var q=w;return w+=1,q<z.length?{value:[M[q],z[q]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,M=0,z=Array.from(this._data.values());return en({next:function(){return M<z.length?{value:w.dehanceValue(z[M++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var M=this;return Mr(w)&&(w=w.toJS()),ur(function(){var z=Bt(!0);try{Array.isArray(w)||K(w)?(M.clear(),w.forEach(function(q){return M.add(q)})):w!=null&&j("Cannot initialize set from "+w)}finally{On(z)}}),this},O.prototype.observe=function(w,M){return Do(this,w)},O.prototype.intercept=function(w){return Qo(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[as=H,Symbol.iterator]=function(){return this.values()},O}(),Mr=G("ObservableSet",Co),ss=function(){function O(w,M,z,q){M===void 0&&(M=new Map),this.target=w,this.values=M,this.name=z,this.defaultEnhancer=q,this.keysAtom=new F(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,M){var z=this.target,q=this.values.get(w);if(q instanceof To)q.set(M);else{if(Ur(this)){if(!(Ee=un(this,{type:"update",object:this.proxy||z,name:w,newValue:M})))return;M=Ee.newValue}if((M=q.prepareNewValue(M))!==dt.UNCHANGED){var de=Wr(this),Ee=de?{type:"update",object:this.proxy||z,oldValue:q.value,name:w,newValue:M}:null;q.setNewValue(M),de&&hr(this,Ee)}}},O.prototype.has=function(w){var M=this.pendingKeys||(this.pendingKeys=new Map),z=M.get(w);if(z)return z.get();var q=!!this.values.get(w);return z=new Fn(q,_t,this.name+"."+oe(w)+"?",!1),M.set(w,z),z.get()},O.prototype.addObservableProp=function(w,M,z){z===void 0&&(z=this.defaultEnhancer);var q=this.target;if(Ur(this)){var de=un(this,{object:this.proxy||q,name:w,type:"add",newValue:M});if(!de)return;M=de.newValue}var Ee=new Fn(M,z,this.name+"."+oe(w),!1);this.values.set(w,Ee),M=Ee.value,Object.defineProperty(q,w,function(Ue){return bi[Ue]||(bi[Ue]={configurable:!0,enumerable:!0,get:function(){return this[H].read(Ue)},set:function(ft){this[H].write(Ue,ft)}})}(w)),this.notifyPropertyAddition(w,M)},O.prototype.addComputedProp=function(w,M,z){var q,de,Ee,Ue=this.target;z.name=z.name||this.name+"."+oe(M),this.values.set(M,new To(z)),(w===Ue||(q=w,de=M,!(Ee=Object.getOwnPropertyDescriptor(q,de))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,M,function(ft){return tu[ft]||(tu[ft]={configurable:dt.computedConfigurable,enumerable:!1,get:function(){return Ro(this).read(ft)},set:function(Zt){Ro(this).write(ft,Zt)}})}(M))},O.prototype.remove=function(w){if(this.values.has(w)){var M=this.target;if(Ur(this)&&!(ft=un(this,{object:this.proxy||M,name:w,type:"remove"})))return;try{Br();var z=Wr(this),q=!1,de=this.values.get(w),Ee=de&&de.get();if(de&&de.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Ue=this.pendingKeys.get(w);Ue&&Ue.set(!1)}delete this.target[w];var ft=z?{type:"remove",object:this.proxy||M,oldValue:Ee,name:w}:null;z&&hr(this,ft)}finally{Kr()}}},O.prototype.illegalAccess=function(w,M){},O.prototype.observe=function(w,M){return Do(this,w)},O.prototype.intercept=function(w){return Qo(this,w)},O.prototype.notifyPropertyAddition=function(w,M){var z=Wr(this),q=z?{type:"add",object:this.proxy||this.target,name:w,newValue:M}:null;if(z&&hr(this,q),this.pendingKeys){var de=this.pendingKeys.get(w);de&&de.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,M;this.keysAtom.reportObserved();var z=[];try{for(var q=_e(this.values),de=q.next();!de.done;de=q.next()){var Ee=Ae(de.value,2),Ue=Ee[0];Ee[1]instanceof Fn&&z.push(Ue)}}catch(ft){w={error:ft}}finally{try{de&&!de.done&&(M=q.return)&&M.call(q)}finally{if(w)throw w.error}}return z},O}();function qr(O,w,M){if(w===void 0&&(w=""),M===void 0&&(M=tt),Object.prototype.hasOwnProperty.call(O,H))return O[H];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new ss(O,new Map,oe(w),M);return I(O,H,z),z}var bi=Object.create(null),tu=Object.create(null);function Ro(O){var w=O[H];return w||(at(O),O[H])}var Zr=G("ObservableObjectAdministration",ss);function Gr(O){return!!C(O)&&(at(O),Zr(O[H]))}function so(O,w){if(typeof O=="object"&&O!==null){if(uo(O))return w!==void 0&&j(!1),O[H].atom;if(Mr(O))return O[H];if(Jn(O)){var M=O;return w===void 0?M._keysAtom:((z=M._data.get(w)||M._hasMap.get(w))||j(!1),z)}var z;if(at(O),w&&!O[H]&&O[w],Gr(O))return w?((z=O[H].values.get(w))||j(!1),z):j(!1);if(X(O)||Yo(O)||ga(O))return O}else if(typeof O=="function"&&ga(O[H]))return O[H];return j(!1)}function Io(O,w){return O||j("Expecting some object"),w!==void 0?Io(so(O,w)):X(O)||Yo(O)||ga(O)||Jn(O)||Mr(O)?O:(at(O),O[H]?O[H]:void j(!1))}var we=Object.prototype.toString;function Ce(O,w,M){return M===void 0&&(M=-1),Ie(O,w,M)}function Ie(O,w,M,z,q){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var de=typeof O;if(de!=="function"&&de!=="object"&&typeof w!="object")return!1;var Ee=we.call(O);if(Ee!==we.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":M>=0&&M++}O=rt(O),w=rt(w);var Ue=Ee==="[object Array]";if(!Ue){if(typeof O!="object"||typeof w!="object")return!1;var ft=O.constructor,Zt=w.constructor;if(ft!==Zt&&!(typeof ft=="function"&&ft instanceof ft&&typeof Zt=="function"&&Zt instanceof Zt)&&"constructor"in O&&"constructor"in w)return!1}if(M===0)return!1;M<0&&(M=-1),q=q||[];for(var ot=(z=z||[]).length;ot--;)if(z[ot]===O)return q[ot]===w;if(z.push(O),q.push(w),Ue){if((ot=O.length)!==w.length)return!1;for(;ot--;)if(!Ie(O[ot],w[ot],M-1,z,q))return!1}else{var jn=Object.keys(O),Ht=void 0;if(ot=jn.length,Object.keys(w).length!==ot)return!1;for(;ot--;)if(!$t(w,Ht=jn[ot])||!Ie(O[Ht],w[Ht],M-1,z,q))return!1}return z.pop(),q.pop(),!0}function rt(O){return uo(O)?O.slice():W(O)||Jn(O)||K(O)||Mr(O)?Array.from(O.entries()):O}function $t(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function en(O){return O[Symbol.iterator]=Tn,O}function Tn(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Yu,extras:{getDebugName:function(O,w){return(w!==void 0?so(O,w):Gr(O)||Jn(O)||Mr(O)?Io(O):so(O)).name}},$mobx:H})}).call(this,o(163),o(68))},function(u,l,o){var d=o(113),h=o(42),m=o(179);d||h(Object.prototype,"toString",m,{unsafe:!0})},function(u,l,o){var d=o(41),h=o(100),m=o(80),v=o(58),E=o(116),j="Array Iterator",S=v.set,T=v.getterFor(j);u.exports=E(Array,"Array",function(k,C){S(this,{type:j,target:d(k),index:0,kind:C})},function(){var k=T(this),C=k.target,N=k.kind,I=k.index++;return!C||I>=C.length?(k.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:I,done:!1}:N=="values"?{value:C[I],done:!1}:{value:[I,C[I]],done:!1}},"values"),m.Arguments=m.Array,h("keys"),h("values"),h("entries")},function(u,l,o){var d=o(16),h=o(7),m=o(46),v=o(76),E=o(34),j=o(15),S=o(71),T=o(36),k=o(108),C=o(18),N=o(35),I=o(96),G=o(30),W=o(33),K=o(54),re=o(87),oe=o(32),Z=o(40),J=o(41),H=o(86),F=o(39),X=o(69),Y=o(60),Q=o(77),ne=o(74),Se=o(139),_e=o(112),Ae=o(50),Fe=o(38),je=o(84),ve=o(98),Pe=o(42),Me=o(89),Ge=o(93),at=o(72),St=o(90),qe=o(28),tt=o(140),_t=o(141),ce=o(78),se=o(58),ye=o(79).forEach,Ne=Ge("hidden"),Ye="Symbol",ze=qe("toPrimitive"),jt=se.set,It=se.getterFor(Ye),kt=Object.prototype,bt=h.Symbol,ke=bt&&bt.prototype,pt=h.TypeError,pe=h.QObject,ct=m("JSON","stringify"),Wt=Ae.f,vn=Fe.f,Gt=Se.f,an=je.f,Sn=j([].push),Rn=Me("symbols"),zt=Me("op-symbols"),qn=Me("string-to-symbol-registry"),te=Me("symbol-to-string-registry"),he=Me("wks"),ue=!pe||!pe.prototype||!pe.prototype.findChild,be=T&&C(function(){return Y(vn({},"a",{get:function(){return vn(this,"a",{value:7}).a}})).a!=7})?function(lt,wt,Mt){var Bt=Wt(kt,wt);Bt&&delete kt[wt],vn(lt,wt,Mt),Bt&&lt!==kt&&vn(kt,wt,Bt)}:vn,Ze=function(lt,wt){var Mt=Rn[lt]=Y(ke);return jt(Mt,{type:Ye,tag:lt,description:wt}),T||(Mt.description=wt),Mt},Je=function(lt,wt,Mt){lt===kt&&Je(zt,wt,Mt),oe(lt);var Bt=H(wt);return oe(Mt),N(Rn,Bt)?(Mt.enumerable?(N(lt,Ne)&&lt[Ne][Bt]&&(lt[Ne][Bt]=!1),Mt=Y(Mt,{enumerable:X(0,!1)})):(N(lt,Ne)||vn(lt,Ne,X(1,{})),lt[Ne][Bt]=!0),be(lt,Bt,Mt)):vn(lt,Bt,Mt)},ht=function(lt,wt){oe(lt);var Mt=J(wt),Bt=Q(Mt).concat(Zn(Mt));return ye(Bt,function(On){T&&!E(Kt,Mt,On)||Je(lt,On,Mt[On])}),lt},Kt=function(lt){var wt=H(lt),Mt=E(an,this,wt);return!(this===kt&&N(Rn,wt)&&!N(zt,wt))&&(!(Mt||!N(this,wt)||!N(Rn,wt)||N(this,Ne)&&this[Ne][wt])||Mt)},ar=function(lt,wt){var Mt=J(lt),Bt=H(wt);if(Mt!==kt||!N(Rn,Bt)||N(zt,Bt)){var On=Wt(Mt,Bt);return!On||!N(Rn,Bt)||N(Mt,Ne)&&Mt[Ne][Bt]||(On.enumerable=!0),On}},mr=function(lt){var wt=Gt(J(lt)),Mt=[];return ye(wt,function(Bt){N(Rn,Bt)||N(at,Bt)||Sn(Mt,Bt)}),Mt},Zn=function(lt){var wt=lt===kt,Mt=Gt(wt?zt:J(lt)),Bt=[];return ye(Mt,function(On){!N(Rn,On)||wt&&!N(kt,On)||Sn(Bt,Rn[On])}),Bt};if(k||(bt=function(){if(K(ke,this))throw pt("Symbol is not a constructor");var lt=arguments.length&&arguments[0]!==void 0?F(arguments[0]):void 0,wt=St(lt),Mt=function(Bt){this===kt&&E(Mt,zt,Bt),N(this,Ne)&&N(this[Ne],wt)&&(this[Ne][wt]=!1),be(this,wt,X(1,Bt))};return T&&ue&&be(kt,wt,{configurable:!0,set:Mt}),Ze(wt,lt)},Pe(ke=bt.prototype,"toString",function(){return It(this).tag}),Pe(bt,"withoutSetter",function(lt){return Ze(St(lt),lt)}),je.f=Kt,Fe.f=Je,Ae.f=ar,ne.f=Se.f=mr,_e.f=Zn,tt.f=function(lt){return Ze(qe(lt),lt)},T&&(vn(ke,"description",{configurable:!0,get:function(){return It(this).description}}),S||Pe(kt,"propertyIsEnumerable",Kt,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:bt}),ye(Q(he),function(lt){_t(lt)}),d({target:Ye,stat:!0,forced:!k},{for:function(lt){var wt=F(lt);if(N(qn,wt))return qn[wt];var Mt=bt(wt);return qn[wt]=Mt,te[Mt]=wt,Mt},keyFor:function(lt){if(!re(lt))throw pt(lt+" is not a symbol");if(N(te,lt))return te[lt]},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),d({target:"Object",stat:!0,forced:!k,sham:!T},{create:function(lt,wt){return wt===void 0?Y(lt):ht(Y(lt),wt)},defineProperty:Je,defineProperties:ht,getOwnPropertyDescriptor:ar}),d({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:mr,getOwnPropertySymbols:Zn}),d({target:"Object",stat:!0,forced:C(function(){_e.f(1)})},{getOwnPropertySymbols:function(lt){return _e.f(Z(lt))}}),ct&&d({target:"JSON",stat:!0,forced:!k||C(function(){var lt=bt();return ct([lt])!="[null]"||ct({a:lt})!="{}"||ct(Object(lt))!="{}"})},{stringify:function(lt,wt,Mt){var Bt=ve(arguments),On=wt;if((W(wt)||lt!==void 0)&&!re(lt))return I(wt)||(wt=function(Fn,Vo){if(G(On)&&(Vo=E(On,this,Fn,Vo)),!re(Vo))return Vo}),Bt[1]=wt,v(ct,null,Bt)}}),!ke[ze]){var tr=ke.valueOf;Pe(ke,ze,function(lt){return E(tr,this)})}ce(bt,Ye),at[Ne]=!0},function(u,l,o){var d=o(7),h=o(152),m=o(153),v=o(3),E=o(57),j=o(28),S=j("iterator"),T=j("toStringTag"),k=v.values,C=function(I,G){if(I){if(I[S]!==k)try{E(I,S,k)}catch{I[S]=k}if(I[T]||E(I,T,G),h[G]){for(var W in v)if(I[W]!==v[W])try{E(I,W,v[W])}catch{I[W]=v[W]}}}};for(var N in h)C(d[N]&&d[N].prototype,N);C(m,"DOMTokenList")},function(u,l,o){var d=o(151).charAt,h=o(39),m=o(58),v=o(116),E="String Iterator",j=m.set,S=m.getterFor(E);v(String,"String",function(T){j(this,{type:E,string:h(T),index:0})},function(){var T,k=S(this),C=k.string,N=k.index;return N>=C.length?{value:void 0,done:!0}:(T=d(C,N),k.index+=T.length,{value:T,done:!1})})},function(u,l,o){(function(d){var h=function(m){return m&&m.Math==Math&&m};u.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(u,l,o){var d=o(16),h=o(36),m=o(7),v=o(15),E=o(35),j=o(30),S=o(54),T=o(39),k=o(38).f,C=o(134),N=m.Symbol,I=N&&N.prototype;if(h&&j(N)&&(!("description"in I)||N().description!==void 0)){var G={},W=function(){var F=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),X=S(I,this)?new N(F):F===void 0?N():N(F);return F===""&&(G[X]=!0),X};C(W,N),W.prototype=I,I.constructor=W;var K=String(N("test"))=="Symbol(test)",re=v(I.toString),oe=v(I.valueOf),Z=/^Symbol\((.*)\)[^)]+$/,J=v("".replace),H=v("".slice);k(I,"description",{configurable:!0,get:function(){var F=oe(this),X=re(F);if(E(G,F))return"";var Y=K?H(X,7,-1):J(X,Z,"$1");return Y===""?void 0:Y}}),d({global:!0,forced:!0},{Symbol:W})}},function(u,l,o){o(141)("iterator")},function(u,l,o){o.d(l,"a",function(){return v.a}),o.d(l,"c",function(){return v.e}),o.d(l,"h",function(){return Z}),o.d(l,"i",function(){return K}),o.d(l,"j",function(){return G}),o.d(l,"b",function(){return Ae}),o.d(l,"e",function(){return Pe}),o.d(l,"f",function(){return Fe}),o.d(l,"g",function(){return Rn});var d,h,m,v=o(0),E=0,j=[],S=v.i.__b,T=v.i.__r,k=v.i.diffed,C=v.i.__c,N=v.i.unmount;function I(te,he){v.i.__h&&v.i.__h(h,te,E||he),E=0;var ue=h.__H||(h.__H={__:[],__h:[]});return te>=ue.__.length&&ue.__.push({}),ue.__[te]}function G(te){return E=1,W(ne,te)}function W(te,he,ue){var be=I(d++,2);return be.t=te,be.__c||(be.__=[ue?ue(he):ne(void 0,he),function(Ze){var Je=be.t(be.__[0],Ze);be.__[0]!==Je&&(be.__=[Je,be.__[1]],be.__c.setState({}))}],be.__c=h),be.__}function K(te,he){var ue=I(d++,3);!v.i.__s&&Q(ue.__H,he)&&(ue.__=te,ue.__H=he,h.__H.__h.push(ue))}function re(te,he){var ue=I(d++,4);!v.i.__s&&Q(ue.__H,he)&&(ue.__=te,ue.__H=he,h.__h.push(ue))}function oe(te,he){var ue=I(d++,7);return Q(ue.__H,he)&&(ue.__=te(),ue.__H=he,ue.__h=te),ue.__}function Z(te,he){return E=8,oe(function(){return te},he)}function J(){var te;for(j.sort(function(he,ue){return he.__v.__b-ue.__v.__b});te=j.pop();)if(te.__P)try{te.__H.__h.forEach(X),te.__H.__h.forEach(Y),te.__H.__h=[]}catch(he){te.__H.__h=[],v.i.__e(he,te.__v)}}v.i.__b=function(te){h=null,S&&S(te)},v.i.__r=function(te){T&&T(te),d=0;var he=(h=te.__c).__H;he&&(he.__h.forEach(X),he.__h.forEach(Y),he.__h=[])},v.i.diffed=function(te){k&&k(te);var he=te.__c;he&&he.__H&&he.__H.__h.length&&(j.push(he)!==1&&m===v.i.requestAnimationFrame||((m=v.i.requestAnimationFrame)||F)(J)),h=null},v.i.__c=function(te,he){he.some(function(ue){try{ue.__h.forEach(X),ue.__h=ue.__h.filter(function(be){return!be.__||Y(be)})}catch(be){he.some(function(Ze){Ze.__h&&(Ze.__h=[])}),he=[],v.i.__e(be,ue.__v)}}),C&&C(te,he)},v.i.unmount=function(te){N&&N(te);var he,ue=te.__c;ue&&ue.__H&&(ue.__H.__.forEach(function(be){try{X(be)}catch(Ze){he=Ze}}),he&&v.i.__e(he,ue.__v))};var H=typeof requestAnimationFrame=="function";function F(te){var he,ue=function(){clearTimeout(be),H&&cancelAnimationFrame(he),setTimeout(te)},be=setTimeout(ue,100);H&&(he=requestAnimationFrame(ue))}function X(te){var he=h,ue=te.__c;typeof ue=="function"&&(te.__c=void 0,ue()),h=he}function Y(te){var he=h;te.__c=te.__(),h=he}function Q(te,he){return!te||te.length!==he.length||he.some(function(ue,be){return ue!==te[be]})}function ne(te,he){return typeof he=="function"?he(te):he}function Se(te,he){for(var ue in he)te[ue]=he[ue];return te}function _e(te,he){for(var ue in te)if(ue!=="__source"&&!(ue in he))return!0;for(var be in he)if(be!=="__source"&&te[be]!==he[be])return!0;return!1}function Ae(te){this.props=te}function Fe(te,he){function ue(Ze){var Je=this.props.ref,ht=Je==Ze.ref;return!ht&&Je&&(Je.call?Je(null):Je.current=null),he?!he(this.props,Ze)||!ht:_e(this.props,Ze)}function be(Ze){return this.shouldComponentUpdate=ue,Object(v.e)(te,Ze)}return be.displayName="Memo("+(te.displayName||te.name)+")",be.prototype.isReactComponent=!0,be.__f=!0,be}(Ae.prototype=new v.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(te,he){return _e(this.props,te)||_e(this.state,he)};var je=v.i.__b;v.i.__b=function(te){te.type&&te.type.__f&&te.ref&&(te.props.ref=te.ref,te.ref=null),je&&je(te)};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(te){function he(ue,be){var Ze=Se({},ue);return delete Ze.ref,te(Ze,!(be=ue.ref||be)||typeof be=="object"&&!("current"in be)?null:be)}return he.$$typeof=ve,he.render=he,he.prototype.isReactComponent=he.__f=!0,he.displayName="ForwardRef("+(te.displayName||te.name)+")",he}var Me=function(te,he){return te==null?null:Object(v.k)(Object(v.k)(te).map(he))},Ge={map:Me,forEach:Me,count:function(te){return te?Object(v.k)(te).length:0},only:function(te){var he=Object(v.k)(te);if(he.length!==1)throw"Children.only";return he[0]},toArray:v.k},at=v.i.__e;v.i.__e=function(te,he,ue){if(te.then){for(var be,Ze=he;Ze=Ze.__;)if((be=Ze.__c)&&be.__c)return he.__e==null&&(he.__e=ue.__e,he.__k=ue.__k),be.__c(te,he)}at(te,he,ue)};var St=v.i.unmount;function qe(te,he,ue){return te&&(te.__c&&te.__c.__H&&(te.__c.__H.__.forEach(function(be){typeof be.__c=="function"&&be.__c()}),te.__c.__H=null),(te=Se({},te)).__c!=null&&(te.__c.__P===ue&&(te.__c.__P=he),te.__c=null),te.__k=te.__k&&te.__k.map(function(be){return qe(be,he,ue)})),te}function tt(te,he,ue){return te&&(te.__v=null,te.__k=te.__k&&te.__k.map(function(be){return tt(be,he,ue)}),te.__c&&te.__c.__P===he&&(te.__e&&ue.insertBefore(te.__e,te.__d),te.__c.__e=!0,te.__c.__P=ue)),te}function _t(){this.__u=0,this.t=null,this.__b=null}function ce(te){var he=te.__.__c;return he&&he.__e&&he.__e(te)}function se(){this.u=null,this.o=null}v.i.unmount=function(te){var he=te.__c;he&&he.__R&&he.__R(),he&&te.__h===!0&&(te.type=null),St&&St(te)},(_t.prototype=new v.a).__c=function(te,he){var ue=he.__c,be=this;be.t==null&&(be.t=[]),be.t.push(ue);var Ze=ce(be.__v),Je=!1,ht=function(){Je||(Je=!0,ue.__R=null,Ze?Ze(Kt):Kt())};ue.__R=ht;var Kt=function(){if(!--be.__u){if(be.state.__e){var mr=be.state.__e;be.__v.__k[0]=tt(mr,mr.__c.__P,mr.__c.__O)}var Zn;for(be.setState({__e:be.__b=null});Zn=be.t.pop();)Zn.forceUpdate()}},ar=he.__h===!0;be.__u++||ar||be.setState({__e:be.__b=be.__v.__k[0]}),te.then(ht,ht)},_t.prototype.componentWillUnmount=function(){this.t=[]},_t.prototype.render=function(te,he){if(this.__b){if(this.__v.__k){var ue=document.createElement("div"),be=this.__v.__k[0].__c;this.__v.__k[0]=qe(this.__b,ue,be.__O=be.__P)}this.__b=null}var Ze=he.__e&&Object(v.e)(v.b,null,te.fallback);return Ze&&(Ze.__h=null),[Object(v.e)(v.b,null,he.__e?null:te.children),Ze]};var ye=function(te,he,ue){if(++ue[1]===ue[0]&&te.o.delete(he),te.props.revealOrder&&(te.props.revealOrder[0]!=="t"||!te.o.size))for(ue=te.u;ue;){for(;ue.length>3;)ue.pop()();if(ue[1]<ue[0])break;te.u=ue=ue[2]}};function Ne(te){return this.getChildContext=function(){return te.context},te.children}function Ye(te){var he=this,ue=te.i;he.componentWillUnmount=function(){Object(v.j)(null,he.l),he.l=null,he.i=null},he.i&&he.i!==ue&&he.componentWillUnmount(),te.__v?(he.l||(he.i=ue,he.l={nodeType:1,parentNode:ue,childNodes:[],appendChild:function(be){this.childNodes.push(be),he.i.appendChild(be)},insertBefore:function(be,Ze){this.childNodes.push(be),he.i.appendChild(be)},removeChild:function(be){this.childNodes.splice(this.childNodes.indexOf(be)>>>1,1),he.i.removeChild(be)}}),Object(v.j)(Object(v.e)(Ne,{context:he.context},te.__v),he.l)):he.l&&he.componentWillUnmount()}(se.prototype=new v.a).__e=function(te){var he=this,ue=ce(he.__v),be=he.o.get(te);return be[0]++,function(Ze){var Je=function(){he.props.revealOrder?(be.push(Ze),ye(he,te,be)):Ze()};ue?ue(Je):Je()}},se.prototype.render=function(te){this.u=null,this.o=new Map;var he=Object(v.k)(te.children);te.revealOrder&&te.revealOrder[0]==="b"&&he.reverse();for(var ue=he.length;ue--;)this.o.set(he[ue],this.u=[1,0,this.u]);return te.children},se.prototype.componentDidUpdate=se.prototype.componentDidMount=function(){var te=this;this.o.forEach(function(he,ue){ye(te,ue,he)})};var ze=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,jt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,It=typeof document<"u",kt=function(te){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(te)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(te){Object.defineProperty(v.a.prototype,te,{configurable:!0,get:function(){return this["UNSAFE_"+te]},set:function(he){Object.defineProperty(this,te,{configurable:!0,writable:!0,value:he})}})});var bt=v.i.event;function ke(){}function pt(){return this.cancelBubble}function pe(){return this.defaultPrevented}v.i.event=function(te){return bt&&(te=bt(te)),te.persist=ke,te.isPropagationStopped=pt,te.isDefaultPrevented=pe,te.nativeEvent=te};var ct,Wt={configurable:!0,get:function(){return this.class}},vn=v.i.vnode;v.i.vnode=function(te){var he=te.type,ue=te.props,be=ue;if(typeof he=="string"){var Ze=he.indexOf("-")===-1;for(var Je in be={},ue){var ht=ue[Je];It&&Je==="children"&&he==="noscript"||Je==="value"&&"defaultValue"in ue&&ht==null||(Je==="defaultValue"&&"value"in ue&&ue.value==null?Je="value":Je==="download"&&ht===!0?ht="":/ondoubleclick/i.test(Je)?Je="ondblclick":/^onchange(textarea|input)/i.test(Je+he)&&!kt(ue.type)?Je="oninput":/^onfocus$/i.test(Je)?Je="onfocusin":/^onblur$/i.test(Je)?Je="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Je)?Je=Je.toLowerCase():Ze&&jt.test(Je)?Je=Je.replace(/[A-Z0-9]/,"-$&").toLowerCase():ht===null&&(ht=void 0),be[Je]=ht)}he=="select"&&be.multiple&&Array.isArray(be.value)&&(be.value=Object(v.k)(ue.children).forEach(function(Kt){Kt.props.selected=be.value.indexOf(Kt.props.value)!=-1})),he=="select"&&be.defaultValue!=null&&(be.value=Object(v.k)(ue.children).forEach(function(Kt){Kt.props.selected=be.multiple?be.defaultValue.indexOf(Kt.props.value)!=-1:be.defaultValue==Kt.props.value})),te.props=be,ue.class!=ue.className&&(Wt.enumerable="className"in ue,ue.className!=null&&(be.class=ue.className),Object.defineProperty(be,"className",Wt))}te.$$typeof=ze,vn&&vn(te)};var Gt=v.i.__r;v.i.__r=function(te){Gt&&Gt(te),ct=te.__c};var an={ReactCurrentDispatcher:{current:{readContext:function(te){return ct.__n[te.__c].props.value}}}};function Sn(te){return!!te&&te.$$typeof===ze}var Rn=function(te,he){return te(he)},zt=v.b,qn={useState:G,useReducer:W,useEffect:K,useLayoutEffect:re,useRef:function(te){return E=5,oe(function(){return{current:te}},[])},useImperativeHandle:function(te,he,ue){E=6,re(function(){typeof te=="function"?te(he()):te&&(te.current=he())},ue==null?ue:ue.concat(te))},useMemo:oe,useCallback:Z,useContext:function(te){var he=h.context[te.__c],ue=I(d++,9);return ue.c=te,he?(ue.__==null&&(ue.__=!0,he.sub(h)),he.props.value):te.__},useDebugValue:function(te,he){v.i.useDebugValue&&v.i.useDebugValue(he?he(te):te)},version:"17.0.2",Children:Ge,render:function(te,he,ue){return he.__k==null&&(he.textContent=""),Object(v.j)(te,he),typeof ue=="function"&&ue(),te?te.__c:null},hydrate:function(te,he,ue){return Object(v.h)(te,he),typeof ue=="function"&&ue(),te?te.__c:null},unmountComponentAtNode:function(te){return!!te.__k&&(Object(v.j)(null,te),!0)},createPortal:function(te,he){return Object(v.e)(Ye,{__v:te,i:he})},createElement:v.e,createContext:v.d,createFactory:function(te){return v.e.bind(null,te)},cloneElement:function(te){return Sn(te)?v.c.apply(null,arguments):te},createRef:v.f,Fragment:v.b,isValidElement:Sn,findDOMNode:function(te){return te&&(te.base||te.nodeType===1&&te)||null},Component:v.a,PureComponent:Ae,memo:Fe,forwardRef:Pe,flushSync:function(te,he){return te(he)},unstable_batchedUpdates:Rn,StrictMode:zt,Suspense:_t,SuspenseList:se,lazy:function(te){var he,ue,be;function Ze(Je){if(he||(he=te()).then(function(ht){ue=ht.default||ht},function(ht){be=ht}),be)throw be;if(!ue)throw he;return Object(v.e)(ue,Je)}return Ze.displayName="Lazy",Ze.__f=!0,Ze},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:an};l.d=qn},function(u,l,o){var d=o(7),h=o(152),m=o(153),v=o(187),E=o(57),j=function(T){if(T&&T.forEach!==v)try{E(T,"forEach",v)}catch{T.forEach=v}};for(var S in h)h[S]&&j(d[S]&&d[S].prototype);j(m)},function(u,l,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(u,l,o){var d=o(16),h=o(18),m=o(40),v=o(101),E=o(143);d({target:"Object",stat:!0,forced:h(function(){v(1)}),sham:!E},{getPrototypeOf:function(j){return v(m(j))}})},function(u,l,o){var d=o(16),h=o(46),m=o(76),v=o(203),E=o(165),j=o(32),S=o(33),T=o(60),k=o(18),C=h("Reflect","construct"),N=Object.prototype,I=[].push,G=k(function(){function re(){}return!(C(function(){},[],re)instanceof re)}),W=!k(function(){C(function(){})}),K=G||W;d({target:"Reflect",stat:!0,forced:K,sham:K},{construct:function(re,oe){E(re),j(oe);var Z=arguments.length<3?re:E(arguments[2]);if(W&&!G)return C(re,oe,Z);if(re==Z){switch(oe.length){case 0:return new re;case 1:return new re(oe[0]);case 2:return new re(oe[0],oe[1]);case 3:return new re(oe[0],oe[1],oe[2]);case 4:return new re(oe[0],oe[1],oe[2],oe[3])}var J=[null];return m(I,J,oe),new(m(v,re,J))}var H=Z.prototype,F=T(S(H)?H:N),X=m(re,F,oe);return S(X)?X:F}})},function(u,l){var o=Function.prototype,d=o.bind,h=o.call,m=d&&d.bind(h);u.exports=d?function(v){return v&&m(h,v)}:function(v){return v&&function(){return h.apply(v,arguments)}}},function(u,l,o){var d=o(7),h=o(50).f,m=o(57),v=o(42),E=o(110),j=o(134),S=o(95);u.exports=function(T,k){var C,N,I,G,W,K=T.target,re=T.global,oe=T.stat;if(C=re?d:oe?d[K]||E(K,{}):(d[K]||{}).prototype)for(N in k){if(G=k[N],I=T.noTargetGet?(W=h(C,N))&&W.value:C[N],!S(re?N:K+(oe?".":"#")+N,T.forced)&&I!==void 0){if(typeof G==typeof I)continue;j(G,I)}(T.sham||I&&I.sham)&&m(G,"sham",!0),v(C,N,G,T)}}},function(u,l,o){var d=o(16),h=o(7),m=o(96),v=o(99),E=o(33),j=o(75),S=o(45),T=o(41),k=o(63),C=o(28),N=o(81),I=o(98),G=N("slice"),W=C("species"),K=h.Array,re=Math.max;d({target:"Array",proto:!0,forced:!G},{slice:function(oe,Z){var J,H,F,X=T(this),Y=S(X),Q=j(oe,Y),ne=j(Z===void 0?Y:Z,Y);if(m(X)&&(J=X.constructor,(v(J)&&(J===K||m(J.prototype))||E(J)&&(J=J[W])===null)&&(J=void 0),J===K||J===void 0))return I(X,Q,ne);for(H=new(J===void 0?K:J)(re(ne-Q,0)),F=0;Q<ne;Q++,F++)Q in X&&k(H,F,X[Q]);return H.length=F,H}})},function(u,l){u.exports=function(o){try{return!!o()}catch{return!0}}},function(u,l,o){var d=o(16),h=o(103);d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(u,l,o){var d=o(16),h=o(40),m=o(77);d({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(v){return m(h(v))}})},function(u,l,o){var d=o(36),h=o(73).EXISTS,m=o(15),v=o(38).f,E=Function.prototype,j=m(E.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=m(S.exec);d&&!h&&v(E,"name",{configurable:!0,get:function(){try{return T(S,j(this))[1]}catch{return""}}})},function(u,l,o){var d=o(16),h=o(18),m=o(41),v=o(50).f,E=o(36),j=h(function(){v(1)});d({target:"Object",stat:!0,forced:!E||j,sham:!E},{getOwnPropertyDescriptor:function(S,T){return v(m(S),T)}})},function(u,l,o){var d=o(16),h=o(188);d({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:h})},function(u,l,o){var d=o(16),h=o(79).filter;d({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var d=o(16),h=o(36),m=o(135),v=o(41),E=o(50),j=o(63);d({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(S){for(var T,k,C=v(S),N=E.f,I=m(C),G={},W=0;I.length>W;)(k=N(C,T=I[W++]))!==void 0&&j(G,T,k);return G}})},,function(u,l,o){var d=o(16),h=o(7),m=o(18),v=o(96),E=o(33),j=o(40),S=o(45),T=o(63),k=o(115),C=o(81),N=o(28),I=o(70),G=N("isConcatSpreadable"),W=9007199254740991,K="Maximum allowed index exceeded",re=h.TypeError,oe=I>=51||!m(function(){var H=[];return H[G]=!1,H.concat()[0]!==H}),Z=C("concat"),J=function(H){if(!E(H))return!1;var F=H[G];return F!==void 0?!!F:v(H)};d({target:"Array",proto:!0,forced:!oe||!Z},{concat:function(H){var F,X,Y,Q,ne,Se=j(this),_e=k(Se,0),Ae=0;for(F=-1,Y=arguments.length;F<Y;F++)if(J(ne=F===-1?Se:arguments[F])){if(Ae+(Q=S(ne))>W)throw re(K);for(X=0;X<Q;X++,Ae++)X in ne&&T(_e,Ae,ne[X])}else{if(Ae>=W)throw re(K);T(_e,Ae++,ne)}return _e.length=Ae,_e}})},function(u,l,o){var d=o(7),h=o(89),m=o(35),v=o(90),E=o(108),j=o(132),S=h("wks"),T=d.Symbol,k=T&&T.for,C=j?T:T&&T.withoutSetter||v;u.exports=function(N){if(!m(S,N)||!E&&typeof S[N]!="string"){var I="Symbol."+N;E&&m(T,N)?S[N]=T[N]:S[N]=j&&k?k(I):C(I)}return S[N]}},function(u,l,o){var d=o(16),h=o(202);d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(u,l){u.exports=function(o){return typeof o=="function"}},function(u,l,o){var d=o(106),h=typeof self=="object"&&self&&self.Object===Object&&self,m=d.a||h||Function("return this")();l.a=m},function(u,l,o){var d=o(7),h=o(33),m=d.String,v=d.TypeError;u.exports=function(E){if(h(E))return E;throw v(m(E)+" is not an object")}},function(u,l,o){var d=o(30);u.exports=function(h){return typeof h=="object"?h!==null:d(h)}},function(u,l){var o=Function.prototype.call;u.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(u,l,o){var d=o(15),h=o(40),m=d({}.hasOwnProperty);u.exports=Object.hasOwn||function(v,E){return m(h(v),E)}},function(u,l,o){var d=o(18);u.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,l,o){var d=o(16),h=o(79).map;d({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var d=o(7),h=o(36),m=o(133),v=o(32),E=o(86),j=d.TypeError,S=Object.defineProperty;l.f=h?S:function(T,k,C){if(v(T),k=E(k),v(C),m)try{return S(T,k,C)}catch{}if("get"in C||"set"in C)throw j("Accessors not supported");return"value"in C&&(T[k]=C.value),T}},function(u,l,o){var d=o(7),h=o(97),m=d.String;u.exports=function(v){if(h(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(v)}},function(u,l,o){var d=o(7),h=o(44),m=d.Object;u.exports=function(v){return m(h(v))}},function(u,l,o){var d=o(85),h=o(44);u.exports=function(m){return d(h(m))}},function(u,l,o){var d=o(7),h=o(30),m=o(35),v=o(57),E=o(110),j=o(92),S=o(58),T=o(73).CONFIGURABLE,k=S.get,C=S.enforce,N=String(String).split("String");(u.exports=function(I,G,W,K){var re,oe=!!K&&!!K.unsafe,Z=!!K&&!!K.enumerable,J=!!K&&!!K.noTargetGet,H=K&&K.name!==void 0?K.name:G;h(W)&&(String(H).slice(0,7)==="Symbol("&&(H="["+String(H).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(W,"name")||T&&W.name!==H)&&v(W,"name",H),(re=C(W)).source||(re.source=N.join(typeof H=="string"?H:""))),I!==d?(oe?!J&&I[G]&&(Z=!0):delete I[G],Z?I[G]=W:v(I,G,W)):Z?I[G]=W:E(G,W)})(Function.prototype,"toString",function(){return h(this)&&k(this).source||j(this)})},function(u,l,o){(function(d){o.d(l,"d",function(){return v}),o.d(l,"c",function(){return E}),o.d(l,"b",function(){return j}),o.d(l,"a",function(){return T});var h=o(10),m=function(k,C){var N=typeof Symbol=="function"&&k[Symbol.iterator];if(!N)return k;var I,G,W=N.call(k),K=[];try{for(;(C===void 0||C-- >0)&&!(I=W.next()).done;)K.push(I.value)}catch(re){G={error:re}}finally{try{I&&!I.done&&(N=W.return)&&N.call(W)}finally{if(G)throw G.error}}return K};function v(){var k=m(Object(h.j)(0),2)[1];return Object(h.h)(function(){k(function(C){return C+1})},[])}function E(k){if(!k||typeof k!="object")return!1;var C=Object.getPrototypeOf(k);return!C||C===Object.prototype}function j(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var S={};function T(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:S}}).call(this,o(68))},function(u,l,o){var d=o(7).TypeError;u.exports=function(h){if(h==null)throw d("Can't call method on "+h);return h}},function(u,l,o){var d=o(94);u.exports=function(h){return d(h.length)}},function(u,l,o){var d=o(7),h=o(30),m=function(v){return h(v)?v:void 0};u.exports=function(v,E){return arguments.length<2?m(d[v]):d[v]&&d[v][E]}},function(u,l,o){var d=o(16),h=o(34),m=o(33),v=o(32),E=o(204),j=o(50),S=o(101);d({target:"Reflect",stat:!0},{get:function T(k,C){var N,I,G=arguments.length<3?k:arguments[2];return v(k)===G?k[C]:(N=j.f(k,C))?E(N)?N.value:N.get===void 0?void 0:h(N.get,G):m(I=S(k))?T(I,C,G):void 0}})},function(u,l,o){(function(d){var h=o(31),m=o(171),v=a&&!a.nodeType&&a,E=v&&typeof d=="object"&&d&&!d.nodeType&&d,j=E&&E.exports===v?h.a.Buffer:void 0,S=(j?j.isBuffer:void 0)||m.a;l.a=S}).call(this,o(122)(u))},function(u,l,o){(function(d){var h=o(106),m=a&&!a.nodeType&&a,v=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=v&&v.exports===m&&h.a.process,j=function(){try{var S=v&&v.require&&v.require("util").types;return S||E&&E.binding&&E.binding("util")}catch{}}();l.a=j}).call(this,o(122)(u))},function(u,l,o){var d=o(36),h=o(34),m=o(84),v=o(69),E=o(41),j=o(86),S=o(35),T=o(133),k=Object.getOwnPropertyDescriptor;l.f=d?k:function(C,N){if(C=E(C),N=j(N),T)try{return k(C,N)}catch{}if(S(C,N))return v(!h(m.f,C,N),C[N])}},function(u,l,o){var d=o(15),h=d({}.toString),m=d("".slice);u.exports=function(v){return m(h(v),8,-1)}},function(u,l,o){o(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},o(186))},function(u,l,o){var d=o(16),h=o(220).entries;d({target:"Object",stat:!0},{entries:function(m){return h(m)}})},function(u,l,o){var d=o(15);u.exports=d({}.isPrototypeOf)},function(u,l,o){var d=o(46);u.exports=d("navigator","userAgent")||""},function(u,l,o){var d=o(7),h=o(30),m=o(88),v=d.TypeError;u.exports=function(E){if(h(E))return E;throw v(m(E)+" is not a function")}},function(u,l,o){var d=o(36),h=o(38),m=o(69);u.exports=d?function(v,E,j){return h.f(v,E,m(1,j))}:function(v,E,j){return v[E]=j,v}},function(u,l,o){var d,h,m,v=o(175),E=o(7),j=o(15),S=o(33),T=o(57),k=o(35),C=o(109),N=o(93),I=o(72),G="Object already initialized",W=E.TypeError,K=E.WeakMap;if(v||C.state){var re=C.state||(C.state=new K),oe=j(re.get),Z=j(re.has),J=j(re.set);d=function(F,X){if(Z(re,F))throw new W(G);return X.facade=F,J(re,F,X),X},h=function(F){return oe(re,F)||{}},m=function(F){return Z(re,F)}}else{var H=N("state");I[H]=!0,d=function(F,X){if(k(F,H))throw new W(G);return X.facade=F,T(F,H,X),X},h=function(F){return k(F,H)?F[H]:{}},m=function(F){return k(F,H)}}u.exports={set:d,get:h,has:m,enforce:function(F){return m(F)?h(F):d(F,{})},getterFor:function(F){return function(X){var Y;if(!S(X)||(Y=h(X)).type!==F)throw W("Incompatible receiver, "+F+" required");return Y}}}},function(u,l){var o=Math.ceil,d=Math.floor;u.exports=function(h){var m=+h;return m!=m||m===0?0:(m>0?d:o)(m)}},function(u,l,o){var d,h=o(32),m=o(176),v=o(111),E=o(72),j=o(138),S=o(91),T=o(93),k=T("IE_PROTO"),C=function(){},N=function(W){return"<script>"+W+"<\/script>"},I=function(W){W.write(N("")),W.close();var K=W.parentWindow.Object;return W=null,K},G=function(){try{d=new ActiveXObject("htmlfile")}catch{}var W,K;G=typeof document<"u"?document.domain&&d?I(d):((K=S("iframe")).style.display="none",j.appendChild(K),K.src="javascript:",(W=K.contentWindow.document).open(),W.write(N("document.F=Object")),W.close(),W.F):I(d);for(var re=v.length;re--;)delete G.prototype[v[re]];return G()};E[k]=!0,u.exports=Object.create||function(W,K){var re;return W!==null?(C.prototype=h(W),re=new C,C.prototype=null,re[k]=W):re=G(),K===void 0?re:m(re,K)}},function(u,l,o){var d=o(36),h=o(7),m=o(15),v=o(95),E=o(42),j=o(35),S=o(148),T=o(54),k=o(87),C=o(131),N=o(18),I=o(74).f,G=o(50).f,W=o(38).f,K=o(160),re=o(161).trim,oe="Number",Z=h.Number,J=Z.prototype,H=h.TypeError,F=m("".slice),X=m("".charCodeAt),Y=function(Fe){var je=C(Fe,"number");return typeof je=="bigint"?je:Q(je)},Q=function(Fe){var je,ve,Pe,Me,Ge,at,St,qe,tt=C(Fe,"number");if(k(tt))throw H("Cannot convert a Symbol value to a number");if(typeof tt=="string"&&tt.length>2){if(tt=re(tt),(je=X(tt,0))===43||je===45){if((ve=X(tt,2))===88||ve===120)return NaN}else if(je===48){switch(X(tt,1)){case 66:case 98:Pe=2,Me=49;break;case 79:case 111:Pe=8,Me=55;break;default:return+tt}for(at=(Ge=F(tt,2)).length,St=0;St<at;St++)if((qe=X(Ge,St))<48||qe>Me)return NaN;return parseInt(Ge,Pe)}}return+tt};if(v(oe,!Z(" 0o1")||!Z("0b1")||Z("+0x1"))){for(var ne,Se=function(Fe){var je=arguments.length<1?0:Z(Y(Fe)),ve=this;return T(J,ve)&&N(function(){K(ve)})?S(Object(je),ve,Se):je},_e=d?I(Z):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ae=0;_e.length>Ae;Ae++)j(Z,ne=_e[Ae])&&!j(Se,ne)&&W(Se,ne,G(Z,ne));Se.prototype=J,J.constructor=Se,E(h,oe,Se)}},function(u,l,o){var d=o(56);u.exports=function(h,m){var v=h[m];return v==null?void 0:d(v)}},function(u,l,o){var d=o(86),h=o(38),m=o(69);u.exports=function(v,E,j){var S=d(E);S in v?h.f(v,S,m(0,j)):v[S]=j}},function(u,l,o){var d=o(15),h=o(56),m=d(d.bind);u.exports=function(v,E){return h(v),E===void 0?v:m?m(v,E):function(){return v.apply(E,arguments)}}},function(u,l,o){var d=o(16),h=o(15),m=o(85),v=o(41),E=o(121),j=h([].join),S=m!=Object,T=E("join",",");d({target:"Array",proto:!0,forced:S||!T},{join:function(k){return j(v(this),k===void 0?",":k)}})},function(u,l,o){var d=o(15),h=o(73).PROPER,m=o(42),v=o(32),E=o(54),j=o(39),S=o(18),T=o(154),k="toString",C=RegExp.prototype,N=C.toString,I=d(T),G=S(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),W=h&&N.name!=k;(G||W)&&m(RegExp.prototype,k,function(){var K=v(this),re=j(K.source),oe=K.flags;return"/"+re+"/"+j(oe===void 0&&E(C,K)&&!("flags"in C)?I(K):oe)},{unsafe:!0})},function(u,l,o){var d=o(16),h=o(217),m=o(100);d({target:"Array",proto:!0},{fill:h}),m("fill")},function(u,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}u.exports=o},function(u,l){u.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},function(u,l,o){var d,h,m=o(7),v=o(55),E=m.process,j=m.Deno,S=E&&E.versions||j&&j.version,T=S&&S.v8;T&&(h=(d=T.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!h&&v&&(!(d=v.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=v.match(/Chrome\/(\d+)/))&&(h=+d[1]),u.exports=h},function(u,l){u.exports=!1},function(u,l){u.exports={}},function(u,l,o){var d=o(36),h=o(35),m=Function.prototype,v=d&&Object.getOwnPropertyDescriptor,E=h(m,"name"),j=E&&(function(){}).name==="something",S=E&&(!d||d&&v(m,"name").configurable);u.exports={EXISTS:E,PROPER:j,CONFIGURABLE:S}},function(u,l,o){var d=o(136),h=o(111).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(m){return d(m,h)}},function(u,l,o){var d=o(59),h=Math.max,m=Math.min;u.exports=function(v,E){var j=d(v);return j<0?h(j+E,0):m(j,E)}},function(u,l){var o=Function.prototype,d=o.apply,h=o.bind,m=o.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(h?m.bind(d):function(){return m.apply(d,arguments)})},function(u,l,o){var d=o(136),h=o(111);u.exports=Object.keys||function(m){return d(m,h)}},function(u,l,o){var d=o(38).f,h=o(35),m=o(28)("toStringTag");u.exports=function(v,E,j){v&&!h(v=j?v:v.prototype,m)&&d(v,m,{configurable:!0,value:E})}},function(u,l,o){var d=o(64),h=o(15),m=o(85),v=o(40),E=o(45),j=o(115),S=h([].push),T=function(k){var C=k==1,N=k==2,I=k==3,G=k==4,W=k==6,K=k==7,re=k==5||W;return function(oe,Z,J,H){for(var F,X,Y=v(oe),Q=m(Y),ne=d(Z,J),Se=E(Q),_e=0,Ae=H||j,Fe=C?Ae(oe,Se):N||K?Ae(oe,0):void 0;Se>_e;_e++)if((re||_e in Q)&&(X=ne(F=Q[_e],_e,Y),k))if(C)Fe[_e]=X;else if(X)switch(k){case 3:return!0;case 5:return F;case 6:return _e;case 2:S(Fe,F)}else switch(k){case 4:return!1;case 7:S(Fe,F)}return W?-1:I||G?G:Fe}};u.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}},function(u,l){u.exports={}},function(u,l,o){var d=o(18),h=o(28),m=o(70),v=h("species");u.exports=function(E){return m>=51||!d(function(){var j=[];return(j.constructor={})[v]=function(){return{foo:1}},j[E](Boolean).foo!==1})}},function(u,l,o){var d=o(76),h=o(34),m=o(15),v=o(123),E=o(159),j=o(32),S=o(44),T=o(164),k=o(124),C=o(94),N=o(39),I=o(62),G=o(114),W=o(125),K=o(103),re=o(155),oe=o(18),Z=re.UNSUPPORTED_Y,J=4294967295,H=Math.min,F=[].push,X=m(/./.exec),Y=m(F),Q=m("".slice),ne=!oe(function(){var Se=/(?:)/,_e=Se.exec;Se.exec=function(){return _e.apply(this,arguments)};var Ae="ab".split(Se);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"});v("split",function(Se,_e,Ae){var Fe;return Fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Pe=N(S(this)),Me=ve===void 0?J:ve>>>0;if(Me===0)return[];if(je===void 0)return[Pe];if(!E(je))return h(_e,Pe,je,Me);for(var Ge,at,St,qe=[],tt=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),_t=0,ce=new RegExp(je.source,tt+"g");(Ge=h(K,ce,Pe))&&!((at=ce.lastIndex)>_t&&(Y(qe,Q(Pe,_t,Ge.index)),Ge.length>1&&Ge.index<Pe.length&&d(F,qe,G(Ge,1)),St=Ge[0].length,_t=at,qe.length>=Me));)ce.lastIndex===Ge.index&&ce.lastIndex++;return _t===Pe.length?!St&&X(ce,"")||Y(qe,""):Y(qe,Q(Pe,_t)),qe.length>Me?G(qe,0,Me):qe}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:h(_e,this,je,ve)}:_e,[function(je,ve){var Pe=S(this),Me=je==null?void 0:I(je,Se);return Me?h(Me,je,Pe,ve):h(Fe,N(Pe),je,ve)},function(je,ve){var Pe=j(this),Me=N(je),Ge=Ae(Fe,Pe,Me,ve,Fe!==_e);if(Ge.done)return Ge.value;var at=T(Pe,RegExp),St=Pe.unicode,qe=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Z?"g":"y"),tt=new at(Z?"^(?:"+Pe.source+")":Pe,qe),_t=ve===void 0?J:ve>>>0;if(_t===0)return[];if(Me.length===0)return W(tt,Me)===null?[Me]:[];for(var ce=0,se=0,ye=[];se<Me.length;){tt.lastIndex=Z?0:se;var Ne,Ye=W(tt,Z?Q(Me,se):Me);if(Ye===null||(Ne=H(C(tt.lastIndex+(Z?se:0)),Me.length))===ce)se=k(Me,se,St);else{if(Y(ye,Q(Me,ce,se)),ye.length===_t)return ye;for(var ze=1;ze<=Ye.length-1;ze++)if(Y(ye,Ye[ze]),ye.length===_t)return ye;se=ce=Ne}}return Y(ye,Q(Me,ce)),ye}]},!ne,Z)},function(u,l,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,l,o){var d={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!d.call({1:2},1);l.f=m?function(v){var E=h(this,v);return!!E&&E.enumerable}:d},function(u,l,o){var d=o(7),h=o(15),m=o(18),v=o(51),E=d.Object,j=h("".split);u.exports=m(function(){return!E("z").propertyIsEnumerable(0)})?function(S){return v(S)=="String"?j(S,""):E(S)}:E},function(u,l,o){var d=o(131),h=o(87);u.exports=function(m){var v=d(m,"string");return h(v)?v:v+""}},function(u,l,o){var d=o(7),h=o(46),m=o(30),v=o(54),E=o(132),j=d.Object;u.exports=E?function(S){return typeof S=="symbol"}:function(S){var T=h("Symbol");return m(T)&&v(T.prototype,j(S))}},function(u,l,o){var d=o(7).String;u.exports=function(h){try{return d(h)}catch{return"Object"}}},function(u,l,o){var d=o(71),h=o(109);(u.exports=function(m,v){return h[m]||(h[m]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,l,o){var d=o(15),h=0,m=Math.random(),v=d(1 .toString);u.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+v(++h+m,36)}},function(u,l,o){var d=o(7),h=o(33),m=d.document,v=h(m)&&h(m.createElement);u.exports=function(E){return v?m.createElement(E):{}}},function(u,l,o){var d=o(15),h=o(30),m=o(109),v=d(Function.toString);h(m.inspectSource)||(m.inspectSource=function(E){return v(E)}),u.exports=m.inspectSource},function(u,l,o){var d=o(89),h=o(90),m=d("keys");u.exports=function(v){return m[v]||(m[v]=h(v))}},function(u,l,o){var d=o(59),h=Math.min;u.exports=function(m){return m>0?h(d(m),9007199254740991):0}},function(u,l,o){var d=o(18),h=o(30),m=/#|\.prototype\./,v=function(k,C){var N=j[E(k)];return N==T||N!=S&&(h(C)?d(C):!!C)},E=v.normalize=function(k){return String(k).replace(m,".").toLowerCase()},j=v.data={},S=v.NATIVE="N",T=v.POLYFILL="P";u.exports=v},function(u,l,o){var d=o(51);u.exports=Array.isArray||function(h){return d(h)=="Array"}},function(u,l,o){var d=o(7),h=o(113),m=o(30),v=o(51),E=o(28)("toStringTag"),j=d.Object,S=v(function(){return arguments}())=="Arguments";u.exports=h?v:function(T){var k,C,N;return T===void 0?"Undefined":T===null?"Null":typeof(C=function(I,G){try{return I[G]}catch{}}(k=j(T),E))=="string"?C:S?v(k):(N=v(k))=="Object"&&m(k.callee)?"Arguments":N}},function(u,l,o){var d=o(15);u.exports=d([].slice)},function(u,l,o){var d=o(15),h=o(18),m=o(30),v=o(97),E=o(46),j=o(92),S=function(){},T=[],k=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=d(C.exec),I=!C.exec(S),G=function(W){if(!m(W))return!1;try{return k(S,T,W),!0}catch{return!1}};u.exports=!k||h(function(){var W;return G(G.call)||!G(Object)||!G(function(){W=!0})||W})?function(W){if(!m(W))return!1;switch(v(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return I||!!N(C,j(W))}:G},function(u,l,o){var d=o(28),h=o(60),m=o(38),v=d("unscopables"),E=Array.prototype;E[v]==null&&m.f(E,v,{configurable:!0,value:h(null)}),u.exports=function(j){E[v][j]=!0}},function(u,l,o){var d=o(7),h=o(35),m=o(30),v=o(40),E=o(93),j=o(143),S=E("IE_PROTO"),T=d.Object,k=T.prototype;u.exports=j?T.getPrototypeOf:function(C){var N=v(C);if(h(N,S))return N[S];var I=N.constructor;return m(I)&&N instanceof I?I.prototype:N instanceof T?k:null}},function(u,l,o){var d=o(15),h=o(32),m=o(181);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,E=!1,j={};try{(v=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),E=j instanceof Array}catch{}return function(S,T){return h(S),m(T),E?v(S,T):S.__proto__=T,S}}():void 0)},function(u,l,o){var d,h,m=o(34),v=o(15),E=o(39),j=o(154),S=o(155),T=o(89),k=o(60),C=o(58).get,N=o(190),I=o(191),G=T("native-string-replace",String.prototype.replace),W=RegExp.prototype.exec,K=W,re=v("".charAt),oe=v("".indexOf),Z=v("".replace),J=v("".slice),H=(h=/b*/g,m(W,d=/a/,"a"),m(W,h,"a"),d.lastIndex!==0||h.lastIndex!==0),F=S.BROKEN_CARET,X=/()??/.exec("")[1]!==void 0;(H||X||F||N||I)&&(K=function(Y){var Q,ne,Se,_e,Ae,Fe,je,ve=this,Pe=C(ve),Me=E(Y),Ge=Pe.raw;if(Ge)return Ge.lastIndex=ve.lastIndex,Q=m(K,Ge,Me),ve.lastIndex=Ge.lastIndex,Q;var at=Pe.groups,St=F&&ve.sticky,qe=m(j,ve),tt=ve.source,_t=0,ce=Me;if(St&&(qe=Z(qe,"y",""),oe(qe,"g")===-1&&(qe+="g"),ce=J(Me,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&re(Me,ve.lastIndex-1)!==`
`)&&(tt="(?: "+tt+")",ce=" "+ce,_t++),ne=new RegExp("^(?:"+tt+")",qe)),X&&(ne=new RegExp("^"+tt+"$(?!\\s)",qe)),H&&(Se=ve.lastIndex),_e=m(W,St?ne:ve,ce),St?_e?(_e.input=J(_e.input,_t),_e[0]=J(_e[0],_t),_e.index=ve.lastIndex,ve.lastIndex+=_e[0].length):ve.lastIndex=0:H&&_e&&(ve.lastIndex=ve.global?_e.index+_e[0].length:Se),X&&_e&&_e.length>1&&m(G,_e[0],ne,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(_e[Ae]=void 0)}),_e&&at)for(_e.groups=Fe=k(null),Ae=0;Ae<at.length;Ae++)Fe[(je=at[Ae])[0]]=_e[je[1]];return _e}),u.exports=K},function(u,l,o){var d=o(16),h=o(7),m=o(75),v=o(59),E=o(45),j=o(40),S=o(115),T=o(63),k=o(81)("splice"),C=h.TypeError,N=Math.max,I=Math.min,G=9007199254740991,W="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!k},{splice:function(K,re){var oe,Z,J,H,F,X,Y=j(this),Q=E(Y),ne=m(K,Q),Se=arguments.length;if(Se===0?oe=Z=0:Se===1?(oe=0,Z=Q-ne):(oe=Se-2,Z=I(N(v(re),0),Q-ne)),Q+oe-Z>G)throw C(W);for(J=S(Y,Z),H=0;H<Z;H++)(F=ne+H)in Y&&T(J,H,Y[F]);if(J.length=Z,oe<Z){for(H=ne;H<Q-Z;H++)X=H+oe,(F=H+Z)in Y?Y[X]=Y[F]:delete Y[X];for(H=Q;H>Q-Z+oe;H--)delete Y[H-1]}else if(oe>Z)for(H=Q-Z;H>ne;H--)X=H+oe-1,(F=H+Z-1)in Y?Y[X]=Y[F]:delete Y[X];for(H=0;H<oe;H++)Y[H+ne]=arguments[H+2];return Y.length=Q-Z+oe,J}})},function(u,l,o){var d=o(16),h=o(205);d({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return h(this,"a","name",m)}})},function(u,l,o){(function(d){var h=typeof d=="object"&&d&&d.Object===Object&&d;l.a=h}).call(this,o(68))},function(u,l,o){(function(d){var h=o(31),m=a&&!a.nodeType&&a,v=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=v&&v.exports===m?h.a.Buffer:void 0,j=E?E.allocUnsafe:void 0;l.a=function(S,T){if(T)return S.slice();var k=S.length,C=j?j(k):new S.constructor(k);return S.copy(C),C}}).call(this,o(122)(u))},function(u,l,o){var d=o(70),h=o(18);u.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(u,l,o){var d=o(7),h=o(110),m="__core-js_shared__",v=d[m]||h(m,{});u.exports=v},function(u,l,o){var d=o(7),h=Object.defineProperty;u.exports=function(m,v){try{h(d,m,{value:v,configurable:!0,writable:!0})}catch{d[m]=v}return v}},function(u,l){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,l){l.f=Object.getOwnPropertySymbols},function(u,l,o){var d={};d[o(28)("toStringTag")]="z",u.exports=String(d)==="[object z]"},function(u,l,o){var d=o(7),h=o(75),m=o(45),v=o(63),E=d.Array,j=Math.max;u.exports=function(S,T,k){for(var C=m(S),N=h(T,C),I=h(k===void 0?C:k,C),G=E(j(I-N,0)),W=0;N<I;N++,W++)v(G,W,S[N]);return G.length=W,G}},function(u,l,o){var d=o(178);u.exports=function(h,m){return new(d(h))(m===0?0:m)}},function(u,l,o){var d=o(16),h=o(34),m=o(71),v=o(73),E=o(30),j=o(180),S=o(101),T=o(102),k=o(78),C=o(57),N=o(42),I=o(28),G=o(80),W=o(142),K=v.PROPER,re=v.CONFIGURABLE,oe=W.IteratorPrototype,Z=W.BUGGY_SAFARI_ITERATORS,J=I("iterator"),H="keys",F="values",X="entries",Y=function(){return this};u.exports=function(Q,ne,Se,_e,Ae,Fe,je){j(Se,ne,_e);var ve,Pe,Me,Ge=function(se){if(se===Ae&&_t)return _t;if(!Z&&se in qe)return qe[se];switch(se){case H:case F:case X:return function(){return new Se(this,se)}}return function(){return new Se(this)}},at=ne+" Iterator",St=!1,qe=Q.prototype,tt=qe[J]||qe["@@iterator"]||Ae&&qe[Ae],_t=!Z&&tt||Ge(Ae),ce=ne=="Array"&&qe.entries||tt;if(ce&&(ve=S(ce.call(new Q)))!==Object.prototype&&ve.next&&(m||S(ve)===oe||(T?T(ve,oe):E(ve[J])||N(ve,J,Y)),k(ve,at,!0,!0),m&&(G[at]=Y)),K&&Ae==F&&tt&&tt.name!==F&&(!m&&re?C(qe,"name",F):(St=!0,_t=function(){return h(tt,this)})),Ae)if(Pe={values:Ge(F),keys:Fe?_t:Ge(H),entries:Ge(X)},je)for(Me in Pe)(Z||St||!(Me in qe))&&N(qe,Me,Pe[Me]);else d({target:ne,proto:!0,forced:Z||St},Pe);return m&&!je||qe[J]===_t||N(qe,J,_t,{name:Ae}),G[ne]=_t,Pe}},function(u,l,o){var d=o(7),h=o(64),m=o(34),v=o(32),E=o(88),j=o(145),S=o(45),T=o(54),k=o(146),C=o(118),N=o(147),I=d.TypeError,G=function(K,re){this.stopped=K,this.result=re},W=G.prototype;u.exports=function(K,re,oe){var Z,J,H,F,X,Y,Q,ne=oe&&oe.that,Se=!(!oe||!oe.AS_ENTRIES),_e=!(!oe||!oe.IS_ITERATOR),Ae=!(!oe||!oe.INTERRUPTED),Fe=h(re,ne),je=function(Pe){return Z&&N(Z,"normal",Pe),new G(!0,Pe)},ve=function(Pe){return Se?(v(Pe),Ae?Fe(Pe[0],Pe[1],je):Fe(Pe[0],Pe[1])):Ae?Fe(Pe,je):Fe(Pe)};if(_e)Z=K;else{if(!(J=C(K)))throw I(E(K)+" is not iterable");if(j(J)){for(H=0,F=S(K);F>H;H++)if((X=ve(K[H]))&&T(W,X))return X;return new G(!1)}Z=k(K,J)}for(Y=Z.next;!(Q=m(Y,Z)).done;){try{X=ve(Q.value)}catch(Pe){N(Z,"throw",Pe)}if(typeof X=="object"&&X&&T(W,X))return X}return new G(!1)}},function(u,l,o){var d=o(97),h=o(62),m=o(80),v=o(28)("iterator");u.exports=function(E){if(E!=null)return h(E,v)||h(E,"@@iterator")||m[d(E)]}},function(u,l,o){var d=o(7),h=o(54),m=d.TypeError;u.exports=function(v,E){if(h(E,v))return v;throw m("Incorrect invocation")}},function(u,l,o){var d=o(28)("iterator"),h=!1;try{var m=0,v={next:function(){return{done:!!m++}},return:function(){h=!0}};v[d]=function(){return this},Array.from(v,function(){throw 2})}catch{}u.exports=function(E,j){if(!j&&!h)return!1;var S=!1;try{var T={};T[d]=function(){return{next:function(){return{done:S=!0}}}},E(T)}catch{}return S}},function(u,l,o){var d=o(18);u.exports=function(h,m){var v=[][h];return!!v&&d(function(){v.call(null,m||function(){throw 1},1)})}},function(u,l){u.exports=function(o){if(!o.webpackPolyfill){var d=Object.create(o);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(u,l,o){o(19);var d=o(15),h=o(42),m=o(103),v=o(18),E=o(28),j=o(57),S=E("species"),T=RegExp.prototype;u.exports=function(k,C,N,I){var G=E(k),W=!v(function(){var Z={};return Z[G]=function(){return 7},""[k](Z)!=7}),K=W&&!v(function(){var Z=!1,J=/a/;return k==="split"&&((J={}).constructor={},J.constructor[S]=function(){return J},J.flags="",J[G]=/./[G]),J.exec=function(){return Z=!0,null},J[G](""),!Z});if(!W||!K||N){var re=d(/./[G]),oe=C(G,""[k],function(Z,J,H,F,X){var Y=d(Z),Q=J.exec;return Q===m||Q===T.exec?W&&!X?{done:!0,value:re(J,H,F)}:{done:!0,value:Y(H,J,F)}:{done:!1}});h(String.prototype,k,oe[0]),h(T,G,oe[1])}I&&j(T[G],"sham",!0)}},function(u,l,o){var d=o(151).charAt;u.exports=function(h,m,v){return m+(v?d(h,m).length:1)}},function(u,l,o){var d=o(7),h=o(34),m=o(32),v=o(30),E=o(51),j=o(103),S=d.TypeError;u.exports=function(T,k){var C=T.exec;if(v(C)){var N=h(C,T,k);return N!==null&&m(N),N}if(E(T)==="RegExp")return h(j,T,k);throw S("RegExp#exec called on incompatible receiver")}},function(u,l,o){var d=o(76),h=o(34),m=o(15),v=o(123),E=o(18),j=o(32),S=o(30),T=o(59),k=o(94),C=o(39),N=o(44),I=o(124),G=o(62),W=o(201),K=o(125),re=o(28)("replace"),oe=Math.max,Z=Math.min,J=m([].concat),H=m([].push),F=m("".indexOf),X=m("".slice),Y="a".replace(/./,"$0")==="$0",Q=!!/./[re]&&/./[re]("a","$0")==="";v("replace",function(ne,Se,_e){var Ae=Q?"$":"$0";return[function(Fe,je){var ve=N(this),Pe=Fe==null?void 0:G(Fe,re);return Pe?h(Pe,Fe,ve,je):h(Se,C(ve),Fe,je)},function(Fe,je){var ve=j(this),Pe=C(Fe);if(typeof je=="string"&&F(je,Ae)===-1&&F(je,"$<")===-1){var Me=_e(Se,ve,Pe,je);if(Me.done)return Me.value}var Ge=S(je);Ge||(je=C(je));var at=ve.global;if(at){var St=ve.unicode;ve.lastIndex=0}for(var qe=[];;){var tt=K(ve,Pe);if(tt===null||(H(qe,tt),!at))break;C(tt[0])===""&&(ve.lastIndex=I(Pe,k(ve.lastIndex),St))}for(var _t,ce="",se=0,ye=0;ye<qe.length;ye++){for(var Ne=C((tt=qe[ye])[0]),Ye=oe(Z(T(tt.index),Pe.length),0),ze=[],jt=1;jt<tt.length;jt++)H(ze,(_t=tt[jt])===void 0?_t:String(_t));var It=tt.groups;if(Ge){var kt=J([Ne],ze,Ye,Pe);It!==void 0&&H(kt,It);var bt=C(d(je,void 0,kt))}else bt=W(Ne,Pe,Ye,ze,It,je);Ye>=se&&(ce+=X(Pe,se,Ye)+bt,se=Ye+Ne.length)}return ce+X(Pe,se)}]},!!E(function(){var ne=/./;return ne.exec=function(){var Se=[];return Se.groups={a:"7"},Se},"".replace(ne,"$<a>")!=="7"})||!Y||Q)},function(u,l,o){var d=o(16),h=Math.hypot,m=Math.abs,v=Math.sqrt;d({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(E,j){for(var S,T,k=0,C=0,N=arguments.length,I=0;C<N;)I<(S=m(arguments[C++]))?(k=k*(T=I/S)*T+1,I=S):k+=S>0?(T=S/I)*T:S;return I===1/0?1/0:I*v(k)}})},function(u,l,o){var d=o(51),h=o(7);u.exports=d(h.process)=="process"},function(u,l,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,l,o){(function(d,h){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,E="Expected a function",j="__lodash_hash_undefined__",S="__lodash_placeholder__",T=16,k=32,C=64,N=128,I=256,G=1/0,W=9007199254740991,K=NaN,re=4294967295,oe=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",T],["flip",512],["partial",k],["partialRight",C],["rearg",I]],Z="[object Arguments]",J="[object Array]",H="[object Boolean]",F="[object Date]",X="[object Error]",Y="[object Function]",Q="[object GeneratorFunction]",ne="[object Map]",Se="[object Number]",_e="[object Object]",Ae="[object Promise]",Fe="[object RegExp]",je="[object Set]",ve="[object String]",Pe="[object Symbol]",Me="[object WeakMap]",Ge="[object ArrayBuffer]",at="[object DataView]",St="[object Float32Array]",qe="[object Float64Array]",tt="[object Int8Array]",_t="[object Int16Array]",ce="[object Int32Array]",se="[object Uint8Array]",ye="[object Uint8ClampedArray]",Ne="[object Uint16Array]",Ye="[object Uint32Array]",ze=/\b__p \+= '';/g,jt=/\b(__p \+=) '' \+/g,It=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,ke=RegExp(kt.source),pt=RegExp(bt.source),pe=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,Wt=/<%=([\s\S]+?)%>/g,vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gt=/^\w*$/,an=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sn=/[\\^$.*+?()[\]{}|]/g,Rn=RegExp(Sn.source),zt=/^\s+/,qn=/\s/,te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ze=/[()=,{}\[\]\/\s]/,Je=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,ar=/^[-+]0x[0-9a-f]+$/i,mr=/^0b[01]+$/i,Zn=/^\[object .+?Constructor\]$/,tr=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mt=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,On="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Fn="\\u2700-\\u27bf",Vo="a-z\\xdf-\\xf6\\xf8-\\xff",To="A-Z\\xc0-\\xd6\\xd8-\\xde",Yo="\\ufe0e\\ufe0f",$i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Il="['’]",Gu="[\\ud800-\\udfff]",oo="["+$i+"]",va="["+On+"]",dt="\\d+",Ll="[\\u2700-\\u27bf]",$u="["+Vo+"]",Hu="[^\\ud800-\\udfff"+$i+dt+Fn+Vo+To+"]",Br="\\ud83c[\\udffb-\\udfff]",Kr="[^\\ud800-\\udfff]",Va="(?:\\ud83c[\\udde6-\\uddff]){2}",bo="[\\ud800-\\udbff][\\udc00-\\udfff]",io="["+To+"]",_o="(?:"+$u+"|"+Hu+")",Xu="(?:"+io+"|"+Hu+")",Vu="(?:['’](?:d|ll|m|re|s|t|ve))?",tc="(?:['’](?:D|LL|M|RE|S|T|VE))?",ga="(?:"+va+"|"+Br+")?",nc="[\\ufe0e\\ufe0f]?",Yu=nc+ga+("(?:\\u200d(?:"+[Kr,Va,bo].join("|")+")"+nc+ga+")*"),zl="(?:"+[Ll,Va,bo].join("|")+")"+Yu,mi="(?:"+[Kr+va+"?",va,Va,bo,Gu].join("|")+")",rc=RegExp(Il,"g"),Ko=RegExp(va,"g"),Ku=RegExp(Br+"(?="+Br+")|"+mi+Yu,"g"),Ya=RegExp([io+"?"+$u+"+"+Vu+"(?="+[oo,io,"$"].join("|")+")",Xu+"+"+tc+"(?="+[oo,io+_o,"$"].join("|")+")",io+"?"+_o+"+"+Vu,io+"+"+tc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dt,zl].join("|"),"g"),qu=RegExp("[\\u200d\\ud800-\\udfff"+On+Yo+"]"),Zu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oc=-1,bn={};bn[St]=bn[qe]=bn[tt]=bn[_t]=bn[ce]=bn[se]=bn[ye]=bn[Ne]=bn[Ye]=!0,bn[Z]=bn[J]=bn[Ge]=bn[H]=bn[at]=bn[F]=bn[X]=bn[Y]=bn[ne]=bn[Se]=bn[_e]=bn[Fe]=bn[je]=bn[ve]=bn[Me]=!1;var gn={};gn[Z]=gn[J]=gn[Ge]=gn[at]=gn[H]=gn[F]=gn[St]=gn[qe]=gn[tt]=gn[_t]=gn[ce]=gn[ne]=gn[Se]=gn[_e]=gn[Fe]=gn[je]=gn[ve]=gn[Pe]=gn[se]=gn[ye]=gn[Ne]=gn[Ye]=!0,gn[X]=gn[Y]=gn[Me]=!1;var ic={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hi=parseFloat,qo=parseInt,Ju=typeof d=="object"&&d&&d.Object===Object&&d,ac=typeof self=="object"&&self&&self.Object===Object&&self,Hn=Ju||ac||Function("return this")(),Qu=l&&!l.nodeType&&l,ma=Qu&&typeof h=="object"&&h&&!h.nodeType&&h,es=ma&&ma.exports===Qu,Ka=es&&Ju.process,br=function(){try{var we=ma&&ma.require&&ma.require("util").types;return we||Ka&&Ka.binding&&Ka.binding("util")}catch{}}(),ts=br&&br.isArrayBuffer,uc=br&&br.isDate,ns=br&&br.isMap,qa=br&&br.isRegExp,Xi=br&&br.isSet,Zo=br&&br.isTypedArray;function An(we,Ce,Ie){switch(Ie.length){case 0:return we.call(Ce);case 1:return we.call(Ce,Ie[0]);case 2:return we.call(Ce,Ie[0],Ie[1]);case 3:return we.call(Ce,Ie[0],Ie[1],Ie[2])}return we.apply(Ce,Ie)}function Fl(we,Ce,Ie,rt){for(var $t=-1,en=we==null?0:we.length;++$t<en;){var Tn=we[$t];Ce(rt,Tn,Ie(Tn),we)}return rt}function Fr(we,Ce){for(var Ie=-1,rt=we==null?0:we.length;++Ie<rt&&Ce(we[Ie],Ie,we)!==!1;);return we}function Ul(we,Ce){for(var Ie=we==null?0:we.length;Ie--&&Ce(we[Ie],Ie,we)!==!1;);return we}function sc(we,Ce){for(var Ie=-1,rt=we==null?0:we.length;++Ie<rt;)if(!Ce(we[Ie],Ie,we))return!1;return!0}function Ar(we,Ce){for(var Ie=-1,rt=we==null?0:we.length,$t=0,en=[];++Ie<rt;){var Tn=we[Ie];Ce(Tn,Ie,we)&&(en[$t++]=Tn)}return en}function ao(we,Ce){return!!(we!=null&&we.length)&&Vi(we,Ce,0)>-1}function rs(we,Ce,Ie){for(var rt=-1,$t=we==null?0:we.length;++rt<$t;)if(Ie(Ce,we[rt]))return!0;return!1}function ln(we,Ce){for(var Ie=-1,rt=we==null?0:we.length,$t=Array(rt);++Ie<rt;)$t[Ie]=Ce(we[Ie],Ie,we);return $t}function ur(we,Ce){for(var Ie=-1,rt=Ce.length,$t=we.length;++Ie<rt;)we[$t+Ie]=Ce[Ie];return we}function Za(we,Ce,Ie,rt){var $t=-1,en=we==null?0:we.length;for(rt&&en&&(Ie=we[++$t]);++$t<en;)Ie=Ce(Ie,we[$t],$t,we);return Ie}function cc(we,Ce,Ie,rt){var $t=we==null?0:we.length;for(rt&&$t&&(Ie=we[--$t]);$t--;)Ie=Ce(Ie,we[$t],$t,we);return Ie}function os(we,Ce){for(var Ie=-1,rt=we==null?0:we.length;++Ie<rt;)if(Ce(we[Ie],Ie,we))return!0;return!1}var Ja=Wr("length");function No(we,Ce,Ie){var rt;return Ie(we,function($t,en,Tn){if(Ce($t,en,Tn))return rt=en,!1}),rt}function Jo(we,Ce,Ie,rt){for(var $t=we.length,en=Ie+(rt?1:-1);rt?en--:++en<$t;)if(Ce(we[en],en,we))return en;return-1}function Vi(we,Ce,Ie){return Ce==Ce?function(rt,$t,en){for(var Tn=en-1,O=rt.length;++Tn<O;)if(rt[Tn]===$t)return Tn;return-1}(we,Ce,Ie):Jo(we,Qo,Ie)}function Ur(we,Ce,Ie,rt){for(var $t=Ie-1,en=we.length;++$t<en;)if(rt(we[$t],Ce))return $t;return-1}function Qo(we){return we!=we}function un(we,Ce){var Ie=we==null?0:we.length;return Ie?Qa(we,Ce)/Ie:K}function Wr(we){return function(Ce){return Ce==null?v:Ce[we]}}function Do(we){return function(Ce){return we==null?v:we[Ce]}}function hr(we,Ce,Ie,rt,$t){return $t(we,function(en,Tn,O){Ie=rt?(rt=!1,en):Ce(Ie,en,Tn,O)}),Ie}function Qa(we,Ce){for(var Ie,rt=-1,$t=we.length;++rt<$t;){var en=Ce(we[rt]);en!==v&&(Ie=Ie===v?en:Ie+en)}return Ie}function ba(we,Ce){for(var Ie=-1,rt=Array(we);++Ie<we;)rt[Ie]=Ce(Ie);return rt}function is(we){return we&&we.slice(0,Gr(we)+1).replace(zt,"")}function Un(we){return function(Ce){return we(Ce)}}function eu(we,Ce){return ln(Ce,function(Ie){return we[Ie]})}function ei(we,Ce){return we.has(Ce)}function uo(we,Ce){for(var Ie=-1,rt=we.length;++Ie<rt&&Vi(Ce,we[Ie],0)>-1;);return Ie}function as(we,Ce){for(var Ie=we.length;Ie--&&Vi(Ce,we[Ie],0)>-1;);return Ie}function Wl(we,Ce){for(var Ie=we.length,rt=0;Ie--;)we[Ie]===Ce&&++rt;return rt}var us=Do({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Jn=Do({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function _a(we){return"\\"+ic[we]}function Co(we){return qu.test(we)}function Mr(we){var Ce=-1,Ie=Array(we.size);return we.forEach(function(rt,$t){Ie[++Ce]=[$t,rt]}),Ie}function ss(we,Ce){return function(Ie){return we(Ce(Ie))}}function qr(we,Ce){for(var Ie=-1,rt=we.length,$t=0,en=[];++Ie<rt;){var Tn=we[Ie];Tn!==Ce&&Tn!==S||(we[Ie]=S,en[$t++]=Ie)}return en}function bi(we){var Ce=-1,Ie=Array(we.size);return we.forEach(function(rt){Ie[++Ce]=rt}),Ie}function tu(we){var Ce=-1,Ie=Array(we.size);return we.forEach(function(rt){Ie[++Ce]=[rt,rt]}),Ie}function Ro(we){return Co(we)?function(Ce){for(var Ie=Ku.lastIndex=0;Ku.test(Ce);)++Ie;return Ie}(we):Ja(we)}function Zr(we){return Co(we)?function(Ce){return Ce.match(Ku)||[]}(we):function(Ce){return Ce.split("")}(we)}function Gr(we){for(var Ce=we.length;Ce--&&qn.test(we.charAt(Ce)););return Ce}var so=Do({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Io=function we(Ce){var Ie,rt=(Ce=Ce==null?Hn:Io.defaults(Hn.Object(),Ce,Io.pick(Hn,Bl))).Array,$t=Ce.Date,en=Ce.Error,Tn=Ce.Function,O=Ce.Math,w=Ce.Object,M=Ce.RegExp,z=Ce.String,q=Ce.TypeError,de=rt.prototype,Ee=Tn.prototype,Ue=w.prototype,ft=Ce["__core-js_shared__"],Zt=Ee.toString,ot=Ue.hasOwnProperty,jn=0,Ht=(Ie=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",pn=Ue.toString,co=Zt.call(w),Ln=Hn._,$r=M("^"+Zt.call(ot).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ti=es?Ce.Buffer:v,ni=Ce.Symbol,Oa=Ce.Uint8Array,cs=ti?ti.allocUnsafe:v,_i=ss(w.getPrototypeOf,w),nu=w.create,kr=Ue.propertyIsEnumerable,wa=de.splice,Yi=ni?ni.isConcatSpreadable:v,Oi=ni?ni.iterator:v,wi=ni?ni.toStringTag:v,ru=function(){try{var f=Pa(w,"defineProperty");return f({},"",{}),f}catch{}}(),Ly=Ce.clearTimeout!==Hn.clearTimeout&&Ce.clearTimeout,zy=$t&&$t.now!==Hn.Date.now&&$t.now,$p=Ce.setTimeout!==Hn.setTimeout&&Ce.setTimeout,lc=O.ceil,ou=O.floor,Gl=w.getOwnPropertySymbols,By=ti?ti.isBuffer:v,Hp=Ce.isFinite,$l=de.join,Xp=ss(w.keys,w),yr=O.max,Tr=O.min,fc=$t.now,pc=Ce.parseInt,dc=O.random,Fy=de.reverse,iu=Pa(Ce,"DataView"),au=Pa(Ce,"Map"),Hl=Pa(Ce,"Promise"),xa=Pa(Ce,"Set"),uu=Pa(Ce,"WeakMap"),ls=Pa(w,"create"),hc=uu&&new uu,su={},Uy=Qi(iu),Vp=Qi(au),Wy=Qi(Hl),Gy=Qi(xa),Yp=Qi(uu),yc=ni?ni.prototype:v,Er=yc?yc.valueOf:v,Kp=yc?yc.toString:v;function B(f){if(Vn(f)&&!Xt(f)&&!(f instanceof cn)){if(f instanceof Oo)return f;if(ot.call(f,"__wrapped__"))return Sf(f)}return new Oo(f)}var cu=function(){function f(){}return function(y){if(!$n(y))return{};if(nu)return nu(y);f.prototype=y;var _=new f;return f.prototype=v,_}}();function fs(){}function Oo(f,y){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=v}function cn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function Ea(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var A=f[y];this.set(A[0],A[1])}}function Pn(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var A=f[y];this.set(A[0],A[1])}}function ri(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var A=f[y];this.set(A[0],A[1])}}function Ki(f){var y=-1,_=f==null?0:f.length;for(this.__data__=new ri;++y<_;)this.add(f[y])}function wo(f){var y=this.__data__=new Pn(f);this.size=y.size}function Xl(f,y){var _=Xt(f),A=!_&&Aa(f),R=!_&&!A&&Hr(f),$=!_&&!A&&!R&&ki(f),ae=_||A||R||$,fe=ae?ba(f.length,z):[],Oe=fe.length;for(var Le in f)!y&&!ot.call(f,Le)||ae&&(Le=="length"||R&&(Le=="offset"||Le=="parent")||$&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||po(Le,Oe))||fe.push(Le);return fe}function Vl(f){var y=f.length;return y?f[tf(0,y-1)]:v}function qp(f,y){return _s(Qr(f),qi(y,0,f.length))}function Zp(f){return _s(Qr(f))}function vc(f,y,_){(_!==v&&!Fo(f[y],_)||_===v&&!(y in f))&&oi(f,y,_)}function lu(f,y,_){var A=f[y];ot.call(f,y)&&Fo(A,_)&&(_!==v||y in f)||oi(f,y,_)}function ps(f,y){for(var _=f.length;_--;)if(Fo(f[_][0],y))return _;return-1}function Jp(f,y,_,A){return zn(f,function(R,$,ae){y(A,R,_(R),ae)}),A}function Yl(f,y){return f&&Lo(y,Yn(y),f)}function oi(f,y,_){y=="__proto__"&&ru?ru(f,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):f[y]=_}function gc(f,y){for(var _=-1,A=y.length,R=rt(A),$=f==null;++_<A;)R[_]=$?v:xu(f,y[_]);return R}function qi(f,y,_){return f==f&&(_!==v&&(f=f<=_?f:_),y!==v&&(f=f>=y?f:y)),f}function lo(f,y,_,A,R,$){var ae,fe=1&y,Oe=2&y,Le=4&y;if(_&&(ae=R?_(f,A,R,$):_(f)),ae!==v)return ae;if(!$n(f))return f;var De=Xt(f);if(De){if(ae=function(Be){var Xe=Be.length,Tt=new Be.constructor(Xe);return Xe&&typeof Be[0]=="string"&&ot.call(Be,"index")&&(Tt.index=Be.index,Tt.input=Be.input),Tt}(f),!fe)return Qr(f,ae)}else{var $e=Nr(f),ut=$e==Y||$e==Q;if(Hr(f))return pd(f,fe);if($e==_e||$e==Z||ut&&!R){if(ae=Oe||ut?{}:Mi(f),!fe)return Oe?function(Be,Xe){return Lo(Be,Cc(Be),Xe)}(f,function(Be,Xe){return Be&&Lo(Xe,Rr(Xe),Be)}(ae,f)):function(Be,Xe){return Lo(Be,vr(Be),Xe)}(f,Yl(ae,f))}else{if(!gn[$e])return R?f:{};ae=function(Be,Xe,Tt){var st=Be.constructor;switch(Xe){case Ge:return lf(Be);case H:case F:return new st(+Be);case at:return function(Ut,on){var xt=on?lf(Ut.buffer):Ut.buffer;return new Ut.constructor(xt,Ut.byteOffset,Ut.byteLength)}(Be,Tt);case St:case qe:case tt:case _t:case ce:case se:case ye:case Ne:case Ye:return dd(Be,Tt);case ne:return new st;case Se:case ve:return new st(Be);case Fe:return function(Ut){var on=new Ut.constructor(Ut.source,Kt.exec(Ut));return on.lastIndex=Ut.lastIndex,on}(Be);case je:return new st;case Pe:return le=Be,Er?w(Er.call(le)):{}}var le}(f,$e,fe)}}$||($=new wo);var vt=$.get(f);if(vt)return vt;$.set(f,ae),Bd(f)?f.forEach(function(Be){ae.add(lo(Be,y,_,Be,f,$))}):If(f)&&f.forEach(function(Be,Xe){ae.set(Xe,lo(Be,y,_,Xe,f,$))});var At=De?v:(Le?Oe?hf:df:Oe?Rr:Yn)(f);return Fr(At||f,function(Be,Xe){At&&(Be=f[Xe=Be]),lu(ae,Xe,lo(Be,y,_,Xe,f,$))}),ae}function Kl(f,y,_){var A=_.length;if(f==null)return!A;for(f=w(f);A--;){var R=_[A],$=y[R],ae=f[R];if(ae===v&&!(R in f)||!$(ae))return!1}return!0}function ql(f,y,_){if(typeof f!="function")throw new q(E);return vu(function(){f.apply(v,_)},y)}function xi(f,y,_,A){var R=-1,$=ao,ae=!0,fe=f.length,Oe=[],Le=y.length;if(!fe)return Oe;_&&(y=ln(y,Un(_))),A?($=rs,ae=!1):y.length>=200&&($=ei,ae=!1,y=new Ki(y));e:for(;++R<fe;){var De=f[R],$e=_==null?De:_(De);if(De=A||De!==0?De:0,ae&&$e==$e){for(var ut=Le;ut--;)if(y[ut]===$e)continue e;Oe.push(De)}else $(y,$e,A)||Oe.push(De)}return Oe}B.templateSettings={escape:pe,evaluate:ct,interpolate:Wt,variable:"",imports:{_:B}},B.prototype=fs.prototype,B.prototype.constructor=B,Oo.prototype=cu(fs.prototype),Oo.prototype.constructor=Oo,cn.prototype=cu(fs.prototype),cn.prototype.constructor=cn,Ea.prototype.clear=function(){this.__data__=ls?ls(null):{},this.size=0},Ea.prototype.delete=function(f){var y=this.has(f)&&delete this.__data__[f];return this.size-=y?1:0,y},Ea.prototype.get=function(f){var y=this.__data__;if(ls){var _=y[f];return _===j?v:_}return ot.call(y,f)?y[f]:v},Ea.prototype.has=function(f){var y=this.__data__;return ls?y[f]!==v:ot.call(y,f)},Ea.prototype.set=function(f,y){var _=this.__data__;return this.size+=this.has(f)?0:1,_[f]=ls&&y===v?j:y,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(f){var y=this.__data__,_=ps(y,f);return!(_<0)&&(_==y.length-1?y.pop():wa.call(y,_,1),--this.size,!0)},Pn.prototype.get=function(f){var y=this.__data__,_=ps(y,f);return _<0?v:y[_][1]},Pn.prototype.has=function(f){return ps(this.__data__,f)>-1},Pn.prototype.set=function(f,y){var _=this.__data__,A=ps(_,f);return A<0?(++this.size,_.push([f,y])):_[A][1]=y,this},ri.prototype.clear=function(){this.size=0,this.__data__={hash:new Ea,map:new(au||Pn),string:new Ea}},ri.prototype.delete=function(f){var y=Dc(this,f).delete(f);return this.size-=y?1:0,y},ri.prototype.get=function(f){return Dc(this,f).get(f)},ri.prototype.has=function(f){return Dc(this,f).has(f)},ri.prototype.set=function(f,y){var _=Dc(this,f),A=_.size;return _.set(f,y),this.size+=_.size==A?0:1,this},Ki.prototype.add=Ki.prototype.push=function(f){return this.__data__.set(f,j),this},Ki.prototype.has=function(f){return this.__data__.has(f)},wo.prototype.clear=function(){this.__data__=new Pn,this.size=0},wo.prototype.delete=function(f){var y=this.__data__,_=y.delete(f);return this.size=y.size,_},wo.prototype.get=function(f){return this.__data__.get(f)},wo.prototype.has=function(f){return this.__data__.has(f)},wo.prototype.set=function(f,y){var _=this.__data__;if(_ instanceof Pn){var A=_.__data__;if(!au||A.length<199)return A.push([f,y]),this.size=++_.size,this;_=this.__data__=new ri(A)}return _.set(f,y),this.size=_.size,this};var zn=vd(yt),Qp=vd(Nn,!0);function ed(f,y){var _=!0;return zn(f,function(A,R,$){return _=!!y(A,R,$)}),_}function Qn(f,y,_){for(var A=-1,R=f.length;++A<R;){var $=f[A],ae=y($);if(ae!=null&&(fe===v?ae==ae&&!Xr(ae):_(ae,fe)))var fe=ae,Oe=$}return Oe}function _n(f,y){var _=[];return zn(f,function(A,R,$){y(A,R,$)&&_.push(A)}),_}function _r(f,y,_,A,R){var $=-1,ae=f.length;for(_||(_=Zy),R||(R=[]);++$<ae;){var fe=f[$];y>0&&_(fe)?y>1?_r(fe,y-1,_,A,R):ur(R,fe):A||(R[R.length]=fe)}return R}var Jt=ys(),nr=ys(!0);function yt(f,y){return f&&Jt(f,y,Yn)}function Nn(f,y){return f&&nr(f,y,Yn)}function mc(f,y){return Ar(y,function(_){return So(f[_])})}function Ei(f,y){for(var _=0,A=(y=mn(y,f)).length;f!=null&&_<A;)f=f[zo(y[_++])];return _&&_==A?f:v}function Zl(f,y,_){var A=y(f);return Xt(f)?A:ur(A,_(f))}function Wn(f){return f==null?f===v?"[object Undefined]":"[object Null]":wi&&wi in w(f)?function(y){var _=ot.call(y,wi),A=y[wi];try{y[wi]=v;var R=!0}catch{}var $=pn.call(y);return R&&(_?y[wi]=A:delete y[wi]),$}(f):function(y){return pn.call(y)}(f)}function Xn(f,y){return f>y}function td(f,y){return f!=null&&ot.call(f,y)}function nd(f,y){return f!=null&&y in w(f)}function bc(f,y,_){for(var A=_?rs:ao,R=f[0].length,$=f.length,ae=$,fe=rt($),Oe=1/0,Le=[];ae--;){var De=f[ae];ae&&y&&(De=ln(De,Un(y))),Oe=Tr(De.length,Oe),fe[ae]=!_&&(y||R>=120&&De.length>=120)?new Ki(ae&&De):v}De=f[0];var $e=-1,ut=fe[0];e:for(;++$e<R&&Le.length<Oe;){var vt=De[$e],At=y?y(vt):vt;if(vt=_||vt!==0?vt:0,!(ut?ei(ut,At):A(Le,At,_))){for(ae=$;--ae;){var Be=fe[ae];if(!(Be?ei(Be,At):A(f[ae],At,_)))continue e}ut&&ut.push(At),Le.push(vt)}}return Le}function fu(f,y,_){var A=(f=_f(f,y=mn(y,f)))==null?f:f[zo(Gn(y))];return A==null?v:An(A,f,_)}function Jl(f){return Vn(f)&&Wn(f)==Z}function pu(f,y,_,A,R){return f===y||(f==null||y==null||!Vn(f)&&!Vn(y)?f!=f&&y!=y:function($,ae,fe,Oe,Le,De){var $e=Xt($),ut=Xt(ae),vt=$e?J:Nr($),At=ut?J:Nr(ae),Be=(vt=vt==Z?_e:vt)==_e,Xe=(At=At==Z?_e:At)==_e,Tt=vt==At;if(Tt&&Hr($)){if(!Hr(ae))return!1;$e=!0,Be=!1}if(Tt&&!Be)return De||(De=new wo),$e||ki($)?Nc($,ae,fe,Oe,Le,De):function(xt,Ct,cr,no,Uo,lr,ai){switch(cr){case at:if(xt.byteLength!=Ct.byteLength||xt.byteOffset!=Ct.byteOffset)return!1;xt=xt.buffer,Ct=Ct.buffer;case Ge:return!(xt.byteLength!=Ct.byteLength||!lr(new Oa(xt),new Oa(Ct)));case H:case F:case Se:return Fo(+xt,+Ct);case X:return xt.name==Ct.name&&xt.message==Ct.message;case Fe:case ve:return xt==Ct+"";case ne:var Di=Mr;case je:var Su=1&no;if(Di||(Di=bi),xt.size!=Ct.size&&!Su)return!1;var Rs=ai.get(xt);if(Rs)return Rs==Ct;no|=2,ai.set(xt,Ct);var ui=Nc(Di(xt),Di(Ct),no,Uo,lr,ai);return ai.delete(xt),ui;case Pe:if(Er)return Er.call(xt)==Er.call(Ct)}return!1}($,ae,vt,fe,Oe,Le,De);if(!(1&fe)){var st=Be&&ot.call($,"__wrapped__"),le=Xe&&ot.call(ae,"__wrapped__");if(st||le){var Ut=st?$.value():$,on=le?ae.value():ae;return De||(De=new wo),Le(Ut,on,fe,Oe,De)}}return Tt?(De||(De=new wo),function(xt,Ct,cr,no,Uo,lr){var ai=1&cr,Di=df(xt),Su=Di.length,Rs=df(Ct).length;if(Su!=Rs&&!ai)return!1;for(var ui=Su;ui--;){var oa=Di[ui];if(!(ai?oa in Ct:ot.call(Ct,oa)))return!1}var tp=lr.get(xt),ju=lr.get(Ct);if(tp&&ju)return tp==Ct&&ju==xt;var Is=!0;lr.set(xt,Ct),lr.set(Ct,xt);for(var np=ai;++ui<Su;){var Ls=xt[oa=Di[ui]],ka=Ct[oa];if(no)var Ta=ai?no(ka,Ls,oa,Ct,xt,lr):no(Ls,ka,oa,xt,Ct,lr);if(!(Ta===v?Ls===ka||Uo(Ls,ka,cr,no,lr):Ta)){Is=!1;break}np||(np=oa=="constructor")}if(Is&&!np){var Ci=xt.constructor,zs=Ct.constructor;Ci==zs||!("constructor"in xt)||!("constructor"in Ct)||typeof Ci=="function"&&Ci instanceof Ci&&typeof zs=="function"&&zs instanceof zs||(Is=!1)}return lr.delete(xt),lr.delete(Ct),Is}($,ae,fe,Oe,Le,De)):!1}(f,y,_,A,pu,R))}function _c(f,y,_,A){var R=_.length,$=R,ae=!A;if(f==null)return!$;for(f=w(f);R--;){var fe=_[R];if(ae&&fe[2]?fe[1]!==f[fe[0]]:!(fe[0]in f))return!1}for(;++R<$;){var Oe=(fe=_[R])[0],Le=f[Oe],De=fe[1];if(ae&&fe[2]){if(Le===v&&!(Oe in f))return!1}else{var $e=new wo;if(A)var ut=A(Le,De,Oe,f,y,$e);if(!(ut===v?pu(De,Le,3,A,$e):ut))return!1}}return!0}function du(f){return!(!$n(f)||(y=f,Ht&&Ht in y))&&(So(f)?$r:Zn).test(Qi(f));var y}function Ql(f){return typeof f=="function"?f:f==null?Vr:typeof f=="object"?Xt(f)?od(f[0],f[1]):rd(f):el(f)}function Si(f){if(!Te(f))return Xp(f);var y=[];for(var _ in w(f))ot.call(f,_)&&_!="constructor"&&y.push(_);return y}function $y(f){if(!$n(f))return function(R){var $=[];if(R!=null)for(var ae in w(R))$.push(ae);return $}(f);var y=Te(f),_=[];for(var A in f)(A!="constructor"||!y&&ot.call(f,A))&&_.push(A);return _}function ji(f,y){return f<y}function xo(f,y){var _=-1,A=to(f)?rt(f.length):[];return zn(f,function(R,$,ae){A[++_]=y(R,$,ae)}),A}function rd(f){var y=vf(f);return y.length==1&&y[0][2]?mf(y[0][0],y[0][1]):function(_){return _===f||_c(_,f,y)}}function od(f,y){return Ic(f)&&gf(y)?mf(zo(f),y):function(_){var A=xu(_,f);return A===v&&A===y?Zc(_,f):pu(y,A,3)}}function Oc(f,y,_,A,R){f!==y&&Jt(y,function($,ae){if(R||(R=new wo),$n($))(function(Oe,Le,De,$e,ut,vt,At){var Be=zc(Oe,De),Xe=zc(Le,De),Tt=At.get(Xe);if(Tt)return void vc(Oe,De,Tt);var st=vt?vt(Be,Xe,De+"",Oe,Le,At):v,le=st===v;if(le){var Ut=Xt(Xe),on=!Ut&&Hr(Xe),xt=!Ut&&!on&&ki(Xe);st=Xe,Ut||on||xt?Xt(Be)?st=Be:Bn(Be)?st=Qr(Be):on?(le=!1,st=pd(Xe,!0)):xt?(le=!1,st=dd(Xe,!0)):st=[]:Ou(Xe)||Aa(Xe)?(st=Be,Aa(Be)?st=Bf(Be):$n(Be)&&!So(Be)||(st=Mi(Xe))):le=!1}le&&(At.set(Xe,st),ut(st,Xe,$e,vt,At),At.delete(Xe)),vc(Oe,De,st)})(f,y,ae,_,Oc,A,R);else{var fe=A?A(zc(f,ae),$,ae+"",f,y,R):v;fe===v&&(fe=$),vc(f,ae,fe)}},Rr)}function id(f,y){var _=f.length;if(_)return po(y+=y<0?_:0,_)?f[y]:v}function ad(f,y,_){y=y.length?ln(y,function($){return Xt($)?function(ae){return Ei(ae,$.length===1?$[0]:$)}:$}):[Vr];var A=-1;y=ln(y,Un(Dt()));var R=xo(f,function($,ae,fe){var Oe=ln(y,function(Le){return Le($)});return{criteria:Oe,index:++A,value:$}});return function($,ae){var fe=$.length;for($.sort(ae);fe--;)$[fe]=$[fe].value;return $}(R,function($,ae){return function(fe,Oe,Le){for(var De=-1,$e=fe.criteria,ut=Oe.criteria,vt=$e.length,At=Le.length;++De<vt;){var Be=ff($e[De],ut[De]);if(Be)return De>=At?Be:Be*(Le[De]=="desc"?-1:1)}return fe.index-Oe.index}($,ae,_)})}function ud(f,y,_){for(var A=-1,R=y.length,$={};++A<R;){var ae=y[A],fe=Ei(f,ae);_(fe,ae)&&ds($,mn(ae,f),fe)}return $}function wc(f,y,_,A){var R=A?Ur:Vi,$=-1,ae=y.length,fe=f;for(f===y&&(y=Qr(y)),_&&(fe=ln(f,Un(_)));++$<ae;)for(var Oe=0,Le=y[$],De=_?_(Le):Le;(Oe=R(fe,De,Oe,A))>-1;)fe!==f&&wa.call(fe,Oe,1),wa.call(f,Oe,1);return f}function ef(f,y){for(var _=f?y.length:0,A=_-1;_--;){var R=y[_];if(_==A||R!==$){var $=R;po(R)?wa.call(f,R,1):Ec(f,R)}}return f}function tf(f,y){return f+ou(dc()*(y-f+1))}function xc(f,y){var _="";if(!f||y<1||y>W)return _;do y%2&&(_+=f),(y=ou(y/2))&&(f+=f);while(y);return _}function tn(f,y){return Bc(bf(f,y,Vr),f+"")}function Hy(f){return Vl(ra(f))}function nf(f,y){var _=ra(f);return _s(_,qi(y,0,_.length))}function ds(f,y,_,A){if(!$n(f))return f;for(var R=-1,$=(y=mn(y,f)).length,ae=$-1,fe=f;fe!=null&&++R<$;){var Oe=zo(y[R]),Le=_;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return f;if(R!=ae){var De=fe[Oe];(Le=A?A(De,Oe,fe):v)===v&&(Le=$n(De)?De:po(y[R+1])?[]:{})}lu(fe,Oe,Le),fe=fe[Oe]}return f}var sd=hc?function(f,y){return hc.set(f,y),f}:Vr,Xy=ru?function(f,y){return ru(f,"toString",{configurable:!0,enumerable:!1,value:As(y),writable:!0})}:Vr;function cd(f){return _s(ra(f))}function fo(f,y,_){var A=-1,R=f.length;y<0&&(y=-y>R?0:R+y),(_=_>R?R:_)<0&&(_+=R),R=y>_?0:_-y>>>0,y>>>=0;for(var $=rt(R);++A<R;)$[A]=f[A+y];return $}function Vy(f,y){var _;return zn(f,function(A,R,$){return!(_=y(A,R,$))}),!!_}function hs(f,y,_){var A=0,R=f==null?A:f.length;if(typeof y=="number"&&y==y&&R<=2147483647){for(;A<R;){var $=A+R>>>1,ae=f[$];ae!==null&&!Xr(ae)&&(_?ae<=y:ae<y)?A=$+1:R=$}return R}return rf(f,y,Vr,_)}function rf(f,y,_,A){var R=0,$=f==null?0:f.length;if($===0)return 0;for(var ae=(y=_(y))!=y,fe=y===null,Oe=Xr(y),Le=y===v;R<$;){var De=ou((R+$)/2),$e=_(f[De]),ut=$e!==v,vt=$e===null,At=$e==$e,Be=Xr($e);if(ae)var Xe=A||At;else Xe=Le?At&&(A||ut):fe?At&&ut&&(A||!vt):Oe?At&&ut&&!vt&&(A||!Be):!vt&&!Be&&(A?$e<=y:$e<y);Xe?R=De+1:$=De}return Tr($,4294967294)}function of(f,y){for(var _=-1,A=f.length,R=0,$=[];++_<A;){var ae=f[_],fe=y?y(ae):ae;if(!_||!Fo(fe,Oe)){var Oe=fe;$[R++]=ae===0?0:ae}}return $}function ld(f){return typeof f=="number"?f:Xr(f)?K:+f}function Jr(f){if(typeof f=="string")return f;if(Xt(f))return ln(f,Jr)+"";if(Xr(f))return Kp?Kp.call(f):"";var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function Zi(f,y,_){var A=-1,R=ao,$=f.length,ae=!0,fe=[],Oe=fe;if(_)ae=!1,R=rs;else if($>=200){var Le=y?null:Ky(f);if(Le)return bi(Le);ae=!1,R=ei,Oe=new Ki}else Oe=y?[]:fe;e:for(;++A<$;){var De=f[A],$e=y?y(De):De;if(De=_||De!==0?De:0,ae&&$e==$e){for(var ut=Oe.length;ut--;)if(Oe[ut]===$e)continue e;y&&Oe.push($e),fe.push(De)}else R(Oe,$e,_)||(Oe!==fe&&Oe.push($e),fe.push(De))}return fe}function Ec(f,y){return(f=_f(f,y=mn(y,f)))==null||delete f[zo(Gn(y))]}function fd(f,y,_,A){return ds(f,y,_(Ei(f,y)),A)}function Sc(f,y,_,A){for(var R=f.length,$=A?R:-1;(A?$--:++$<R)&&y(f[$],$,f););return _?fo(f,A?0:$,A?$+1:R):fo(f,A?$+1:0,A?R:$)}function af(f,y){var _=f;return _ instanceof cn&&(_=_.value()),Za(y,function(A,R){return R.func.apply(R.thisArg,ur([A],R.args))},_)}function uf(f,y,_){var A=f.length;if(A<2)return A?Zi(f[0]):[];for(var R=-1,$=rt(A);++R<A;)for(var ae=f[R],fe=-1;++fe<A;)fe!=R&&($[R]=xi($[R]||ae,f[fe],y,_));return Zi(_r($,1),y,_)}function sf(f,y,_){for(var A=-1,R=f.length,$=y.length,ae={};++A<R;){var fe=A<$?y[A]:v;_(ae,f[A],fe)}return ae}function jc(f){return Bn(f)?f:[]}function cf(f){return typeof f=="function"?f:Vr}function mn(f,y){return Xt(f)?f:Ic(f,y)?[f]:Ef(dn(f))}var Yy=tn;function wn(f,y,_){var A=f.length;return _=_===v?A:_,!y&&_>=A?f:fo(f,y,_)}var Pc=Ly||function(f){return Hn.clearTimeout(f)};function pd(f,y){if(y)return f.slice();var _=f.length,A=cs?cs(_):new f.constructor(_);return f.copy(A),A}function lf(f){var y=new f.constructor(f.byteLength);return new Oa(y).set(new Oa(f)),y}function dd(f,y){var _=y?lf(f.buffer):f.buffer;return new f.constructor(_,f.byteOffset,f.length)}function ff(f,y){if(f!==y){var _=f!==v,A=f===null,R=f==f,$=Xr(f),ae=y!==v,fe=y===null,Oe=y==y,Le=Xr(y);if(!fe&&!Le&&!$&&f>y||$&&ae&&Oe&&!fe&&!Le||A&&ae&&Oe||!_&&Oe||!R)return 1;if(!A&&!$&&!Le&&f<y||Le&&_&&R&&!A&&!$||fe&&_&&R||!ae&&R||!Oe)return-1}return 0}function hd(f,y,_,A){for(var R=-1,$=f.length,ae=_.length,fe=-1,Oe=y.length,Le=yr($-ae,0),De=rt(Oe+Le),$e=!A;++fe<Oe;)De[fe]=y[fe];for(;++R<ae;)($e||R<$)&&(De[_[R]]=f[R]);for(;Le--;)De[fe++]=f[R++];return De}function yd(f,y,_,A){for(var R=-1,$=f.length,ae=-1,fe=_.length,Oe=-1,Le=y.length,De=yr($-fe,0),$e=rt(De+Le),ut=!A;++R<De;)$e[R]=f[R];for(var vt=R;++Oe<Le;)$e[vt+Oe]=y[Oe];for(;++ae<fe;)(ut||R<$)&&($e[vt+_[ae]]=f[R++]);return $e}function Qr(f,y){var _=-1,A=f.length;for(y||(y=rt(A));++_<A;)y[_]=f[_];return y}function Lo(f,y,_,A){var R=!_;_||(_={});for(var $=-1,ae=y.length;++$<ae;){var fe=y[$],Oe=A?A(_[fe],f[fe],fe,_,f):v;Oe===v&&(Oe=f[fe]),R?oi(_,fe,Oe):lu(_,fe,Oe)}return _}function Ac(f,y){return function(_,A){var R=Xt(_)?Fl:Jp,$=y?y():{};return R(_,f,Dt(A,2),$)}}function hu(f){return tn(function(y,_){var A=-1,R=_.length,$=R>1?_[R-1]:v,ae=R>2?_[2]:v;for($=f.length>3&&typeof $=="function"?(R--,$):v,ae&&Sr(_[0],_[1],ae)&&($=R<3?v:$,R=1),y=w(y);++A<R;){var fe=_[A];fe&&f(y,fe,A,$)}return y})}function vd(f,y){return function(_,A){if(_==null)return _;if(!to(_))return f(_,A);for(var R=_.length,$=y?R:-1,ae=w(_);(y?$--:++$<R)&&A(ae[$],$,ae)!==!1;);return _}}function ys(f){return function(y,_,A){for(var R=-1,$=w(y),ae=A(y),fe=ae.length;fe--;){var Oe=ae[f?fe:++R];if(_($[Oe],Oe,$)===!1)break}return y}}function gd(f){return function(y){var _=Co(y=dn(y))?Zr(y):v,A=_?_[0]:y.charAt(0),R=_?wn(_,1).join(""):y.slice(1);return A[f]()+R}}function Sa(f){return function(y){return Za(js(Ti(y).replace(rc,"")),f,"")}}function vs(f){return function(){var y=arguments;switch(y.length){case 0:return new f;case 1:return new f(y[0]);case 2:return new f(y[0],y[1]);case 3:return new f(y[0],y[1],y[2]);case 4:return new f(y[0],y[1],y[2],y[3]);case 5:return new f(y[0],y[1],y[2],y[3],y[4]);case 6:return new f(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new f(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=cu(f.prototype),A=f.apply(_,y);return $n(A)?A:_}}function md(f){return function(y,_,A){var R=w(y);if(!to(y)){var $=Dt(_,3);y=Yn(y),_=function(fe){return $(R[fe],fe,R)}}var ae=f(y,_,A);return ae>-1?R[$?y[ae]:ae]:v}}function Ji(f){return Ai(function(y){var _=y.length,A=_,R=Oo.prototype.thru;for(f&&y.reverse();A--;){var $=y[A];if(typeof $!="function")throw new q(E);if(R&&!ae&&yu($)=="wrapper")var ae=new Oo([],!0)}for(A=ae?A:_;++A<_;){var fe=yu($=y[A]),Oe=fe=="wrapper"?yf($):v;ae=Oe&&Lc(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?ae[yu(Oe[0])].apply(ae,Oe[3]):$.length==1&&Lc($)?ae[fe]():ae.thru($)}return function(){var Le=arguments,De=Le[0];if(ae&&Le.length==1&&Xt(De))return ae.plant(De).value();for(var $e=0,ut=_?y[$e].apply(this,Le):De;++$e<_;)ut=y[$e].call(this,ut);return ut}})}function Mc(f,y,_,A,R,$,ae,fe,Oe,Le){var De=y&N,$e=1&y,ut=2&y,vt=24&y,At=512&y,Be=ut?v:vs(f);return function Xe(){for(var Tt=arguments.length,st=rt(Tt),le=Tt;le--;)st[le]=arguments[le];if(vt)var Ut=ja(Xe),on=Wl(st,Ut);if(A&&(st=hd(st,A,R,vt)),$&&(st=yd(st,$,ae,vt)),Tt-=on,vt&&Tt<Le){var xt=qr(st,Ut);return _d(f,y,Mc,Xe.placeholder,_,st,xt,fe,Oe,Le-Tt)}var Ct=$e?_:this,cr=ut?Ct[f]:f;return Tt=st.length,fe?st=Ed(st,fe):At&&Tt>1&&st.reverse(),De&&Oe<Tt&&(st.length=Oe),this&&this!==Hn&&this instanceof Xe&&(cr=Be||vs(cr)),cr.apply(Ct,st)}}function kc(f,y){return function(_,A){return function(R,$,ae,fe){return yt(R,function(Oe,Le,De){$(fe,ae(Oe),Le,De)}),fe}(_,f,y(A),{})}}function gs(f,y){return function(_,A){var R;if(_===v&&A===v)return y;if(_!==v&&(R=_),A!==v){if(R===v)return A;typeof _=="string"||typeof A=="string"?(_=Jr(_),A=Jr(A)):(_=ld(_),A=ld(A)),R=f(_,A)}return R}}function ms(f){return Ai(function(y){return y=ln(y,Un(Dt())),tn(function(_){var A=this;return f(y,function(R){return An(R,A,_)})})})}function bs(f,y){var _=(y=y===v?" ":Jr(y)).length;if(_<2)return _?xc(y,f):y;var A=xc(y,lc(f/Ro(y)));return Co(y)?wn(Zr(A),0,f).join(""):A.slice(0,f)}function bd(f){return function(y,_,A){return A&&typeof A!="number"&&Sr(y,_,A)&&(_=A=v),y=ii(y),_===v?(_=y,y=0):_=ii(_),function(R,$,ae,fe){for(var Oe=-1,Le=yr(lc(($-R)/(ae||1)),0),De=rt(Le);Le--;)De[fe?Le:++Oe]=R,R+=ae;return De}(y,_,A=A===v?y<_?1:-1:ii(A),f)}}function Tc(f){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=Cr(y),_=Cr(_)),f(y,_)}}function _d(f,y,_,A,R,$,ae,fe,Oe,Le){var De=8&y;y|=De?k:C,4&(y&=~(De?C:k))||(y&=-4);var $e=[f,y,R,De?$:v,De?ae:v,De?v:$,De?v:ae,fe,Oe,Le],ut=_.apply(v,$e);return Lc(f)&&Of(ut,$e),ut.placeholder=A,wf(ut,f,y)}function pf(f){var y=O[f];return function(_,A){if(_=Cr(_),(A=A==null?0:Tr(Vt(A),292))&&Hp(_)){var R=(dn(_)+"e").split("e");return+((R=(dn(y(R[0]+"e"+(+R[1]+A)))+"e").split("e"))[0]+"e"+(+R[1]-A))}return y(_)}}var Ky=xa&&1/bi(new xa([,-0]))[1]==G?function(f){return new xa(f)}:ks;function Od(f){return function(y){var _=Nr(y);return _==ne?Mr(y):_==je?tu(y):function(A,R){return ln(R,function($){return[$,A[$]]})}(y,f(y))}}function Pi(f,y,_,A,R,$,ae,fe){var Oe=2&y;if(!Oe&&typeof f!="function")throw new q(E);var Le=A?A.length:0;if(Le||(y&=-97,A=R=v),ae=ae===v?ae:yr(Vt(ae),0),fe=fe===v?fe:Vt(fe),Le-=R?R.length:0,y&C){var De=A,$e=R;A=R=v}var ut=Oe?v:yf(f),vt=[f,y,_,A,R,De,$e,$,ae,fe];if(ut&&function(Be,Xe){var Tt=Be[1],st=Xe[1],le=Tt|st,Ut=le<131,on=st==N&&Tt==8||st==N&&Tt==I&&Be[7].length<=Xe[8]||st==384&&Xe[7].length<=Xe[8]&&Tt==8;if(!Ut&&!on)return Be;1&st&&(Be[2]=Xe[2],le|=1&Tt?0:4);var xt=Xe[3];if(xt){var Ct=Be[3];Be[3]=Ct?hd(Ct,xt,Xe[4]):xt,Be[4]=Ct?qr(Be[3],S):Xe[4]}(xt=Xe[5])&&(Ct=Be[5],Be[5]=Ct?yd(Ct,xt,Xe[6]):xt,Be[6]=Ct?qr(Be[5],S):Xe[6]),(xt=Xe[7])&&(Be[7]=xt),st&N&&(Be[8]=Be[8]==null?Xe[8]:Tr(Be[8],Xe[8])),Be[9]==null&&(Be[9]=Xe[9]),Be[0]=Xe[0],Be[1]=le}(vt,ut),f=vt[0],y=vt[1],_=vt[2],A=vt[3],R=vt[4],!(fe=vt[9]=vt[9]===v?Oe?0:f.length:yr(vt[9]-Le,0))&&24&y&&(y&=-25),y&&y!=1)At=y==8||y==T?function(Be,Xe,Tt){var st=vs(Be);return function le(){for(var Ut=arguments.length,on=rt(Ut),xt=Ut,Ct=ja(le);xt--;)on[xt]=arguments[xt];var cr=Ut<3&&on[0]!==Ct&&on[Ut-1]!==Ct?[]:qr(on,Ct);return(Ut-=cr.length)<Tt?_d(Be,Xe,Mc,le.placeholder,v,on,cr,v,v,Tt-Ut):An(this&&this!==Hn&&this instanceof le?st:Be,this,on)}}(f,y,fe):y!=k&&y!=33||R.length?Mc.apply(v,vt):function(Be,Xe,Tt,st){var le=1&Xe,Ut=vs(Be);return function on(){for(var xt=-1,Ct=arguments.length,cr=-1,no=st.length,Uo=rt(no+Ct),lr=this&&this!==Hn&&this instanceof on?Ut:Be;++cr<no;)Uo[cr]=st[cr];for(;Ct--;)Uo[cr++]=arguments[++xt];return An(lr,le?Tt:this,Uo)}}(f,y,_,A);else var At=function(Be,Xe,Tt){var st=1&Xe,le=vs(Be);return function Ut(){return(this&&this!==Hn&&this instanceof Ut?le:Be).apply(st?Tt:this,arguments)}}(f,y,_);return wf((ut?sd:Of)(At,vt),f,y)}function wd(f,y,_,A){return f===v||Fo(f,Ue[_])&&!ot.call(A,_)?y:f}function xd(f,y,_,A,R,$){return $n(f)&&$n(y)&&($.set(y,f),Oc(f,y,v,xd,$),$.delete(y)),f}function qy(f){return Ou(f)?v:f}function Nc(f,y,_,A,R,$){var ae=1&_,fe=f.length,Oe=y.length;if(fe!=Oe&&!(ae&&Oe>fe))return!1;var Le=$.get(f),De=$.get(y);if(Le&&De)return Le==y&&De==f;var $e=-1,ut=!0,vt=2&_?new Ki:v;for($.set(f,y),$.set(y,f);++$e<fe;){var At=f[$e],Be=y[$e];if(A)var Xe=ae?A(Be,At,$e,y,f,$):A(At,Be,$e,f,y,$);if(Xe!==v){if(Xe)continue;ut=!1;break}if(vt){if(!os(y,function(Tt,st){if(!ei(vt,st)&&(At===Tt||R(At,Tt,_,A,$)))return vt.push(st)})){ut=!1;break}}else if(At!==Be&&!R(At,Be,_,A,$)){ut=!1;break}}return $.delete(f),$.delete(y),ut}function Ai(f){return Bc(bf(f,v,Os),f+"")}function df(f){return Zl(f,Yn,vr)}function hf(f){return Zl(f,Rr,Cc)}var yf=hc?function(f){return hc.get(f)}:ks;function yu(f){for(var y=f.name+"",_=su[y],A=ot.call(su,y)?_.length:0;A--;){var R=_[A],$=R.func;if($==null||$==f)return R.name}return y}function ja(f){return(ot.call(B,"placeholder")?B:f).placeholder}function Dt(){var f=B.iteratee||Ms;return f=f===Ms?Ql:f,arguments.length?f(arguments[0],arguments[1]):f}function Dc(f,y){var _,A,R=f.__data__;return((A=typeof(_=y))=="string"||A=="number"||A=="symbol"||A=="boolean"?_!=="__proto__":_===null)?R[typeof y=="string"?"string":"hash"]:R.map}function vf(f){for(var y=Yn(f),_=y.length;_--;){var A=y[_],R=f[A];y[_]=[A,R,gf(R)]}return y}function Pa(f,y){var _=function(A,R){return A==null?v:A[R]}(f,y);return du(_)?_:v}var vr=Gl?function(f){return f==null?[]:(f=w(f),Ar(Gl(f),function(y){return kr.call(f,y)}))}:Ni,Cc=Gl?function(f){for(var y=[];f;)ur(y,vr(f)),f=_i(f);return y}:Ni,Nr=Wn;function Rc(f,y,_){for(var A=-1,R=(y=mn(y,f)).length,$=!1;++A<R;){var ae=zo(y[A]);if(!($=f!=null&&_(f,ae)))break;f=f[ae]}return $||++A!=R?$:!!(R=f==null?0:f.length)&&Kc(R)&&po(ae,R)&&(Xt(f)||Aa(f))}function Mi(f){return typeof f.constructor!="function"||Te(f)?{}:cu(_i(f))}function Zy(f){return Xt(f)||Aa(f)||!!(Yi&&f&&f[Yi])}function po(f,y){var _=typeof f;return!!(y=y??W)&&(_=="number"||_!="symbol"&&lt.test(f))&&f>-1&&f%1==0&&f<y}function Sr(f,y,_){if(!$n(_))return!1;var A=typeof y;return!!(A=="number"?to(_)&&po(y,_.length):A=="string"&&y in _)&&Fo(_[y],f)}function Ic(f,y){if(Xt(f))return!1;var _=typeof f;return!(_!="number"&&_!="symbol"&&_!="boolean"&&f!=null&&!Xr(f))||Gt.test(f)||!vn.test(f)||y!=null&&f in w(y)}function Lc(f){var y=yu(f),_=B[y];if(typeof _!="function"||!(y in cn.prototype))return!1;if(f===_)return!0;var A=yf(_);return!!A&&f===A[0]}(iu&&Nr(new iu(new ArrayBuffer(1)))!=at||au&&Nr(new au)!=ne||Hl&&Nr(Hl.resolve())!=Ae||xa&&Nr(new xa)!=je||uu&&Nr(new uu)!=Me)&&(Nr=function(f){var y=Wn(f),_=y==_e?f.constructor:v,A=_?Qi(_):"";if(A)switch(A){case Uy:return at;case Vp:return ne;case Wy:return Ae;case Gy:return je;case Yp:return Me}return y});var Jy=ft?So:Ts;function Te(f){var y=f&&f.constructor;return f===(typeof y=="function"&&y.prototype||Ue)}function gf(f){return f==f&&!$n(f)}function mf(f,y){return function(_){return _!=null&&_[f]===y&&(y!==v||f in w(_))}}function bf(f,y,_){return y=yr(y===v?f.length-1:y,0),function(){for(var A=arguments,R=-1,$=yr(A.length-y,0),ae=rt($);++R<$;)ae[R]=A[y+R];R=-1;for(var fe=rt(y+1);++R<y;)fe[R]=A[R];return fe[y]=_(ae),An(f,this,fe)}}function _f(f,y){return y.length<2?f:Ei(f,fo(y,0,-1))}function Ed(f,y){for(var _=f.length,A=Tr(y.length,_),R=Qr(f);A--;){var $=y[A];f[A]=po($,_)?R[$]:v}return f}function zc(f,y){if((y!=="constructor"||typeof f[y]!="function")&&y!="__proto__")return f[y]}var Of=xf(sd),vu=$p||function(f,y){return Hn.setTimeout(f,y)},Bc=xf(Xy);function wf(f,y,_){var A=y+"";return Bc(f,function(R,$){var ae=$.length;if(!ae)return R;var fe=ae-1;return $[fe]=(ae>1?"& ":"")+$[fe],$=$.join(ae>2?", ":" "),R.replace(te,`{
/* [wrapped with `+$+`] */
`)}(A,function(R,$){return Fr(oe,function(ae){var fe="_."+ae[0];$&ae[1]&&!ao(R,fe)&&R.push(fe)}),R.sort()}(function(R){var $=R.match(he);return $?$[1].split(ue):[]}(A),_)))}function xf(f){var y=0,_=0;return function(){var A=fc(),R=16-(A-_);if(_=A,R>0){if(++y>=800)return arguments[0]}else y=0;return f.apply(v,arguments)}}function _s(f,y){var _=-1,A=f.length,R=A-1;for(y=y===v?A:y;++_<y;){var $=tf(_,R),ae=f[$];f[$]=f[_],f[_]=ae}return f.length=y,f}var Ef=function(f){var y=bu(f,function(A){return _.size===500&&_.clear(),A}),_=y.cache;return y}(function(f){var y=[];return f.charCodeAt(0)===46&&y.push(""),f.replace(an,function(_,A,R,$){y.push(R?$.replace(Je,"$1"):A||_)}),y});function zo(f){if(typeof f=="string"||Xr(f))return f;var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function Qi(f){if(f!=null){try{return Zt.call(f)}catch{}try{return f+""}catch{}}return""}function Sf(f){if(f instanceof cn)return f.clone();var y=new Oo(f.__wrapped__,f.__chain__);return y.__actions__=Qr(f.__actions__),y.__index__=f.__index__,y.__values__=f.__values__,y}var Sd=tn(function(f,y){return Bn(f)?xi(f,_r(y,1,Bn,!0)):[]}),jd=tn(function(f,y){var _=Gn(y);return Bn(_)&&(_=v),Bn(f)?xi(f,_r(y,1,Bn,!0),Dt(_,2)):[]}),Pd=tn(function(f,y){var _=Gn(y);return Bn(_)&&(_=v),Bn(f)?xi(f,_r(y,1,Bn,!0),v,_):[]});function jf(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=_==null?0:Vt(_);return R<0&&(R=yr(A+R,0)),Jo(f,Dt(y,3),R)}function Fc(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=A-1;return _!==v&&(R=Vt(_),R=_<0?yr(A+R,0):Tr(R,A-1)),Jo(f,Dt(y,3),R,!0)}function Os(f){return f!=null&&f.length?_r(f,1):[]}function Ad(f){return f&&f.length?f[0]:v}var Bo=tn(function(f){var y=ln(f,jc);return y.length&&y[0]===f[0]?bc(y):[]}),ea=tn(function(f){var y=Gn(f),_=ln(f,jc);return y===Gn(_)?y=v:_.pop(),_.length&&_[0]===f[0]?bc(_,Dt(y,2)):[]}),Qy=tn(function(f){var y=Gn(f),_=ln(f,jc);return(y=typeof y=="function"?y:v)&&_.pop(),_.length&&_[0]===f[0]?bc(_,v,y):[]});function Gn(f){var y=f==null?0:f.length;return y?f[y-1]:v}var Md=tn(Uc);function Uc(f,y){return f&&f.length&&y&&y.length?wc(f,y):f}var kd=Ai(function(f,y){var _=f==null?0:f.length,A=gc(f,y);return ef(f,ln(y,function(R){return po(R,_)?+R:R}).sort(ff)),A});function Wc(f){return f==null?f:Fy.call(f)}var Td=tn(function(f){return Zi(_r(f,1,Bn,!0))}),Nd=tn(function(f){var y=Gn(f);return Bn(y)&&(y=v),Zi(_r(f,1,Bn,!0),Dt(y,2))}),Dd=tn(function(f){var y=Gn(f);return y=typeof y=="function"?y:v,Zi(_r(f,1,Bn,!0),v,y)});function ws(f){if(!f||!f.length)return[];var y=0;return f=Ar(f,function(_){if(Bn(_))return y=yr(_.length,y),!0}),ba(y,function(_){return ln(f,Wr(_))})}function gu(f,y){if(!f||!f.length)return[];var _=ws(f);return y==null?_:ln(_,function(A){return An(y,v,A)})}var Dr=tn(function(f,y){return Bn(f)?xi(f,y):[]}),ev=tn(function(f){return uf(Ar(f,Bn))}),tv=tn(function(f){var y=Gn(f);return Bn(y)&&(y=v),uf(Ar(f,Bn),Dt(y,2))}),Pf=tn(function(f){var y=Gn(f);return y=typeof y=="function"?y:v,uf(Ar(f,Bn),v,y)}),Cd=tn(ws),eo=tn(function(f){var y=f.length,_=y>1?f[y-1]:v;return _=typeof _=="function"?(f.pop(),_):v,gu(f,_)});function rr(f){var y=B(f);return y.__chain__=!0,y}function Gc(f,y){return y(f)}var Eo=Ai(function(f){var y=f.length,_=y?f[0]:0,A=this.__wrapped__,R=function($){return gc($,f)};return!(y>1||this.__actions__.length)&&A instanceof cn&&po(_)?((A=A.slice(_,+_+(y?1:0))).__actions__.push({func:Gc,args:[R],thisArg:v}),new Oo(A,this.__chain__).thru(function($){return y&&!$.length&&$.push(v),$})):this.thru(R)}),Nt=Ac(function(f,y,_){ot.call(f,_)?++f[_]:oi(f,_,1)}),Af=md(jf),Mf=md(Fc);function $c(f,y){return(Xt(f)?Fr:zn)(f,Dt(y,3))}function kf(f,y){return(Xt(f)?Ul:Qp)(f,Dt(y,3))}var Rd=Ac(function(f,y,_){ot.call(f,_)?f[_].push(y):oi(f,_,[y])}),nv=tn(function(f,y,_){var A=-1,R=typeof y=="function",$=to(f)?rt(f.length):[];return zn(f,function(ae){$[++A]=R?An(y,ae,_):fu(ae,y,_)}),$}),rv=Ac(function(f,y,_){oi(f,_,y)});function mu(f,y){return(Xt(f)?ln:xo)(f,Dt(y,3))}var ov=Ac(function(f,y,_){f[_?0:1].push(y)},function(){return[[],[]]}),Tf=tn(function(f,y){if(f==null)return[];var _=y.length;return _>1&&Sr(f,y[0],y[1])?y=[]:_>2&&Sr(y[0],y[1],y[2])&&(y=[y[0]]),ad(f,_r(y,1),[])}),Hc=zy||function(){return Hn.Date.now()};function Id(f,y,_){return y=_?v:y,y=f&&y==null?f.length:y,Pi(f,N,v,v,v,v,y)}function Nf(f,y){var _;if(typeof y!="function")throw new q(E);return f=Vt(f),function(){return--f>0&&(_=y.apply(this,arguments)),f<=1&&(y=v),_}}var ta=tn(function(f,y,_){var A=1;if(_.length){var R=qr(_,ja(ta));A|=k}return Pi(f,A,y,_,R)}),Df=tn(function(f,y,_){var A=3;if(_.length){var R=qr(_,ja(Df));A|=k}return Pi(y,A,f,_,R)});function Ft(f,y,_){var A,R,$,ae,fe,Oe,Le=0,De=!1,$e=!1,ut=!0;if(typeof f!="function")throw new q(E);function vt(le){var Ut=A,on=R;return A=R=v,Le=le,ae=f.apply(on,Ut)}function At(le){return Le=le,fe=vu(Xe,y),De?vt(le):ae}function Be(le){var Ut=le-Oe;return Oe===v||Ut>=y||Ut<0||$e&&le-Le>=$}function Xe(){var le=Hc();if(Be(le))return Tt(le);fe=vu(Xe,function(Ut){var on=y-(Ut-Oe);return $e?Tr(on,$-(Ut-Le)):on}(le))}function Tt(le){return fe=v,ut&&A?vt(le):(A=R=v,ae)}function st(){var le=Hc(),Ut=Be(le);if(A=arguments,R=this,Oe=le,Ut){if(fe===v)return At(Oe);if($e)return Pc(fe),fe=vu(Xe,y),vt(Oe)}return fe===v&&(fe=vu(Xe,y)),ae}return y=Cr(y)||0,$n(_)&&(De=!!_.leading,$=($e="maxWait"in _)?yr(Cr(_.maxWait)||0,y):$,ut="trailing"in _?!!_.trailing:ut),st.cancel=function(){fe!==v&&Pc(fe),Le=0,A=Oe=R=fe=v},st.flush=function(){return fe===v?ae:Tt(Hc())},st}var Ld=tn(function(f,y){return ql(f,1,y)}),Xc=tn(function(f,y,_){return ql(f,Cr(y)||0,_)});function bu(f,y){if(typeof f!="function"||y!=null&&typeof y!="function")throw new q(E);var _=function(){var A=arguments,R=y?y.apply(this,A):A[0],$=_.cache;if($.has(R))return $.get(R);var ae=f.apply(this,A);return _.cache=$.set(R,ae)||$,ae};return _.cache=new(bu.Cache||ri),_}function Vc(f){if(typeof f!="function")throw new q(E);return function(){var y=arguments;switch(y.length){case 0:return!f.call(this);case 1:return!f.call(this,y[0]);case 2:return!f.call(this,y[0],y[1]);case 3:return!f.call(this,y[0],y[1],y[2])}return!f.apply(this,y)}}bu.Cache=ri;var zd=Yy(function(f,y){var _=(y=y.length==1&&Xt(y[0])?ln(y[0],Un(Dt())):ln(_r(y,1),Un(Dt()))).length;return tn(function(A){for(var R=-1,$=Tr(A.length,_);++R<$;)A[R]=y[R].call(this,A[R]);return An(f,this,A)})}),Yc=tn(function(f,y){var _=qr(y,ja(Yc));return Pi(f,k,v,y,_)}),Cf=tn(function(f,y){var _=qr(y,ja(Cf));return Pi(f,C,v,y,_)}),iv=Ai(function(f,y){return Pi(f,I,v,v,v,y)});function Fo(f,y){return f===y||f!=f&&y!=y}var av=Tc(Xn),xs=Tc(function(f,y){return f>=y}),Aa=Jl(function(){return arguments}())?Jl:function(f){return Vn(f)&&ot.call(f,"callee")&&!kr.call(f,"callee")},Xt=rt.isArray,uv=ts?Un(ts):function(f){return Vn(f)&&Wn(f)==Ge};function to(f){return f!=null&&Kc(f.length)&&!So(f)}function Bn(f){return Vn(f)&&to(f)}var Hr=By||Ts,Rf=uc?Un(uc):function(f){return Vn(f)&&Wn(f)==F};function Or(f){if(!Vn(f))return!1;var y=Wn(f);return y==X||y=="[object DOMException]"||typeof f.message=="string"&&typeof f.name=="string"&&!Ou(f)}function So(f){if(!$n(f))return!1;var y=Wn(f);return y==Y||y==Q||y=="[object AsyncFunction]"||y=="[object Proxy]"}function _u(f){return typeof f=="number"&&f==Vt(f)}function Kc(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=W}function $n(f){var y=typeof f;return f!=null&&(y=="object"||y=="function")}function Vn(f){return f!=null&&typeof f=="object"}var If=ns?Un(ns):function(f){return Vn(f)&&Nr(f)==ne};function Lf(f){return typeof f=="number"||Vn(f)&&Wn(f)==Se}function Ou(f){if(!Vn(f)||Wn(f)!=_e)return!1;var y=_i(f);if(y===null)return!0;var _=ot.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Zt.call(_)==co}var wu=qa?Un(qa):function(f){return Vn(f)&&Wn(f)==Fe},Bd=Xi?Un(Xi):function(f){return Vn(f)&&Nr(f)==je};function qc(f){return typeof f=="string"||!Xt(f)&&Vn(f)&&Wn(f)==ve}function Xr(f){return typeof f=="symbol"||Vn(f)&&Wn(f)==Pe}var ki=Zo?Un(Zo):function(f){return Vn(f)&&Kc(f.length)&&!!bn[Wn(f)]},Fd=Tc(ji),zf=Tc(function(f,y){return f<=y});function Ud(f){if(!f)return[];if(to(f))return qc(f)?Zr(f):Qr(f);if(Oi&&f[Oi])return function(_){for(var A,R=[];!(A=_.next()).done;)R.push(A.value);return R}(f[Oi]());var y=Nr(f);return(y==ne?Mr:y==je?bi:ra)(f)}function ii(f){return f?(f=Cr(f))===G||f===-1/0?17976931348623157e292*(f<0?-1:1):f==f?f:0:f===0?f:0}function Vt(f){var y=ii(f),_=y%1;return y==y?_?y-_:y:0}function Wd(f){return f?qi(Vt(f),0,re):0}function Cr(f){if(typeof f=="number")return f;if(Xr(f))return K;if($n(f)){var y=typeof f.valueOf=="function"?f.valueOf():f;f=$n(y)?y+"":y}if(typeof f!="string")return f===0?f:+f;f=is(f);var _=mr.test(f);return _||tr.test(f)?qo(f.slice(2),_?2:8):ar.test(f)?K:+f}function Bf(f){return Lo(f,Rr(f))}function dn(f){return f==null?"":Jr(f)}var Ff=hu(function(f,y){if(Te(y)||to(y))Lo(y,Yn(y),f);else for(var _ in y)ot.call(y,_)&&lu(f,_,y[_])}),Ma=hu(function(f,y){Lo(y,Rr(y),f)}),na=hu(function(f,y,_,A){Lo(y,Rr(y),f,A)}),Es=hu(function(f,y,_,A){Lo(y,Yn(y),f,A)}),Gd=Ai(gc),$d=tn(function(f,y){f=w(f);var _=-1,A=y.length,R=A>2?y[2]:v;for(R&&Sr(y[0],y[1],R)&&(A=1);++_<A;)for(var $=y[_],ae=Rr($),fe=-1,Oe=ae.length;++fe<Oe;){var Le=ae[fe],De=f[Le];(De===v||Fo(De,Ue[Le])&&!ot.call(f,Le))&&(f[Le]=$[Le])}return f}),Hd=tn(function(f){return f.push(v,xd),An(Wf,v,f)});function xu(f,y,_){var A=f==null?v:Ei(f,y);return A===v?_:A}function Zc(f,y){return f!=null&&Rc(f,y,nd)}var Uf=kc(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=pn.call(y)),f[y]=_},As(Vr)),Xd=kc(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=pn.call(y)),ot.call(f,y)?f[y].push(_):f[y]=[_]},Dt),Vd=tn(fu);function Yn(f){return to(f)?Xl(f):Si(f)}function Rr(f){return to(f)?Xl(f,!0):$y(f)}var Yd=hu(function(f,y,_){Oc(f,y,_)}),Wf=hu(function(f,y,_,A){Oc(f,y,_,A)}),Gf=Ai(function(f,y){var _={};if(f==null)return _;var A=!1;y=ln(y,function($){return $=mn($,f),A||(A=$.length>1),$}),Lo(f,hf(f),_),A&&(_=lo(_,7,qy));for(var R=y.length;R--;)Ec(_,y[R]);return _}),$f=Ai(function(f,y){return f==null?{}:function(_,A){return ud(_,A,function(R,$){return Zc(_,$)})}(f,y)});function Jc(f,y){if(f==null)return{};var _=ln(hf(f),function(A){return[A]});return y=Dt(y),ud(f,_,function(A,R){return y(A,R[0])})}var Hf=Od(Yn),Qc=Od(Rr);function ra(f){return f==null?[]:eu(f,Yn(f))}var Xf=Sa(function(f,y,_){return y=y.toLowerCase(),f+(_?Eu(y):y)});function Eu(f){return Ss(dn(f).toLowerCase())}function Ti(f){return(f=dn(f))&&f.replace(wt,us).replace(Ko,"")}var Kd=Sa(function(f,y,_){return f+(_?"-":"")+y.toLowerCase()}),qd=Sa(function(f,y,_){return f+(_?" ":"")+y.toLowerCase()}),Vf=gd("toLowerCase"),Yf=Sa(function(f,y,_){return f+(_?"_":"")+y.toLowerCase()}),sv=Sa(function(f,y,_){return f+(_?" ":"")+Ss(y)}),Zd=Sa(function(f,y,_){return f+(_?" ":"")+y.toUpperCase()}),Ss=gd("toUpperCase");function js(f,y,_){return f=dn(f),(y=_?v:y)===v?function(A){return Zu.test(A)}(f)?function(A){return A.match(Ya)||[]}(f):function(A){return A.match(be)||[]}(f):f.match(y)||[]}var Ps=tn(function(f,y){try{return An(f,v,y)}catch(_){return Or(_)?_:new en(_)}}),Kf=Ai(function(f,y){return Fr(y,function(_){_=zo(_),oi(f,_,ta(f[_],f))}),f});function As(f){return function(){return f}}var Jd=Ji(),qf=Ji(!0);function Vr(f){return f}function Ms(f){return Ql(typeof f=="function"?f:lo(f,1))}var cv=tn(function(f,y){return function(_){return fu(_,f,y)}}),sr=tn(function(f,y){return function(_){return fu(f,_,y)}});function jo(f,y,_){var A=Yn(y),R=mc(y,A);_!=null||$n(y)&&(R.length||!A.length)||(_=y,y=f,f=this,R=mc(y,Yn(y)));var $=!($n(_)&&"chain"in _&&!_.chain),ae=So(f);return Fr(R,function(fe){var Oe=y[fe];f[fe]=Oe,ae&&(f.prototype[fe]=function(){var Le=this.__chain__;if($||Le){var De=f(this.__wrapped__),$e=De.__actions__=Qr(this.__actions__);return $e.push({func:Oe,args:arguments,thisArg:f}),De.__chain__=Le,De}return Oe.apply(f,ur([this.value()],arguments))})}),f}function ks(){}var Zf=ms(ln),lv=ms(sc),Jf=ms(os);function el(f){return Ic(f)?Wr(zo(f)):function(y){return function(_){return Ei(_,y)}}(f)}var Qf=bd(),fv=bd(!0);function Ni(){return[]}function Ts(){return!1}var ep=gs(function(f,y){return f+y},0),Qd=pf("ceil"),Ns=gs(function(f,y){return f/y},1),Ds=pf("floor"),Cs,eh=gs(function(f,y){return f*y},1),th=pf("round"),wr=gs(function(f,y){return f-y},0);return B.after=function(f,y){if(typeof y!="function")throw new q(E);return f=Vt(f),function(){if(--f<1)return y.apply(this,arguments)}},B.ary=Id,B.assign=Ff,B.assignIn=Ma,B.assignInWith=na,B.assignWith=Es,B.at=Gd,B.before=Nf,B.bind=ta,B.bindAll=Kf,B.bindKey=Df,B.castArray=function(){if(!arguments.length)return[];var f=arguments[0];return Xt(f)?f:[f]},B.chain=rr,B.chunk=function(f,y,_){y=(_?Sr(f,y,_):y===v)?1:yr(Vt(y),0);var A=f==null?0:f.length;if(!A||y<1)return[];for(var R=0,$=0,ae=rt(lc(A/y));R<A;)ae[$++]=fo(f,R,R+=y);return ae},B.compact=function(f){for(var y=-1,_=f==null?0:f.length,A=0,R=[];++y<_;){var $=f[y];$&&(R[A++]=$)}return R},B.concat=function(){var f=arguments.length;if(!f)return[];for(var y=rt(f-1),_=arguments[0],A=f;A--;)y[A-1]=arguments[A];return ur(Xt(_)?Qr(_):[_],_r(y,1))},B.cond=function(f){var y=f==null?0:f.length,_=Dt();return f=y?ln(f,function(A){if(typeof A[1]!="function")throw new q(E);return[_(A[0]),A[1]]}):[],tn(function(A){for(var R=-1;++R<y;){var $=f[R];if(An($[0],this,A))return An($[1],this,A)}})},B.conforms=function(f){return function(y){var _=Yn(y);return function(A){return Kl(A,y,_)}}(lo(f,1))},B.constant=As,B.countBy=Nt,B.create=function(f,y){var _=cu(f);return y==null?_:Yl(_,y)},B.curry=function f(y,_,A){var R=Pi(y,8,v,v,v,v,v,_=A?v:_);return R.placeholder=f.placeholder,R},B.curryRight=function f(y,_,A){var R=Pi(y,T,v,v,v,v,v,_=A?v:_);return R.placeholder=f.placeholder,R},B.debounce=Ft,B.defaults=$d,B.defaultsDeep=Hd,B.defer=Ld,B.delay=Xc,B.difference=Sd,B.differenceBy=jd,B.differenceWith=Pd,B.drop=function(f,y,_){var A=f==null?0:f.length;return A?fo(f,(y=_||y===v?1:Vt(y))<0?0:y,A):[]},B.dropRight=function(f,y,_){var A=f==null?0:f.length;return A?fo(f,0,(y=A-(y=_||y===v?1:Vt(y)))<0?0:y):[]},B.dropRightWhile=function(f,y){return f&&f.length?Sc(f,Dt(y,3),!0,!0):[]},B.dropWhile=function(f,y){return f&&f.length?Sc(f,Dt(y,3),!0):[]},B.fill=function(f,y,_,A){var R=f==null?0:f.length;return R?(_&&typeof _!="number"&&Sr(f,y,_)&&(_=0,A=R),function($,ae,fe,Oe){var Le=$.length;for((fe=Vt(fe))<0&&(fe=-fe>Le?0:Le+fe),(Oe=Oe===v||Oe>Le?Le:Vt(Oe))<0&&(Oe+=Le),Oe=fe>Oe?0:Wd(Oe);fe<Oe;)$[fe++]=ae;return $}(f,y,_,A)):[]},B.filter=function(f,y){return(Xt(f)?Ar:_n)(f,Dt(y,3))},B.flatMap=function(f,y){return _r(mu(f,y),1)},B.flatMapDeep=function(f,y){return _r(mu(f,y),G)},B.flatMapDepth=function(f,y,_){return _=_===v?1:Vt(_),_r(mu(f,y),_)},B.flatten=Os,B.flattenDeep=function(f){return f!=null&&f.length?_r(f,G):[]},B.flattenDepth=function(f,y){return f!=null&&f.length?_r(f,y=y===v?1:Vt(y)):[]},B.flip=function(f){return Pi(f,512)},B.flow=Jd,B.flowRight=qf,B.fromPairs=function(f){for(var y=-1,_=f==null?0:f.length,A={};++y<_;){var R=f[y];A[R[0]]=R[1]}return A},B.functions=function(f){return f==null?[]:mc(f,Yn(f))},B.functionsIn=function(f){return f==null?[]:mc(f,Rr(f))},B.groupBy=Rd,B.initial=function(f){return f!=null&&f.length?fo(f,0,-1):[]},B.intersection=Bo,B.intersectionBy=ea,B.intersectionWith=Qy,B.invert=Uf,B.invertBy=Xd,B.invokeMap=nv,B.iteratee=Ms,B.keyBy=rv,B.keys=Yn,B.keysIn=Rr,B.map=mu,B.mapKeys=function(f,y){var _={};return y=Dt(y,3),yt(f,function(A,R,$){oi(_,y(A,R,$),A)}),_},B.mapValues=function(f,y){var _={};return y=Dt(y,3),yt(f,function(A,R,$){oi(_,R,y(A,R,$))}),_},B.matches=function(f){return rd(lo(f,1))},B.matchesProperty=function(f,y){return od(f,lo(y,1))},B.memoize=bu,B.merge=Yd,B.mergeWith=Wf,B.method=cv,B.methodOf=sr,B.mixin=jo,B.negate=Vc,B.nthArg=function(f){return f=Vt(f),tn(function(y){return id(y,f)})},B.omit=Gf,B.omitBy=function(f,y){return Jc(f,Vc(Dt(y)))},B.once=function(f){return Nf(2,f)},B.orderBy=function(f,y,_,A){return f==null?[]:(Xt(y)||(y=y==null?[]:[y]),Xt(_=A?v:_)||(_=_==null?[]:[_]),ad(f,y,_))},B.over=Zf,B.overArgs=zd,B.overEvery=lv,B.overSome=Jf,B.partial=Yc,B.partialRight=Cf,B.partition=ov,B.pick=$f,B.pickBy=Jc,B.property=el,B.propertyOf=function(f){return function(y){return f==null?v:Ei(f,y)}},B.pull=Md,B.pullAll=Uc,B.pullAllBy=function(f,y,_){return f&&f.length&&y&&y.length?wc(f,y,Dt(_,2)):f},B.pullAllWith=function(f,y,_){return f&&f.length&&y&&y.length?wc(f,y,v,_):f},B.pullAt=kd,B.range=Qf,B.rangeRight=fv,B.rearg=iv,B.reject=function(f,y){return(Xt(f)?Ar:_n)(f,Vc(Dt(y,3)))},B.remove=function(f,y){var _=[];if(!f||!f.length)return _;var A=-1,R=[],$=f.length;for(y=Dt(y,3);++A<$;){var ae=f[A];y(ae,A,f)&&(_.push(ae),R.push(A))}return ef(f,R),_},B.rest=function(f,y){if(typeof f!="function")throw new q(E);return tn(f,y=y===v?y:Vt(y))},B.reverse=Wc,B.sampleSize=function(f,y,_){return y=(_?Sr(f,y,_):y===v)?1:Vt(y),(Xt(f)?qp:nf)(f,y)},B.set=function(f,y,_){return f==null?f:ds(f,y,_)},B.setWith=function(f,y,_,A){return A=typeof A=="function"?A:v,f==null?f:ds(f,y,_,A)},B.shuffle=function(f){return(Xt(f)?Zp:cd)(f)},B.slice=function(f,y,_){var A=f==null?0:f.length;return A?(_&&typeof _!="number"&&Sr(f,y,_)?(y=0,_=A):(y=y==null?0:Vt(y),_=_===v?A:Vt(_)),fo(f,y,_)):[]},B.sortBy=Tf,B.sortedUniq=function(f){return f&&f.length?of(f):[]},B.sortedUniqBy=function(f,y){return f&&f.length?of(f,Dt(y,2)):[]},B.split=function(f,y,_){return _&&typeof _!="number"&&Sr(f,y,_)&&(y=_=v),(_=_===v?re:_>>>0)?(f=dn(f))&&(typeof y=="string"||y!=null&&!wu(y))&&!(y=Jr(y))&&Co(f)?wn(Zr(f),0,_):f.split(y,_):[]},B.spread=function(f,y){if(typeof f!="function")throw new q(E);return y=y==null?0:yr(Vt(y),0),tn(function(_){var A=_[y],R=wn(_,0,y);return A&&ur(R,A),An(f,this,R)})},B.tail=function(f){var y=f==null?0:f.length;return y?fo(f,1,y):[]},B.take=function(f,y,_){return f&&f.length?fo(f,0,(y=_||y===v?1:Vt(y))<0?0:y):[]},B.takeRight=function(f,y,_){var A=f==null?0:f.length;return A?fo(f,(y=A-(y=_||y===v?1:Vt(y)))<0?0:y,A):[]},B.takeRightWhile=function(f,y){return f&&f.length?Sc(f,Dt(y,3),!1,!0):[]},B.takeWhile=function(f,y){return f&&f.length?Sc(f,Dt(y,3)):[]},B.tap=function(f,y){return y(f),f},B.throttle=function(f,y,_){var A=!0,R=!0;if(typeof f!="function")throw new q(E);return $n(_)&&(A="leading"in _?!!_.leading:A,R="trailing"in _?!!_.trailing:R),Ft(f,y,{leading:A,maxWait:y,trailing:R})},B.thru=Gc,B.toArray=Ud,B.toPairs=Hf,B.toPairsIn=Qc,B.toPath=function(f){return Xt(f)?ln(f,zo):Xr(f)?[f]:Qr(Ef(dn(f)))},B.toPlainObject=Bf,B.transform=function(f,y,_){var A=Xt(f),R=A||Hr(f)||ki(f);if(y=Dt(y,4),_==null){var $=f&&f.constructor;_=R?A?new $:[]:$n(f)&&So($)?cu(_i(f)):{}}return(R?Fr:yt)(f,function(ae,fe,Oe){return y(_,ae,fe,Oe)}),_},B.unary=function(f){return Id(f,1)},B.union=Td,B.unionBy=Nd,B.unionWith=Dd,B.uniq=function(f){return f&&f.length?Zi(f):[]},B.uniqBy=function(f,y){return f&&f.length?Zi(f,Dt(y,2)):[]},B.uniqWith=function(f,y){return y=typeof y=="function"?y:v,f&&f.length?Zi(f,v,y):[]},B.unset=function(f,y){return f==null||Ec(f,y)},B.unzip=ws,B.unzipWith=gu,B.update=function(f,y,_){return f==null?f:fd(f,y,cf(_))},B.updateWith=function(f,y,_,A){return A=typeof A=="function"?A:v,f==null?f:fd(f,y,cf(_),A)},B.values=ra,B.valuesIn=function(f){return f==null?[]:eu(f,Rr(f))},B.without=Dr,B.words=js,B.wrap=function(f,y){return Yc(cf(y),f)},B.xor=ev,B.xorBy=tv,B.xorWith=Pf,B.zip=Cd,B.zipObject=function(f,y){return sf(f||[],y||[],lu)},B.zipObjectDeep=function(f,y){return sf(f||[],y||[],ds)},B.zipWith=eo,B.entries=Hf,B.entriesIn=Qc,B.extend=Ma,B.extendWith=na,jo(B,B),B.add=ep,B.attempt=Ps,B.camelCase=Xf,B.capitalize=Eu,B.ceil=Qd,B.clamp=function(f,y,_){return _===v&&(_=y,y=v),_!==v&&(_=(_=Cr(_))==_?_:0),y!==v&&(y=(y=Cr(y))==y?y:0),qi(Cr(f),y,_)},B.clone=function(f){return lo(f,4)},B.cloneDeep=function(f){return lo(f,5)},B.cloneDeepWith=function(f,y){return lo(f,5,y=typeof y=="function"?y:v)},B.cloneWith=function(f,y){return lo(f,4,y=typeof y=="function"?y:v)},B.conformsTo=function(f,y){return y==null||Kl(f,y,Yn(y))},B.deburr=Ti,B.defaultTo=function(f,y){return f==null||f!=f?y:f},B.divide=Ns,B.endsWith=function(f,y,_){f=dn(f),y=Jr(y);var A=f.length,R=_=_===v?A:qi(Vt(_),0,A);return(_-=y.length)>=0&&f.slice(_,R)==y},B.eq=Fo,B.escape=function(f){return(f=dn(f))&&pt.test(f)?f.replace(bt,Jn):f},B.escapeRegExp=function(f){return(f=dn(f))&&Rn.test(f)?f.replace(Sn,"\\$&"):f},B.every=function(f,y,_){var A=Xt(f)?sc:ed;return _&&Sr(f,y,_)&&(y=v),A(f,Dt(y,3))},B.find=Af,B.findIndex=jf,B.findKey=function(f,y){return No(f,Dt(y,3),yt)},B.findLast=Mf,B.findLastIndex=Fc,B.findLastKey=function(f,y){return No(f,Dt(y,3),Nn)},B.floor=Ds,B.forEach=$c,B.forEachRight=kf,B.forIn=function(f,y){return f==null?f:Jt(f,Dt(y,3),Rr)},B.forInRight=function(f,y){return f==null?f:nr(f,Dt(y,3),Rr)},B.forOwn=function(f,y){return f&&yt(f,Dt(y,3))},B.forOwnRight=function(f,y){return f&&Nn(f,Dt(y,3))},B.get=xu,B.gt=av,B.gte=xs,B.has=function(f,y){return f!=null&&Rc(f,y,td)},B.hasIn=Zc,B.head=Ad,B.identity=Vr,B.includes=function(f,y,_,A){f=to(f)?f:ra(f),_=_&&!A?Vt(_):0;var R=f.length;return _<0&&(_=yr(R+_,0)),qc(f)?_<=R&&f.indexOf(y,_)>-1:!!R&&Vi(f,y,_)>-1},B.indexOf=function(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=_==null?0:Vt(_);return R<0&&(R=yr(A+R,0)),Vi(f,y,R)},B.inRange=function(f,y,_){return y=ii(y),_===v?(_=y,y=0):_=ii(_),function(A,R,$){return A>=Tr(R,$)&&A<yr(R,$)}(f=Cr(f),y,_)},B.invoke=Vd,B.isArguments=Aa,B.isArray=Xt,B.isArrayBuffer=uv,B.isArrayLike=to,B.isArrayLikeObject=Bn,B.isBoolean=function(f){return f===!0||f===!1||Vn(f)&&Wn(f)==H},B.isBuffer=Hr,B.isDate=Rf,B.isElement=function(f){return Vn(f)&&f.nodeType===1&&!Ou(f)},B.isEmpty=function(f){if(f==null)return!0;if(to(f)&&(Xt(f)||typeof f=="string"||typeof f.splice=="function"||Hr(f)||ki(f)||Aa(f)))return!f.length;var y=Nr(f);if(y==ne||y==je)return!f.size;if(Te(f))return!Si(f).length;for(var _ in f)if(ot.call(f,_))return!1;return!0},B.isEqual=function(f,y){return pu(f,y)},B.isEqualWith=function(f,y,_){var A=(_=typeof _=="function"?_:v)?_(f,y):v;return A===v?pu(f,y,v,_):!!A},B.isError=Or,B.isFinite=function(f){return typeof f=="number"&&Hp(f)},B.isFunction=So,B.isInteger=_u,B.isLength=Kc,B.isMap=If,B.isMatch=function(f,y){return f===y||_c(f,y,vf(y))},B.isMatchWith=function(f,y,_){return _=typeof _=="function"?_:v,_c(f,y,vf(y),_)},B.isNaN=function(f){return Lf(f)&&f!=+f},B.isNative=function(f){if(Jy(f))throw new en("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return du(f)},B.isNil=function(f){return f==null},B.isNull=function(f){return f===null},B.isNumber=Lf,B.isObject=$n,B.isObjectLike=Vn,B.isPlainObject=Ou,B.isRegExp=wu,B.isSafeInteger=function(f){return _u(f)&&f>=-9007199254740991&&f<=W},B.isSet=Bd,B.isString=qc,B.isSymbol=Xr,B.isTypedArray=ki,B.isUndefined=function(f){return f===v},B.isWeakMap=function(f){return Vn(f)&&Nr(f)==Me},B.isWeakSet=function(f){return Vn(f)&&Wn(f)=="[object WeakSet]"},B.join=function(f,y){return f==null?"":$l.call(f,y)},B.kebabCase=Kd,B.last=Gn,B.lastIndexOf=function(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=A;return _!==v&&(R=(R=Vt(_))<0?yr(A+R,0):Tr(R,A-1)),y==y?function($,ae,fe){for(var Oe=fe+1;Oe--;)if($[Oe]===ae)return Oe;return Oe}(f,y,R):Jo(f,Qo,R,!0)},B.lowerCase=qd,B.lowerFirst=Vf,B.lt=Fd,B.lte=zf,B.max=function(f){return f&&f.length?Qn(f,Vr,Xn):v},B.maxBy=function(f,y){return f&&f.length?Qn(f,Dt(y,2),Xn):v},B.mean=function(f){return un(f,Vr)},B.meanBy=function(f,y){return un(f,Dt(y,2))},B.min=function(f){return f&&f.length?Qn(f,Vr,ji):v},B.minBy=function(f,y){return f&&f.length?Qn(f,Dt(y,2),ji):v},B.stubArray=Ni,B.stubFalse=Ts,B.stubObject=function(){return{}},B.stubString=function(){return""},B.stubTrue=function(){return!0},B.multiply=eh,B.nth=function(f,y){return f&&f.length?id(f,Vt(y)):v},B.noConflict=function(){return Hn._===this&&(Hn._=Ln),this},B.noop=ks,B.now=Hc,B.pad=function(f,y,_){f=dn(f);var A=(y=Vt(y))?Ro(f):0;if(!y||A>=y)return f;var R=(y-A)/2;return bs(ou(R),_)+f+bs(lc(R),_)},B.padEnd=function(f,y,_){f=dn(f);var A=(y=Vt(y))?Ro(f):0;return y&&A<y?f+bs(y-A,_):f},B.padStart=function(f,y,_){f=dn(f);var A=(y=Vt(y))?Ro(f):0;return y&&A<y?bs(y-A,_)+f:f},B.parseInt=function(f,y,_){return _||y==null?y=0:y&&(y=+y),pc(dn(f).replace(zt,""),y||0)},B.random=function(f,y,_){if(_&&typeof _!="boolean"&&Sr(f,y,_)&&(y=_=v),_===v&&(typeof y=="boolean"?(_=y,y=v):typeof f=="boolean"&&(_=f,f=v)),f===v&&y===v?(f=0,y=1):(f=ii(f),y===v?(y=f,f=0):y=ii(y)),f>y){var A=f;f=y,y=A}if(_||f%1||y%1){var R=dc();return Tr(f+R*(y-f+Hi("1e-"+((R+"").length-1))),y)}return tf(f,y)},B.reduce=function(f,y,_){var A=Xt(f)?Za:hr,R=arguments.length<3;return A(f,Dt(y,4),_,R,zn)},B.reduceRight=function(f,y,_){var A=Xt(f)?cc:hr,R=arguments.length<3;return A(f,Dt(y,4),_,R,Qp)},B.repeat=function(f,y,_){return y=(_?Sr(f,y,_):y===v)?1:Vt(y),xc(dn(f),y)},B.replace=function(){var f=arguments,y=dn(f[0]);return f.length<3?y:y.replace(f[1],f[2])},B.result=function(f,y,_){var A=-1,R=(y=mn(y,f)).length;for(R||(R=1,f=v);++A<R;){var $=f==null?v:f[zo(y[A])];$===v&&(A=R,$=_),f=So($)?$.call(f):$}return f},B.round=th,B.runInContext=we,B.sample=function(f){return(Xt(f)?Vl:Hy)(f)},B.size=function(f){if(f==null)return 0;if(to(f))return qc(f)?Ro(f):f.length;var y=Nr(f);return y==ne||y==je?f.size:Si(f).length},B.snakeCase=Yf,B.some=function(f,y,_){var A=Xt(f)?os:Vy;return _&&Sr(f,y,_)&&(y=v),A(f,Dt(y,3))},B.sortedIndex=function(f,y){return hs(f,y)},B.sortedIndexBy=function(f,y,_){return rf(f,y,Dt(_,2))},B.sortedIndexOf=function(f,y){var _=f==null?0:f.length;if(_){var A=hs(f,y);if(A<_&&Fo(f[A],y))return A}return-1},B.sortedLastIndex=function(f,y){return hs(f,y,!0)},B.sortedLastIndexBy=function(f,y,_){return rf(f,y,Dt(_,2),!0)},B.sortedLastIndexOf=function(f,y){if(f!=null&&f.length){var _=hs(f,y,!0)-1;if(Fo(f[_],y))return _}return-1},B.startCase=sv,B.startsWith=function(f,y,_){return f=dn(f),_=_==null?0:qi(Vt(_),0,f.length),y=Jr(y),f.slice(_,_+y.length)==y},B.subtract=wr,B.sum=function(f){return f&&f.length?Qa(f,Vr):0},B.sumBy=function(f,y){return f&&f.length?Qa(f,Dt(y,2)):0},B.template=function(f,y,_){var A=B.templateSettings;_&&Sr(f,y,_)&&(y=v),f=dn(f),y=na({},y,A,wd);var R,$,ae=na({},y.imports,A.imports,wd),fe=Yn(ae),Oe=eu(ae,fe),Le=0,De=y.interpolate||Mt,$e="__p += '",ut=M((y.escape||Mt).source+"|"+De.source+"|"+(De===Wt?ht:Mt).source+"|"+(y.evaluate||Mt).source+"|$","g"),vt="//# sourceURL="+(ot.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oc+"]")+`
`;f.replace(ut,function(Xe,Tt,st,le,Ut,on){return st||(st=le),$e+=f.slice(Le,on).replace(Bt,_a),Tt&&(R=!0,$e+=`' +
__e(`+Tt+`) +
'`),Ut&&($=!0,$e+=`';
`+Ut+`;
__p += '`),st&&($e+=`' +
((__t = (`+st+`)) == null ? '' : __t) +
'`),Le=on+Xe.length,Xe}),$e+=`';
`;var At=ot.call(y,"variable")&&y.variable;if(At){if(Ze.test(At))throw new en("Invalid `variable` option passed into `_.template`")}else $e=`with (obj) {
`+$e+`
}
`;$e=($?$e.replace(ze,""):$e).replace(jt,"$1").replace(It,"$1;"),$e="function("+(At||"obj")+`) {
`+(At?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$e+`return __p
}`;var Be=Ps(function(){return Tn(fe,vt+"return "+$e).apply(v,Oe)});if(Be.source=$e,Or(Be))throw Be;return Be},B.times=function(f,y){if((f=Vt(f))<1||f>W)return[];var _=re,A=Tr(f,re);y=Dt(y),f-=re;for(var R=ba(A,y);++_<f;)y(_);return R},B.toFinite=ii,B.toInteger=Vt,B.toLength=Wd,B.toLower=function(f){return dn(f).toLowerCase()},B.toNumber=Cr,B.toSafeInteger=function(f){return f?qi(Vt(f),-9007199254740991,W):f===0?f:0},B.toString=dn,B.toUpper=function(f){return dn(f).toUpperCase()},B.trim=function(f,y,_){if((f=dn(f))&&(_||y===v))return is(f);if(!f||!(y=Jr(y)))return f;var A=Zr(f),R=Zr(y);return wn(A,uo(A,R),as(A,R)+1).join("")},B.trimEnd=function(f,y,_){if((f=dn(f))&&(_||y===v))return f.slice(0,Gr(f)+1);if(!f||!(y=Jr(y)))return f;var A=Zr(f);return wn(A,0,as(A,Zr(y))+1).join("")},B.trimStart=function(f,y,_){if((f=dn(f))&&(_||y===v))return f.replace(zt,"");if(!f||!(y=Jr(y)))return f;var A=Zr(f);return wn(A,uo(A,Zr(y))).join("")},B.truncate=function(f,y){var _=30,A="...";if($n(y)){var R="separator"in y?y.separator:R;_="length"in y?Vt(y.length):_,A="omission"in y?Jr(y.omission):A}var $=(f=dn(f)).length;if(Co(f)){var ae=Zr(f);$=ae.length}if(_>=$)return f;var fe=_-Ro(A);if(fe<1)return A;var Oe=ae?wn(ae,0,fe).join(""):f.slice(0,fe);if(R===v)return Oe+A;if(ae&&(fe+=Oe.length-fe),wu(R)){if(f.slice(fe).search(R)){var Le,De=Oe;for(R.global||(R=M(R.source,dn(Kt.exec(R))+"g")),R.lastIndex=0;Le=R.exec(De);)var $e=Le.index;Oe=Oe.slice(0,$e===v?fe:$e)}}else if(f.indexOf(Jr(R),fe)!=fe){var ut=Oe.lastIndexOf(R);ut>-1&&(Oe=Oe.slice(0,ut))}return Oe+A},B.unescape=function(f){return(f=dn(f))&&ke.test(f)?f.replace(kt,so):f},B.uniqueId=function(f){var y=++jn;return dn(f)+y},B.upperCase=Zd,B.upperFirst=Ss,B.each=$c,B.eachRight=kf,B.first=Ad,jo(B,(Cs={},yt(B,function(f,y){ot.call(B.prototype,y)||(Cs[y]=f)}),Cs),{chain:!1}),B.VERSION="4.17.21",Fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){B[f].placeholder=B}),Fr(["drop","take"],function(f,y){cn.prototype[f]=function(_){_=_===v?1:yr(Vt(_),0);var A=this.__filtered__&&!y?new cn(this):this.clone();return A.__filtered__?A.__takeCount__=Tr(_,A.__takeCount__):A.__views__.push({size:Tr(_,re),type:f+(A.__dir__<0?"Right":"")}),A},cn.prototype[f+"Right"]=function(_){return this.reverse()[f](_).reverse()}}),Fr(["filter","map","takeWhile"],function(f,y){var _=y+1,A=_==1||_==3;cn.prototype[f]=function(R){var $=this.clone();return $.__iteratees__.push({iteratee:Dt(R,3),type:_}),$.__filtered__=$.__filtered__||A,$}}),Fr(["head","last"],function(f,y){var _="take"+(y?"Right":"");cn.prototype[f]=function(){return this[_](1).value()[0]}}),Fr(["initial","tail"],function(f,y){var _="drop"+(y?"":"Right");cn.prototype[f]=function(){return this.__filtered__?new cn(this):this[_](1)}}),cn.prototype.compact=function(){return this.filter(Vr)},cn.prototype.find=function(f){return this.filter(f).head()},cn.prototype.findLast=function(f){return this.reverse().find(f)},cn.prototype.invokeMap=tn(function(f,y){return typeof f=="function"?new cn(this):this.map(function(_){return fu(_,f,y)})}),cn.prototype.reject=function(f){return this.filter(Vc(Dt(f)))},cn.prototype.slice=function(f,y){f=Vt(f);var _=this;return _.__filtered__&&(f>0||y<0)?new cn(_):(f<0?_=_.takeRight(-f):f&&(_=_.drop(f)),y!==v&&(_=(y=Vt(y))<0?_.dropRight(-y):_.take(y-f)),_)},cn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},cn.prototype.toArray=function(){return this.take(re)},yt(cn.prototype,function(f,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),A=/^(?:head|last)$/.test(y),R=B[A?"take"+(y=="last"?"Right":""):y],$=A||/^find/.test(y);R&&(B.prototype[y]=function(){var ae=this.__wrapped__,fe=A?[1]:arguments,Oe=ae instanceof cn,Le=fe[0],De=Oe||Xt(ae),$e=function(Tt){var st=R.apply(B,ur([Tt],fe));return A&&ut?st[0]:st};De&&_&&typeof Le=="function"&&Le.length!=1&&(Oe=De=!1);var ut=this.__chain__,vt=!!this.__actions__.length,At=$&&!ut,Be=Oe&&!vt;if(!$&&De){ae=Be?ae:new cn(this);var Xe=f.apply(ae,fe);return Xe.__actions__.push({func:Gc,args:[$e],thisArg:v}),new Oo(Xe,ut)}return At&&Be?f.apply(this,fe):(Xe=this.thru($e),At?A?Xe.value()[0]:Xe.value():Xe)})}),Fr(["pop","push","shift","sort","splice","unshift"],function(f){var y=de[f],_=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",A=/^(?:pop|shift)$/.test(f);B.prototype[f]=function(){var R=arguments;if(A&&!this.__chain__){var $=this.value();return y.apply(Xt($)?$:[],R)}return this[_](function(ae){return y.apply(Xt(ae)?ae:[],R)})}}),yt(cn.prototype,function(f,y){var _=B[y];if(_){var A=_.name+"";ot.call(su,A)||(su[A]=[]),su[A].push({name:y,func:_})}}),su[Mc(v,2).name]=[{name:"wrapper",func:v}],cn.prototype.clone=function(){var f=new cn(this.__wrapped__);return f.__actions__=Qr(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Qr(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Qr(this.__views__),f},cn.prototype.reverse=function(){if(this.__filtered__){var f=new cn(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},cn.prototype.value=function(){var f=this.__wrapped__.value(),y=this.__dir__,_=Xt(f),A=y<0,R=_?f.length:0,$=function(on,xt,Ct){for(var cr=-1,no=Ct.length;++cr<no;){var Uo=Ct[cr],lr=Uo.size;switch(Uo.type){case"drop":on+=lr;break;case"dropRight":xt-=lr;break;case"take":xt=Tr(xt,on+lr);break;case"takeRight":on=yr(on,xt-lr)}}return{start:on,end:xt}}(0,R,this.__views__),ae=$.start,fe=$.end,Oe=fe-ae,Le=A?fe:ae-1,De=this.__iteratees__,$e=De.length,ut=0,vt=Tr(Oe,this.__takeCount__);if(!_||!A&&R==Oe&&vt==Oe)return af(f,this.__actions__);var At=[];e:for(;Oe--&&ut<vt;){for(var Be=-1,Xe=f[Le+=y];++Be<$e;){var Tt=De[Be],st=Tt.iteratee,le=Tt.type,Ut=st(Xe);if(le==2)Xe=Ut;else if(!Ut){if(le==1)continue e;break e}}At[ut++]=Xe}return At},B.prototype.at=Eo,B.prototype.chain=function(){return rr(this)},B.prototype.commit=function(){return new Oo(this.value(),this.__chain__)},B.prototype.next=function(){this.__values__===v&&(this.__values__=Ud(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?v:this.__values__[this.__index__++]}},B.prototype.plant=function(f){for(var y,_=this;_ instanceof fs;){var A=Sf(_);A.__index__=0,A.__values__=v,y?R.__wrapped__=A:y=A;var R=A;_=_.__wrapped__}return R.__wrapped__=f,y},B.prototype.reverse=function(){var f=this.__wrapped__;if(f instanceof cn){var y=f;return this.__actions__.length&&(y=new cn(this)),(y=y.reverse()).__actions__.push({func:Gc,args:[Wc],thisArg:v}),new Oo(y,this.__chain__)}return this.thru(Wc)},B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=function(){return af(this.__wrapped__,this.__actions__)},B.prototype.first=B.prototype.head,Oi&&(B.prototype[Oi]=function(){return this}),B}();Hn._=Io,(m=(function(){return Io}).call(l,o,l,h))===v||(h.exports=m)}).call(this)}).call(this,o(68),o(221)(u))},function(u,l,o){var d=o(7),h=o(34),m=o(33),v=o(87),E=o(62),j=o(174),S=o(28),T=d.TypeError,k=S("toPrimitive");u.exports=function(C,N){if(!m(C)||v(C))return C;var I,G=E(C,k);if(G){if(N===void 0&&(N="default"),I=h(G,C,N),!m(I)||v(I))return I;throw T("Can't convert object to primitive value")}return N===void 0&&(N="number"),j(C,N)}},function(u,l,o){var d=o(108);u.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,l,o){var d=o(36),h=o(18),m=o(91);u.exports=!d&&!h(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(u,l,o){var d=o(35),h=o(135),m=o(50),v=o(38);u.exports=function(E,j){for(var S=h(j),T=v.f,k=m.f,C=0;C<S.length;C++){var N=S[C];d(E,N)||T(E,N,k(j,N))}}},function(u,l,o){var d=o(46),h=o(15),m=o(74),v=o(112),E=o(32),j=h([].concat);u.exports=d("Reflect","ownKeys")||function(S){var T=m.f(E(S)),k=v.f;return k?j(T,k(S)):T}},function(u,l,o){var d=o(15),h=o(35),m=o(41),v=o(137).indexOf,E=o(72),j=d([].push);u.exports=function(S,T){var k,C=m(S),N=0,I=[];for(k in C)!h(E,k)&&h(C,k)&&j(I,k);for(;T.length>N;)h(C,k=T[N++])&&(~v(I,k)||j(I,k));return I}},function(u,l,o){var d=o(41),h=o(75),m=o(45),v=function(E){return function(j,S,T){var k,C=d(j),N=m(C),I=h(T,N);if(E&&S!=S){for(;N>I;)if((k=C[I++])!=k)return!0}else for(;N>I;I++)if((E||I in C)&&C[I]===S)return E||I||0;return!E&&-1}};u.exports={includes:v(!0),indexOf:v(!1)}},function(u,l,o){var d=o(46);u.exports=d("document","documentElement")},function(u,l,o){var d=o(51),h=o(41),m=o(74).f,v=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(j){return E&&d(j)=="Window"?function(S){try{return m(S)}catch{return v(E)}}(j):m(h(j))}},function(u,l,o){var d=o(28);l.f=d},function(u,l,o){var d=o(177),h=o(35),m=o(140),v=o(38).f;u.exports=function(E){var j=d.Symbol||(d.Symbol={});h(j,E)||v(j,E,{value:m.f(E)})}},function(u,l,o){var d,h,m,v=o(18),E=o(30),j=o(60),S=o(101),T=o(42),k=o(28),C=o(71),N=k("iterator"),I=!1;[].keys&&("next"in(m=[].keys())?(h=S(S(m)))!==Object.prototype&&(d=h):I=!0),d==null||v(function(){var G={};return d[N].call(G)!==G})?d={}:C&&(d=j(d)),E(d[N])||T(d,N,function(){return this}),u.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:I}},function(u,l,o){var d=o(18);u.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(u,l,o){var d=o(16),h=o(15),m=o(72),v=o(33),E=o(35),j=o(38).f,S=o(74),T=o(139),k=o(183),C=o(90),N=o(185),I=!1,G=C("meta"),W=0,K=function(oe){j(oe,G,{value:{objectID:"O"+W++,weakData:{}}})},re=u.exports={enable:function(){re.enable=function(){},I=!0;var oe=S.f,Z=h([].splice),J={};J[G]=1,oe(J).length&&(S.f=function(H){for(var F=oe(H),X=0,Y=F.length;X<Y;X++)if(F[X]===G){Z(F,X,1);break}return F},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},fastKey:function(oe,Z){if(!v(oe))return typeof oe=="symbol"?oe:(typeof oe=="string"?"S":"P")+oe;if(!E(oe,G)){if(!k(oe))return"F";if(!Z)return"E";K(oe)}return oe[G].objectID},getWeakData:function(oe,Z){if(!E(oe,G)){if(!k(oe))return!0;if(!Z)return!1;K(oe)}return oe[G].weakData},onFreeze:function(oe){return N&&I&&k(oe)&&!E(oe,G)&&K(oe),oe}};m[G]=!0},function(u,l,o){var d=o(28),h=o(80),m=d("iterator"),v=Array.prototype;u.exports=function(E){return E!==void 0&&(h.Array===E||v[m]===E)}},function(u,l,o){var d=o(7),h=o(34),m=o(56),v=o(32),E=o(88),j=o(118),S=d.TypeError;u.exports=function(T,k){var C=arguments.length<2?j(T):k;if(m(C))return v(h(C,T));throw S(E(T)+" is not iterable")}},function(u,l,o){var d=o(34),h=o(32),m=o(62);u.exports=function(v,E,j){var S,T;h(v);try{if(!(S=m(v,"return"))){if(E==="throw")throw j;return j}S=d(S,v)}catch(k){T=!0,S=k}if(E==="throw")throw j;if(T)throw S;return h(S),j}},function(u,l,o){var d=o(30),h=o(33),m=o(102);u.exports=function(v,E,j){var S,T;return m&&d(S=E.constructor)&&S!==j&&h(T=S.prototype)&&T!==j.prototype&&m(v,T),v}},function(u,l,o){var d=o(42);u.exports=function(h,m,v){for(var E in m)d(h,E,m[E],v);return h}},function(u,l,o){var d=o(46),h=o(38),m=o(28),v=o(36),E=m("species");u.exports=function(j){var S=d(j),T=h.f;v&&S&&!S[E]&&T(S,E,{configurable:!0,get:function(){return this}})}},function(u,l,o){var d=o(15),h=o(59),m=o(39),v=o(44),E=d("".charAt),j=d("".charCodeAt),S=d("".slice),T=function(k){return function(C,N){var I,G,W=m(v(C)),K=h(N),re=W.length;return K<0||K>=re?k?"":void 0:(I=j(W,K))<55296||I>56319||K+1===re||(G=j(W,K+1))<56320||G>57343?k?E(W,K):I:k?S(W,K,K+2):G-56320+(I-55296<<10)+65536}};u.exports={codeAt:T(!1),charAt:T(!0)}},function(u,l){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,l,o){var d=o(91)("span").classList,h=d&&d.constructor&&d.constructor.prototype;u.exports=h===Object.prototype?void 0:h},function(u,l,o){var d=o(32);u.exports=function(){var h=d(this),m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),h.dotAll&&(m+="s"),h.unicode&&(m+="u"),h.sticky&&(m+="y"),m}},function(u,l,o){var d=o(18),h=o(7).RegExp,m=d(function(){var j=h("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),v=m||d(function(){return!h("a","y").sticky}),E=m||d(function(){var j=h("^r","gy");return j.lastIndex=2,j.exec("str")!=null});u.exports={BROKEN_CARET:E,MISSED_STICKY:v,UNSUPPORTED_Y:m}},function(u,l,o){var d=o(16),h=o(79).find,m=o(100),v="find",E=!0;v in[]&&Array(1).find(function(){E=!1}),d({target:"Array",proto:!0,forced:E},{find:function(j){return h(this,j,arguments.length>1?arguments[1]:void 0)}}),m(v)},function(u,l,o){var d=o(16),h=o(137).includes,m=o(100);d({target:"Array",proto:!0},{includes:function(v){return h(this,v,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(u,l,o){var d=o(16),h=o(15),m=o(197),v=o(44),E=o(39),j=o(198),S=h("".indexOf);d({target:"String",proto:!0,forced:!j("includes")},{includes:function(T){return!!~S(E(v(this)),E(m(T)),arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var d=o(33),h=o(51),m=o(28)("match");u.exports=function(v){var E;return d(v)&&((E=v[m])!==void 0?!!E:h(v)=="RegExp")}},function(u,l,o){var d=o(15);u.exports=d(1 .valueOf)},function(u,l,o){var d=o(15),h=o(44),m=o(39),v=o(162),E=d("".replace),j="["+v+"]",S=RegExp("^"+j+j+"*"),T=RegExp(j+j+"*$"),k=function(C){return function(N){var I=m(h(N));return 1&C&&(I=E(I,S,"")),2&C&&(I=E(I,T,"")),I}};u.exports={start:k(1),end:k(2),trim:k(3)}},function(u,l){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,l){var o,d,h=u.exports={};function m(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function E(W){if(o===setTimeout)return setTimeout(W,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(W,0);try{return o(W,0)}catch{try{return o.call(null,W,0)}catch{return o.call(this,W,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch{o=m}try{d=typeof clearTimeout=="function"?clearTimeout:v}catch{d=v}})();var j,S=[],T=!1,k=-1;function C(){T&&j&&(T=!1,j.length?S=j.concat(S):k=-1,S.length&&N())}function N(){if(!T){var W=E(C);T=!0;for(var K=S.length;K;){for(j=S,S=[];++k<K;)j&&j[k].run();k=-1,K=S.length}j=null,T=!1,function(re){if(d===clearTimeout)return clearTimeout(re);if((d===v||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(re);try{d(re)}catch{try{return d.call(null,re)}catch{return d.call(this,re)}}}(W)}}function I(W,K){this.fun=W,this.array=K}function G(){}h.nextTick=function(W){var K=new Array(arguments.length-1);if(arguments.length>1)for(var re=1;re<arguments.length;re++)K[re-1]=arguments[re];S.push(new I(W,K)),S.length!==1||T||E(N)},I.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=G,h.addListener=G,h.once=G,h.off=G,h.removeListener=G,h.removeAllListeners=G,h.emit=G,h.prependListener=G,h.prependOnceListener=G,h.listeners=function(W){return[]},h.binding=function(W){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(W){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(u,l,o){var d=o(32),h=o(165),m=o(28)("species");u.exports=function(v,E){var j,S=d(v).constructor;return S===void 0||(j=d(S)[m])==null?E:h(j)}},function(u,l,o){var d=o(7),h=o(99),m=o(88),v=d.TypeError;u.exports=function(E){if(h(E))return E;throw v(m(E)+" is not a constructor")}},function(u,l,o){var d=o(16),h=o(161).trim;d({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return h(this)}})},function(u,l,o){var d=o(34),h=o(123),m=o(32),v=o(94),E=o(39),j=o(44),S=o(62),T=o(124),k=o(125);h("match",function(C,N,I){return[function(G){var W=j(this),K=G==null?void 0:S(G,C);return K?d(K,G,W):new RegExp(G)[C](E(W))},function(G){var W=m(this),K=E(G),re=I(N,W,K);if(re.done)return re.value;if(!W.global)return k(W,K);var oe=W.unicode;W.lastIndex=0;for(var Z,J=[],H=0;(Z=k(W,K))!==null;){var F=E(Z[0]);J[H]=F,F===""&&(W.lastIndex=T(K,v(W.lastIndex),oe)),H++}return H===0?null:J}]})},function(u,l,o){var d,h,m,v,E=o(7),j=o(76),S=o(64),T=o(30),k=o(35),C=o(18),N=o(138),I=o(98),G=o(91),W=o(169),K=o(128),re=E.setImmediate,oe=E.clearImmediate,Z=E.process,J=E.Dispatch,H=E.Function,F=E.MessageChannel,X=E.String,Y=0,Q={},ne="onreadystatechange";try{d=E.location}catch{}var Se=function(je){if(k(Q,je)){var ve=Q[je];delete Q[je],ve()}},_e=function(je){return function(){Se(je)}},Ae=function(je){Se(je.data)},Fe=function(je){E.postMessage(X(je),d.protocol+"//"+d.host)};re&&oe||(re=function(je){var ve=I(arguments,1);return Q[++Y]=function(){j(T(je)?je:H(je),void 0,ve)},h(Y),Y},oe=function(je){delete Q[je]},K?h=function(je){Z.nextTick(_e(je))}:J&&J.now?h=function(je){J.now(_e(je))}:F&&!W?(v=(m=new F).port2,m.port1.onmessage=Ae,h=S(v.postMessage,v)):E.addEventListener&&T(E.postMessage)&&!E.importScripts&&d&&d.protocol!=="file:"&&!C(Fe)?(h=Fe,E.addEventListener("message",Ae,!1)):h=ne in G("script")?function(je){N.appendChild(G("script")).onreadystatechange=function(){N.removeChild(this),Se(je)}}:function(je){setTimeout(_e(je),0)}),u.exports={set:re,clear:oe}},function(u,l,o){var d=o(55);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(u,l,o){var d=o(56),h=function(m){var v,E;this.promise=new m(function(j,S){if(v!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");v=j,E=S}),this.resolve=d(v),this.reject=d(E)};u.exports.f=function(m){return new h(m)}},function(u,l,o){l.a=function(){return!1}},function(u,l,o){(function(d){o.d(l,"a",function(){return Z});var h=o(1);function m(F){throw new Error("[mobx-utils] "+F)}function v(F,X){X===void 0&&(X="Illegal state"),F||m(X)}var E=function(F){return F&&F!==Object.prototype&&Object.getOwnPropertyNames(F).concat(E(Object.getPrototypeOf(F))||[])},j=function(F){return function(X){var Y=E(X);return Y.filter(function(Q,ne){return Y.indexOf(Q)===ne})}(F).filter(function(X){return X!=="constructor"&&!~X.indexOf("__")})},S="pending",T="fulfilled",k="rejected";function C(F){switch(this.state){case S:return F.pending&&F.pending(this.value);case k:return F.rejected&&F.rejected(this.value);case T:return F.fulfilled?F.fulfilled(this.value):this.value}}function N(F,X){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof F=="function"||typeof F=="object"&&F&&typeof F.then=="function","Please pass a promise or function to fromPromise"),F.isPromiseBasedObservable===!0)return F;typeof F=="function"&&(F=new Promise(F));var Y=F;F.then(Object(h.k)("observableFromPromise-resolve",function(ne){Y.value=ne,Y.state=T}),Object(h.k)("observableFromPromise-reject",function(ne){Y.value=ne,Y.state=k})),Y.isPromiseBasedObservable=!0,Y.case=C;var Q=X&&X.state===T?X.value:void 0;return Object(h.q)(Y,{value:Q,state:S},{},{deep:!1}),Y}(function(F){F.reject=Object(h.k)("fromPromise.reject",function(X){var Y=F(Promise.reject(X));return Y.state=k,Y.value=X,Y}),F.resolve=Object(h.k)("fromPromise.resolve",function(X){X===void 0&&(X=void 0);var Y=F(Promise.resolve(X));return Y.state=T,Y.value=X,Y})})(N||(N={}));var I=function(F,X,Y,Q){var ne,Se=arguments.length,_e=Se<3?X:Q===null?Q=Object.getOwnPropertyDescriptor(X,Y):Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate(F,X,Y,Q);else for(var Ae=F.length-1;Ae>=0;Ae--)(ne=F[Ae])&&(_e=(Se<3?ne(_e):Se>3?ne(X,Y,_e):ne(X,Y))||_e);return Se>3&&_e&&Object.defineProperty(X,Y,_e),_e};(function(){function F(X,Y){var Q=this;Object(h.G)(function(){Q.current=Y,Q.subscription=X.subscribe(Q)})}F.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},F.prototype.next=function(X){this.current=X},F.prototype.complete=function(){this.dispose()},F.prototype.error=function(X){this.current=X,this.dispose()},I([h.C.ref],F.prototype,"current",void 0),I([h.k.bound],F.prototype,"next",null),I([h.k.bound],F.prototype,"complete",null),I([h.k.bound],F.prototype,"error",null)})();var G=function(){return G=Object.assign||function(F){for(var X,Y=1,Q=arguments.length;Y<Q;Y++)for(var ne in X=arguments[Y])Object.prototype.hasOwnProperty.call(X,ne)&&(F[ne]=X[ne]);return F},G.apply(this,arguments)},W=function(F,X,Y,Q){var ne,Se=arguments.length,_e=Se<3?X:Q===null?Q=Object.getOwnPropertyDescriptor(X,Y):Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate(F,X,Y,Q);else for(var Ae=F.length-1;Ae>=0;Ae--)(ne=F[Ae])&&(_e=(Se<3?ne(_e):Se>3?ne(X,Y,_e):ne(X,Y))||_e);return Se>3&&_e&&Object.defineProperty(X,Y,_e),_e},K=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function F(X){var Y=this;this.model=X,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(Q){return Y.localValues.has(Q)},v(Object(h.A)(X),"createViewModel expects an observable object"),j(X).forEach(function(Q){if(Q!==h.a&&Q!=="__mobxDidRunLazyInitializers"){if(v(K.indexOf(Q)===-1,"The propertyname "+Q+" is reserved and cannot be used with viewModels"),Object(h.w)(X,Q)){var ne=Object(h.h)(X,Q).derivation;Y.localComputedValues.set(Q,Object(h.m)(ne.bind(Y)))}var Se=Object.getOwnPropertyDescriptor(X,Q),_e=Se?{enumerable:Se.enumerable}:{};Object.defineProperty(Y,Q,G(G({},_e),{configurable:!0,get:function(){return Object(h.w)(X,Q)?Y.localComputedValues.get(Q).get():Y.isPropertyDirty(Q)?Y.localValues.get(Q):Y.model[Q]},set:Object(h.k)(function(Ae){Ae!==Y.model[Q]?Y.localValues.set(Q,Ae):Y.localValues.delete(Q)})}))}})}Object.defineProperty(F.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),F.prototype.submit=function(){var X=this;Object(h.B)(this.localValues).forEach(function(Y){var Q=X.localValues.get(Y),ne=X.model[Y];Object(h.y)(ne)?ne.replace(Q):Object(h.z)(ne)?(ne.clear(),ne.merge(Q)):Object(h.v)(Q)||(X.model[Y]=Q)}),this.localValues.clear()},F.prototype.reset=function(){this.localValues.clear()},F.prototype.resetProperty=function(X){this.localValues.delete(X)},W([h.m],F.prototype,"isDirty",null),W([h.m],F.prototype,"changedValues",null),W([h.k.bound],F.prototype,"submit",null),W([h.k.bound],F.prototype,"reset",null),W([h.k.bound],F.prototype,"resetProperty",null)})();function re(F){if(!F)return"ROOT";for(var X=[];F.parent;)X.push(F.path),F=F.parent;return X.reverse().join("/")}function oe(F){return Object(h.A)(F)||Object(h.y)(F)||Object(h.z)(F)}function Z(F,X){var Y=new WeakMap;function Q(_e){var Ae=Y.get(_e.object);(function(Fe,je){switch(Fe.type){case"add":ne(Fe.newValue,je,Fe.name);break;case"update":Se(Fe.oldValue),ne(Fe.newValue,je,Fe.name||""+Fe.index);break;case"remove":case"delete":Se(Fe.oldValue);break;case"splice":Fe.removed.map(Se),Fe.added.forEach(function(Me,Ge){return ne(Me,je,""+(Fe.index+Ge))});for(var ve=Fe.index+Fe.addedCount;ve<Fe.object.length;ve++)if(oe(Fe.object[ve])){var Pe=Y.get(Fe.object[ve]);Pe&&(Pe.path=""+ve)}}})(_e,Ae),X(_e,re(Ae),F)}function ne(_e,Ae,Fe){if(oe(_e)){var je=Y.get(_e);if(je){if(je.parent!==Ae||je.path!==Fe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+re(Ae)+"/"+Fe+"', but it already exists at '"+re(je.parent)+"/"+je.path+"'")}else{var ve={parent:Ae,path:Fe,dispose:Object(h.D)(_e,Q)};Y.set(_e,ve),Object(h.p)(_e).forEach(function(Pe){var Me=Pe[0];return ne(Pe[1],ve,Me)})}}}function Se(_e){if(oe(_e)){var Ae=Y.get(_e);if(!Ae)return;Y.delete(_e),Ae.dispose(),Object(h.L)(_e).forEach(Se)}}return ne(F,void 0,""),function(){Se(F)}}var J,H=(J=function(F,X){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,Q){Y.__proto__=Q}||function(Y,Q){for(var ne in Q)Q.hasOwnProperty(ne)&&(Y[ne]=Q[ne])},J(F,X)},function(F,X){function Y(){this.constructor=F}J(F,X),F.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)});(function(F){function X(Y,Q,ne){var Se=ne===void 0?{}:ne,_e=Se.name,Ae=_e===void 0?"ogm"+(1e3*Math.random()|0):_e,Fe=Se.keyToName,je=Fe===void 0?function(Me){return""+Me}:Fe,ve=F.call(this)||this;ve._keyToName=je,ve._groupBy=Q,ve._ogmInfoKey=Symbol("ogmInfo"+Ae),ve._base=Y;for(var Pe=0;Pe<Y.length;Pe++)ve._addItem(Y[Pe]);return ve._disposeBaseObserver=Object(h.D)(ve._base,function(Me){if(Me.type==="splice")Object(h.J)(function(){for(var Ge=0,at=Me.removed;Ge<at.length;Ge++){var St=at[Ge];ve._removeItem(St)}for(var qe=0,tt=Me.added;qe<tt.length;qe++){var _t=tt[qe];ve._addItem(_t)}});else{if(Me.type!=="update")throw new Error("illegal state");Object(h.J)(function(){ve._removeItem(Me.oldValue),ve._addItem(Me.newValue)})}}),ve}H(X,F),X.prototype.clear=function(){throw new Error("not supported")},X.prototype.delete=function(Y){throw new Error("not supported")},X.prototype.set=function(Y,Q){throw new Error("not supported")},X.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var Q=this._base[Y];Q[this._ogmInfoKey].reaction(),delete Q[this._ogmInfoKey]}},X.prototype._getGroupArr=function(Y){var Q=F.prototype.get.call(this,Y);return Q===void 0&&(Q=Object(h.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),F.prototype.set.call(this,Y,Q)),Q},X.prototype._removeFromGroupArr=function(Y,Q){var ne=F.prototype.get.call(this,Y);ne.length===1?F.prototype.delete.call(this,Y):(Q===ne.length-1||(ne[Q]=ne[ne.length-1],ne[Q][this._ogmInfoKey].groupArrIndex=Q),ne.length--)},X.prototype._addItem=function(Y){var Q=this,ne=this._groupBy(Y),Se=this._getGroupArr(ne),_e={groupByValue:ne,groupArrIndex:Se.length,reaction:Object(h.F)(function(){return Q._groupBy(Y)},function(Ae,Fe){var je=Y[Q._ogmInfoKey];Q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=Q._getGroupArr(Ae),Pe=ve.length;ve.push(Y),je.groupByValue=Ae,je.groupArrIndex=Pe})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:_e}),Se.push(Y)},X.prototype._removeItem=function(Y){var Q=Y[this._ogmInfoKey];this._removeFromGroupArr(Q.groupByValue,Q.groupArrIndex),Q.reaction(),delete Y[this._ogmInfoKey]}})(h.b),function(){function F(X,Y){this.base=X,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var Q=this.closest=this.root=X,ne=0;ne<this.args.length-1&&(Q=Q.get(Y[ne]));ne++)this.closest=Q;this.closestIdx=ne}return F.prototype.exists=function(){this.assertNotDisposed();var X=this.args.length;return this.closestIdx>=X-1&&this.closest.has(this.args[X-1])},F.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},F.prototype.set=function(X){this.assertNotDisposed();for(var Y=this.args.length,Q=this.closest,ne=this.closestIdx;ne<Y-1;ne++){var Se=new Map;Q.set(this.args[ne],Se),Q=Se}this.closestIdx=Y-1,this.closest=Q,Q.set(this.args[Y-1],X)},F.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var X=this.args.length;this.closest.delete(this.args[X-1]);for(var Y=this.root,Q=[Y],ne=0;ne<X-1;ne++)Y=Y.get(this.args[ne]),Q.push(Y);for(ne=Q.length-1;ne>0;ne--)Q[ne].size===0&&Q[ne-1].delete(this.args[ne-1]);this.isDisposed=!0},F.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},F}(),Promise.resolve(),typeof queueMicrotask<"u"||d!==void 0&&d.nextTick}).call(this,o(163))},function(u,l,o){var d;(function(h,m,v){if(h){for(var E,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)j[111+C]="f"+C;for(C=0;C<=9;++C)j[C+96]=C.toString();oe.prototype.bind=function(Z,J,H){var F=this;return Z=Z instanceof Array?Z:[Z],F._bindMultiple.call(F,Z,J,H),F},oe.prototype.unbind=function(Z,J){return this.bind.call(this,Z,function(){},J)},oe.prototype.trigger=function(Z,J){var H=this;return H._directMap[Z+":"+J]&&H._directMap[Z+":"+J]({},Z),H},oe.prototype.reset=function(){var Z=this;return Z._callbacks={},Z._directMap={},Z},oe.prototype.stopCallback=function(Z,J){if((" "+J.className+" ").indexOf(" mousetrap ")>-1||re(J,this.target))return!1;if("composedPath"in Z&&typeof Z.composedPath=="function"){var H=Z.composedPath()[0];H!==Z.target&&(J=H)}return J.tagName=="INPUT"||J.tagName=="SELECT"||J.tagName=="TEXTAREA"||J.isContentEditable},oe.prototype.handleKey=function(){var Z=this;return Z._handleKey.apply(Z,arguments)},oe.addKeycodes=function(Z){for(var J in Z)Z.hasOwnProperty(J)&&(j[J]=Z[J]);E=null},oe.init=function(){var Z=oe(m);for(var J in Z)J.charAt(0)!=="_"&&(oe[J]=function(H){return function(){return Z[H].apply(Z,arguments)}}(J))},oe.init(),h.Mousetrap=oe,u.exports&&(u.exports=oe),(d=(function(){return oe}).call(l,o,l,u))===void 0||(u.exports=d)}function N(Z,J,H){Z.addEventListener?Z.addEventListener(J,H,!1):Z.attachEvent("on"+J,H)}function I(Z){if(Z.type=="keypress"){var J=String.fromCharCode(Z.which);return Z.shiftKey||(J=J.toLowerCase()),J}return j[Z.which]?j[Z.which]:S[Z.which]?S[Z.which]:String.fromCharCode(Z.which).toLowerCase()}function G(Z){return Z=="shift"||Z=="ctrl"||Z=="alt"||Z=="meta"}function W(Z,J,H){return H||(H=function(){if(!E)for(var F in E={},j)F>95&&F<112||j.hasOwnProperty(F)&&(E[j[F]]=F);return E}()[Z]?"keydown":"keypress"),H=="keypress"&&J.length&&(H="keydown"),H}function K(Z,J){var H,F,X,Y=[];for(H=function(Q){return Q==="+"?["+"]:(Q=Q.replace(/\+{2}/g,"+plus")).split("+")}(Z),X=0;X<H.length;++X)F=H[X],k[F]&&(F=k[F]),J&&J!="keypress"&&T[F]&&(F=T[F],Y.push("shift")),G(F)&&Y.push(F);return{key:F,modifiers:Y,action:J=W(F,Y,J)}}function re(Z,J){return Z!==null&&Z!==m&&(Z===J||re(Z.parentNode,J))}function oe(Z){var J=this;if(Z=Z||m,!(J instanceof oe))return new oe(Z);J.target=Z,J._callbacks={},J._directMap={};var H,F={},X=!1,Y=!1,Q=!1;function ne(ve){ve=ve||{};var Pe,Me=!1;for(Pe in F)ve[Pe]?Me=!0:F[Pe]=0;Me||(Q=!1)}function Se(ve,Pe,Me,Ge,at,St){var qe,tt,_t,ce,se=[],ye=Me.type;if(!J._callbacks[ve])return[];for(ye=="keyup"&&G(ve)&&(Pe=[ve]),qe=0;qe<J._callbacks[ve].length;++qe)if(tt=J._callbacks[ve][qe],(Ge||!tt.seq||F[tt.seq]==tt.level)&&ye==tt.action&&(ye=="keypress"&&!Me.metaKey&&!Me.ctrlKey||(_t=Pe,ce=tt.modifiers,_t.sort().join(",")===ce.sort().join(",")))){var Ne=!Ge&&tt.combo==at,Ye=Ge&&tt.seq==Ge&&tt.level==St;(Ne||Ye)&&J._callbacks[ve].splice(qe,1),se.push(tt)}return se}function _e(ve,Pe,Me,Ge){J.stopCallback(Pe,Pe.target||Pe.srcElement,Me,Ge)||ve(Pe,Me)===!1&&(function(at){at.preventDefault?at.preventDefault():at.returnValue=!1}(Pe),function(at){at.stopPropagation?at.stopPropagation():at.cancelBubble=!0}(Pe))}function Ae(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Pe=I(ve);Pe&&(ve.type!="keyup"||X!==Pe?J.handleKey(Pe,function(Me){var Ge=[];return Me.shiftKey&&Ge.push("shift"),Me.altKey&&Ge.push("alt"),Me.ctrlKey&&Ge.push("ctrl"),Me.metaKey&&Ge.push("meta"),Ge}(ve),ve):X=!1)}function Fe(ve,Pe,Me,Ge){function at(_t){return function(){Q=_t,++F[ve],clearTimeout(H),H=setTimeout(ne,1e3)}}function St(_t){_e(Me,_t,ve),Ge!=="keyup"&&(X=I(_t)),setTimeout(ne,10)}F[ve]=0;for(var qe=0;qe<Pe.length;++qe){var tt=qe+1===Pe.length?St:at(Ge||K(Pe[qe+1]).action);je(Pe[qe],tt,Ge,ve,qe)}}function je(ve,Pe,Me,Ge,at){J._directMap[ve+":"+Me]=Pe;var St,qe=(ve=ve.replace(/\s+/g," ")).split(" ");qe.length>1?Fe(ve,qe,Pe,Me):(St=K(ve,Me),J._callbacks[St.key]=J._callbacks[St.key]||[],Se(St.key,St.modifiers,{type:St.action},Ge,ve,at),J._callbacks[St.key][Ge?"unshift":"push"]({callback:Pe,modifiers:St.modifiers,action:St.action,seq:Ge,level:at,combo:ve}))}J._handleKey=function(ve,Pe,Me){var Ge,at=Se(ve,Pe,Me),St={},qe=0,tt=!1;for(Ge=0;Ge<at.length;++Ge)at[Ge].seq&&(qe=Math.max(qe,at[Ge].level));for(Ge=0;Ge<at.length;++Ge)if(at[Ge].seq){if(at[Ge].level!=qe)continue;tt=!0,St[at[Ge].seq]=1,_e(at[Ge].callback,Me,at[Ge].combo,at[Ge].seq)}else tt||_e(at[Ge].callback,Me,at[Ge].combo);var _t=Me.type=="keypress"&&Y;Me.type!=Q||G(ve)||_t||ne(St),Y=tt&&Me.type=="keydown"},J._bindMultiple=function(ve,Pe,Me){for(var Ge=0;Ge<ve.length;++Ge)je(ve[Ge],Pe,Me)},N(Z,"keypress",Ae),N(Z,"keydown",Ae),N(Z,"keyup",Ae)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,l,o){var d=o(7),h=o(34),m=o(30),v=o(33),E=d.TypeError;u.exports=function(j,S){var T,k;if(S==="string"&&m(T=j.toString)&&!v(k=h(T,j))||m(T=j.valueOf)&&!v(k=h(T,j))||S!=="string"&&m(T=j.toString)&&!v(k=h(T,j)))return k;throw E("Can't convert object to primitive value")}},function(u,l,o){var d=o(7),h=o(30),m=o(92),v=d.WeakMap;u.exports=h(v)&&/native code/.test(m(v))},function(u,l,o){var d=o(36),h=o(38),m=o(32),v=o(41),E=o(77);u.exports=d?Object.defineProperties:function(j,S){m(j);for(var T,k=v(S),C=E(S),N=C.length,I=0;N>I;)h.f(j,T=C[I++],k[T]);return j}},function(u,l,o){var d=o(7);u.exports=d},function(u,l,o){var d=o(7),h=o(96),m=o(99),v=o(33),E=o(28)("species"),j=d.Array;u.exports=function(S){var T;return h(S)&&(T=S.constructor,(m(T)&&(T===j||h(T.prototype))||v(T)&&(T=T[E])===null)&&(T=void 0)),T===void 0?j:T}},function(u,l,o){var d=o(113),h=o(97);u.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},function(u,l,o){var d=o(142).IteratorPrototype,h=o(60),m=o(69),v=o(78),E=o(80),j=function(){return this};u.exports=function(S,T,k,C){var N=T+" Iterator";return S.prototype=h(d,{next:m(+!C,k)}),v(S,N,!1,!0),E[N]=j,S}},function(u,l,o){var d=o(7),h=o(30),m=d.String,v=d.TypeError;u.exports=function(E){if(typeof E=="object"||h(E))return E;throw v("Can't set "+m(E)+" as a prototype")}},function(u,l,o){var d=o(16),h=o(7),m=o(15),v=o(95),E=o(42),j=o(144),S=o(117),T=o(119),k=o(30),C=o(33),N=o(18),I=o(120),G=o(78),W=o(148);u.exports=function(K,re,oe){var Z=K.indexOf("Map")!==-1,J=K.indexOf("Weak")!==-1,H=Z?"set":"add",F=h[K],X=F&&F.prototype,Y=F,Q={},ne=function(ve){var Pe=m(X[ve]);E(X,ve,ve=="add"?function(Me){return Pe(this,Me===0?0:Me),this}:ve=="delete"?function(Me){return!(J&&!C(Me))&&Pe(this,Me===0?0:Me)}:ve=="get"?function(Me){return J&&!C(Me)?void 0:Pe(this,Me===0?0:Me)}:ve=="has"?function(Me){return!(J&&!C(Me))&&Pe(this,Me===0?0:Me)}:function(Me,Ge){return Pe(this,Me===0?0:Me,Ge),this})};if(v(K,!k(F)||!(J||X.forEach&&!N(function(){new F().entries().next()}))))Y=oe.getConstructor(re,K,Z,H),j.enable();else if(v(K,!0)){var Se=new Y,_e=Se[H](J?{}:-0,1)!=Se,Ae=N(function(){Se.has(1)}),Fe=I(function(ve){new F(ve)}),je=!J&&N(function(){for(var ve=new F,Pe=5;Pe--;)ve[H](Pe,Pe);return!ve.has(-0)});Fe||((Y=re(function(ve,Pe){T(ve,X);var Me=W(new F,ve,Y);return Pe!=null&&S(Pe,Me[H],{that:Me,AS_ENTRIES:Z}),Me})).prototype=X,X.constructor=Y),(Ae||je)&&(ne("delete"),ne("has"),Z&&ne("get")),(je||_e)&&ne(H),J&&X.clear&&delete X.clear}return Q[K]=Y,d({global:!0,forced:Y!=F},Q),G(Y,K),J||oe.setStrong(Y,K,Z),Y}},function(u,l,o){var d=o(18),h=o(33),m=o(51),v=o(184),E=Object.isExtensible,j=d(function(){});u.exports=j||v?function(S){return!!h(S)&&(!v||m(S)!="ArrayBuffer")&&(!E||E(S))}:E},function(u,l,o){var d=o(18);u.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(u,l,o){var d=o(18);u.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,l,o){var d=o(38).f,h=o(60),m=o(149),v=o(64),E=o(119),j=o(117),S=o(116),T=o(150),k=o(36),C=o(144).fastKey,N=o(58),I=N.set,G=N.getterFor;u.exports={getConstructor:function(W,K,re,oe){var Z=W(function(Y,Q){E(Y,J),I(Y,{type:K,index:h(null),first:void 0,last:void 0,size:0}),k||(Y.size=0),Q!=null&&j(Q,Y[oe],{that:Y,AS_ENTRIES:re})}),J=Z.prototype,H=G(K),F=function(Y,Q,ne){var Se,_e,Ae=H(Y),Fe=X(Y,Q);return Fe?Fe.value=ne:(Ae.last=Fe={index:_e=C(Q,!0),key:Q,value:ne,previous:Se=Ae.last,next:void 0,removed:!1},Ae.first||(Ae.first=Fe),Se&&(Se.next=Fe),k?Ae.size++:Y.size++,_e!=="F"&&(Ae.index[_e]=Fe)),Y},X=function(Y,Q){var ne,Se=H(Y),_e=C(Q);if(_e!=="F")return Se.index[_e];for(ne=Se.first;ne;ne=ne.next)if(ne.key==Q)return ne};return m(J,{clear:function(){for(var Y=H(this),Q=Y.index,ne=Y.first;ne;)ne.removed=!0,ne.previous&&(ne.previous=ne.previous.next=void 0),delete Q[ne.index],ne=ne.next;Y.first=Y.last=void 0,k?Y.size=0:this.size=0},delete:function(Y){var Q=this,ne=H(Q),Se=X(Q,Y);if(Se){var _e=Se.next,Ae=Se.previous;delete ne.index[Se.index],Se.removed=!0,Ae&&(Ae.next=_e),_e&&(_e.previous=Ae),ne.first==Se&&(ne.first=_e),ne.last==Se&&(ne.last=Ae),k?ne.size--:Q.size--}return!!Se},forEach:function(Y){for(var Q,ne=H(this),Se=v(Y,arguments.length>1?arguments[1]:void 0);Q=Q?Q.next:ne.first;)for(Se(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(Y){return!!X(this,Y)}}),m(J,re?{get:function(Y){var Q=X(this,Y);return Q&&Q.value},set:function(Y,Q){return F(this,Y===0?0:Y,Q)}}:{add:function(Y){return F(this,Y=Y===0?0:Y,Y)}}),k&&d(J,"size",{get:function(){return H(this).size}}),Z},setStrong:function(W,K,re){var oe=K+" Iterator",Z=G(K),J=G(oe);S(W,K,function(H,F){I(this,{type:oe,target:H,state:Z(H),kind:F,last:void 0})},function(){for(var H=J(this),F=H.kind,X=H.last;X&&X.removed;)X=X.previous;return H.target&&(H.last=X=X?X.next:H.state.first)?F=="keys"?{value:X.key,done:!1}:F=="values"?{value:X.value,done:!1}:{value:[X.key,X.value],done:!1}:(H.target=void 0,{value:void 0,done:!0})},re?"entries":"values",!re,!0),T(K)}}},function(u,l,o){var d=o(79).forEach,h=o(121)("forEach");u.exports=h?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},function(u,l,o){var d=o(7),h=o(64),m=o(34),v=o(40),E=o(189),j=o(145),S=o(99),T=o(45),k=o(63),C=o(146),N=o(118),I=d.Array;u.exports=function(G){var W=v(G),K=S(this),re=arguments.length,oe=re>1?arguments[1]:void 0,Z=oe!==void 0;Z&&(oe=h(oe,re>2?arguments[2]:void 0));var J,H,F,X,Y,Q,ne=N(W),Se=0;if(!ne||this==I&&j(ne))for(J=T(W),H=K?new this(J):I(J);J>Se;Se++)Q=Z?oe(W[Se],Se):W[Se],k(H,Se,Q);else for(Y=(X=C(W,ne)).next,H=K?new this:[];!(F=m(Y,X)).done;Se++)Q=Z?E(X,oe,[F.value,Se],!0):F.value,k(H,Se,Q);return H.length=Se,H}},function(u,l,o){var d=o(32),h=o(147);u.exports=function(m,v,E,j){try{return j?v(d(E)[0],E[1]):v(E)}catch(S){h(m,"throw",S)}}},function(u,l,o){var d=o(18),h=o(7).RegExp;u.exports=d(function(){var m=h(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(u,l,o){var d=o(18),h=o(7).RegExp;u.exports=d(function(){var m=h("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(u,l,o){var d=o(16),h=o(15),m=o(56),v=o(40),E=o(45),j=o(39),S=o(18),T=o(193),k=o(121),C=o(194),N=o(195),I=o(70),G=o(196),W=[],K=h(W.sort),re=h(W.push),oe=S(function(){W.sort(void 0)}),Z=S(function(){W.sort(null)}),J=k("sort"),H=!S(function(){if(I)return I<70;if(!(C&&C>3)){if(N)return!0;if(G)return G<603;var F,X,Y,Q,ne="";for(F=65;F<76;F++){switch(X=String.fromCharCode(F),F){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(Q=0;Q<47;Q++)W.push({k:X+Q,v:Y})}for(W.sort(function(Se,_e){return _e.v-Se.v}),Q=0;Q<W.length;Q++)X=W[Q].k.charAt(0),ne.charAt(ne.length-1)!==X&&(ne+=X);return ne!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:oe||!Z||!J||!H},{sort:function(F){F!==void 0&&m(F);var X=v(this);if(H)return F===void 0?K(X):K(X,F);var Y,Q,ne=[],Se=E(X);for(Q=0;Q<Se;Q++)Q in X&&re(ne,X[Q]);for(T(ne,function(_e){return function(Ae,Fe){return Fe===void 0?-1:Ae===void 0?1:_e!==void 0?+_e(Ae,Fe)||0:j(Ae)>j(Fe)?1:-1}}(F)),Y=ne.length,Q=0;Q<Y;)X[Q]=ne[Q++];for(;Q<Se;)delete X[Q++];return X}})},function(u,l,o){var d=o(114),h=Math.floor,m=function(j,S){var T=j.length,k=h(T/2);return T<8?v(j,S):E(j,m(d(j,0,k),S),m(d(j,k),S),S)},v=function(j,S){for(var T,k,C=j.length,N=1;N<C;){for(k=N,T=j[N];k&&S(j[k-1],T)>0;)j[k]=j[--k];k!==N++&&(j[k]=T)}return j},E=function(j,S,T,k){for(var C=S.length,N=T.length,I=0,G=0;I<C||G<N;)j[I+G]=I<C&&G<N?k(S[I],T[G])<=0?S[I++]:T[G++]:I<C?S[I++]:T[G++];return j};u.exports=m},function(u,l,o){var d=o(55).match(/firefox\/(\d+)/i);u.exports=!!d&&+d[1]},function(u,l,o){var d=o(55);u.exports=/MSIE|Trident/.test(d)},function(u,l,o){var d=o(55).match(/AppleWebKit\/(\d+)\./);u.exports=!!d&&+d[1]},function(u,l,o){var d=o(7),h=o(159),m=d.TypeError;u.exports=function(v){if(h(v))throw m("The method doesn't accept regular expressions");return v}},function(u,l,o){var d=o(28)("match");u.exports=function(h){var m=/./;try{"/./"[h](m)}catch{try{return m[d]=!1,"/./"[h](m)}catch{}}return!1}},function(u,l,o){o(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(u,l,o){var d=o(73).PROPER,h=o(18),m=o(162);u.exports=function(v){return h(function(){return!!m[v]()||"​᠎"[v]()!=="​᠎"||d&&m[v].name!==v})}},function(u,l,o){var d=o(15),h=o(40),m=Math.floor,v=d("".charAt),E=d("".replace),j=d("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;u.exports=function(k,C,N,I,G,W){var K=N+k.length,re=I.length,oe=T;return G!==void 0&&(G=h(G),oe=S),E(W,oe,function(Z,J){var H;switch(v(J,0)){case"$":return"$";case"&":return k;case"`":return j(C,0,N);case"'":return j(C,K);case"<":H=G[j(J,1,-1)];break;default:var F=+J;if(F===0)return Z;if(F>re){var X=m(F/10);return X===0?Z:X<=re?I[X-1]===void 0?v(J,1):I[X-1]+v(J,1):Z}H=I[F-1]}return H===void 0?"":H})}},function(u,l,o){var d=o(36),h=o(15),m=o(34),v=o(18),E=o(77),j=o(112),S=o(84),T=o(40),k=o(85),C=Object.assign,N=Object.defineProperty,I=h([].concat);u.exports=!C||v(function(){if(d&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},W={},K=Symbol(),re="abcdefghijklmnopqrst";return G[K]=7,re.split("").forEach(function(oe){W[oe]=oe}),C({},G)[K]!=7||E(C({},W)).join("")!=re})?function(G,W){for(var K=T(G),re=arguments.length,oe=1,Z=j.f,J=S.f;re>oe;)for(var H,F=k(arguments[oe++]),X=Z?I(E(F),Z(F)):E(F),Y=X.length,Q=0;Y>Q;)H=X[Q++],d&&!m(J,F,H)||(K[H]=F[H]);return K}:C},function(u,l,o){var d=o(7),h=o(15),m=o(56),v=o(33),E=o(35),j=o(98),S=d.Function,T=h([].concat),k=h([].join),C={},N=function(I,G,W){if(!E(C,G)){for(var K=[],re=0;re<G;re++)K[re]="a["+re+"]";C[G]=S("C,a","return new C("+k(K,",")+")")}return C[G](I,W)};u.exports=S.bind||function(I){var G=m(this),W=G.prototype,K=j(arguments,1),re=function(){var oe=T(K,j(arguments));return this instanceof re?N(G,oe.length,oe):G.apply(I,oe)};return v(W)&&(re.prototype=W),re}},function(u,l,o){var d=o(35);u.exports=function(h){return h!==void 0&&(d(h,"value")||d(h,"writable"))}},function(u,l,o){var d=o(15),h=o(44),m=o(39),v=/"/g,E=d("".replace);u.exports=function(j,S,T,k){var C=m(h(j)),N="<"+S;return T!==""&&(N+=" "+T+'="'+E(m(k),v,"&quot;")+'"'),N+">"+C+"</"+S+">"}},function(u,l,o){var d=o(18);u.exports=function(h){return d(function(){var m=""[h]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(u,l,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(u,l,o){var d,h,m,v,E=o(16),j=o(71),S=o(7),T=o(46),k=o(34),C=o(209),N=o(42),I=o(149),G=o(102),W=o(78),K=o(150),re=o(56),oe=o(30),Z=o(33),J=o(119),H=o(92),F=o(117),X=o(120),Y=o(164),Q=o(168).set,ne=o(210),Se=o(213),_e=o(214),Ae=o(170),Fe=o(215),je=o(58),ve=o(95),Pe=o(28),Me=o(216),Ge=o(128),at=o(70),St=Pe("species"),qe="Promise",tt=je.getterFor(qe),_t=je.set,ce=je.getterFor(qe),se=C&&C.prototype,ye=C,Ne=se,Ye=S.TypeError,ze=S.document,jt=S.process,It=Ae.f,kt=It,bt=!!(ze&&ze.createEvent&&S.dispatchEvent),ke=oe(S.PromiseRejectionEvent),pt="unhandledrejection",pe=!1,ct=ve(qe,function(){var ue=H(ye),be=ue!==String(ye);if(!be&&at===66||j&&!Ne.finally)return!0;if(at>=51&&/native code/.test(ue))return!1;var Ze=new ye(function(ht){ht(1)}),Je=function(ht){ht(function(){},function(){})};return(Ze.constructor={})[St]=Je,!(pe=Ze.then(function(){})instanceof Je)||!be&&Me&&!ke}),Wt=ct||!X(function(ue){ye.all(ue).catch(function(){})}),vn=function(ue){var be;return!(!Z(ue)||!oe(be=ue.then))&&be},Gt=function(ue,be){if(!ue.notified){ue.notified=!0;var Ze=ue.reactions;ne(function(){for(var Je=ue.value,ht=ue.state==1,Kt=0;Ze.length>Kt;){var ar,mr,Zn,tr=Ze[Kt++],lt=ht?tr.ok:tr.fail,wt=tr.resolve,Mt=tr.reject,Bt=tr.domain;try{lt?(ht||(ue.rejection===2&&zt(ue),ue.rejection=1),lt===!0?ar=Je:(Bt&&Bt.enter(),ar=lt(Je),Bt&&(Bt.exit(),Zn=!0)),ar===tr.promise?Mt(Ye("Promise-chain cycle")):(mr=vn(ar))?k(mr,ar,wt,Mt):wt(ar)):Mt(Je)}catch(On){Bt&&!Zn&&Bt.exit(),Mt(On)}}ue.reactions=[],ue.notified=!1,be&&!ue.rejection&&Sn(ue)})}},an=function(ue,be,Ze){var Je,ht;bt?((Je=ze.createEvent("Event")).promise=be,Je.reason=Ze,Je.initEvent(ue,!1,!0),S.dispatchEvent(Je)):Je={promise:be,reason:Ze},!ke&&(ht=S["on"+ue])?ht(Je):ue===pt&&_e("Unhandled promise rejection",Ze)},Sn=function(ue){k(Q,S,function(){var be,Ze=ue.facade,Je=ue.value;if(Rn(ue)&&(be=Fe(function(){Ge?jt.emit("unhandledRejection",Je,Ze):an(pt,Ze,Je)}),ue.rejection=Ge||Rn(ue)?2:1,be.error))throw be.value})},Rn=function(ue){return ue.rejection!==1&&!ue.parent},zt=function(ue){k(Q,S,function(){var be=ue.facade;Ge?jt.emit("rejectionHandled",be):an("rejectionhandled",be,ue.value)})},qn=function(ue,be,Ze){return function(Je){ue(be,Je,Ze)}},te=function(ue,be,Ze){ue.done||(ue.done=!0,Ze&&(ue=Ze),ue.value=be,ue.state=2,Gt(ue,!0))},he=function(ue,be,Ze){if(!ue.done){ue.done=!0,Ze&&(ue=Ze);try{if(ue.facade===be)throw Ye("Promise can't be resolved itself");var Je=vn(be);Je?ne(function(){var ht={done:!1};try{k(Je,be,qn(he,ht,ue),qn(te,ht,ue))}catch(Kt){te(ht,Kt,ue)}}):(ue.value=be,ue.state=1,Gt(ue,!1))}catch(ht){te({done:!1},ht,ue)}}};if(ct&&(Ne=(ye=function(ue){J(this,Ne),re(ue),k(d,this);var be=tt(this);try{ue(qn(he,be),qn(te,be))}catch(Ze){te(be,Ze)}}).prototype,(d=function(ue){_t(this,{type:qe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=I(Ne,{then:function(ue,be){var Ze=ce(this),Je=Ze.reactions,ht=It(Y(this,ye));return ht.ok=!oe(ue)||ue,ht.fail=oe(be)&&be,ht.domain=Ge?jt.domain:void 0,Ze.parent=!0,Je[Je.length]=ht,Ze.state!=0&&Gt(Ze,!1),ht.promise},catch:function(ue){return this.then(void 0,ue)}}),h=function(){var ue=new d,be=tt(ue);this.promise=ue,this.resolve=qn(he,be),this.reject=qn(te,be)},Ae.f=It=function(ue){return ue===ye||ue===m?new h(ue):kt(ue)},!j&&oe(C)&&se!==Object.prototype)){v=se.then,pe||(N(se,"then",function(ue,be){var Ze=this;return new ye(function(Je,ht){k(v,Ze,Je,ht)}).then(ue,be)},{unsafe:!0}),N(se,"catch",Ne.catch,{unsafe:!0}));try{delete se.constructor}catch{}G&&G(se,Ne)}E({global:!0,wrap:!0,forced:ct},{Promise:ye}),W(ye,qe,!1,!0),K(qe),m=T(qe),E({target:qe,stat:!0,forced:ct},{reject:function(ue){var be=It(this);return k(be.reject,void 0,ue),be.promise}}),E({target:qe,stat:!0,forced:j||ct},{resolve:function(ue){return Se(j&&this===m?ye:this,ue)}}),E({target:qe,stat:!0,forced:Wt},{all:function(ue){var be=this,Ze=It(be),Je=Ze.resolve,ht=Ze.reject,Kt=Fe(function(){var ar=re(be.resolve),mr=[],Zn=0,tr=1;F(ue,function(lt){var wt=Zn++,Mt=!1;tr++,k(ar,be,lt).then(function(Bt){Mt||(Mt=!0,mr[wt]=Bt,--tr||Je(mr))},ht)}),--tr||Je(mr)});return Kt.error&&ht(Kt.value),Ze.promise},race:function(ue){var be=this,Ze=It(be),Je=Ze.reject,ht=Fe(function(){var Kt=re(be.resolve);F(ue,function(ar){k(Kt,be,ar).then(Ze.resolve,Je)})});return ht.error&&Je(ht.value),Ze.promise}})},function(u,l,o){var d=o(7);u.exports=d.Promise},function(u,l,o){var d,h,m,v,E,j,S,T,k=o(7),C=o(64),N=o(50).f,I=o(168).set,G=o(169),W=o(211),K=o(212),re=o(128),oe=k.MutationObserver||k.WebKitMutationObserver,Z=k.document,J=k.process,H=k.Promise,F=N(k,"queueMicrotask"),X=F&&F.value;X||(d=function(){var Y,Q;for(re&&(Y=J.domain)&&Y.exit();h;){Q=h.fn,h=h.next;try{Q()}catch(ne){throw h?v():m=void 0,ne}}m=void 0,Y&&Y.enter()},G||re||K||!oe||!Z?!W&&H&&H.resolve?((S=H.resolve(void 0)).constructor=H,T=C(S.then,S),v=function(){T(d)}):re?v=function(){J.nextTick(d)}:(I=C(I,k),v=function(){I(d)}):(E=!0,j=Z.createTextNode(""),new oe(d).observe(j,{characterData:!0}),v=function(){j.data=E=!E})),u.exports=X||function(Y){var Q={fn:Y,next:void 0};m&&(m.next=Q),h||(h=Q,v()),m=Q}},function(u,l,o){var d=o(55),h=o(7);u.exports=/ipad|iphone|ipod/i.test(d)&&h.Pebble!==void 0},function(u,l,o){var d=o(55);u.exports=/web0s(?!.*chrome)/i.test(d)},function(u,l,o){var d=o(32),h=o(33),m=o(170);u.exports=function(v,E){if(d(v),h(E)&&E.constructor===v)return E;var j=m.f(v);return(0,j.resolve)(E),j.promise}},function(u,l,o){var d=o(7);u.exports=function(h,m){var v=d.console;v&&v.error&&(arguments.length==1?v.error(h):v.error(h,m))}},function(u,l){u.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},function(u,l){u.exports=typeof window=="object"},function(u,l,o){var d=o(40),h=o(75),m=o(45);u.exports=function(v){for(var E=d(this),j=m(E),S=arguments.length,T=h(S>1?arguments[1]:void 0,j),k=S>2?arguments[2]:void 0,C=k===void 0?j:h(k,j);C>T;)E[T++]=v;return E}},function(u,l,o){var d=o(16),h=o(7),m=o(15),v=o(59),E=o(160),j=o(219),S=o(18),T=h.RangeError,k=h.String,C=Math.floor,N=m(j),I=m("".slice),G=m(1 .toFixed),W=function(Z,J,H){return J===0?H:J%2==1?W(Z,J-1,H*Z):W(Z*Z,J/2,H)},K=function(Z,J,H){for(var F=-1,X=H;++F<6;)X+=J*Z[F],Z[F]=X%1e7,X=C(X/1e7)},re=function(Z,J){for(var H=6,F=0;--H>=0;)F+=Z[H],Z[H]=C(F/J),F=F%J*1e7},oe=function(Z){for(var J=6,H="";--J>=0;)if(H!==""||J===0||Z[J]!==0){var F=k(Z[J]);H=H===""?F:H+N("0",7-F.length)+F}return H};d({target:"Number",proto:!0,forced:S(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!S(function(){G({})})},{toFixed:function(Z){var J,H,F,X,Y=E(this),Q=v(Z),ne=[0,0,0,0,0,0],Se="",_e="0";if(Q<0||Q>20)throw T("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return k(Y);if(Y<0&&(Se="-",Y=-Y),Y>1e-21)if(H=(J=function(Ae){for(var Fe=0,je=Ae;je>=4096;)Fe+=12,je/=4096;for(;je>=2;)Fe+=1,je/=2;return Fe}(Y*W(2,69,1))-69)<0?Y*W(2,-J,1):Y/W(2,J,1),H*=4503599627370496,(J=52-J)>0){for(K(ne,0,H),F=Q;F>=7;)K(ne,1e7,0),F-=7;for(K(ne,W(10,F,1),0),F=J-1;F>=23;)re(ne,1<<23),F-=23;re(ne,1<<F),K(ne,1,1),re(ne,2),_e=oe(ne)}else K(ne,0,H),K(ne,1<<-J,0),_e=oe(ne)+N("0",Q);return _e=Q>0?Se+((X=_e.length)<=Q?"0."+N("0",Q-X)+_e:I(_e,0,X-Q)+"."+I(_e,X-Q)):Se+_e}})},function(u,l,o){var d=o(7),h=o(59),m=o(39),v=o(44),E=d.RangeError;u.exports=function(j){var S=m(v(this)),T="",k=h(j);if(k<0||k==1/0)throw E("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(S+=S))1&k&&(T+=S);return T}},function(u,l,o){var d=o(36),h=o(15),m=o(77),v=o(41),E=h(o(84).f),j=h([].push),S=function(T){return function(k){for(var C,N=v(k),I=m(N),G=I.length,W=0,K=[];G>W;)C=I[W++],d&&!E(N,C)||j(K,T?[C,N[C]]:N[C]);return K}};u.exports={entries:S(!0),values:S(!1)}},function(u,l){u.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(u,l,o){o.r(l),o.d(l,"observer",function(){return Bi}),o.d(l,"LogicFlow",function(){return Gm}),o.d(l,"h",function(){return pe.g}),o.d(l,"LogicFlowUtil",function(){return d}),o.d(l,"BaseNode",function(){return Ia}),o.d(l,"RectNode",function(){return Cg}),o.d(l,"CircleNode",function(){return zg}),o.d(l,"PolygonNode",function(){return Gg}),o.d(l,"DiamondNode",function(){return Vg}),o.d(l,"EllipseNode",function(){return Jg}),o.d(l,"TextNode",function(){return tm}),o.d(l,"HtmlNode",function(){return im}),o.d(l,"BaseEdge",function(){return pp}),o.d(l,"LineEdge",function(){return bm}),o.d(l,"PolylineEdge",function(){return Em}),o.d(l,"BezierEdge",function(){return Am}),o.d(l,"Arrow",function(){return oA}),o.d(l,"BaseEdgeModel",function(){return Af}),o.d(l,"BezierEdgeModel",function(){return Fv}),o.d(l,"LineEdgeModel",function(){return Xc}),o.d(l,"PolylineEdgeModel",function(){return So}),o.d(l,"BaseNodeModel",function(){return Ra}),o.d(l,"CircleNodeModel",function(){return Xv}),o.d(l,"DiamondNodeModel",function(){return Zv}),o.d(l,"EllipseNodeModel",function(){return tg}),o.d(l,"PolygonNodeModel",function(){return ug}),o.d(l,"RectNodeModel",function(){return fg}),o.d(l,"TextNodeModel",function(){return yg}),o.d(l,"HtmlNodeModel",function(){return mg}),o.d(l,"EditConfigModel",function(){return Zl}),o.d(l,"GraphModel",function(){return u0}),o.d(l,"SnaplineModel",function(){return $_}),o.d(l,"Keyboard",function(){return k1}),o.d(l,"get",function(){return k0}),o.d(l,"defaults",function(){return N0}),o.d(l,"ElementState",function(){return _n}),o.d(l,"ModelType",function(){return Jt}),o.d(l,"ElementType",function(){return nr}),o.d(l,"EventType",function(){return yt}),o.d(l,"formateAnchorConnectValidateData",function(){return gu});var d={};o.r(d),o.d(d,"createUuid",function(){return Mi}),o.d(d,"refreshGraphId",function(){return Zy}),o.d(d,"StepDrag",function(){return jo}),o.d(d,"setupEdgeModel",function(){return Ud}),o.d(d,"isBboxOverLapping",function(){return ii}),o.d(d,"filterRepeatPoints",function(){return Vt}),o.d(d,"getSimplePolyline",function(){return Wd}),o.d(d,"getExpandedBBox",function(){return Cr}),o.d(d,"pointDirection",function(){return Bf}),o.d(d,"getExpandedBBoxPoint",function(){return dn}),o.d(d,"mergeBBox",function(){return Ff}),o.d(d,"getBBoxOfPoints",function(){return Ma}),o.d(d,"getPointsFromBBox",function(){return na}),o.d(d,"isPointOutsideBBox",function(){return Es}),o.d(d,"getBBoxXCrossPoints",function(){return Gd}),o.d(d,"getBBoxYCrossPoints",function(){return $d}),o.d(d,"getBBoxCrossPointsByPoint",function(){return Hd}),o.d(d,"estimateDistance",function(){return xu}),o.d(d,"costByPoints",function(){return Zc}),o.d(d,"heuristicCostEstimate",function(){return Uf}),o.d(d,"rebuildPath",function(){return Xd}),o.d(d,"removeClosePointFromOpenList",function(){return Vd}),o.d(d,"isSegmentsIntersected",function(){return Yn}),o.d(d,"isSegmentCrossingBBox",function(){return Rr}),o.d(d,"getNextNeighborPoints",function(){return Yd}),o.d(d,"pathFinder",function(){return Wf}),o.d(d,"getBoxByOriginNode",function(){return Gf}),o.d(d,"pointFilter",function(){return $f}),o.d(d,"getPolylinePoints",function(){return Jc}),o.d(d,"getLongestEdge",function(){return Hf}),o.d(d,"isSegmentsInNode",function(){return Qc}),o.d(d,"isSegmentsCrossNode",function(){return ra}),o.d(d,"getCrossPointInRect",function(){return Xf}),o.d(d,"segmentDirection",function(){return Eu}),o.d(d,"points2PointsList",function(){return Ti}),o.d(d,"getSimplePoints",function(){return Kd}),o.d(d,"getBytesLength",function(){return Vf}),o.d(d,"getTextWidth",function(){return sv}),o.d(d,"getAppendAttributes",function(){return Zd}),o.d(d,"getBezierControlPoints",function(){return Ss}),o.d(d,"getBezierPoints",function(){return js}),o.d(d,"getEndTangent",function(){return Kf}),o.d(d,"getClosestPointOfPolyline",function(){return As}),o.d(d,"pickEdgeConfig",function(){return Jd}),o.d(d,"twoPointDistance",function(){return qf}),o.d(d,"createEdgeGenerator",function(){return Vr}),o.d(d,"snapToGrid",function(){return Ji}),o.d(d,"getGridOffset",function(){return Mc}),o.d(d,"sampleCubic",function(){return $n}),o.d(d,"getThetaOfVector",function(){return If}),o.d(d,"degrees",function(){return Lf}),o.d(d,"Vector",function(){return wr}),o.d(d,"Point",function(){return f}),o.d(d,"Matrix",function(){return ui}),o.d(d,"RotateMatrix",function(){return oa}),o.d(d,"ScaleMatrix",function(){return tp}),o.d(d,"TranslateMatrix",function(){return ju});var h=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=o(43),E=Object(v.b)("observerBatching");function j(t){t()}var S=!1;function T(){return S}function k(t){return Object(h.t)(t)}var C,N=1e4,I=new Set;function G(){C===void 0&&(C=setTimeout(W,1e4))}function W(){C=void 0;var t=Date.now();I.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,I.delete(e))}),I.size>0&&G()}var K=!1,re=[],oe={};function Z(t){return"observer"+t}function J(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=oe),T();var r,c=function(x){return function(){K?re.push(x):x()}}((n.useForceUpdate||v.d)()),s=m.d.useRef(null);if(!s.current){var p=new h.c(Z(e),function(){g.mounted?c():(p.dispose(),s.current=null)}),g=function(x){return{cleanAt:Date.now()+N,reaction:x}}(p);s.current=g,r=s,I.add(r),G()}var b=s.current.reaction;return m.d.useDebugValue(b,k),m.d.useEffect(function(){var x;return x=s,I.delete(x),s.current?s.current.mounted=!0:(s.current={reaction:new h.c(Z(e),function(){c()}),cleanAt:1/0},c()),function(){s.current.reaction.dispose(),s.current=null}},[]),function(x){K=!0,re=[];try{var P=x();K=!1;var D=re.length>0?re:void 0;return m.d.useLayoutEffect(function(){D&&D.forEach(function(L){return L()})},[D]),P}finally{K=!1}}(function(){var x,P;if(b.track(function(){try{x=t()}catch(D){P=D}}),P)throw P;return x})}var H=function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var c in e=arguments[n])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t},H.apply(this,arguments)};function F(t,e){var n,r,c,s=H({forwardRef:!1},e),p=t.displayName||t.name,g=function(b,x){return J(function(){return t(b,x)},p)};return g.displayName=p,n=s.forwardRef?Object(m.f)(Object(m.e)(g)):Object(m.f)(g),r=t,c=n,Object.keys(r).forEach(function(b){X[b]||Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=p,n}var X={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:J(r)}function Q(t,e,n,r,c){var s=e==="children"?"render":"children",p=typeof t[e]=="function",g=typeof t[s]=="function";return p&&g?new Error("MobX Observer: Do not use children and render in the same time in`"+n):p||g?null:new Error("Invalid prop `"+c+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:Q,render:Q},Y.displayName="Observer";var ne;(ne=m.g)||(ne=j),Object(h.n)({reactionScheduler:ne}),Object(v.a)()[E]=!0;var Se=0,_e={};function Ae(t){return _e[t]||(_e[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Se+")";return Se++,n}(t)),_e[t]}function Fe(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var c=0;c<n.length;c++)if(!Object.hasOwnProperty.call(e,n[c])||!je(t[n[c]],e[n[c]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Ae("patchMixins"),Me=Ae("patchedDefinition");function Ge(t,e){for(var n=this,r=arguments.length,c=new Array(r>2?r-2:0),s=2;s<r;s++)c[s-2]=arguments[s];e.locks++;try{var p;return t!=null&&(p=t.apply(this,c)),p}finally{e.locks--,e.locks===0&&e.methods.forEach(function(g){g.apply(n,c)})}}function at(t,e){return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];Ge.call.apply(Ge,[this,t,e].concat(r))}}function St(t,e,n){var r=function(g,b){var x=g[Pe]=g[Pe]||{},P=x[b]=x[b]||{};return P.locks=P.locks||0,P.methods=P.methods||[],P}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var c=Object.getOwnPropertyDescriptor(t,e);if(!c||!c[Me]){var s=t[e],p=qe(t,e,c?c.enumerable:void 0,r,s);Object.defineProperty(t,e,p)}}function qe(t,e,n,r,c){var s,p=at(c,r);return(s={})[Me]=!0,s.get=function(){return p},s.set=function(g){if(this===t)p=at(g,r);else{var b=qe(this,e,n,r,g);Object.defineProperty(this,e,b)}},s.configurable=!0,s.enumerable=n,s}var tt=h.a||"$mobx",_t=Ae("isMobXReactObserver"),ce=Ae("isUnmounted"),se=Ae("skipRender"),ye=Ae("isForcingUpdate");function Ne(t){var e=t.prototype;if(t[_t]?Ye(e):t[_t]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==jt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=jt;It(e,"props"),It(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},St(e,"componentWillUnmount",function(){var r;(r=this.render[tt])===null||r===void 0||r.dispose(),this[ce]=!0,!this.render[tt]&&Ye(this)}),t}function Ye(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ve(this,se,!1),ve(this,ye,!1);var n=Ye(this),r=t.bind(this),c=!1,s=new h.c(n+".render()",function(){if(!c&&(c=!0,e[ce]!==!0)){var g=!0;try{ve(e,ye,!0),e[se]||m.a.prototype.forceUpdate.call(e),g=!1}finally{ve(e,ye,!1),g&&s.dispose()}}});function p(){c=!1;var g=void 0,b=void 0;if(s.track(function(){try{b=Object(h.d)(!1,r)}catch(x){g=x}}),g)throw g;return b}return s.reactComponent=this,p[tt]=s,this.render=p,p.call(this)}function jt(t,e){return this.state!==e||!Fe(this.props,t)}function It(t,e){var n=Ae("reactProp_"+e+"_valueHolder"),r=Ae("reactProp_"+e+"_atomHolder");function c(){return this[r]||ve(this,r,Object(h.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var s=!1;return h.f&&h.e&&(s=Object(h.f)(!0)),c.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(s),this[n]},set:function(s){this[ye]||Fe(this[n],s)?ve(this,n,s):(ve(this,n,s),ve(this,se,!0),c.call(this).reportChanged(),ve(this,se,!1))}})}var kt=typeof Symbol=="function"&&Symbol.for,bt=kt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,ke=kt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function pt(t){if(t.isMobxInjector,ke&&t.$$typeof===ke)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(bt&&t.$$typeof===bt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?Ne(t):F(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var ct=function(t,e){for(var n=-1,r=t==null?0:t.length,c=Array(r);++n<r;)c[n]=e(t[n],n,t);return c},Wt=function(){this.__data__=[],this.size=0},vn=function(t,e){return t===e||t!=t&&e!=e},Gt=function(t,e){for(var n=t.length;n--;)if(vn(t[n][0],e))return n;return-1},an=Array.prototype.splice,Sn=function(t){var e=this.__data__,n=Gt(e,t);return!(n<0)&&(n==e.length-1?e.pop():an.call(e,n,1),--this.size,!0)},Rn=function(t){var e=this.__data__,n=Gt(e,t);return n<0?void 0:e[n][1]},zt=function(t){return Gt(this.__data__,t)>-1},qn=function(t,e){var n=this.__data__,r=Gt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function te(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}te.prototype.clear=Wt,te.prototype.delete=Sn,te.prototype.get=Rn,te.prototype.has=zt,te.prototype.set=qn;var he=te,ue=function(){this.__data__=new he,this.size=0},be=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ze=function(t){return this.__data__.get(t)},Je=function(t){return this.__data__.has(t)},ht=o(31),Kt=ht.a.Symbol,ar=Object.prototype,mr=ar.hasOwnProperty,Zn=ar.toString,tr=Kt?Kt.toStringTag:void 0,lt=function(t){var e=mr.call(t,tr),n=t[tr];try{t[tr]=void 0;var r=!0}catch{}var c=Zn.call(t);return r&&(e?t[tr]=n:delete t[tr]),c},wt=Object.prototype.toString,Mt=function(t){return wt.call(t)},Bt=Kt?Kt.toStringTag:void 0,On=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Bt&&Bt in Object(t)?lt(t):Mt(t)},Fn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Vo,To=function(t){if(!Fn(t))return!1;var e=On(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Yo=ht.a["__core-js_shared__"],$i=(Vo=/[^.]+$/.exec(Yo&&Yo.keys&&Yo.keys.IE_PROTO||""))?"Symbol(src)_1."+Vo:"",Il=function(t){return!!$i&&$i in t},Gu=Function.prototype.toString,oo=function(t){if(t!=null){try{return Gu.call(t)}catch{}try{return t+""}catch{}}return""},va=/^\[object .+?Constructor\]$/,dt=Function.prototype,Ll=Object.prototype,$u=dt.toString,Hu=Ll.hasOwnProperty,Br=RegExp("^"+$u.call(Hu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=function(t){return!(!Fn(t)||Il(t))&&(To(t)?Br:va).test(oo(t))},Va=function(t,e){return t==null?void 0:t[e]},bo=function(t,e){var n=Va(t,e);return Kr(n)?n:void 0},io=bo(ht.a,"Map"),_o=bo(Object,"create"),Xu=function(){this.__data__=_o?_o(null):{},this.size=0},Vu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},tc=Object.prototype.hasOwnProperty,ga=function(t){var e=this.__data__;if(_o){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return tc.call(e,t)?e[t]:void 0},nc=Object.prototype.hasOwnProperty,Yu=function(t){var e=this.__data__;return _o?e[t]!==void 0:nc.call(e,t)},zl=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_o&&e===void 0?"__lodash_hash_undefined__":e,this};function mi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mi.prototype.clear=Xu,mi.prototype.delete=Vu,mi.prototype.get=ga,mi.prototype.has=Yu,mi.prototype.set=zl;var rc=mi,Ko=function(){this.size=0,this.__data__={hash:new rc,map:new(io||he),string:new rc}},Ku=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Ya=function(t,e){var n=t.__data__;return Ku(e)?n[typeof e=="string"?"string":"hash"]:n.map},qu=function(t){var e=Ya(this,t).delete(t);return this.size-=e?1:0,e},Zu=function(t){return Ya(this,t).get(t)},Bl=function(t){return Ya(this,t).has(t)},oc=function(t,e){var n=Ya(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function bn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bn.prototype.clear=Ko,bn.prototype.delete=qu,bn.prototype.get=Zu,bn.prototype.has=Bl,bn.prototype.set=oc;var gn=bn,ic=function(t,e){var n=this.__data__;if(n instanceof he){var r=n.__data__;if(!io||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gn(r)}return n.set(t,e),this.size=n.size,this};function Hi(t){var e=this.__data__=new he(t);this.size=e.size}Hi.prototype.clear=ue,Hi.prototype.delete=be,Hi.prototype.get=Ze,Hi.prototype.has=Je,Hi.prototype.set=ic;var qo=Hi,Ju=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ac=function(t){return this.__data__.has(t)};function Hn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gn;++e<n;)this.add(t[e])}Hn.prototype.add=Hn.prototype.push=Ju,Hn.prototype.has=ac;var Qu=Hn,ma=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},es=function(t,e){return t.has(e)},Ka=function(t,e,n,r,c,s){var p=1&n,g=t.length,b=e.length;if(g!=b&&!(p&&b>g))return!1;var x=s.get(t),P=s.get(e);if(x&&P)return x==e&&P==t;var D=-1,L=!0,V=2&n?new Qu:void 0;for(s.set(t,e),s.set(e,t);++D<g;){var ee=t[D],ie=e[D];if(r)var me=p?r(ie,ee,D,e,t,s):r(ee,ie,D,t,e,s);if(me!==void 0){if(me)continue;L=!1;break}if(V){if(!ma(e,function(ge,xe){if(!es(V,xe)&&(ee===ge||c(ee,ge,n,r,s)))return V.push(xe)})){L=!1;break}}else if(ee!==ie&&!c(ee,ie,n,r,s)){L=!1;break}}return s.delete(t),s.delete(e),L},br=ht.a.Uint8Array,ts=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,c){n[++e]=[c,r]}),n},uc=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},ns=Kt?Kt.prototype:void 0,qa=ns?ns.valueOf:void 0,Xi=function(t,e,n,r,c,s,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new br(t),new br(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var g=ts;case"[object Set]":var b=1&r;if(g||(g=uc),t.size!=e.size&&!b)return!1;var x=p.get(t);if(x)return x==e;r|=2,p.set(t,e);var P=Ka(g(t),g(e),r,c,s,p);return p.delete(t),P;case"[object Symbol]":if(qa)return qa.call(t)==qa.call(e)}return!1},Zo=function(t,e){for(var n=-1,r=e.length,c=t.length;++n<r;)t[c+n]=e[n];return t},An=Array.isArray,Fl=function(t,e,n){var r=e(t);return An(t)?r:Zo(r,n(t))},Fr=function(t,e){for(var n=-1,r=t==null?0:t.length,c=0,s=[];++n<r;){var p=t[n];e(p,n,t)&&(s[c++]=p)}return s},Ul=function(){return[]},sc=Object.prototype.propertyIsEnumerable,Ar=Object.getOwnPropertySymbols,ao=Ar?function(t){return t==null?[]:(t=Object(t),Fr(Ar(t),function(e){return sc.call(t,e)}))}:Ul,rs=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},ln=function(t){return t!=null&&typeof t=="object"},ur=function(t){return ln(t)&&On(t)=="[object Arguments]"},Za=Object.prototype,cc=Za.hasOwnProperty,os=Za.propertyIsEnumerable,Ja=ur(function(){return arguments}())?ur:function(t){return ln(t)&&cc.call(t,"callee")&&!os.call(t,"callee")},No=Ja,Jo=o(48),Vi=/^(?:0|[1-9]\d*)$/,Ur=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Vi.test(t))&&t>-1&&t%1==0&&t<e},Qo=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},un={};un["[object Float32Array]"]=un["[object Float64Array]"]=un["[object Int8Array]"]=un["[object Int16Array]"]=un["[object Int32Array]"]=un["[object Uint8Array]"]=un["[object Uint8ClampedArray]"]=un["[object Uint16Array]"]=un["[object Uint32Array]"]=!0,un["[object Arguments]"]=un["[object Array]"]=un["[object ArrayBuffer]"]=un["[object Boolean]"]=un["[object DataView]"]=un["[object Date]"]=un["[object Error]"]=un["[object Function]"]=un["[object Map]"]=un["[object Number]"]=un["[object Object]"]=un["[object RegExp]"]=un["[object Set]"]=un["[object String]"]=un["[object WeakMap]"]=!1;var Wr=function(t){return ln(t)&&Qo(t.length)&&!!un[On(t)]},Do=function(t){return function(e){return t(e)}},hr=o(49),Qa=hr.a&&hr.a.isTypedArray,ba=Qa?Do(Qa):Wr,is=Object.prototype.hasOwnProperty,Un=function(t,e){var n=An(t),r=!n&&No(t),c=!n&&!r&&Object(Jo.a)(t),s=!n&&!r&&!c&&ba(t),p=n||r||c||s,g=p?rs(t.length,String):[],b=g.length;for(var x in t)!e&&!is.call(t,x)||p&&(x=="length"||c&&(x=="offset"||x=="parent")||s&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Ur(x,b))||g.push(x);return g},eu=Object.prototype,ei=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||eu)},uo=function(t,e){return function(n){return t(e(n))}},as=uo(Object.keys,Object),Wl=Object.prototype.hasOwnProperty,us=function(t){if(!ei(t))return as(t);var e=[];for(var n in Object(t))Wl.call(t,n)&&n!="constructor"&&e.push(n);return e},Jn=function(t){return t!=null&&Qo(t.length)&&!To(t)},_a=function(t){return Jn(t)?Un(t):us(t)},Co=function(t){return Fl(t,_a,ao)},Mr=Object.prototype.hasOwnProperty,ss=function(t,e,n,r,c,s){var p=1&n,g=Co(t),b=g.length;if(b!=Co(e).length&&!p)return!1;for(var x=b;x--;){var P=g[x];if(!(p?P in e:Mr.call(e,P)))return!1}var D=s.get(t),L=s.get(e);if(D&&L)return D==e&&L==t;var V=!0;s.set(t,e),s.set(e,t);for(var ee=p;++x<b;){var ie=t[P=g[x]],me=e[P];if(r)var ge=p?r(me,ie,P,e,t,s):r(ie,me,P,t,e,s);if(!(ge===void 0?ie===me||c(ie,me,n,r,s):ge)){V=!1;break}ee||(ee=P=="constructor")}if(V&&!ee){var xe=t.constructor,Re=e.constructor;xe==Re||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Re=="function"&&Re instanceof Re||(V=!1)}return s.delete(t),s.delete(e),V},qr=bo(ht.a,"DataView"),bi=bo(ht.a,"Promise"),tu=bo(ht.a,"Set"),Ro=bo(ht.a,"WeakMap"),Zr="[object Map]",Gr="[object Promise]",so="[object Set]",Io="[object WeakMap]",we="[object DataView]",Ce=oo(qr),Ie=oo(io),rt=oo(bi),$t=oo(tu),en=oo(Ro),Tn=On;(qr&&Tn(new qr(new ArrayBuffer(1)))!=we||io&&Tn(new io)!=Zr||bi&&Tn(bi.resolve())!=Gr||tu&&Tn(new tu)!=so||Ro&&Tn(new Ro)!=Io)&&(Tn=function(t){var e=On(t),n=e=="[object Object]"?t.constructor:void 0,r=n?oo(n):"";if(r)switch(r){case Ce:return we;case Ie:return Zr;case rt:return Gr;case $t:return so;case en:return Io}return e});var O=Tn,w="[object Arguments]",M="[object Array]",z="[object Object]",q=Object.prototype.hasOwnProperty,de=function(t,e,n,r,c,s){var p=An(t),g=An(e),b=p?M:O(t),x=g?M:O(e),P=(b=b==w?z:b)==z,D=(x=x==w?z:x)==z,L=b==x;if(L&&Object(Jo.a)(t)){if(!Object(Jo.a)(e))return!1;p=!0,P=!1}if(L&&!P)return s||(s=new qo),p||ba(t)?Ka(t,e,n,r,c,s):Xi(t,e,b,n,r,c,s);if(!(1&n)){var V=P&&q.call(t,"__wrapped__"),ee=D&&q.call(e,"__wrapped__");if(V||ee){var ie=V?t.value():t,me=ee?e.value():e;return s||(s=new qo),c(ie,me,n,r,s)}}return!!L&&(s||(s=new qo),ss(t,e,n,r,c,s))},Ee=function t(e,n,r,c,s){return e===n||(e==null||n==null||!ln(e)&&!ln(n)?e!=e&&n!=n:de(e,n,r,c,t,s))},Ue=function(t,e,n,r){var c=n.length,s=c;if(t==null)return!s;for(t=Object(t);c--;){var p=n[c];if(p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++c<s;){var g=(p=n[c])[0],b=t[g],x=p[1];if(p[2]){if(b===void 0&&!(g in t))return!1}else{var P=new qo,D;if(!(D===void 0?Ee(x,b,3,r,P):D))return!1}}return!0},ft=function(t){return t==t&&!Fn(t)},Zt=function(t){for(var e=_a(t),n=e.length;n--;){var r=e[n],c=t[r];e[n]=[r,c,ft(c)]}return e},ot=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},jn=function(t){var e=Zt(t);return e.length==1&&e[0][2]?ot(e[0][0],e[0][1]):function(n){return n===t||Ue(n,t,e)}},Ht=function(t){return typeof t=="symbol"||ln(t)&&On(t)=="[object Symbol]"},pn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,co=/^\w*$/,Ln=function(t,e){if(An(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ht(t))||co.test(t)||!pn.test(t)||e!=null&&t in Object(e)};function $r(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,c=e?e.apply(this,r):r[0],s=n.cache;if(s.has(c))return s.get(c);var p=t.apply(this,r);return n.cache=s.set(c,p)||s,p};return n.cache=new($r.Cache||gn),n}$r.Cache=gn;var ti=$r,ni=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oa=/\\(\\)?/g,cs=function(t){var e=ti(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ni,function(n,r,c,s){e.push(c?s.replace(Oa,"$1"):r||n)}),e}),_i=Kt?Kt.prototype:void 0,nu=_i?_i.toString:void 0,kr=function t(e){if(typeof e=="string")return e;if(An(e))return ct(e,t)+"";if(Ht(e))return nu?nu.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},wa=function(t){return t==null?"":kr(t)},Yi=function(t,e){return An(t)?t:Ln(t,e)?[t]:cs(wa(t))},Oi=function(t){if(typeof t=="string"||Ht(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},wi=function(t,e){for(var n=0,r=(e=Yi(e,t)).length;t!=null&&n<r;)t=t[Oi(e[n++])];return n&&n==r?t:void 0},ru=function(t,e,n){var r=t==null?void 0:wi(t,e);return r===void 0?n:r},Ly=function(t,e){return t!=null&&e in Object(t)},zy=function(t,e,n){for(var r=-1,c=(e=Yi(e,t)).length,s=!1;++r<c;){var p=Oi(e[r]);if(!(s=t!=null&&n(t,p)))break;t=t[p]}return s||++r!=c?s:!!(c=t==null?0:t.length)&&Qo(c)&&Ur(p,c)&&(An(t)||No(t))},$p=function(t,e){return t!=null&&zy(t,e,Ly)},lc=function(t,e){return Ln(t)&&ft(e)?ot(Oi(t),e):function(n){var r=ru(n,t);return r===void 0&&r===e?$p(n,t):Ee(e,r,3)}},ou=function(t){return t},Gl=function(t){return function(e){return e==null?void 0:e[t]}},By=function(t){return function(e){return wi(e,t)}},Hp=function(t){return Ln(t)?Gl(Oi(t)):By(t)},$l=function(t){return typeof t=="function"?t:t==null?ou:typeof t=="object"?An(t)?lc(t[0],t[1]):jn(t):Hp(t)},Xp=function(t){return function(e,n,r){for(var c=-1,s=Object(e),p=r(e),g=p.length;g--;){var b=p[++c];if(n(s[b],b,s)===!1)break}return e}}(),yr=function(t,e){return function(n,r){if(n==null)return n;if(!Jn(n))return t(n,r);for(var c=n.length,s=-1,p=Object(n);++s<c&&r(p[s],s,p)!==!1;);return n}}(function(t,e){return t&&Xp(t,e,_a)}),Tr=function(t,e){var n=-1,r=Jn(t)?Array(t.length):[];return yr(t,function(c,s,p){r[++n]=e(c,s,p)}),r},fc=function(t,e){return(An(t)?ct:Tr)(t,$l(e))};Object(h.n)({isolateGlobalState:!0});var pc=function(){try{var t=bo(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dc=function(t,e,n){e=="__proto__"&&pc?pc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Fy=Object.prototype.hasOwnProperty,iu=function(t,e,n){var r=t[e];Fy.call(t,e)&&vn(r,n)&&(n!==void 0||e in t)||dc(t,e,n)},au=function(t,e,n,r){var c=!n;n||(n={});for(var s=-1,p=e.length;++s<p;){var g=e[s],b=void 0;b===void 0&&(b=t[g]),c?dc(n,g,b):iu(n,g,b)}return n},Hl=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},xa=Math.max,uu=function(t,e,n){return e=xa(e===void 0?t.length-1:e,0),function(){for(var r=arguments,c=-1,s=xa(r.length-e,0),p=Array(s);++c<s;)p[c]=r[e+c];c=-1;for(var g=Array(e+1);++c<e;)g[c]=r[c];return g[e]=n(p),Hl(t,this,g)}},ls=function(t){return function(){return t}},hc=pc?function(t,e){return pc(t,"toString",{configurable:!0,enumerable:!1,value:ls(e),writable:!0})}:ou,su=Date.now,Uy=function(t){var e=0,n=0;return function(){var r=su(),c=16-(r-n);if(n=r,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Vp=Uy(hc),Wy=function(t,e){return Vp(uu(t,e,ou),t+"")},Gy=function(t,e,n){if(!Fn(n))return!1;var r=typeof e;return!!(r=="number"?Jn(n)&&Ur(e,n.length):r=="string"&&e in n)&&vn(n[e],t)},Yp=function(t){return Wy(function(e,n){var r=-1,c=n.length,s=c>1?n[c-1]:void 0,p=c>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(c--,s):void 0,p&&Gy(n[0],n[1],p)&&(s=c<3?void 0:s,c=1),e=Object(e);++r<c;){var g=n[r];g&&t(e,g,r,s)}return e})},yc=Object.prototype.hasOwnProperty,Er=Yp(function(t,e){if(ei(e)||Jn(e))au(e,_a(e),t);else for(var n in e)yc.call(e,n)&&iu(t,n,e[n])}),Kp=function(t,e,n,r){if(!Fn(t))return t;for(var c=-1,s=(e=Yi(e,t)).length,p=s-1,g=t;g!=null&&++c<s;){var b=Oi(e[c]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(c!=p){var P=g[b];(x=void 0)==void 0&&(x=Fn(P)?P:Ur(e[c+1])?[]:{})}iu(g,b,x),g=g[b]}return t},B=function(t,e,n){for(var r=-1,c=e.length,s={};++r<c;){var p=e[r],g=wi(t,p);n(g,p)&&Kp(s,Yi(p,t),g)}return s},cu=function(t,e){return B(t,e,function(n,r){return $p(t,r)})},fs=Kt?Kt.isConcatSpreadable:void 0,Oo=function(t){return An(t)||No(t)||!!(fs&&t&&t[fs])},cn=function(e,n,r,c,s){var p=-1,g=e.length;for(r||(r=Oo),s||(s=[]);++p<g;){var b=e[p];r(b)?Zo(s,b):s[s.length]=b}return s},Ea=function(t){return t!=null&&t.length?cn(t):[]},Pn,ri,Ki,wo,Xl,Vl,qp,Zp,vc,lu,ps,Jp,Yl,oi,gc,qi,lo,Kl,ql,xi=function(t){return Vp(uu(t,void 0,Ea),t+"")}(function(t,e){return t==null?{}:cu(t,e)});function zn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qn(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var _n,_r,Jt,nr,yt,Nn,mc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ei=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Zl=(ri=Qn((Pn=function(){function t(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),zn(this,"isSilentMode",ri,this),zn(this,"stopZoomGraph",Ki,this),zn(this,"stopScrollGraph",wo,this),zn(this,"stopMoveGraph",Xl,this),zn(this,"adjustEdge",Vl,this),zn(this,"adjustEdgeMiddle",qp,this),zn(this,"adjustEdgeStartAndEnd",Zp,this),zn(this,"adjustNodePosition",vc,this),zn(this,"hideAnchors",lu,this),zn(this,"allowRotation",ps,this),zn(this,"hoverOutline",Jp,this),zn(this,"nodeSelectedOutline",Yl,this),zn(this,"edgeSelectedOutline",oi,this),zn(this,"nodeTextEdit",gc,this),zn(this,"edgeTextEdit",qi,this),zn(this,"nodeTextDraggable",lo,this),zn(this,"edgeTextDraggable",Kl,this),zn(this,"autoExpand",ql,this),ed(this,"multipleSelectKey",""),ed(this,"defaultConfig",{}),Er(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var c=this.getConfigDetail(r);Er(this,c)}},{key:"getConfigDetail",value:function(r){var c=r.isSilentMode,s=r.textEdit,p={};if(c===!1&&Er(p,this.defaultConfig),c===!0&&c!==this.isSilentMode){var g=xi(mc,Ei);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Er(p,g)}s===!1&&Er(p,{nodeTextEdit:!1,edgeTextEdit:!1});var b=xi(r,Ei);return Er(p,b)}},{key:"getConfig",value:function(){return xi(this,Ei)}}])&&Qp(e.prototype,n),t}()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ki=Qn(Pn.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wo=Qn(Pn.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xl=Qn(Pn.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vl=Qn(Pn.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qp=Qn(Pn.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zp=Qn(Pn.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vc=Qn(Pn.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lu=Qn(Pn.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=Qn(Pn.prototype,"allowRotation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jp=Qn(Pn.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yl=Qn(Pn.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oi=Qn(Pn.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gc=Qn(Pn.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qi=Qn(Pn.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lo=Qn(Pn.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kl=Qn(Pn.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ql=Qn(Pn.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qn(Pn.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(Pn.prototype,"updateEditConfig"),Pn.prototype),Pn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(_n||(_n={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(_r||(_r={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Jt||(Jt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(nr||(nr={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(yt||(yt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Nn||(Nn={}));var Wn,Xn,td,nd,bc,fu,Jl,pu,_c;function du(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ql(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Ql(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ql(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Si(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xo(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Wn||(Wn={}));var rd={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},od=(Xn=function(){function t(r,c){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),ji(this,"MINI_SCALE_SIZE",.2),ji(this,"MAX_SCALE_SIZE",16),Si(this,"SCALE_X",td,this),Si(this,"SKEW_Y",nd,this),Si(this,"SKEW_X",bc,this),Si(this,"SCALE_Y",fu,this),Si(this,"TRANSLATE_X",Jl,this),Si(this,"TRANSLATE_Y",pu,this),Si(this,"ZOOM_SIZE",_c,this),ji(this,"eventCenter",void 0),ji(this,"translateLimitMinX",void 0),ji(this,"translateLimitMinY",void 0),ji(this,"translateLimitMaxX",void 0),ji(this,"translateLimitMaxY",void 0),this.eventCenter=r;var s=c.stopMoveGraph,p=s!==void 0&&s;this.updateTranslateLimits(p)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var c=du(r,2),s=c[0],p=c[1];return[(s-this.TRANSLATE_X)/this.SCALE_X,(p-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var c=du(r,2),s=c[0],p=c[1];return[s*this.SCALE_X+this.TRANSLATE_X,p*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,c,s){var p=du(r,2),g=p[0],b=p[1];return[g+c/this.SCALE_X,b+s/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,c){return[r/this.SCALE_X,c/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],c=arguments.length>1?arguments[1]:void 0,s=this.SCALE_X,p=this.SCALE_Y;return r===!0?(s+=this.ZOOM_SIZE,p+=this.ZOOM_SIZE):r===!1?(s-=this.ZOOM_SIZE,p-=this.ZOOM_SIZE):typeof r=="number"&&(s=r,p=r),s<this.MINI_SCALE_SIZE||s>this.MAX_SCALE_SIZE||(c&&(this.TRANSLATE_X-=(s-this.SCALE_X)*c[0],this.TRANSLATE_Y-=(p-this.SCALE_Y)*c[1]),this.SCALE_X=s,this.SCALE_Y=p,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(yt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,c){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+c<=this.translateLimitMaxY&&this.TRANSLATE_Y+c>=this.translateLimitMinY&&(this.TRANSLATE_Y+=c),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,c,s,p){var g=du(this.CanvasPointToHtmlPoint([r,c]),2),b=s/2-g[0],x=p/2-g[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var c=du(Array.isArray(r)&&r.length===4?r:rd[r.toString()],4);this.translateLimitMinX=c[0],this.translateLimitMinY=c[1],this.translateLimitMaxX=c[2],this.translateLimitMaxY=c[3]}}],n&&$y(e.prototype,n),t}(),td=xo(Xn.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),nd=xo(Xn.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bc=xo(Xn.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fu=xo(Xn.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Jl=xo(Xn.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pu=xo(Xn.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_c=xo(Xn.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),xo(Xn.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(Xn.prototype,"zoom"),Xn.prototype),xo(Xn.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(Xn.prototype,"resetZoom"),Xn.prototype),xo(Xn.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(Xn.prototype,"translate"),Xn.prototype),xo(Xn.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(Xn.prototype,"focusOn"),Xn.prototype),Xn),Oc=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},id=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},ad=Object.prototype.hasOwnProperty,ud=function(t){if(!Fn(t))return id(t);var e=ei(t),n=[];for(var r in t)(r!="constructor"||!e&&ad.call(t,r))&&n.push(r);return n},wc=function(t){return Jn(t)?Un(t,!0):ud(t)},ef=o(107),tf=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},xc=uo(Object.getPrototypeOf,Object),tn=Object.prototype.hasOwnProperty,Hy=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&tn.call(t,"index")&&(n.index=t.index,n.input=t.input),n},nf=function(t){var e=new t.constructor(t.byteLength);return new br(e).set(new br(t)),e},ds=function(t,e){var n=nf(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)},sd=/\w*$/,Xy=function(t){var e=new t.constructor(t.source,sd.exec(t));return e.lastIndex=t.lastIndex,e},cd=Kt?Kt.prototype:void 0,fo=cd?cd.valueOf:void 0,Vy=function(t){return fo?Object(fo.call(t)):{}},hs=function(t,e){var n=e?nf(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},rf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return nf(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return ds(t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return hs(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Xy(t);case"[object Symbol]":return Vy(t)}},of=Object.create,ld=function(){function t(){}return function(e){if(!Fn(e))return{};if(of)return of(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Jr=function(t){return typeof t.constructor!="function"||ei(t)?{}:ld(xc(t))},Zi=function(t){return ln(t)&&O(t)=="[object Map]"},Ec=hr.a&&hr.a.isMap,fd=Ec?Do(Ec):Zi,Sc=function(t){return ln(t)&&O(t)=="[object Set]"},af=hr.a&&hr.a.isSet,uf=af?Do(af):Sc,sf="[object Arguments]",jc="[object Function]",cf="[object Object]",mn={};mn[sf]=mn["[object Array]"]=mn["[object ArrayBuffer]"]=mn["[object DataView]"]=mn["[object Boolean]"]=mn["[object Date]"]=mn["[object Float32Array]"]=mn["[object Float64Array]"]=mn["[object Int8Array]"]=mn["[object Int16Array]"]=mn["[object Int32Array]"]=mn["[object Map]"]=mn["[object Number]"]=mn["[object Object]"]=mn["[object RegExp]"]=mn["[object Set]"]=mn["[object String]"]=mn["[object Symbol]"]=mn["[object Uint8Array]"]=mn["[object Uint8ClampedArray]"]=mn["[object Uint16Array]"]=mn["[object Uint32Array]"]=!0,mn["[object Error]"]=mn[jc]=mn["[object WeakMap]"]=!1;var Yy=function t(e,n,r,c,s,p){var g,b=1&n;if(g!==void 0)return g;if(!Fn(e))return e;var x=An(e);if(x)g=Hy(e);else{var P=O(e),D=P==jc||P=="[object GeneratorFunction]";if(Object(Jo.a)(e))return Object(ef.a)(e,b);if(P==cf||P==sf||D&&!s)g=D?{}:Jr(e);else{if(!mn[P])return s?e:{};g=rf(e,P,b)}}p||(p=new qo);var L=p.get(e);if(L)return L;p.set(e,g),uf(e)?e.forEach(function(ee){g.add(t(ee,n,r,ee,e,p))}):fd(e)&&e.forEach(function(ee,ie){g.set(ie,t(ee,n,r,ie,e,p))});var V=x?void 0:Co(e);return Oc(V||e,function(ee,ie){V&&(ee=e[ie=ee]),iu(g,ie,t(ee,n,r,ie,e,p))}),g},wn=function(t){return Yy(t,5)},Pc=function(t,e,n){(n!==void 0&&!vn(t[e],n)||n===void 0&&!(e in t))&&dc(t,e,n)},pd=function(t){return ln(t)&&Jn(t)},lf=Function.prototype,dd=Object.prototype,ff=lf.toString,hd=dd.hasOwnProperty,yd=ff.call(Object),Qr=function(t){if(!ln(t)||On(t)!="[object Object]")return!1;var e=xc(t);if(e===null)return!0;var n=hd.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ff.call(n)==yd},Lo=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Ac=function(t){return au(t,wc(t))},hu=function(t,e,n,r,c,s,p){var g=Lo(t,n),b=Lo(e,n),x=p.get(b);if(x)Pc(t,n,x);else{var P=void 0,D=P===void 0;if(D){var L=An(b),V=!L&&Object(Jo.a)(b),ee=!L&&!V&&ba(b);P=b,L||V||ee?An(g)?P=g:pd(g)?P=tf(g):V?(D=!1,P=Object(ef.a)(b,!0)):ee?(D=!1,P=hs(b,!0)):P=[]:Qr(b)||No(b)?(P=g,No(g)?P=Ac(g):Fn(g)&&!To(g)||(P=Jr(b))):D=!1}D&&(p.set(b,P),c(P,b,r,s,p),p.delete(b)),Pc(t,n,P)}},vd=function t(e,n,r,c,s){e!==n&&Xp(n,function(p,g){if(s||(s=new qo),Fn(p))hu(e,n,g,r,t,c,s);else{var b=void 0;b===void 0&&(b=p),Pc(e,g,b)}},wc)},ys=Yp(function(t,e,n){vd(t,e,n)}),gd={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Sa=function(t){var e=wn(gd);return t&&(e=ys(e,t)),e};o(82),o(166);function vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var md=function(){function t(){var r,c,s;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),s={},(c="_events")in(r=this)?Object.defineProperty(r,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[c]=s}var e,n;return e=t,(n=[{key:"on",value:function(r,c,s){var p=this;return r==null||r.split(",").forEach(function(g){g=g.trim(),p._events[g]||(p._events[g]=[]),p._events[g].push({callback:c,once:!!s})}),this}},{key:"once",value:function(r,c){var s=this;r==null||r.split(",").forEach(function(p){return p=p.trim(),s.on(p,c,!0)})}},{key:"emit",value:function(r,c){var s=this;r==null||r.split(",").forEach(function(p){var g=s._events[p]||[],b=s._events["*"]||[],x=function(P){for(var D=P.length,L=0;L<D;L++)if(P[L]){var V=P[L],ee=V.callback;V.once&&(P.splice(L,1),P.length===0&&delete s._events[p],D--,L--),ee.apply(s,[c])}};x(g),x(b)})}},{key:"off",value:function(r,c){var s=this;return r||(this._events={}),r.split(",").forEach(function(p){if(c){for(var g=s._events[p]||[],b=g.length,x=0;x<b;x++)g[x].callback===c&&(g.splice(x,1),b--,x--);g.length===0&&delete s._events[p]}else delete s._events[p]}),this}},{key:"getEvents",value:function(){return this._events}}])&&vs(e.prototype,n),t}();function Ji(t,e){return e*Math.round(t/e)||t}function Mc(t,e){return t%e}function kc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return gs(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return gs(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ms=function(t,e,n){var r=kc(t,2),c=r[0],s=r[1],p=kc(e,2),g=p[0],b=p[1],x=kc(n,2),P=x[0],D=x[1];return c>g&&c<P&&s>b&&s<D},bs=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var bd=function(t){return function(e,n,r){var c=Object(e);if(!Jn(e)){var s=$l(n);e=_a(e),n=function(g){return s(c[g],g,c)}}var p=t(e,n,r);return p>-1?c[s?e[p]:p]:void 0}},Tc=function(t,e,n,r){for(var c=t.length,s=n+-1;++s<c;)if(e(t[s],s,t))return s;return-1},_d=/\s/,pf=function(t){for(var e=t.length;e--&&_d.test(t.charAt(e)););return e},Ky=/^\s+/,Od=function(t){return t&&t.slice(0,pf(t)+1).replace(Ky,"")},Pi=/^[-+]0x[0-9a-f]+$/i,wd=/^0b[01]+$/i,xd=/^0o[0-7]+$/i,qy=parseInt,Nc=function(t){if(typeof t=="number")return t;if(Ht(t))return NaN;if(Fn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Od(t);var n=wd.test(t);return n||xd.test(t)?qy(t.slice(2),n?2:8):Pi.test(t)?NaN:+t},Ai=1/0,df=function(t){return t?(t=Nc(t))===Ai||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},hf=function(t){var e=df(t),n=e%1;return e==e?n?e-n:e:0},yf=Math.max,yu,ja=bd(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var c=n==null?0:hf(n);return c<0&&(c=yf(r+c,0)),Tc(t,$l(e),c)}),Dt=new Uint8Array(16);function Dc(){if(!yu&&!(yu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(Dt)}for(var vf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Pa=function(t){return typeof t=="string"&&vf.test(t)},vr=[],Cc=0;Cc<256;++Cc)vr.push((Cc+256).toString(16).substr(1));var Nr=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase();if(!Pa(n))throw TypeError("Stringified UUID is invalid");return n},Rc=function(t,e,n){var r=(t=t||{}).random||(t.rng||Dc)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,Nr(r)},Mi=function(){return Rc()},Zy=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,c){return r[c.id]=e+Rc(),c.id=r[c.id],r},{});return t.edges.forEach(function(r){r.id=e+Rc(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},po=(o(105),o(127),o(207),function(t,e,n){var r=t.x,c=t.y,s=e.x,p=e.y,g=n.x,b=n.y,x=(b-p)/(g-s),P=p-x*s;return r>=s&&r<=g&&c>=p&&c<=b&&Math.abs(c-x*r+P)<Number.EPSILON});function Sr(t){return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(t)}function Ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ic(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Te,gf,mf,bf,_f,Ed,zc,Of,vu,Bc,wf,xf,_s,Ef,zo,Qi,Sf,Sd,jd,Pd,jf,Fc=function(t){return t.anchors},Os=function(t,e){for(var n,r=e.nodes,c=r.length-1;c>=0;c--){var s=r[c];if(Qy(t,s)){var p=s.getTargetAnchor(t);if(p){var g={node:s,anchorIndex:p.index,anchor:p.anchor};n&&!Ad(s,n.node,e)||(n=g)}}}return n},Ad=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Bo=function(t,e,n,r){return Math.hypot(t-n,e-r)},ea=function(t,e){var n=!1,r=Gn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Qy=function(t,e){var n=!1,r=Gn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Gn=function(t){var e=t.x,n=t.y,r=t.width,c=t.height;return{minX:e-r/2,minY:n-c/2,maxX:e+r/2,maxY:n+c/2,x:e,y:n,width:r,height:c,centerX:e,centerY:n}},Md=function(t,e,n){var r,c=function(p){var g=p,b=g.x,x=g.y,P=g.width,D=g.height,L=g.radius;return[{x:b-P/2+L,y:x-D/2+L,r:L},{x:b+P/2-L,y:x-D/2+L,r:L},{x:b-P/2+L,y:x+D/2-L,r:L},{x:b+P/2-L,y:x+D/2-L,r:L}]}(n),s=Number.MAX_SAFE_INTEGER;return c.forEach(function(p){var g=Bo(t.x,t.y,p.x,p.y);g<s&&(s=g,r=p)}),Uc(t,e,r)},Uc=function(t,e,n){var r,c=n,s=c.x,p=c.y,g=c.r;if(e===Nn.HORIZONTAL){var b=s-Math.sqrt(g*g-(t.y-p)*(t.y-p)),x=s+Math.sqrt(g*g-(t.y-p)*(t.y-p));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===Nn.VERTICAL){var P=p-Math.sqrt(g*g-(t.x-s)*(t.x-s)),D=p+Math.sqrt(g*g-(t.x-s)*(t.x-s)),L=Math.abs(P-t.y)<Math.abs(D-t.y)?P:D;r={x:t.x,y:L}}return r},kd=function(t,e){var n=e,r=!1,c=n.x-n.width/2+n.radius,s=n.x+n.width/2-n.radius,p=n.y-n.height/2+n.radius,g=n.y+n.height/2-n.radius,b=n.x,x=n.y,P=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>c&&t.x<s:t.x!==b+P/2&&t.x!==b-P/2||(r=t.y>p&&t.y<g),r},Wc=function(t,e,n){var r,c=n,s=c.x,p=c.y,g=c.rx,b=c.ry;if(e===Nn.HORIZONTAL){var x=s-Math.sqrt(g*g-(t.y-p)*(t.y-p)*g*g/(b*b)),P=s+Math.sqrt(g*g-(t.y-p)*(t.y-p)*g*g/(b*b));r={x:Math.abs(x-t.x)<Math.abs(P-t.x)?x:P,y:t.y}}else if(e===Nn.VERTICAL){var D=p-Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(g*g)),L=p+Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(g*g)),V=Math.abs(D-t.y)<Math.abs(L-t.y)?D:L;r={x:t.x,y:V}}return r},Td=function(t,e,n){for(var r,c=n.pointsPosition,s=Number.MAX_SAFE_INTEGER,p=[],g=0;g<c.length;g++)p.push({start:c[g],end:c[(g+1)%c.length]});return p.forEach(function(b){var x=b.start,P=b.end,D=x,L=P;x.x>P.x&&(D=P,L=x);var V={x:t.x,y:t.y};if(D.x===L.x&&e===Nn.HORIZONTAL&&(V={x:D.x,y:t.y}),D.y===L.y&&e===Nn.VERTICAL&&(V={x:t.x,y:D.y}),D.x!==L.x&&D.y!==L.y){var ee=(L.y-D.y)/(L.x-D.x),ie=(D.x*L.y-L.x*D.y)/(D.x-L.x);e===Nn.HORIZONTAL?V={x:(t.y-ie)/ee,y:t.y}:e===Nn.VERTICAL&&(V={x:t.x,y:ee*t.x+ie})}if(po(V,x,P)){var me=Bo(V.x,V.y,t.x,t.y);me<s&&(s=me,r=V)}}),r},Nd=function(t,e,n,r){var c=t.x,s=t.y;return e.x>t.x?c=t.x+n/2:e.x<t.x&&(c=t.x-n/2),e.y>t.y?s=t.y+r/2:e.y<t.y&&(s=t.y-r/2),{x:c,y:s}},Dd=function(t){var e=t.rows,n=t.style,r=t.rowsLength,c=t.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=c,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),r>1?e.forEach(function(g){var b=document.createElement("div");b.textContent=g,s.appendChild(b)}):s.textContent=e,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},ws=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,c=0;return e&&e.forEach(function(s){var p=Vf(s);c=p>c?p:c}),{width:Math.ceil(c/2)*r+r/4,height:n*(r+2)+r/4}},gu=function(t){return Sr(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},Dr=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},ev=1e3,tv=999,Pf=function(){return++ev};function Cd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cd(Object(n),!0).forEach(function(r){Eo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nt(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Af=(Te=function(){function t(r,c){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Eo(this,"id",""),rr(this,"type",gf,this),rr(this,"sourceNodeId",mf,this),rr(this,"targetNodeId",bf,this),rr(this,"startPoint",_f,this),rr(this,"endPoint",Ed,this),rr(this,"text",zc,this),rr(this,"properties",Of,this),rr(this,"points",vu,this),rr(this,"pointsList",Bc,this),rr(this,"isSelected",wf,this),rr(this,"isHovered",xf,this),rr(this,"isHitable",_s,this),rr(this,"draggable",Ef,this),rr(this,"visible",zo,this),Eo(this,"virtual",!1),rr(this,"isAnimation",Qi,this),rr(this,"isShowAdjustPoint",Sf,this),Eo(this,"graphModel",void 0),rr(this,"zIndex",Sd,this),Eo(this,"BaseType",nr.EDGE),Eo(this,"modelType",Jt.EDGE),rr(this,"state",jd,this),Eo(this,"additionStateData",void 0),Eo(this,"sourceAnchorId",""),Eo(this,"targetAnchorId",""),Eo(this,"menu",void 0),Eo(this,"customTextPosition",!1),rr(this,"style",Pd,this),rr(this,"arrowConfig",jf,this),this.graphModel=c,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var c=this.graphModel.idGenerator,s=c&&c(r.type),p=this.createId();r.id=p||s||Mi()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var g=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=g,Er(this,Jd(r)),this.graphModel.overlapMode===Wn.INCREASE&&(this.zIndex=r.zIndex||Pf()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return eo(eo({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return eo({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return wn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return wn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),c=this.getEdgeAnimationStyle(),s=this.graphModel.theme.arrow,p=this.isAnimation?c.stroke:r.stroke;return eo(eo({},r),{},{fill:p,stroke:p},s)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,c;return(r=this.graphModel)===null||r===void 0||(c=r.nodesMap[this.sourceNodeId])===null||c===void 0?void 0:c.model}},{key:"targetNode",get:function(){var r,c;return(r=this.graphModel)===null||r===void 0||(c=r.nodesMap[this.targetNodeId])===null||c===void 0?void 0:c.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,c,s){var p,g,b=Fc(r);return s&&(p=ja(b,function(x){return x.id===s}))||b.forEach(function(x){var P=qf(x,c);(g===void 0||P<g)&&(g=P,p=x)}),p}},{key:"getEndAnchor",value:function(r,c){var s,p,g=this,b=Fc(r);return c&&(s=ja(b,function(x){return x.id===c}))||b.forEach(function(x){var P=qf(x,g.startPoint);(p===void 0||P<p)&&(p=P,s=x)}),s}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,c=r.x,s=r.y,p=r.value,g={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return p&&(g.text={x:c,y:s,value:p}),this.graphModel.overlapMode===Wn.INCREASE&&(g.zIndex=this.zIndex),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,c){this.properties[r]=Dr(c),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=eo(eo({},Object(h.I)(this.properties)),Dr(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var c=this.arrowConfig,s=c.markerEnd,p=c.markerStart;p&&p==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),s&&s==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,c){this.style=eo(eo({},this.style),{},Eo({},r,Dr(c)))}},{key:"setStyles",value:function(r){this.style=eo(eo({},this.style),Dr(r))}},{key:"updateStyles",value:function(r){this.style=eo({},Dr(r))}},{key:"formatText",value:function(r){var c=this.textPosition,s=c.x,p=c.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||s,y:r.text.y||p,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:s,y:p,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,c=r.x,s=r.y;this.text.x=c,this.text.y=s}},{key:"moveText",value:function(r,c){if(this.text){var s=this.text,p=s.x,g=s.y,b=s.value,x=s.draggable,P=s.editable;this.text={value:b,draggable:x,x:p+r,y:g+c,editable:P}}}},{key:"setText",value:function(r){r&&Er(this.text,r)}},{key:"updateText",value:function(r){this.text=eo(eo({},Object(h.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var c=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!c)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:c.x,y:c.y}),this.targetAnchorId||(this.targetAnchorId=c.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,c){this.state=r,this.additionStateData=c}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,c){this.startPoint.x+=r,this.startPoint.y+=c}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,c){this.endPoint.x+=r,this.endPoint.y+=c}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Er(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var c=r.startPoint,s=r.endPoint;this.updateStartPoint({x:c.x,y:c.y}),this.updateEndPoint({x:s.x,y:s.y})}}],n&&Gc(e.prototype,n),t}(),gf=Nt(Te.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mf=Nt(Te.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bf=Nt(Te.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_f=Nt(Te.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ed=Nt(Te.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zc=Nt(Te.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Of=Nt(Te.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vu=Nt(Te.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bc=Nt(Te.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wf=Nt(Te.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xf=Nt(Te.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_s=Nt(Te.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ef=Nt(Te.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zo=Nt(Te.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qi=Nt(Te.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sf=Nt(Te.prototype,"isShowAdjustPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sd=Nt(Te.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jd=Nt(Te.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pd=Nt(Te.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jf=Nt(Te.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Nt(Te.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(Te.prototype,"sourceNode"),Te.prototype),Nt(Te.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(Te.prototype,"targetNode"),Te.prototype),Nt(Te.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(Te.prototype,"textPosition"),Te.prototype),Nt(Te.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperty"),Te.prototype),Nt(Te.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"deleteProperty"),Te.prototype),Nt(Te.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperties"),Te.prototype),Nt(Te.prototype,"changeEdgeId",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"changeEdgeId"),Te.prototype),Nt(Te.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyle"),Te.prototype),Nt(Te.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyles"),Te.prototype),Nt(Te.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStyles"),Te.prototype),Nt(Te.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"formatText"),Te.prototype),Nt(Te.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"resetTextPosition"),Te.prototype),Nt(Te.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveText"),Te.prototype),Nt(Te.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setText"),Te.prototype),Nt(Te.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateText"),Te.prototype),Nt(Te.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setAnchors"),Te.prototype),Nt(Te.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setSelected"),Te.prototype),Nt(Te.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHovered"),Te.prototype),Nt(Te.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHitable"),Te.prototype),Nt(Te.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"openEdgeAnimation"),Te.prototype),Nt(Te.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"closeEdgeAnimation"),Te.prototype),Nt(Te.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setElementState"),Te.prototype),Nt(Te.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStartPoint"),Te.prototype),Nt(Te.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveStartPoint"),Te.prototype),Nt(Te.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateEndPoint"),Te.prototype),Nt(Te.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveEndPoint"),Te.prototype),Nt(Te.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"setZIndex"),Te.prototype),Nt(Te.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"initPoints"),Te.prototype),Nt(Te.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAttributes"),Te.prototype),Nt(Te.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustStart"),Te.prototype),Nt(Te.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustEnd"),Te.prototype),Nt(Te.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAfterAdjustStartAndEnd"),Te.prototype),Te),Mf=Af;function $c(t){return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kf(Object(n),!0).forEach(function(r){Df(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mu(){return mu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=ov(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},mu.apply(this,arguments)}function ov(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ta(t))!==null;);return t}function Tf(t,e){return Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tf(t,e)}function Hc(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ta(t);if(e){var c=ta(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Id(this,n)}}function Id(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nf(t)}function Nf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ta(t){return ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ta(t)}function Df(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft,Ld,Xc=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Tf(s,p)})(c,t);var e,n,r=Hc(c);function c(){var s;nv(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Df(Nf(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.LINE_EDGE),s}return e=c,(n=[{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.line;return Rd(Rd({},mu(ta(c.prototype),"getEdgeStyle",this).call(this)),wn(s))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&rv(e.prototype,n),c}(Mf);function bu(t){return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Vc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return zd(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return zd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yc(Object(n),!0).forEach(function(r){Rf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iv(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xs(){return xs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Aa(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},xs.apply(this,arguments)}function Aa(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Hr(t))!==null;);return t}function Xt(t,e){return Xt=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xt(t,e)}function uv(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hr(t);if(e){var c=Hr(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return to(this,n)}}function to(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(t)}function Bn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hr(t){return Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(t)}function Rf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Or(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var So=(Ft=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Xt(s,p)})(c,t);var e,n,r=uv(c);function c(){var s;Fo(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Rf(Bn(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.POLYLINE_EDGE),Rf(Bn(s),"draggingPointList",void 0),iv(Bn(s),"dbClickPosition",Ld,Bn(s)),s}return e=c,(n=[{key:"initEdgeData",value:function(s){this.offset=30,xs(Hr(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.polyline;return Cf(Cf({},xs(Hr(c.prototype),"getEdgeStyle",this).call(this)),wn(s))}},{key:"getTextPosition",value:function(){var s,p=(s=this.text)===null||s===void 0?void 0:s.value;if(this.dbClickPosition&&!p){var g=this.dbClickPosition;return{x:g.x,y:g.y}}var b=Ti(this.points),x=Vc(Hf(b),2),P=x[0],D=x[1];return{x:(P.x+D.x)/2,y:(P.y+D.y)/2}}},{key:"getAfterAnchor",value:function(s,p,g){var b,x;return g.forEach(function(P){var D;s===Nn.HORIZONTAL?D=Math.abs(p.y-P.y):s===Nn.VERTICAL&&(D=Math.abs(p.x-P.x)),(!x||x>D)&&(x=D,b=P)}),b}},{key:"getCrossPoint",value:function(s,p,g){var b;return s===Nn.HORIZONTAL?b={x:g.x,y:p.y}:s===Nn.VERTICAL&&(b={x:p.x,y:g.y}),b}},{key:"removeCrossPoints",value:function(s,p,g){var b=g.map(function(ge){return ge});if(s===1){var x=b[s],P=b[p],D=b[s-1];if(Qc(D,x,this.sourceNode)){if(ra(x,P,this.sourceNode)){var L=Xf(x,P,this.sourceNode);L&&(b[s]=L,b.splice(s-1,1),s--,p--)}}else this.sourceNode.anchors.forEach(function(ge){(ge.x===D.x&&ge.x===x.x||ge.y===D.y&&ge.y===x.y)&&Bo(ge.x,ge.y,x.x,x.y)<Bo(D.x,D.y,x.x,x.y)&&(b[s-1]=ge)})}if(p===g.length-2){var V=b[s],ee=b[p],ie=b[p+1];if(Qc(ee,ie,this.targetNode)){if(ra(V,ee,this.targetNode)){var me=Xf(V,ee,this.targetNode);me&&(b[p]=me,b.splice(p+1,1))}}else this.targetNode.anchors.forEach(function(ge){(ge.x===ie.x&&ge.x===ee.x||ge.y===ie.y&&ge.y===ee.y)&&Bo(ge.x,ge.y,ee.x,ee.y)<Bo(ie.x,ie.y,ee.x,ee.y)&&(b[p+1]=ge)})}return b}},{key:"getDraggingPoints",value:function(s,p,g,b,x){var P=x.map(function(V){return V}),D=this.getAfterAnchor(s,g,b),L=this.getCrossPoint(s,g,D);return p==="start"?(P.unshift(L),P.unshift(D)):(P.push(L),P.push(D)),P}},{key:"updateCrossPoints",value:function(s){var p=s.map(function(Re){return Re}),g=s[0],b=s[1],x=s[p.length-2],P=s[p.length-1],D=this.sourceNode,L=this.targetNode,V=D.modelType,ee=L.modelType,ie=Eu(g,b),me=p[0];switch(V){case Jt.RECT_NODE:D.radius!==0&&(kd(g,D)||(me=Md(g,ie,D)));break;case Jt.CIRCLE_NODE:me=Uc(g,ie,D);break;case Jt.ELLIPSE_NODE:me=Wc(g,ie,D);break;case Jt.DIAMOND_NODE:case Jt.POLYGON_NODE:me=Td(g,ie,D)}me&&(p[0]=me);var ge=Eu(x,P),xe=p[p.length-1];switch(ee){case Jt.RECT_NODE:L.radius!==0&&(kd(P,L)||(xe=Md(P,ge,L)));break;case Jt.CIRCLE_NODE:xe=Uc(P,ge,L);break;case Jt.ELLIPSE_NODE:xe=Wc(P,ge,L);break;case Jt.DIAMOND_NODE:case Jt.POLYGON_NODE:xe=Td(P,ge,L)}return xe&&(p[p.length-1]=xe),p}},{key:"getData",value:function(){var s=xs(Hr(c.prototype),"getData",this).call(this),p=this.pointsList.map(function(g){return{x:g.x,y:g.y}});return Object.assign({},s,{pointsList:p})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var s=Jc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=s,this.points=s.map(function(p){return"".concat(p.x,",").concat(p.y)}).join(" ")}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,p){this.startPoint.x+=s,this.startPoint.y+=p,this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveEndPoint",value:function(s,p){this.endPoint.x+=s,this.endPoint.y+=p,this.updatePoints()}},{key:"updatePointsList",value:function(s,p){this.pointsList.forEach(function(x){x.x+=s,x.y+=p});var g=this.pointsList[0];this.startPoint=Object.assign({},g);var b=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},b),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(s){return s})}},{key:"dragAppendSimple",value:function(s,p){this.isDragging=!0;var g=s.start,b=s.end,x=s.startIndex,P=s.endIndex,D=s.direction,L=this.pointsList,V=L;return D===Nn.HORIZONTAL?(L[x]={x:g.x,y:g.y+p.y},L[P]={x:b.x,y:b.y+p.y},V=this.pointsList.map(function(ee){return ee})):D===Nn.VERTICAL&&(L[x]={x:g.x+p.x,y:g.y},L[P]={x:b.x+p.x,y:b.y},V=this.pointsList.map(function(ee){return ee})),this.updatePointsAfterDrag(V),this.draggingPointList=V,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[P]),startIndex:x,endIndex:P,direction:D}}},{key:"dragAppend",value:function(s,p){this.isDragging=!0;var g=s.start,b=s.end,x=s.startIndex,P=s.endIndex,D=s.direction,L=this.pointsList;if(D===Nn.HORIZONTAL){L[x]={x:g.x,y:g.y+p.y},L[P]={x:b.x,y:b.y+p.y};var V=this.pointsList.map(function(Qe){return Qe});if(x!==0&&P!==this.pointsList.length-1&&(V=this.removeCrossPoints(x,P,V)),x===0){var ee={x:g.x,y:g.y+p.y};if(!ea(ee,this.sourceNode)){var ie=this.sourceNode.anchors;V=this.getDraggingPoints(D,"start",ee,ie,V)}}if(P===this.pointsList.length-1){var me={x:b.x,y:b.y+p.y};if(!ea(me,this.targetNode)){var ge=this.targetNode.anchors;V=this.getDraggingPoints(D,"end",me,ge,V)}}this.updatePointsAfterDrag(V),this.draggingPointList=V}else if(D===Nn.VERTICAL){L[x]={x:g.x+p.x,y:g.y},L[P]={x:b.x+p.x,y:b.y};var xe=this.pointsList.map(function(Qe){return Qe});if(x!==0&&P!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,P,xe)),x===0){var Re={x:g.x+p.x,y:g.y};if(!ea(Re,this.sourceNode)){var nt=this.sourceNode.anchors;xe=this.getDraggingPoints(D,"start",Re,nt,xe)}}if(P===this.pointsList.length-1){var et={x:b.x+p.x,y:b.y};if(!ea(et,this.targetNode)){var Ot=this.targetNode.anchors;xe=this.getDraggingPoints(D,"end",et,Ot,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[P]),startIndex:x,endIndex:P,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var s=$f(Ti(this.points));this.pointsList=s.map(function(b){return b}),this.draggingPointList=[];var p=s[0];this.startPoint=Object.assign({},p);var g=s[s.length-1];this.endPoint=Object.assign({},g)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(s){var p=this.updateCrossPoints(s);this.points=p.map(function(g){return"".concat(g.x,",").concat(g.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var p=s.startPoint,g=s.endPoint,b=s.sourceNode,x=s.targetNode,P=Jc({x:p.x,y:p.y},{x:g.x,y:g.y},b,x,this.offset||0);this.pointsList=P,this.initPoints()}}])&&av(e.prototype,n),c}(Mf),Ld=Or(Ft.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or(Ft.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"initPoints"),Ft.prototype),Or(Ft.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePoints"),Ft.prototype),Or(Ft.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateStartPoint"),Ft.prototype),Or(Ft.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveStartPoint"),Ft.prototype),Or(Ft.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateEndPoint"),Ft.prototype),Or(Ft.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveEndPoint"),Ft.prototype),Or(Ft.prototype,"updatePointsList",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePointsList"),Ft.prototype),Or(Ft.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendStart"),Ft.prototype),Or(Ft.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendSimple"),Ft.prototype),Or(Ft.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppend"),Ft.prototype),Or(Ft.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"dragAppendEnd"),Ft.prototype),Or(Ft.prototype,"updatePointsAfterDrag",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePointsAfterDrag"),Ft.prototype),Or(Ft.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustStart"),Ft.prototype),Or(Ft.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustEnd"),Ft.prototype),Or(Ft.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateAfterAdjustStartAndEnd"),Ft.prototype),Ft),_u=function(t){var e=t.start,n=t.end,r=t.offset,c=t.verticalLength,s=t.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/c),x=Math.sqrt(c*c+r*r);return s==="start"?n.x>=e.x?(p.leftX=e.x+x*Math.sin(g+b),p.leftY=e.y-x*Math.cos(g+b),p.rightX=e.x-x*Math.sin(g-b),p.rightY=e.y+x*Math.cos(g-b)):(p.leftX=e.x-x*Math.sin(g+b),p.leftY=e.y+x*Math.cos(g+b),p.rightX=e.x+x*Math.sin(g-b),p.rightY=e.y-x*Math.cos(g-b)):s==="end"&&(n.x>=e.x?(p.leftX=n.x+x*Math.sin(g-b),p.leftY=n.y-x*Math.cos(g-b),p.rightX=n.x-x*Math.sin(g+b),p.rightY=n.y+x*Math.cos(g+b)):(p.leftX=n.x-x*Math.sin(g-b),p.leftY=n.y+x*Math.cos(g-b),p.rightX=n.x+x*Math.sin(g+b),p.rightY=n.y-x*Math.cos(g+b))),p},Kc={x:1,y:0,z:0};function $n(t,e,n,r,c){for(var s=function(ee){if(ee<0||ee>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-ee,3)+3*e.x*ee*Math.pow(1-ee,2)+3*n.x*Math.pow(ee,2)*(1-ee)+r.x*Math.pow(ee,3),y:t.y*Math.pow(1-ee,3)+3*e.y*ee*Math.pow(1-ee,2)+3*n.y*Math.pow(ee,2)*(1-ee)+r.y*Math.pow(ee,3)}},p=0,g=2,b=r.x,x=r.y,P=r;p<c&&g<50;){var D=P=s(1-g/100),L=D.x,V=D.y;p=Bo(b,x,L,V),g++}return P}function Vn(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function If(t){return r=function(s,p){return s.x*p.y-s.y*p.x}(e=Kc,n=t),c=Math.acos(function(s,p){var g=[s.x,s.y,s.z];return[p.x,p.y,p.z].reduce(function(b,x,P){return b+x*g[P]})}(Vn(e),Vn(n))),r>=0?c:-c;var e,n,r,c}function Lf(t){return t*(180/Math.PI)}function Ou(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ou(Object(n),!0).forEach(function(r){Bd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qc(t){return function(e){if(Array.isArray(e))return zf(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Fd(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xr(t){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(t)}function ki(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||Fd(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fd(t,e){if(t){if(typeof t=="string")return zf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zf(t,e):void 0}}function zf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ud=function(t,e){var n;switch(t.type){case"line":default:n=new Xc(t,e);break;case"polyline":n=new So(t,e)}return n},ii=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Vt=function(t){var e=[],n={};return t.forEach(function(r){var c="".concat(r.x,"-").concat(r.y);r.id=c,n[c]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Wd=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Vt(n)},Cr=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Bf=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?Nn.HORIZONTAL:Nn.VERTICAL},dn=function(t,e,n){return Bf(n,e)===Nn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Ff=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),c=Math.max(t.maxX,e.maxX),s=Math.max(t.maxY,e.maxY);return{centerX:(n+c)/2,centerY:(r+s)/2,minX:n,minY:r,maxX:c,maxY:s,height:s-r,width:c-n}},Ma=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(P){n.push(P.x),r.push(P.y)});var c=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,r),g=Math.max.apply(Math,r),b=s-c,x=g-p;return e&&(b+=e,x+=e),{centerX:(c+s)/2,centerY:(p+g)/2,maxX:s,maxY:g,minX:c,minY:p,x:(c+s)/2,y:(p+g)/2,height:x,width:b}},na=function(t){var e=t.minX,n=t.minY,r=t.maxX,c=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:c},{x:e,y:c}]},Es=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Gd=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},$d=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Hd=function(t,e){return Gd(t,e.x).concat($d(t,e.y))},xu=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Zc=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},Uf=function(t,e,n,r,c){return xu(t,e)+xu(t,n)+Zc(t,[e,n,r,c])},Xd=function t(e,n,r,c,s){s||(s=0),e.unshift(n[c]),r[c]&&r[c]!==c&&s<=100&&t(e,n,r,r[c],s+1)},Vd=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Yn=function(t,e,n,r){var c=e.x-t.x,s=e.y-t.y,p=r.x-n.x,g=r.y-n.y,b=(-s*(t.x-n.x)+c*(t.y-n.y))/(-p*s+c*g),x=(p*(t.y-n.y)-g*(t.x-n.x))/(-p*s+c*g);return b>=0&&b<=1&&x>=0&&x<=1},Rr=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=ki(na(n),4),c=r[0],s=r[1],p=r[2],g=r[3];return Yn(t,e,c,s)||Yn(t,e,c,g)||Yn(t,e,s,p)||Yn(t,e,p,g)},Yd=function(t,e,n,r){var c=[];return t.forEach(function(s){s!==e&&(s.x!==e.x&&s.y!==e.y||Rr(s,e,n)||Rr(s,e,r)||c.push(s))}),Vt(c)},Wf=function(t,e,n,r,c,s,p){var g=[],b=[e],x={},P={},D={};P[e.id]=0,D[e.id]=Uf(e,n,e);var L={};t.forEach(function(ie){L[ie.id]=ie});for(var V=function(){var ie=void 0,me=1/0;if(b.forEach(function(xe){D[xe.id]<me&&(me=D[xe.id],ie=xe)}),ie===n){var ge=[];return Xd(ge,L,x,n.id),{v:ge}}Vd(b,ie),g.push(ie),Yd(t,ie,r,c).forEach(function(xe){if(g.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Re=D[ie.id]+xu(ie,xe);P[xe.id]&&Re>=P[xe.id]||(x[xe.id]=ie.id,P[xe.id]=Re,D[xe.id]=P[xe.id]+Uf(xe,n,e,s,p))}})};b.length;){var ee=V();if(Xr(ee)==="object")return ee.v}return[e,n]},Gf=function(t){return Gn(t)},$f=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],c=t[e+1];n.x===r.x&&r.x===c.x||n.y===r.y&&r.y===c.y?t.splice(e,1):e++}return t},Jc=function(t,e,n,r,c){var s=Gf(n),p=Gf(r),g=Cr(s,c),b=Cr(p,c),x=dn(g,s,t),P=dn(b,p,e);if(ii(g,b)){var D=Kd(t,e,x,P);return[t,x].concat(qc(D),[P,e])}var L=Ma([x,P]),V=Ff(g,L),ee=Ff(b,L),ie=[];ie=(ie=ie.concat(na(V))).concat(na(ee));var me={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,V,ee].forEach(function(xe){ie=ie.concat(Hd(xe,me).filter(function(Re){return Es(Re,g)&&Es(Re,b)}))}),[{x:x.x,y:P.y},{x:P.x,y:x.y}].forEach(function(xe){Es(xe,g)&&Es(xe,b)&&ie.push(xe)}),ie.unshift(x),ie.push(P),ie=Vt(ie);var ge=Wf(ie,x,P,s,p,t,e);return ge.unshift(t),ge.push(e),ge.length>2&&(ge=$f(ge)),Vt(ge)},Hf=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],c=Bo(n.x,n.y,r.x,r.y),s=1;s<t.length-1;s++){var p=t[s],g=t[s+1],b=Bo(p.x,p.y,g.x,g.y);b>c&&(c=b,n=p,r=g)}e=[n,r]}return e},Qc=function(t,e,n){var r=ea(t,n),c=ea(e,n);return r&&c},ra=function(t,e,n){var r=ea(t,n),c=ea(e,n);return!(r&&c)&&(r||c)},Xf=function(t,e,n){for(var r,c,s=Gn(n),p=na(s),g=0;g<p.length;g++)Yn(t,e,p[g],p[(g+1)%p.length])&&(c=[p[g],p[(g+1)%p.length]]);return c&&(r=function(b,x,P,D){var L=(x.y-b.y)*(D.x-P.x)-(b.x-x.x)*(P.y-D.y);if(L===0)return!1;var V=((x.x-b.x)*(D.x-P.x)*(P.y-b.y)+(x.y-b.y)*(D.x-P.x)*b.x-(D.y-P.y)*(x.x-b.x)*P.x)/L,ee=-((x.y-b.y)*(D.y-P.y)*(P.x-b.x)+(x.x-b.x)*(D.y-P.y)*b.y-(D.x-P.x)*(x.y-b.y)*P.y)/L;return(V-b.x)*(V-x.x)<=0&&(ee-b.y)*(ee-x.y)<=0&&(V-P.x)*(V-D.x)<=0&&(ee-P.y)*(ee-D.y)<=0&&{x:V,y:ee}}(t,e,c[0],c[1])),r},Eu=function(t,e){var n;return t.x===e.x?n=Nn.VERTICAL:t.y===e.y&&(n=Nn.HORIZONTAL),n},Ti=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var c=ki(r.split(","),2),s=c[0],p=c[1];n.push({x:Number(s),y:Number(p)})}),n},Kd=function(t,e,n,r){var c=[];if(Eu(t,n)===Eu(e,r))t.y===n.y?(c.push({x:n.x,y:(n.y+r.y)/2}),c.push({x:r.x,y:(n.y+r.y)/2})):(c.push({x:(n.x+r.x)/2,y:n.y}),c.push({x:(n.x+r.x)/2,y:r.y}));else{var s={x:n.x,y:r.y},p=po(s,t,n),g=po(s,e,r);if(p||g)s={x:r.x,y:n.y};else{var b=qd(s,t,n),x=qd(s,e,r);b&&x&&(s={x:r.x,y:n.y})}c.push(s)}return c},qd=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Vf=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Yf=null,sv=function(t,e){Yf||(Yf=document.createElement("canvas"));var n=Yf.getContext("2d");return n.font=e,n.measureText(t).width},Zd=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var c={start:n,end:r,offset:10,verticalLength:5},s=_u(wu(wu({},c),{},{type:"start"})),p=_u(wu(wu({},c),{},{type:"end"}));e="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ss=function(t){var e=t.start,n=t.end,r=t.sourceNode,c=t.targetNode,s=t.offset,p=Gn(r),g=Gn(c),b=Cr(p,s),x=Cr(g,s);return{sNext:dn(b,p,e),ePre:dn(x,g,n)}},js=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ps(e[0]),Ps(e[1]),Ps(e[2]),Ps(e[3])]},Ps=function(t){var e=ki(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Kf=function(t,e){var n=ki(t,4);return[$n(n[0],n[1],n[2],n[3],e),t[3]]},As=function(t,e){for(var n,r=t.x,c=t.y,s=Ti(e),p=Number.MAX_SAFE_INTEGER,g=[],b=0;b<s.length;b++)g.push({start:s[b],end:s[(b+1)%s.length]});if(g.forEach(function(L){var V=L.start,ee=L.end;if(V.x===ee.x){var ie={x:V.x,y:c};if(po(ie,V,ee)){var me=Math.abs(V.x-r);me<p&&(p=me,n=ie)}}else if(V.y===ee.y){var ge={x:r,y:V.y};if(po(ge,V,ee)){var xe=Math.abs(V.y-c);xe<p&&(p=xe,n=ge)}}}),!n){var x=g[0],P=x.start,D=x.end;n={x:P.x+(D.x-P.x)/2,y:P.y+(D.y-P.y)/2}}return n},Jd=function(t){return xi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},qf=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Vr(t,e){return typeof e!="function"?function(n,r,c){return Object.assign({type:t.edgeType},c)}:function(n,r,c){var s=e(n,r,c);return s?typeof s=="string"?Object.assign({},c,{type:s}):Object.assign({type:s},c):{type:t.edgeType}}}o(208);var Ms=function(){};function cv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jo=function(){function t(r){var c=this,s=r.onDragStart,p=s===void 0?Ms:s,g=r.onDragging,b=g===void 0?Ms:g,x=r.onDragEnd,P=x===void 0?Ms:x,D=r.eventType,L=D===void 0?"":D,V=r.eventCenter,ee=V===void 0?null:V,ie=r.step,me=ie===void 0?1:ie,ge=r.isStopPropagation,xe=ge===void 0||ge,Re=r.model,nt=Re===void 0?null:Re,et=r.data,Ot=et===void 0?null:et;(function(Qe,gt){if(!(Qe instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,t),sr(this,"onDragStart",void 0),sr(this,"onDragging",void 0),sr(this,"onDragEnd",void 0),sr(this,"step",void 0),sr(this,"isStopPropagation",void 0),sr(this,"isDragging",!1),sr(this,"isStartDragging",!1),sr(this,"startX",0),sr(this,"startY",0),sr(this,"sumDeltaX",0),sr(this,"sumDeltaY",0),sr(this,"eventType",void 0),sr(this,"eventCenter",void 0),sr(this,"model",void 0),sr(this,"data",void 0),sr(this,"startTime",void 0),sr(this,"handleMouseDown",function(Qe){var gt,it,nn,sn=(gt=window)===null||gt===void 0?void 0:gt.document;if(Qe.button===0){c.isStopPropagation&&Qe.stopPropagation(),c.isStartDragging=!0,c.startX=Qe.clientX,c.startY=Qe.clientY,sn.addEventListener("mousemove",c.handleMouseMove,!1),sn.addEventListener("mouseup",c.handleMouseUp,!1);var Lt=(it=c.model)===null||it===void 0?void 0:it.getData();(nn=c.eventCenter)===null||nn===void 0||nn.emit(yt["".concat(c.eventType,"_MOUSEDOWN")],{e:Qe,data:c.data||Lt}),c.startTime=new Date().getTime()}}),sr(this,"handleMouseMove",function(Qe){if(c.isStopPropagation&&Qe.stopPropagation(),c.isStartDragging&&(c.sumDeltaX+=Qe.clientX-c.startX,c.sumDeltaY+=Qe.clientY-c.startY,c.startX=Qe.clientX,c.startY=Qe.clientY,c.step<=1||Math.abs(c.sumDeltaX)>c.step||Math.abs(c.sumDeltaY)>c.step)){var gt,it=c.sumDeltaX%c.step,nn=c.sumDeltaY%c.step,sn=c.sumDeltaX-it,Lt=c.sumDeltaY-nn;c.sumDeltaX=it,c.sumDeltaY=nn;var hn,or=(gt=c.model)===null||gt===void 0?void 0:gt.getData();c.isDragging||((hn=c.eventCenter)===null||hn===void 0||hn.emit(yt["".concat(c.eventType,"_DRAGSTART")],{e:Qe,data:c.data||or}),c.onDragStart({event:Qe})),c.isDragging=!0,Promise.resolve().then(function(){var ir,Yr;c.onDragging({deltaX:sn,deltaY:Lt,event:Qe}),(ir=c.eventCenter)===null||ir===void 0||ir.emit(yt["".concat(c.eventType,"_MOUSEMOVE")],{e:Qe,data:c.data||or}),(Yr=c.eventCenter)===null||Yr===void 0||Yr.emit(yt["".concat(c.eventType,"_DRAG")],{e:Qe,data:c.data||or})})}}),sr(this,"handleMouseUp",function(Qe){var gt=window.document;c.isStartDragging=!1,c.isStopPropagation&&Qe.stopPropagation(),Promise.resolve().then(function(){var it,nn,sn;gt.removeEventListener("mousemove",c.handleMouseMove,!1),gt.removeEventListener("mouseup",c.handleMouseUp,!1);var Lt=(it=c.model)===null||it===void 0?void 0:it.getData();(nn=c.eventCenter)===null||nn===void 0||nn.emit(yt["".concat(c.eventType,"_MOUSEUP")],{e:Qe,data:c.data||Lt}),c.isDragging&&(c.isDragging=!1,c.onDragEnd({event:Qe}),(sn=c.eventCenter)===null||sn===void 0||sn.emit(yt["".concat(c.eventType,"_DROP")],{e:Qe,data:c.data||Lt}))})}),sr(this,"cancelDrag",function(){var Qe,gt=(Qe=window)===null||Qe===void 0?void 0:Qe.document;gt.removeEventListener("mousemove",c.handleMouseMove,!1),gt.removeEventListener("mouseup",c.handleMouseUp,!1),c.onDragEnd({event:null}),c.isDragging=!1}),this.onDragStart=p,this.onDragging=b,this.onDragEnd=P,this.step=me,this.isStopPropagation=xe,this.eventType=L,this.eventCenter=ee,this.model=nt,this.data=Ot}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&cv(e.prototype,n),t}();function ks(t){return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function Zf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jf(t,e,n){return e&&lv(t.prototype,e),t}function el(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ns(t,e)}function Qf(t){var e=Qd();return function(){var n,r=Ds(t);if(e){var c=Ds(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return fv(this,n)}}function fv(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ni(t)}function Ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ts(t){var e=typeof Map=="function"?new Map:void 0;return Ts=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,c)}function c(){return ep(n,arguments,Ds(this).constructor)}return c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Ns(c,n)},Ts(t)}function ep(t,e,n){return ep=Qd()?Reflect.construct:function(r,c,s){var p=[null];p.push.apply(p,c);var g=new(Function.bind.apply(r,p));return s&&Ns(g,s.prototype),g},ep.apply(null,arguments)}function Qd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ns(t,e){return Ns=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ns(t,e)}function Ds(t){return Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ds(t)}function Cs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eh(t,e){return t instanceof wr&&e instanceof wr}var th=function(t){el(n,t);var e=Qf(n);function n(r,c,s){var p;return Zf(this,n),Cs(Ni(p=e.call(this,3)),"x",void 0),Cs(Ni(p),"y",void 0),Cs(Ni(p),"z",void 0),p[0]=r,p[1]=c,p[2]=s,p.x=r,p.y=c,p.z=s,Object.setPrototypeOf(Ni(p),n.prototype),p}return Jf(n,[{key:"add",value:function(r){if(eh(this,r))return new wr(this.x+r.x,this.y+r.y);var c=this.z+r.z;return new f((this.x+r.x)/c,(this.y+r.y)/c)}},{key:"subtract",value:function(r){if(eh(this,r))return new wr(this.x-r.x,this.y-r.y);var c=this.z-r.z;return c===0?new wr(this.x-r.x,this.y-r.y):new f((this.x-r.x)/c,(this.y-r.y)/c)}}]),n}(Ts(Array)),wr=function(t){el(n,t);var e=Qf(n);function n(r,c,s){var p;return Zf(this,n),p=e.call(this,r,c,s??0),Object.setPrototypeOf(Ni(p),n.prototype),p}return Jf(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var c=this;return r.reduce(function(s,p,g){return s+p*c[g]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var c=this.crossZ(r),s=Math.acos(this.normalize().dot(r.normalize()));return c>=0?s:-s}}]),n}(th),f=function(t){el(n,t);var e=Qf(n);function n(r,c){var s;return Zf(this,n),s=e.call(this,r,c,1),Object.setPrototypeOf(Ni(s),n.prototype),s}return Jf(n,[{key:"toString",value:function(){return"Point"}}]),n}(th);o(67),o(218);function y(t){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(t)}function _(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||R(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(t){return function(e){if(Array.isArray(e))return $(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||R(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R(t,e){if(t){if(typeof t=="string")return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}function $(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e,n){return e&&fe(t.prototype,e),t}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}function De(t){var e=Be();return function(){var n,r=Tt(t);if(e){var c=Tt(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(t,e){if(e&&(y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(t){var e=typeof Map=="function"?new Map:void 0;return vt=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,c)}function c(){return At(n,arguments,Tt(this).constructor)}return c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Xe(c,n)},vt(t)}function At(t,e,n){return At=Be()?Reflect.construct:function(r,c,s){var p=[null];p.push.apply(p,c);var g=new(Function.bind.apply(r,p));return s&&Xe(g,s.prototype),g},At.apply(null,arguments)}function Be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xe(t,e){return Xe=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xe(t,e)}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(t)}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var le,Ut,on,xt,Ct,cr,no,Uo,lr,ai,Di,Su,Rs,ui=function(t){Le(n,t);var e=De(n);function n(){var r;ae(this,n);for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];return st(ut(r=e.call(this,s.length)),"rows",void 0),st(ut(r),"columns",void 0),r.fill(new Array(3)),s.forEach(function(g,b){r[b]=g}),r.columns=s[0].length,r.rows=s.length,Object.setPrototypeOf(ut(r),n.prototype),r}return Oe(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return A(this.map(function(c){return c[r]}))}},{key:"transpose",value:function(){for(var r=[],c=0;c<this.columns;c++)r.push(this.getColumn(c));return At(n,r)}},{key:"cross",value:function(r){var c=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var s=0;s<this.rows;s++)for(var p=this.getRow(s),g=function(x){var P=r.getColumn(x);c[s][x]=p.reduce(function(D,L,V){return D+L*P[V]},0)},b=0;b<r.columns;b++)g(b);return At(n,A(c))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new f(r[0],r[1])})}},{key:"toString",value:function(){var r=_(this[0],2),c=r[0],s=r[1],p=_(this[1],2),g=p[0],b=p[1],x=_(this[2],2),P=x[0],D=x[1];return"matrix(".concat(c," ").concat(s," ").concat(g," ").concat(b," ").concat(P," ").concat(D,")")}},{key:"translate",value:function(r,c){return this.cross(new ju(r,c))}},{key:"rotate",value:function(r){return this.cross(new oa(r))}},{key:"scale",value:function(r,c){return this.cross(new tp(r,c))}}]),n}(vt(Array)),oa=function(t){Le(n,t);var e=De(n);function n(r){var c;return ae(this,n),c=e.call(this,new wr(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new wr(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new wr(0,0,1)),Object.setPrototypeOf(ut(c),n.prototype),c}return Oe(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(ui),tp=function(t){Le(n,t);var e=De(n);function n(r,c){var s;return ae(this,n),st(ut(s=e.call(this,new wr(r,0,0),new wr(0,c,0),new wr(0,0,1))),"sx",void 0),st(ut(s),"sy",void 0),s.sx=r,s.sy=c,Object.setPrototypeOf(ut(s),n.prototype),s}return Oe(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(ui),ju=function(t){Le(n,t);var e=De(n);function n(r,c){var s;return ae(this,n),st(ut(s=e.call(this,new wr(1,0,0),new wr(0,1,0),new wr(r,c,1))),"tx",void 0),st(ut(s),"ty",void 0),s.tx=r,s.ty=c,Object.setPrototypeOf(ut(s),n.prototype),s}return Oe(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(ui),Is={node:!1,edge:!1},np={node:!0,edge:!0};function Ls(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ls(Object(n),!0).forEach(function(r){Ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ta(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||zs(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ci(t){return function(e){if(Array.isArray(e))return pv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||zs(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zs(t,e){if(t){if(typeof t=="string")return pv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pv(t,e):void 0}}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nh(t){return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function si(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ri(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Et(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var i0,a0=200,u0=(le=function(){function t(r){(function(V,ee){if(!(V instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,t),Ri(this,"rootEl",void 0),si(this,"width",Ut,this),si(this,"height",on,this),Ri(this,"theme",void 0),Ri(this,"eventCenter",void 0),Ri(this,"modelMap",new Map),Ri(this,"topElement",void 0),Ri(this,"animation",void 0),Ri(this,"idGenerator",void 0),Ri(this,"edgeGenerator",void 0),Ri(this,"nodeMoveRules",[]),Ri(this,"customTrajectory",void 0),si(this,"edgeType",xt,this),si(this,"nodes",Ct,this),si(this,"edges",cr,this),si(this,"overlapMode",no,this),si(this,"background",Uo,this),si(this,"transformModel",lr,this),si(this,"editConfigModel",ai,this),si(this,"gridSize",Di,this),si(this,"partial",Su,this),si(this,"fakerNode",Rs,this);var c,s=r.container,p=r.background,g=p===void 0?{}:p,b=r.grid,x=r.idGenerator,P=r.edgeGenerator,D=r.animation,L=r.customTrajectory;this.background=g,nh(b)==="object"&&(this.gridSize=b.size),this.rootEl=s,this.editConfigModel=new Zl(r),this.eventCenter=new md,this.transformModel=new od(this.eventCenter,r),this.theme=Sa(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(c=D)&&typeof c!="boolean"?ys(wn(Is),c):wn(c===!0?np:Is),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=L,this.edgeGenerator=Vr(this,P),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Mi()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,c,s){return r[c.id]={index:s,model:c},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,c,s){return r[c.id]={index:s,model:c},r},{})}},{key:"modelsMap",get:function(){return[].concat(Ci(this.nodes),Ci(this.edges)).reduce(function(r,c){return r[c.id]=c,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,P){return x.zIndex-P.zIndex});for(var c=[],s=[-200,-200],p=[this.width+a0,this.height+a0],g=0;g<r.length;g++){var b=r[g];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,s,p,!1,!1))&&c.push(b)}return c}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(s){return s.state===_n.TEXT_EDIT}),c=this.edges.find(function(s){return s.state===_n.TEXT_EDIT});return r||c}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(c){c.isSelected&&r.set(c.id,c)}),this.edges.forEach(function(c){c.isSelected&&r.set(c.id,c)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(c){c.isSelected&&r.push(c)}),r}},{key:"getAreaElement",value:function(r,c){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach(function(L){return x.push(L)}),this.edges.forEach(function(L){return x.push(L)});for(var P=0;P<x.length;P++){var D=x[P];g&&!D.visible||!this.isElementInArea(D,r,c,s,p)||b.push(D)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var c;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(c=this.nodesMap[r])===null||c===void 0?void 0:c.model}},{key:"getPointByClient",value:function(r){var c=r.x,s=r.y,p=this.rootEl.getBoundingClientRect(),g={x:c-p.left,y:s-p.top},b=Ta(this.transformModel.HtmlPointToCanvasPoint([g.x,g.y]),2);return{domOverlayPosition:g,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,c,s){var p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===nr.NODE){for(var b=Gn(r=r),x=b.minX,P=b.minY,D=b.maxX,L=b.maxY,V=[{x,y:P},{x:D,y:P},{x:D,y:L},{x,y:L}],ee=g,ie=0;ie<V.length;ie++){var me=V[ie],ge=me.x,xe=me.y,Re=this.transformModel.CanvasPointToHtmlPoint([ge,xe]),nt=Ta(Re,2);if(ge=nt[0],xe=nt[1],ms([ge,xe],c,s)!==g){ee=!g;break}}return ee}if(r.BaseType===nr.EDGE){var et=r=r,Ot=et.startPoint,Qe=et.endPoint,gt=this.transformModel.CanvasPointToHtmlPoint([Ot.x,Ot.y]),it=this.transformModel.CanvasPointToHtmlPoint([Qe.x,Qe.y]),nn=ms(gt,c,s),sn=ms(it,c,s);return p?nn&&sn:nn||sn}return!1}},{key:"graphDataToModel",value:function(r){var c=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=fc(r.nodes,function(s){return c.getModelAfterSnapToGrid(s)}):this.nodes=[],r.edges?this.edges=fc(r.edges,function(s){var p=c.getModel(s.type);if(!p)throw new Error("找不到".concat(s.type,"对应的边。"));return new p(s,c)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(s){var p=s.getData();p&&!s.virtual&&r.push(p)});var c=[];return this.nodes.forEach(function(s){var p=s.getData();p&&!s.virtual&&c.push(p)}),{nodes:c,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,c=[],s=0;s<this.nodes.length;s++){var p=this.nodes[s];if(p.isDragging){r=!0;break}c.push(p.getHistoryData())}if(r)return!1;for(var g=!1,b=[],x=0;x<this.edges.length;x++){var P=this.edges[x];if(P.isDragging){g=!0;break}b.push(P.getHistoryData())}return!g&&{nodes:c,edges:b}}},{key:"getEdgeModelById",value:function(r){var c;return(c=this.edgesMap[r])===null||c===void 0?void 0:c.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var c=[],s=0;s<this.edges.length;s++){var p=this.edges[s],g=this.edges[s].sourceNodeId===r,b=this.edges[s].targetNodeId===r;(g||b)&&c.push(p)}return c}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],c=this.selectElements,s={nodes:[],edges:[]};return c.forEach(function(p){if(p.BaseType===nr.NODE&&s.nodes.push(p.getData()),p.BaseType===nr.EDGE){var g=p.getData(),b=c.get(g.sourceNodeId)&&c.get(g.targetNodeId);(r||b)&&s.edges.push(g)}}),s}},{key:"updateAttributes",value:function(r,c){this.getElement(r).updateAttributes(c)}},{key:"changeNodeId",value:function(r,c){return c||(c=Mi()),this.nodesMap[c]?"":this.nodesMap[r]?(this.edges.forEach(function(s){s.sourceNodeId===r&&(s.sourceNodeId=c),s.targetNodeId===r&&(s.targetNodeId=c)}),this.nodesMap[r].model.id=c,this.nodesMap[c]=this.nodesMap[r],c):""}},{key:"changeEdgeId",value:function(r,c){return c||(c=Mi()),this.edgesMap[c]?"":this.edgesMap[r]?(this.edges.forEach(function(s){s.id===r&&s.changeEdgeId(c)}),c):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,c){return this.modelMap.set(r,c)}},{key:"toFront",value:function(r){var c,s,p,g=((c=this.nodesMap[r])===null||c===void 0?void 0:c.model)||((s=this.edgesMap[r])===null||s===void 0?void 0:s.model);g&&(this.overlapMode===Wn.DEFAULT&&((p=this.topElement)===null||p===void 0||p.setZIndex(),g.setZIndex(9999),this.topElement=g),this.overlapMode===Wn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,c){var s,p,g,b=((s=this.nodesMap[r])===null||s===void 0?void 0:s.model)||((p=this.edgesMap[r])===null||p===void 0?void 0:p.model);b&&(typeof c=="number"&&(g=c),c==="top"&&(g=Pf()),c==="bottom"&&(g=--tv),b.setZIndex(g))}},{key:"deleteNode",value:function(r){var c=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(yt.NODE_DELETE,{data:c})}},{key:"addNode",value:function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt.NODE_ADD,s=arguments.length>2?arguments[2]:void 0,p=Dr(r);p.id&&this.nodesMap[r.id]&&delete p.id;var g=this.getModelAfterSnapToGrid(p);this.nodes.push(g);var b=g.getData(),x={data:b};return s&&(x.e=s),this.eventCenter.emit(c,x),g}},{key:"getModelAfterSnapToGrid",value:function(r){var c=this.getModel(r.type);if(!c)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));var s=r.x,p=r.y;return s&&p&&(r.x=Ji(s,this.gridSize),r.y=Ji(p,this.gridSize),nh(r.text)==="object"&&(r.text.x+=r.x-s,r.text.y+=r.y-p)),new c(r,this)}},{key:"cloneNode",value:function(r){var c=this.getNodeModelById(r),s=c.getData();s.x+=30,s.y+=30,delete s.id,s.text&&(s.text.x+=30,s.text.y+=30);var p=this.addNode(s);return p.setSelected(!0),c.setSelected(!1),p.getData()}},{key:"moveNode",value:function(r,c,s){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=this.nodesMap[r];if(g){var b=g.model,x=b.getMoveDistance(c,s,p),P=Ta(x,2);c=P[0],s=P[1],this.moveEdge(r,c,s)}}},{key:"moveNode2Coordinate",value:function(r,c,s){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=this.nodesMap[r];if(g){var b=g.model,x=b.x,P=b.y,D=c-x,L=s-P;this.moveNode(r,D,L,p)}}},{key:"editText",value:function(r){this.setElementStateById(r,_n.TEXT_EDIT)}},{key:"addEdge",value:function(r){var c=Dr(r),s=c.type;s||(s=this.edgeType),c.id&&this.edgesMap[c.id]&&delete c.id;var p=this.getModel(s);if(!p)throw new Error("找不到".concat(s,"对应的边，请确认是否已注册此类型边。"));var g=new p(ka(ka({},c),{},{type:s}),this),b=g.getData();return this.edges.push(g),this.eventCenter.emit(yt.EDGE_ADD,{data:b}),g}},{key:"moveEdge",value:function(r,c,s){for(var p=0;p<this.edges.length;p++){var g=this.edges[p],b=g.textPosition,x=b.x,P=b.y,D=this.edges[p].sourceNodeId===r,L=this.edges[p].targetNodeId===r;D&&g.moveStartPoint(c,s),L&&g.moveEndPoint(c,s),(D||L)&&this.handleEdgeTextMove(g,x,P)}}},{key:"handleEdgeTextMove",value:function(r,c,s){var p;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Jt.POLYLINE_EDGE&&(p=r.text)!==null&&p!==void 0&&p.value){var g=r.text,b=As(g,r.points);r.moveText(b.x-g.x,b.y-g.y)}else{var x=r.textPosition,P=x.x,D=x.y;r.moveText(P-c,D-s)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,c){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===r&&this.edges[s].targetNodeId===c){var p=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(yt.EDGE_DELETE,{data:p})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var c=this.edgesMap[r].index,s=this.edgesMap[r].model.getData();this.edges.splice(c,1),this.eventCenter.emit(yt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeBySource",value:function(r){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===r){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(yt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeByTarget",value:function(r){for(var c=0;c<this.edges.length;c++)if(this.edges[c].targetNodeId===r){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(yt.EDGE_DELETE,{data:s})}}},{key:"setElementStateById",value:function(r,c,s){this.nodes.forEach(function(p){p.id===r?p.setElementState(c,s):p.setElementState(_n.DEFAULT)}),this.edges.forEach(function(p){p.id===r?p.setElementState(c,s):p.setElementState(_n.DEFAULT)})}},{key:"updateText",value:function(r,c){this.nodes.forEach(function(s){s.id===r&&s.updateText(c)}),this.edges.forEach(function(s){s.id===r&&s.updateText(c)})}},{key:"selectNodeById",value:function(r){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var p=(c=this.nodesMap[r])===null||c===void 0?void 0:c.model;p==null||p.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var p=(c=this.edgesMap[r])===null||c===void 0?void 0:c.model;p==null||p.setSelected(!0)}},{key:"selectElementById",value:function(r){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var s=this.getElement(r);s==null||s.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(c){c==null||c.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Wn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,c,s){for(var p=this,g=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(et,Ot){var Qe=p.nodesMap[Ot].model.getMoveDistance(c,s,g);return et[Ot]=Qe,et},{}),x=0;x<this.edges.length;x++){var P=this.edges[x],D=P.textPosition,L=D.x,V=D.y,ee=b[P.sourceNodeId],ie=b[P.targetNodeId],me=void 0,ge=void 0;if(ee&&ie&&P.modelType===Jt.POLYLINE_EDGE){var xe=Ta(ee,2);me=xe[0],ge=xe[1],P.updatePointsList(me,ge)}else{if(ee){var Re=Ta(ee,2);me=Re[0],ge=Re[1],P.moveStartPoint(me,ge)}if(ie){var nt=Ta(ie,2);me=nt[0],ge=nt[1],P.moveEndPoint(me,ge)}}(ee||ie)&&this.handleEdgeTextMove(P,L,V)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,c){var s=this.getNodeModelById(r);if(s){var p=s.getData();p.type=c;var g=this.getModel(c);if(!g)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));var b=new g(p,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var P=Nd(b,x.startPoint,b.width,b.height);x.updateStartPoint(P)}if(x.targetNodeId===r){var D=Nd(b,x.endPoint,b.width,b.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,c){var s=this.getEdgeModelById(r);if(s&&s.type!==c){var p=s.getData();p.type=c;var g=this.getModel(c);if(!g)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));delete p.pointsList;var b=new g(p,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var c=[];return this.edges.forEach(function(s){s.targetNodeId===r&&c.push(s)}),c}},{key:"getNodeOutgoingEdge",value:function(r){var c=[];return this.edges.forEach(function(s){s.sourceNodeId===r&&c.push(s)}),c}},{key:"getAnchorIncomingEdge",value:function(r){var c=[];return this.edges.forEach(function(s){s.targetAnchorId===r&&c.push(s)}),c}},{key:"getAnchorOutcomingEdge",value:function(r){var c=[];return this.edges.forEach(function(s){s.sourceAnchorId===r&&c.push(s)}),c}},{key:"getNodeIncomingNode",value:function(r){var c=this,s=[];return this.edges.forEach(function(p){p.targetNodeId===r&&s.push(c.nodesMap[p.sourceNodeId].model)}),s}},{key:"getNodeOutgoingNode",value:function(r){var c=this,s=[];return this.edges.forEach(function(p){p.sourceNodeId===r&&s.push(c.nodesMap[p.targetNodeId].model)}),s}},{key:"setTheme",value:function(r){this.theme=Sa(ka(ka({},this.theme),r))}},{key:"resize",value:function(r,c){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=c||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,c=[],s=[];r.forEach(function(D){var L=D.x,V=D.y,ee=D.width,ie=D.height,me=D.getNodeStyle().strokeWidth,ge=me===void 0?0:me,xe=L+ee/2+ge,Re=L-ee/2-ge,nt=V+ie/2+ge,et=V-ie/2-ge;c=c.concat([xe,Re].filter(function(Ot){return!Number.isNaN(Ot)})),s=s.concat([nt,et].filter(function(Ot){return!Number.isNaN(Ot)}))});var p=Math.min.apply(Math,Ci(c)),g=Math.max.apply(Math,Ci(c)),b=Math.min.apply(Math,Ci(s)),x=g-p||0,P=Math.max.apply(Math,Ci(s))-b||0;return{virtualRectWidth:x,virtualRectHeight:P,virtualRectCenterPositionX:p+x/2,virtualRectCenterPositionY:b+P/2}}},{key:"translateCenter",value:function(){var r=this.nodes,c=this.width,s=this.height,p=this.rootEl,g=this.transformModel;if(r.length){var b=c||p.clientWidth,x=s||p.clientHeight,P=this.getVirtualRectSize(),D=P.virtualRectCenterPositionX,L=P.virtualRectCenterPositionY;g.focusOn(D,L,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,s=this.nodes,p=this.width,g=this.height,b=this.rootEl,x=this.transformModel;if(s.length){var P=p||b.clientWidth,D=g||b.clientHeight,L=this.getVirtualRectSize(),V=L.virtualRectWidth,ee=L.virtualRectHeight,ie=L.virtualRectCenterPositionX,me=L.virtualRectCenterPositionY,ge=(V+c)/P,xe=(ee+r)/D,Re=0;Re=1/Math.max(ge,xe);var nt=[P/2,D/2];x.zoom(Re,nt),x.focusOn(ie,me,P,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&kE(e.prototype,n),t}(),Ut=Et(le.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=Et(le.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Et(le.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=Et(le.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cr=Et(le.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),no=Et(le.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wn.DEFAULT}}),Uo=Et(le.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=Et(le.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ai=Et(le.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Di=Et(le.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Su=Et(le.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rs=Et(le.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et(le.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"nodesMap"),le.prototype),Et(le.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"edgesMap"),le.prototype),Et(le.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"modelsMap"),le.prototype),Et(le.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"sortElements"),le.prototype),Et(le.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"textEditElement"),le.prototype),Et(le.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"selectElements"),le.prototype),Et(le.prototype,"selectNodes",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"selectNodes"),le.prototype),Et(le.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setFakerNode"),le.prototype),Et(le.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"removeFakerNode"),le.prototype),Et(le.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setModel"),le.prototype),Et(le.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"toFront"),le.prototype),Et(le.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementZIndex"),le.prototype),Et(le.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteNode"),le.prototype),Et(le.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"addNode"),le.prototype),Et(le.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"cloneNode"),le.prototype),Et(le.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode"),le.prototype),Et(le.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode2Coordinate"),le.prototype),Et(le.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"editText"),le.prototype),Et(le.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"addEdge"),le.prototype),Et(le.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveEdge"),le.prototype),Et(le.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySourceAndTarget"),le.prototype),Et(le.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeById"),le.prototype),Et(le.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySource"),le.prototype),Et(le.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeByTarget"),le.prototype),Et(le.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementStateById"),le.prototype),Et(le.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),Et(le.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectNodeById"),le.prototype),Et(le.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectEdgeById"),le.prototype),Et(le.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectElementById"),le.prototype),Et(le.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"clearSelectElements"),le.prototype),Et(le.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNodes"),le.prototype),Et(le.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setDefaultEdgeType"),le.prototype),Et(le.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"changeNodeType"),le.prototype),Et(le.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"changeEdgeType"),le.prototype),Et(le.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingEdge"),le.prototype),Et(le.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingEdge"),le.prototype),Et(le.prototype,"getAnchorIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getAnchorIncomingEdge"),le.prototype),Et(le.prototype,"getAnchorOutcomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getAnchorOutcomingEdge"),le.prototype),Et(le.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingNode"),le.prototype),Et(le.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingNode"),le.prototype),Et(le.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setTheme"),le.prototype),Et(le.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"resize"),le.prototype),Et(le.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"clearData"),le.prototype),Et(le.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"translateCenter"),le.prototype),Et(le.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"fitView"),le.prototype),Et(le.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"openEdgeAnimation"),le.prototype),Et(le.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"closeEdgeAnimation"),le.prototype),le),TE=u0;function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function hv(){return hv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function NE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e){return yv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yv(t,e)}function DE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=rh(t);if(e){var c=rh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return CE(this,n)}}function CE(t,e){if(e&&(dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ia(t)}function ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rh(t)}function Na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s0,RE=Bi(i0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&yv(s,p)})(c,t);var e,n,r=DE(c);function c(s){var p;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,c),Na(ia(p=r.call(this)),"stepDrag",void 0),Na(ia(p),"stepScrollX",0),Na(ia(p),"stepScrollY",0),Na(ia(p),"onDragging",function(P){var D=P.deltaX,L=P.deltaY;p.setState({isDragging:!0});var V=p.props.graphModel,ee=V.transformModel;V.editConfigModel.stopMoveGraph!==!0&&ee.translate(D,L)}),Na(ia(p),"onDragEnd",function(){p.setState({isDragging:!1})}),Na(ia(p),"zoomHandler",function(P){var D=p.props,L=D.graphModel,V=L.editConfigModel,ee=L.transformModel,ie=L.gridSize,me=D.graphModel,ge=P.deltaX,xe=P.deltaY;if(V.stopScrollGraph||P.ctrlKey===!0){if(!V.stopZoomGraph){P.preventDefault();var Re=me.getPointByClient({x:P.clientX,y:P.clientY}).canvasOverlayPosition,nt=Re.x,et=Re.y;ee.zoom(P.deltaY<0,[nt,et])}}else{if(P.preventDefault(),p.stepScrollX+=ge,p.stepScrollY+=xe,Math.abs(p.stepScrollX)>=ie){var Ot=p.stepScrollX%ie,Qe=p.stepScrollX-Ot;ee.translate(-Qe*ee.SCALE_X,0),p.stepScrollX=Ot}if(Math.abs(p.stepScrollY)>=ie){var gt=p.stepScrollY%ie,it=p.stepScrollY-gt;ee.translate(0,-it*ee.SCALE_Y),p.stepScrollY=gt}}}),Na(ia(p),"clickHandler",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){var D=p.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(yt.BLANK_CLICK,{e:P})}}),Na(ia(p),"handleContextMenu",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){P.preventDefault();var D=p.props.graphModel,L=D.getPointByClient({x:P.clientX,y:P.clientY});D.eventCenter.emit(yt.BLANK_CONTEXTMENU,{e:P,position:L})}}),Na(ia(p),"mouseDownHandler",function(P){var D=p.props.graphModel,L=D.eventCenter,V=D.editConfigModel,ee=D.transformModel.SCALE_X,ie=D.gridSize,me=P.target,ge=!V.adjustEdge&&!V.adjustNodePosition;(me.getAttribute("name")==="canvas-overlay"||ge)&&(V.stopMoveGraph!==!0?(p.stepDrag.setStep(ie*ee),p.stepDrag.handleMouseDown(P)):L.emit(yt.BLANK_MOUSEDOWN,{e:P}),p.clickHandler(P))});var g=s.graphModel,b=g.gridSize,x=g.eventCenter;return p.stepDrag=new jo({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),p.state={isDragging:!1},p}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props,g=p.children,b=p.dnd,x=this.state.isDragging;return Object(pe.g)("svg",hv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:s},g))}}])&&NE(e.prototype,n),c}(pe.a))||i0;function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function IE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e){return gv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gv(t,e)}function zE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oh(t);if(e){var c=oh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return BE(this,n)}}function BE(t,e){if(e&&(vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}var FE=Bi(s0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&gv(s,p)})(c,t);var e,n,r=zE(c);function c(){return IE(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var s=this.props,p=s.tool,g=s.graphModel,b=p.getTools().map(function(x){return Object(pe.g)(x,{graphModel:g,logicFlow:p.instance})});return p.components=b,b}},{key:"triggerToolRender",value:function(){var s=this.props,p=s.tool,g=s.graphModel,b=document.querySelector("#ToolOverlay_".concat(g.flowId)),x=p.getInstance();x.components.forEach(function(P){return P(x,b)}),x.components=[]}},{key:"render",value:function(){var s=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(s.flowId)},this.getTools())}}])&&LE(e.prototype,n),c}(pe.a))||s0;function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function UE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bv(t,e)}function GE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ih(t);if(e){var c=ih(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return $E(this,n)}}function $E(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(t)}var c0,HE=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&bv(s,p)})(c,t);var e,n,r=GE(c);function c(){return UE(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:s,className:"lf-background-area"}))}}])&&WE(e.prototype,n),c}(pe.a);function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function XE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ov(t,e){return Ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ov(t,e)}function YE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ah(t);if(e){var c=ah(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return KE(this,n)}}function KE(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0(t)}function l0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}function qE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f0=Bi(c0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Ov(s,p)})(c,t);var e,n,r=YE(c);function c(){var s;XE(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return qE(l0(s=r.call.apply(r,[this].concat(g))),"id",Mi()),s}return e=c,(n=[{key:"renderDot",value:function(){var s=this.props,p=s.config,g=p.color,b=p.thickness,x=b===void 0?2:b,P=s.size,D=s.visible,L=Math.min(Math.max(2,x),P/2),V=1;return D||(V=0),Object(pe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:g,opacity:V})}},{key:"renderMesh",value:function(){var s=this.props,p=s.config,g=p.color,b=p.thickness,x=b===void 0?1:b,P=s.size,D=s.visible,L=Math.min(Math.max(1,x),P/2),V="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),ee=1;return D||(ee=0),Object(pe.g)("path",{d:V,stroke:g,strokeWidth:L,opacity:ee})}},{key:"render",value:function(){var s=this.props,p=s.type,g=s.size,b=s.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),P="matrix(".concat(x,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:P,x:"0",y:"0",width:g,height:g},p==="dot"&&this.renderDot(),p==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&VE(e.prototype,n),c}(pe.a))||c0;f0.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function wv(t){return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function ZE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return p0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return p0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d0,tl=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=ZE(n,2),c=r[0],s=r[1];(c==="style"||wv(s)!=="object")&&(e[c]=s)}),Object(pe.g)("line",e)};function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function h0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h0(Object(n),!0).forEach(function(r){JE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ev(t,e)}function tS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sh(t);if(e){var c=sh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return nS(this,n)}}function nS(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sh(t)}var y0,rS=Bi(d0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Ev(s,p)})(c,t);var e,n,r=tS(c);function c(){return QE(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.snaplineModel,p=s.position,g=s.isShowHorizontal,b=s.isShowVertical,x=s.getStyle(),P=p.x,D=P===void 0?0:P,L=p.y,V=L===void 0?0:L,ee=uh(uh({x1:-1e5,y1:V,x2:1e5,y2:V},x),{},{stroke:g?x.stroke:"none"}),ie=uh(uh({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(tl,ee),Object(pe.g)(tl,ie))}}])&&eS(e.prototype,n),c}(pe.a))||d0;function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function oS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return v0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return v0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pu(t){var e=t.x,n=t.y,r=t.width,c=t.height,s=t.className,p=t.radius,g=e-r/2,b=n-c/2,x={};return Object.entries(t).forEach(function(P){var D=oS(P,2),L=D[0],V=D[1];Sv(V)!=="object"&&(x[L]=V)}),x.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",p&&(x.rx=p,x.ry=p),x.x=g,x.y=b,Object(pe.g)("rect",x)}function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function nl(){return nl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function g0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function m0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g0(Object(n),!0).forEach(function(r){iS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pv(t,e){return Pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pv(t,e)}function sS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ch(t);if(e){var c=ch(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return cS(this,n)}}function cS(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(t)}Pu.defaultProps={className:"",radius:""};var b0,lS=Bi(y0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Pv(s,p)})(c,t);var e,n,r=sS(c);function c(){return aS(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getNodesOutline",value:function(){var s=this.props.graphModel,p=s.nodes,g=s.editConfigModel,b=g.hoverOutline,x=g.nodeSelectedOutline,P=[];return p.forEach(function(D){if(D.isHovered||D.isSelected){var L=D.isHovered,V=D.isSelected,ee=D.x,ie=D.y,me=D.width,ge=D.height;if(x&&V||b&&L){var xe=D.getOutlineStyle(),Re={};if(Object.keys(xe).forEach(function(et){et!=="hover"&&(Re[et]=xe[et])}),L){var nt=xe.hover;Re=m0(m0({},Re),nt)}P.push(Object(pe.g)(Pu,nl({transform:D.transform,className:"lf-outline-node",x:ee,y:ie,width:me+10,height:ge+10},Re)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var s=this.props.graphModel,p=s.edges,g=s.editConfigModel,b=g.edgeSelectedOutline,x=g.hoverOutline,P=[],D=0;D<p.length;D++){var L=p[D];(b&&L.isSelected||x&&L.isHovered)&&(L.modelType===Jt.LINE_EDGE?P.push(this.getLineOutline(L)):L.modelType===Jt.POLYLINE_EDGE?P.push(this.getPolylineOutline(L)):L.modelType===Jt.BEZIER_EDGE&&P.push(this.getBezierOutline(L)))}return P}},{key:"getLineOutline",value:function(s){var p=s.startPoint,g=s.endPoint,b=(p.x+g.x)/2,x=(p.y+g.y)/2,P=Math.abs(p.x-g.x)+10,D=Math.abs(p.y-g.y)+10,L=s.getOutlineStyle();return Object(pe.g)(Pu,nl({className:"lf-outline-edge",x:b,y:x,width:P,height:D},L))}},{key:"getPolylineOutline",value:function(s){var p=s.points,g=Ti(p),b=Ma(g,8),x=b.x,P=b.y,D=b.width,L=b.height,V=s.getOutlineStyle();return Object(pe.g)(Pu,nl({className:"lf-outline",x,y:P,width:D,height:L},V))}},{key:"getBezierOutline",value:function(s){var p=s.path,g=js(p),b=Ma(g,8),x=b.x,P=b.y,D=b.width,L=b.height,V=s.getOutlineStyle();return Object(pe.g)(Pu,nl({className:"lf-outline",x,y:P,width:D,height:L},V))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&uS(e.prototype,n),c}(pe.a))||y0;function Av(t){return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function fS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return _0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rl(t){var e=t.x,n=e===void 0?0:e,r=t.y,c=r===void 0?0:r,s=t.r,p=s===void 0?4:s,g=t.className,b={cx:n,cy:c,r:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var P=fS(x,2),D=P[0],L=P[1];Av(L)!=="object"&&(b[D]=L)}),b.className=g?"lf-basic-shape ".concat(g):"lf-basic-shape",Object(pe.g)("circle",b)}function Mv(t){return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function pS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return O0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return O0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rp(){return rp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}function w0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x0(t,e,n){return e&&dS(t.prototype,e),t}function E0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kv(t,e)}function S0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fh(t);if(e){var c=fh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return hS(this,n)}}function hS(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lh(t)}function lh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(t)}function Tv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j0,P0=function(t){E0(n,t);var e=S0(n);function n(){var r;return w0(this,n),Tv(lh(r=e.call(this)),"dragHandler",void 0),Tv(lh(r),"onDragging",function(c){var s=c.event,p=r.props,g=p.graphModel,b=p.bezierModel,x=p.type,P=g.getPointByClient({x:s.clientX,y:s.clientY}).canvasOverlayPosition,D=P.x,L=P.y;b.updateAdjustAnchor({x:D,y:L},x),g.eventCenter.emit(yt.EDGE_ADJUST,{data:b.getData()})}),Tv(lh(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new jo({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return x0(n,[{key:"render",value:function(){var r=this,c=this.props.position,s=c.x,p=c.y,g=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(rl,rp({className:"lf-bezier-adjust-anchor",x:s,y:p},g,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(pe.a),yS=Bi(b0=function(t){E0(n,t);var e=S0(n);function n(){return w0(this,n),e.apply(this,arguments)}return x0(n,[{key:"getBezierAdjust",value:function(r,c){var s=r.path,p=r.id,g=pS(js(s),4),b=g[0],x=g[1],P=g[2],D=g[3],L=r.getEdgeStyle().adjustLine,V=[];return V.push(Object(pe.g)(tl,rp({x1:b.x,y1:b.y,x2:x.x,y2:x.y},L))),V.push(Object(pe.g)(P0,{position:x,bezierModel:r,graphModel:c,key:"".concat(p,"_ePre"),type:"sNext"})),V.push(Object(pe.g)(tl,rp({x1:D.x,y1:D.y,x2:P.x,y2:P.y},L))),V.push(Object(pe.g)(P0,{position:P,bezierModel:r,graphModel:c,key:"".concat(p,"_sNext"),type:"ePre"})),V}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,c=r.edges,s=[],p=0;p<c.length;p++){var g=c[p];g.isSelected&&g.modelType===Jt.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,r))}return s}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(pe.a))||b0;function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function vS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dv(t,e){return Dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dv(t,e)}function mS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ph(t);if(e){var c=ph(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return bS(this,n)}}function bS(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}var A0,_S=Bi(j0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Dv(s,p)})(c,t);var e,n,r=mS(c);function c(){return vS(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:s},p))}}])&&gS(e.prototype,n),c}(pe.a))||j0;function Cv(t){return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function Rv(){return Rv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function OS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iv(t,e){return Iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Iv(t,e)}function xS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dh(t);if(e){var c=dh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return ES(this,n)}}function ES(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}var SS=Bi(A0=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Iv(s,p)})(c,t);var e,n,r=xS(c);function c(){return OS(this,c),r.apply(this,arguments)}return e=c,n=[{key:"getComponent",value:function(s,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(s.type);return Object(pe.g)(x,{key:s.id,model:s,graphModel:p,overlay:g})}},{key:"render",value:function(){var s=this,p=this.props,g=p.graphModel,b=p.tool,x=p.options,P=p.dnd,D=p.snaplineModel,L={};x.width&&(L.width="".concat(g.width,"px")),x.height&&(L.height="".concat(g.height,"px"));var V=x.grid,ee=g.fakerNode,ie=g.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":g.flowId,style:L},Object(pe.g)(RE,{graphModel:g,dnd:P},Object(pe.g)("g",{className:"lf-base"},fc(g.sortElements,function(me){return s.getComponent(me,g)})),ee?this.getComponent(ee,g):""),Object(pe.g)(_S,{graphModel:g},Object(pe.g)(lS,{graphModel:g}),ie?Object(pe.g)(yS,{graphModel:g}):"",x.snapline!==!1?Object(pe.g)(rS,{snaplineModel:D}):""),Object(pe.g)(FE,{graphModel:g,tool:b}),x.background&&Object(pe.g)(HE,{background:x.background}),x.grid&&Object(pe.g)(f0,Rv({},V,{graphModel:g})))}}],n&&wS(e.prototype,n),c}(pe.a))||A0,jS=SS;function M0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M0(Object(n),!0).forEach(function(r){Da(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Da(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var AS=function(){function t(r){var c=this;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),Da(this,"nodeConfig",void 0),Da(this,"lf",void 0),Da(this,"fakerNode",void 0),Da(this,"stopDrag",function(){c.nodeConfig=null,window.document.removeEventListener("mouseup",c.stopDrag)}),Da(this,"dragEnter",function(p){c.nodeConfig&&!c.fakerNode&&(c.fakerNode=c.lf.createFakerNode(hh(hh({},c.nodeConfig),c.clientToLocalPoint({x:p.clientX,y:p.clientY}))))}),Da(this,"onDragOver",function(p){if(p.preventDefault(),c.fakerNode){var g=c.clientToLocalPoint({x:p.clientX,y:p.clientY}),b=g.x,x=g.y;c.fakerNode.moveTo(b,x);var P=c.fakerNode.getData();c.lf.setNodeSnapLine(P),c.lf.graphModel.eventCenter.emit(yt.NODE_DND_DRAG,{data:P})}return!1}),Da(this,"onDragLeave",function(){c.fakerNode&&(c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)}),Da(this,"onDrop",function(p){c.lf.graphModel&&p&&c.nodeConfig&&(c.lf.addNode(hh(hh({},c.nodeConfig),c.clientToLocalPoint({x:p.clientX,y:p.clientY})),yt.NODE_DND_ADD,p),p.preventDefault(),p.stopPropagation(),c.nodeConfig=null,c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)});var s=r.lf;this.lf=s}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var c=r.x,s=r.y,p=ru(this.lf.options,["grid","size"]),g=this.lf.graphModel.getPointByClient({x:c,y:s}).canvasOverlayPosition,b=g.x,x=g.y;return{x:Ji(b,p),y:Ji(x,p)}}},{key:"startDrag",value:function(r){var c=this.lf.graphModel.editConfigModel;c!=null&&c.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&PS(e.prototype,n),t}();function k0(t){var e=t.container,n=t.grid,r=t.width,c=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof c=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=ys({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),ys({},N0,t)}var xn,T0,N0={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Lv(t){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function zv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return D0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return D0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C0(Object(n),!0).forEach(function(r){R0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function op(){return op=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=NS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},op.apply(this,arguments)}function NS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Au(t))!==null;);return t}function Bv(t,e){return Bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bv(t,e)}function DS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Au(t);if(e){var c=Au(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return CS(this,n)}}function CS(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vh(t)}function vh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Au(t){return Au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Au(t)}function R0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ii(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Fv=(xn=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Bv(s,p)})(c,t);var e,n,r=DS(c);function c(){var s;kS(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return R0(vh(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.BEZIER_EDGE),MS(vh(s),"path",T0,vh(s)),s}return e=c,(n=[{key:"initEdgeData",value:function(s){this.offset=100,op(Au(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.bezier;return yh(yh({},op(Au(c.prototype),"getEdgeStyle",this).call(this)),wn(s))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var s=0,p=0;return this.pointsList.forEach(function(g){var b=g.x,x=g.y;s+=b,p+=x}),{x:s/this.pointsList.length,y:p/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var s=op(Au(c.prototype),"getData",this).call(this),p=this.pointsList.map(function(g){return{x:g.x,y:g.y}});return yh(yh({},s),{},{pointsList:p})}},{key:"getControls",value:function(){var s=this.startPoint,p=this.endPoint;return Ss({start:s,end:p,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(s){var p=zv(s,4),g=p[0],b=p[1],x=p[2],P=p[3];return"M ".concat(g.x," ").concat(g.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var s=this.getControls(),p=s.sNext,g=s.ePre;this.updatePath(p,g)}},{key:"updatePath",value:function(s,p){s=wn(s),p=wn(p);var g={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!s||!p){var x=this.getControls();s=x.sNext,p=x.ePre}this.pointsList=[g,s,p,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,p){this.startPoint.x+=s,this.startPoint.y+=p;var g=zv(this.pointsList,3),b=g[1],x=g[2];b.x+=s,b.y+=p,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(s,p){this.endPoint.x+=s,this.endPoint.y+=p;var g=zv(this.pointsList,3),b=g[1],x=g[2];x.x+=s,x.y+=p,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(s,p){p==="sNext"?this.pointsList[1]=s:p==="ePre"&&(this.pointsList[2]=s),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var p=s.startPoint,g=s.endPoint,b=s.sourceNode,x=s.targetNode,P=Ss({start:p,end:g,sourceNode:b,targetNode:x,offset:this.offset}),D=P.sNext,L=P.ePre;this.pointsList=[p,D,L,g],this.initPoints()}}])&&TS(e.prototype,n),c}(Mf),T0=Ii(xn.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ii(xn.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"initPoints"),xn.prototype),Ii(xn.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"updatePoints"),xn.prototype),Ii(xn.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"updateStartPoint"),xn.prototype),Ii(xn.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"updateEndPoint"),xn.prototype),Ii(xn.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"moveStartPoint"),xn.prototype),Ii(xn.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"moveEndPoint"),xn.prototype),Ii(xn.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"updateAdjustAnchor"),xn.prototype),Ii(xn.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"getAdjustStart"),xn.prototype),Ii(xn.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"getAdjustEnd"),xn.prototype),Ii(xn.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"updateAfterAdjustStartAndEnd"),xn.prototype),xn),Ke,I0,L0,z0,B0,F0,U0,W0,G0,$0,H0,X0,V0,Y0,K0,q0,Z0,J0,Q0,e_,t_,n_,r_,RS=function(t){return t==null};function IS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||o_(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uv(t){return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function o_(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i_(t,e):void 0}}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(r){Po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function LS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Po(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qt(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Ca,u_,Ra=(Ke=function(){function t(r,c){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Po(this,"id",""),fr(this,"type",I0,this),fr(this,"x",L0,this),fr(this,"y",z0,this),fr(this,"text",B0,this),fr(this,"properties",F0,this),fr(this,"_width",U0,this),fr(this,"_height",W0,this),fr(this,"anchorsOffset",G0,this),fr(this,"isSelected",$0,this),fr(this,"isHovered",H0,this),fr(this,"isShowAnchor",X0,this),fr(this,"isDragging",V0,this),fr(this,"isHitable",Y0,this),fr(this,"draggable",K0,this),fr(this,"visible",q0,this),fr(this,"enableRotate",Z0,this),Po(this,"virtual",!1),Po(this,"graphModel",void 0),fr(this,"zIndex",J0,this),fr(this,"state",Q0,this),fr(this,"autoToFront",e_,this),fr(this,"style",t_,this),fr(this,"transform",n_,this),fr(this,"_rotate",r_,this),Po(this,"BaseType",nr.NODE),Po(this,"modelType",Jt.NODE),Po(this,"additionStateData",void 0),Po(this,"targetRules",[]),Po(this,"sourceRules",[]),Po(this,"moveRules",[]),Po(this,"hasSetTargetRules",!1),Po(this,"hasSetSourceRules",!1),this.graphModel=c,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var c=this.x,s=c===void 0?0:c,p=this.y,g=p===void 0?0:p;this.transform=new ju(-s,-g).rotate(r).translate(s,g).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var c=this.graphModel.idGenerator,s=c&&c(r.type),p=this.createId();r.id=p||s||Mi()}this.formatText(r),Er(this,function(g){return xi(g,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Wn.INCREASE&&(this.zIndex=r.zIndex||Pf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,c=r.x,s=r.y,p=r.value,g=this.properties;Object(h.x)(g)&&(g=Object(h.I)(g));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:g};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Wn.INCREASE&&(b.zIndex=this.zIndex),p&&(b.text={x:c,y:s,value:p}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return ho(ho({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return wn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return wn(r)}},{key:"getAnchorStyle",value:function(r){var c=this.graphModel.theme.anchor;return wn(c)}},{key:"getAnchorLineStyle",value:function(r){var c=this.graphModel.theme.anchorLine;return wn(c)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return wn(r)}},{key:"isAllowConnectedAsSource",value:function(r,c,s,p){var g=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,P=0;P<g.length;P++){var D=g[P];if(!D.validate.call(this,this,r,c,s,p)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,c,s,p){var g=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,P=0;P<g.length;P++){var D=g[P];if(!D.validate.call(this,r,this,c,s,p)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,c){var s,p=!0,g=!0,b=function(D,L){var V=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!V){if(Array.isArray(D)||(V=o_(D))||L){V&&(D=V);var ee=0,ie=function(){};return{s:ie,n:function(){return ee>=D.length?{done:!0}:{done:!1,value:D[ee++]}},e:function(Re){throw Re},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,ge=!0,xe=!1;return{s:function(){V=V.call(D)},n:function(){var Re=V.next();return ge=Re.done,Re},e:function(Re){xe=!0,me=Re},f:function(){try{ge||V.return==null||V.return()}finally{if(xe)throw me}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(s=b.n()).done;){var x=(0,s.value)(this,r,c);if(!x)return!1;if(Uv(x)==="object"){var P=x;if(P.x===!1&&P.y===!1)return!1;p=p&&P.x,g=g&&P.y}}}catch(D){b.e(D)}finally{b.f()}return{x:p,y:g}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,c=this.id,s=this.x,p=this.y;return r&&r.length>0?r.map(function(g,b){return g.length?(g=g,{id:"".concat(c,"_").concat(b),x:s+g[0],y:p+g[1]}):ho(ho({},g=g),{},{x:s+g.x,y:p+g.y,id:g.id||"".concat(c,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(c,s){for(var p,g=Fc(s),b=Number.MAX_SAFE_INTEGER,x=0;x<g.length;x++){var P=Bo(c.x,c.y,g[x].x,g[x].y);P<b&&(b=P,p={index:x,anchor:Lc(Lc({},g[x]),{},{x:g[x].x,y:g[x].y,id:g[x].id})})}return p}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),c=this.x,s=this.y,p=this.rotate;return r.forEach(function(g){var b=g.x,x=g.y,P=IS(new ui([b,x,1]).translate(-c,-s).rotate(p).translate(c,s)[0],2),D=P[0],L=P[1];g.x=D,g.y=L}),r}},{key:"getAnchorInfo",value:function(r){if(!RS(r))for(var c=0;c<this.anchors.length;c++){var s=this.anchors[c];if(s.id===r)return s}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,g=!1;if(s)p=!0,g=!0;else{var b=this.isAllowMoveNode(r,c);typeof b=="boolean"?(p=b,g=b):(p=b.x,g=b.y)}if(p){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(g){var P=this.y+c;this.y=P,this.text&&this.moveText(0,c)}return p||g}},{key:"getMoveDistance",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,g=!1,b=0,x=0;if(s)p=!0,g=!0;else{var P=this.isAllowMoveNode(r,c);typeof P=="boolean"?(p=P,g=P):(p=P.x,g=P.y)}if(p&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),b=r}if(g&&c){var L=this.y+c;this.y=L,this.text&&this.moveText(0,c),x=c}return[b,x]}},{key:"moveTo",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=r-this.x,g=c-this.y;return!(!s&&!this.isAllowMoveNode(p,g)||(this.text&&this.text&&this.moveText(p,g),this.x=r,this.y=c,0))}},{key:"moveText",value:function(r,c){var s=this.text,p=s.x,g=s.y,b=s.value,x=s.draggable,P=s.editable;this.text={value:b,editable:P,draggable:x,x:p+r,y:g+c}}},{key:"updateText",value:function(r){this.text=ho(ho({},Object(h.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,c){this.state=r,this.additionStateData=c}},{key:"setProperty",value:function(r,c){this.properties=ho(ho({},Object(h.I)(this.properties)),{},Po({},r,Dr(c))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ho(ho({},Object(h.I)(this.properties)),Dr(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,c){this.style=ho(ho({},this.style),{},Po({},r,Dr(c)))}},{key:"setStyles",value:function(r){this.style=ho(ho({},this.style),Dr(r))}},{key:"updateStyles",value:function(r){this.style=ho({},Dr(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){Er(this,r)}}],n&&LS(e.prototype,n),t}(),I0=qt(Ke.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L0=qt(Ke.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z0=qt(Ke.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B0=qt(Ke.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),F0=qt(Ke.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),U0=qt(Ke.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),W0=qt(Ke.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),G0=qt(Ke.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$0=qt(Ke.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H0=qt(Ke.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X0=qt(Ke.prototype,"isShowAnchor",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V0=qt(Ke.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y0=qt(Ke.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K0=qt(Ke.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q0=qt(Ke.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Z0=qt(Ke.prototype,"enableRotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J0=qt(Ke.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q0=qt(Ke.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e_=qt(Ke.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t_=qt(Ke.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),n_=qt(Ke.prototype,"transform",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r_=qt(Ke.prototype,"_rotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qt(Ke.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(Ke.prototype,"incoming"),Ke.prototype),qt(Ke.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(Ke.prototype,"outgoing"),Ke.prototype),qt(Ke.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"addNodeMoveRules"),Ke.prototype),qt(Ke.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"move"),Ke.prototype),qt(Ke.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"getMoveDistance"),Ke.prototype),qt(Ke.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"moveTo"),Ke.prototype),qt(Ke.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"moveText"),Ke.prototype),qt(Ke.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"updateText"),Ke.prototype),qt(Ke.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setSelected"),Ke.prototype),qt(Ke.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setHovered"),Ke.prototype),qt(Ke.prototype,"setIsShowAnchor",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setIsShowAnchor"),Ke.prototype),qt(Ke.prototype,"setEnableRotate",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setEnableRotate"),Ke.prototype),qt(Ke.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setHitable"),Ke.prototype),qt(Ke.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setElementState"),Ke.prototype),qt(Ke.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setProperty"),Ke.prototype),qt(Ke.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setProperties"),Ke.prototype),qt(Ke.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"deleteProperty"),Ke.prototype),qt(Ke.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setStyle"),Ke.prototype),qt(Ke.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setStyles"),Ke.prototype),qt(Ke.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"updateStyles"),Ke.prototype),qt(Ke.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"setZIndex"),Ke.prototype),qt(Ke.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(Ke.prototype,"updateAttributes"),Ke.prototype),Ke);function Wv(t){return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function s_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(n),!0).forEach(function(r){l_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function BS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(){return Gv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=US(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Gv.apply(this,arguments)}function US(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ol(t))!==null;);return t}function $v(t,e){return $v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$v(t,e)}function WS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ol(t);if(e){var c=ol(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return GS(this,n)}}function GS(t,e){if(e&&(Wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gh(t)}function gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ol(t)}function l_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hv(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ro,f_,p_,Xv=(Ca=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&$v(s,p)})(c,t);var e,n,r=WS(c);function c(){var s;BS(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return l_(gh(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.CIRCLE_NODE),zS(gh(s),"r",u_,gh(s)),s}return e=c,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var s=Gv(ol(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.circle;return c_(c_({},s),wn(p))}},{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.r;return[{x:s,y:p-g,id:"".concat(this.id,"_0")},{x:s+g,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+g,id:"".concat(this.id,"_2")},{x:s-g,y:p,id:"".concat(this.id,"_3")}]}}])&&FS(e.prototype,n),c}(Ra),u_=Hv(Ca.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Hv(Ca.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Ca.prototype,"width"),Ca.prototype),Hv(Ca.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Ca.prototype,"height"),Ca.prototype),Ca);o(129);function Vv(t){return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function Yv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return d_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(n),!0).forEach(function(r){g_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kv(){return Kv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=XS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Kv.apply(this,arguments)}function XS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=al(t))!==null;);return t}function qv(t,e){return qv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qv(t,e)}function VS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=al(t);if(e){var c=al(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return YS(this,n)}}function YS(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return il(t)}function il(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function al(t){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},al(t)}function g_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ul(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var aa,m_,b_,Zv=(ro=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&qv(s,p)})(c,t);var e,n,r=VS(c);function c(){var s;$S(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return g_(il(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.DIAMOND_NODE),v_(il(s),"rx",f_,il(s)),v_(il(s),"ry",p_,il(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=Kv(al(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.diamond;return y_(y_({},s),wn(p))}},{key:"points",get:function(){var s=this.x,p=this.y,g=this.rx,b=this.ry;return[[s,p-b],[s+g,p],[s,p+b],[s-g,p]]}},{key:"pointsPosition",get:function(){return this.points.map(function(s){return{x:s[0],y:s[1]}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=Yv(g,1)[0];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=Yv(g,2)[1];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"getDefaultAnchor",value:function(){var s=this;return this.points.map(function(p,g){var b=Yv(p,2);return{x:b[0],y:b[1],id:"".concat(s.id,"_").concat(g)}})}}])&&HS(e.prototype,n),c}(Ra),f_=ul(ro.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),p_=ul(ro.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ul(ro.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(ro.prototype,"points"),ro.prototype),ul(ro.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(ro.prototype,"pointsPosition"),ro.prototype),ul(ro.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ro.prototype,"width"),ro.prototype),ul(ro.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ro.prototype,"height"),ro.prototype),ro);function Jv(t){return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){x_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function KS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qv(){return Qv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=ZS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Qv.apply(this,arguments)}function ZS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=cl(t))!==null;);return t}function eg(t,e){return eg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},eg(t,e)}function JS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cl(t);if(e){var c=cl(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return QS(this,n)}}function QS(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sl(t)}function sl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cl(t){return cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cl(t)}function x_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mh(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ci,E_,tg=(aa=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&eg(s,p)})(c,t);var e,n,r=JS(c);function c(){var s;KS(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return x_(sl(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.ELLIPSE_NODE),w_(sl(s),"rx",m_,sl(s)),w_(sl(s),"ry",b_,sl(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=Qv(cl(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.ellipse;return O_(O_({},s),wn(p))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.rx,b=this.ry;return[{x:s,y:p-b,id:"".concat(this.id,"_0")},{x:s+g,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b,id:"".concat(this.id,"_2")},{x:s-g,y:p,id:"".concat(this.id,"_3")}]}}])&&qS(e.prototype,n),c}(Ra),m_=mh(aa.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),b_=mh(aa.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),mh(aa.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(aa.prototype,"width"),aa.prototype),mh(aa.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(aa.prototype,"height"),aa.prototype),aa);function ng(t){return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function rg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return S_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return S_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function P_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ej(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function tj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function og(){return og=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=rj(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},og.apply(this,arguments)}function rj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ll(t))!==null;);return t}function ig(t,e){return ig=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ig(t,e)}function oj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ll(t);if(e){var c=ll(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return ij(this,n)}}function ij(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(t)}function bh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ll(t){return ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ll(t)}function A_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _h(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ag,M_,ug=(ci=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&ig(s,p)})(c,t);var e,n,r=oj(c);function c(){var s;tj(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return A_(bh(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.POLYGON_NODE),ej(bh(s),"points",E_,bh(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=og(ll(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.polygon;return P_(P_({},s),wn(p))}},{key:"pointsPosition",get:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return this.points.map(function(x){return{x:x[0]+s-g/2,y:x[1]+p-b/2}})}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=rg(g,1)[0];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(g){var b=rg(g,2)[1];b<s&&(s=b),b>p&&(p=b)}),p-s}},{key:"getDefaultAnchor",value:function(){var s=this,p=this.x,g=this.y,b=this.width,x=this.height;return this.points.map(function(P,D){var L=rg(P,2),V=L[0],ee=L[1];return{x:p+V-b/2,y:g+ee-x/2,id:"".concat(s.id,"_").concat(D)}})}}])&&nj(e.prototype,n),c}(Ra),E_=_h(ci.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),_h(ci.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(ci.prototype,"pointsPosition"),ci.prototype),_h(ci.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ci.prototype,"width"),ci.prototype),_h(ci.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ci.prototype,"height"),ci.prototype),ci);function sg(t){return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function T_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){N_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aj(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function uj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cg(){return cg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=cj(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},cg.apply(this,arguments)}function cj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=fl(t))!==null;);return t}function lg(t,e){return lg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lg(t,e)}function lj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fl(t);if(e){var c=fl(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return fj(this,n)}}function fj(t,e){if(e&&(sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oh(t)}function Oh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fl(t){return fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fl(t)}function N_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mu,fg=(ag=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&lg(s,p)})(c,t);var e,n,r=lj(c);function c(){var s;uj(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return N_(Oh(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.RECT_NODE),aj(Oh(s),"radius",M_,Oh(s)),s}return e=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return[{x:s,y:p-b/2,id:"".concat(this.id,"_0")},{x:s+g/2,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b/2,id:"".concat(this.id,"_2")},{x:s-g/2,y:p,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var s=cg(fl(c.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.rect;return T_(T_({},s),wn(p))}}])&&sj(e.prototype,n),c}(Ra),M_=function(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}(ag.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ag);function pg(t){return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){I_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dg(){return dg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=hj(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},dg.apply(this,arguments)}function hj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=pl(t))!==null;);return t}function hg(t,e){return hg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hg(t,e)}function yj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pl(t);if(e){var c=pl(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return vj(this,n)}}function vj(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R_(t)}function R_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pl(t){return pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pl(t)}function I_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var yg=(Mu=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&hg(s,p)})(c,t);var e,n,r=yj(c);function c(){var s;pj(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return I_(R_(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.TEXT_NODE),s}return e=c,(n=[{key:"getTextStyle",value:function(){var s=dg(pl(c.prototype),"getTextStyle",this).call(this),p=this.graphModel.theme.text;return C_(C_({},s),wn(p))}},{key:"width",get:function(){var s=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return ws({rows:s,fontSize:p,rowsLength:s.length}).width}},{key:"height",get:function(){var s=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return ws({rows:s,fontSize:p,rowsLength:s.length}).height}}])&&dj(e.prototype,n),c}(Ra),L_(Mu.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Mu.prototype,"width"),Mu.prototype),L_(Mu.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Mu.prototype,"height"),Mu.prototype),Mu);function vg(t){return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function gj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gg(t,e){return gg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gg(t,e)}function bj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wh(t);if(e){var c=wh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return _j(this,n)}}function _j(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_(t)}function z_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(t)}function Oj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Li,B_,F_,U_,mg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&gg(s,p)})(c,t);var e,n,r=bj(c);function c(){var s;gj(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Oj(z_(s=r.call.apply(r,[this].concat(g))),"modelType",Jt.HTML_NODE),s}return e=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,p=this.y,g=this.width,b=this.height;return[{x:s,y:p-b/2,id:"".concat(this.id,"_0")},{x:s+g/2,y:p,id:"".concat(this.id,"_1")},{x:s,y:p+b/2,id:"".concat(this.id,"_2")},{x:s-g/2,y:p,id:"".concat(this.id,"_3")}]}}])&&mj(e.prototype,n),c}(Ra);function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function bg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ip(t,e,n,r,c){var s={};return Object.keys(r).forEach(function(p){s[p]=r[p]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(p,g){return g(t,e,p)||p},s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var $_=(Li=function(){function t(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),G_(this,"graphModel",void 0),bg(this,"isShowHorizontal",B_,this),bg(this,"isShowVertical",F_,this),bg(this,"position",U_,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?W_(Object(s),!0).forEach(function(p){G_(r,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):W_(Object(s)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(s,p))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,c){for(var s=r.x,p=r.y,g=!1,b=!1,x=0;x<c.length;x++){var P=c[x];if(P.id!==r.id&&(s===P.x&&(g=!0),p===P.y&&(b=!0),g&&b))break}return{isShowVertical:g,isShowHorizontal:b,position:{x:s,y:p}}}},{key:"getHorizontalSnapline",value:function(r,c){var s,p,g=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)p=Gn(x);else{var P=this.graphModel.getNodeModelById(b);p=Gn(P)}}for(var D=0;D<c.length;D++){var L=c[D];if(L.id!==r.id){var V=Gn(L);if(V.minY===p.minY||V.maxY===p.minY){g=!0,s=p.minY;break}if(V.minY===p.maxY||V.maxY===p.maxY){g=!0,s=p.maxY;break}}}return Er({isShowHorizontal:g,position:{y:s}})}},{key:"getVerticalSnapline",value:function(r,c){var s,p,g=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)p=Gn(x);else{var P=this.graphModel.getNodeModelById(b);p=Gn(P)}}for(var D=0;D<c.length;D++){var L=c[D];if(L.id!==r.id){var V=Gn(L);if(V.minX===p.minX||V.maxX===p.minX){g=!0,s=p.minX;break}if(V.minX===p.maxX||V.maxX===p.maxX){g=!0,s=p.maxX;break}}}return Er({isShowVertical:g,position:{x:s}})}},{key:"getSnapLinePosition",value:function(r,c){var s=this.getCenterSnapLine(r,c),p=s.isShowHorizontal,g=s.isShowVertical;if(!p){var b=this.getHorizontalSnapline(r,c);b.isShowHorizontal&&(s.isShowHorizontal=b.isShowHorizontal,s.position.y=b.position.y)}if(!g){var x=this.getVerticalSnapline(r,c);x.isShowVertical&&(s.isShowVertical=x.isShowVertical,s.position.x=x.position.x)}return s}},{key:"setSnaplineInfo",value:function(r){var c=r.isShowHorizontal,s=r.isShowVertical,p=r.position;this.position=p,this.isShowHorizontal=c,this.isShowVertical=s}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var c=this.graphModel.nodes,s=this.getSnapLinePosition(r,c);this.setSnaplineInfo(s)}}],n&&wj(e.prototype,n),t}(),B_=ip(Li.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F_=ip(Li.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U_=ip(Li.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip(Li.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(Li.prototype,"clearSnapline"),Li.prototype),ip(Li.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(Li.prototype,"setNodeSnapLine"),Li.prototype),Li),ap=new Map,H_=function(t){var e=Mi(),n=window.requestAnimationFrame(function r(){if(t(),ap.get(e)){var c=window.requestAnimationFrame(r);ap.set(e,c)}});return ap.set(e,n),e},xh=function(t){var e=ap.get(t);e&&(window.cancelAnimationFrame(e),ap.delete(t))};function _g(t){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function up(){return up=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function X_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){sa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return V_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return V_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Og(t,e){return Og=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Og(t,e)}function Sj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eh(t);if(e){var c=Eh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return jj(this,n)}}function jj(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ua(t)}function ua(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Eh(t)}function sa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pj=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Og(s,p)})(c,t);var e,n,r=Sj(c);function c(){var s;return function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}(this,c),sa(ua(s=r.call(this)),"preTargetNode",void 0),sa(ua(s),"sourceRuleResults",void 0),sa(ua(s),"targetRuleResults",void 0),sa(ua(s),"dragHandler",void 0),sa(ua(s),"t",void 0),sa(ua(s),"onDragStart",function(p){var g=p.event,b=s.props,x=b.anchorData,P=b.nodeModel,D=b.graphModel;D.overlapMode,D.selectNodeById(P.id),P.autoToFront&&D.toFront(P.id),D.eventCenter.emit(yt.ANCHOR_DRAGSTART,{data:x,e:g,nodeModel:P}),s.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),sa(ua(s),"onDragging",function(p){var g=p.event,b=s.props,x=b.graphModel,P=b.nodeModel,D=b.anchorData,L=x.transformModel,V=x.eventCenter,ee=x.width,ie=x.height,me=x.editConfigModel,ge=me.autoExpand,xe=me.stopMoveGraph,Re=g.clientX,nt=g.clientY,et=x.getPointByClient({x:Re,y:nt}),Ot=et.domOverlayPosition,Qe=Ot.x,gt=Ot.y,it=et.canvasOverlayPosition,nn=it.x,sn=it.y;s.t&&xh(s.t);var Lt=[];Qe<10?Lt=[10,0]:Qe+10>ee?Lt=[-10,0]:gt<10?Lt=[0,10]:gt+10>ie&&(Lt=[0,-10]),s.setState({endX:nn,endY:sn,dragging:!0}),s.moveAnchorEnd(nn,sn),Lt.length>0&&!xe&&ge&&(s.t=H_(function(){var hn=xj(Lt,2),or=hn[0],ir=hn[1];L.translate(or,ir);var Yr=s.state,$o=Yr.endX,Ho=Yr.endY;s.setState({endX:$o-or,endY:Ho-ir}),s.moveAnchorEnd($o-or,Ho-ir)})),V.emit(yt.ANCHOR_DRAG,{data:D,e:g,nodeModel:P})}),sa(ua(s),"onDragEnd",function(p){var g=p.event;s.t&&xh(s.t);var b=s.checkEnd(g);s.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),s.sourceRuleResults.clear(),s.targetRuleResults.clear();var x=s.props,P=x.graphModel,D=x.nodeModel,L=x.anchorData;P.eventCenter.emit(yt.ANCHOR_DRAGEND,{data:L,e:g,nodeModel:D,edgeModel:b})}),sa(ua(s),"checkEnd",function(p){var g=s.props,b=g.graphModel,x=g.nodeModel,P=g.anchorData,D=P.x,L=P.y,V=P.id,ee=(b.edgeType,s.state),ie=ee.endX,me=ee.endY,ge=ee.dragging,xe=Os({x:ie,y:me},b);if(s.preTargetNode&&s.preTargetNode.state!==_n.DEFAULT&&s.preTargetNode.setElementState(_n.DEFAULT),ge&&xe&&xe.node){var Re=xe.node,nt=xe.anchor.id,et="".concat(x.id,"_").concat(Re.id,"_").concat(nt,"_").concat(V),Ot=s.sourceRuleResults.get(et)||{},Qe=Ot.isAllPass,gt=Ot.msg,it=s.targetRuleResults.get(et)||{},nn=it.isAllPass,sn=it.msg;if(Qe&&nn){Re.setElementState(_n.DEFAULT);var Lt=b.edgeGenerator(x.getData(),b.getNodeModelById(xe.node.id).getData()),hn=b.addEdge(sp(sp({},Lt),{},{sourceNodeId:x.id,sourceAnchorId:V,startPoint:{x:D,y:L},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),or=s.props.anchorData;return b.eventCenter.emit(yt.ANCHOR_DROP,{data:or,e:p,nodeModel:x,edgeModel:hn}),hn}var ir=Re.getData();return b.eventCenter.emit(yt.CONNECTION_NOT_ALLOWED,{data:ir,msg:sn||gt||"不允许添加连线"}),null}}),s.sourceRuleResults=new Map,s.targetRuleResults=new Map,s.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},s.dragHandler=new jo({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd}),s}return e=c,(n=[{key:"getAnchorShape",value:function(){var s=this.props,p=s.anchorData,g=s.style,b=s.node.getAnchorShape(p);if(b)return b;var x=p.x,P=p.y,D=sp(sp({},g),g.hover);return Object(pe.g)("g",null,Object(pe.g)(rl,up({className:"lf-node-anchor-hover"},D,{x,y:P})),Object(pe.g)(rl,up({className:"lf-node-anchor"},g,{x,y:P})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var s=this.props,p=s.graphModel,g=p.getAnchorIncomingEdge,b=p.getAnchorOutcomingEdge,x=s.anchorData.id;return{incomingEdgeList:g(x),outcomingEdgeList:b(x)}}},{key:"moveAnchorEnd",value:function(s,p){var g=this.props,b=g.graphModel,x=g.nodeModel,P=g.anchorData,D=Os({x:s,y:p},b);if(D){var L=D.node,V=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(_n.DEFAULT),P.id===V)return;this.preTargetNode=L;var ee="".concat(x.id,"_").concat(L.id,"_").concat(V,"_").concat(P.id);if(!this.targetRuleResults.has(ee)){var ie=D.anchor,me=x.isAllowConnectedAsSource(L,P,ie),ge=L.isAllowConnectedAsTarget(x,P,ie);this.sourceRuleResults.set(ee,gu(me)),this.targetRuleResults.set(ee,gu(ge))}var xe=this.sourceRuleResults.get(ee).isAllPass,Re=this.targetRuleResults.get(ee).isAllPass;xe&&Re?L.setElementState(_n.ALLOW_CONNECT):L.setElementState(_n.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==_n.DEFAULT&&this.preTargetNode.setElementState(_n.DEFAULT)}},{key:"isShowLine",value:function(){var s=this.state,p=s.startX,g=s.startY,b=s.endX,x=s.endY;return Bo(p,g,b,x)>10}},{key:"render",value:function(){var s=this,p=this.state,g=p.startX,b=p.startY,x=p.endX,P=p.endY,D=this.props,L=D.anchorData.edgeAddable,V=D.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(ee){L!==!1&&s.dragHandler.handleMouseDown(ee)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(sp({sourcePoint:{x:g,y:b},targetPoint:{x,y:P}},V)):Object(pe.g)(tl,up({x1:g,y1:b,x2:x,y2:P},V,{"pointer-events":"none"}))))}}])&&Ej(e.prototype,n),c}(pe.a);function Y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(n),!0).forEach(function(r){Mj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wg(t){return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function kj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return K_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return K_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q_(t){var e=t.x,n=e===void 0?0:e,r=t.y,c=r===void 0?0:r,s=t.value,p=t.fontSize,g=t.fill,b=g===void 0?"currentColor":g,x=t.overflowMode,P=x===void 0?"default":x,D=t.textWidth,L=D===void 0?"":D,V=t.model,ee={textAnchor:"middle","dominant-baseline":"middle",x:n,y:c,fill:b};if(Object.entries(t).forEach(function(nt){var et=kj(nt,2),Ot=et[0],Qe=et[1];wg(Qe)!=="object"&&(ee[Ot]=Qe)}),s){var ie=String(s).split(/[\r\n]/g),me=ie.length;if(P!=="default"){var ge=V.BaseType,xe=V.modelType;if(ge===nr.NODE&&xe!==Jt.TEXT_NODE||ge===nr.EDGE&&L)return function(nt){var et=nt.value,Ot=nt.fontSize,Qe=nt.model,gt=nt.fontFamily,it=gt===void 0?"":gt,nn=nt.lineHeight,sn=nt.wrapPadding,Lt=sn===void 0?"0, 0":sn,hn=nt.overflowMode,or=nt.x,ir=nt.y,Yr=Qe.width,$o=Qe.textHeight,Ho=nt.textWidth||Yr,fa=String(et).split(/[\r\n]/g),Gs=fa.length,Kh=Dd({rows:fa,style:{fontSize:"".concat(Ot,"px"),width:"".concat(Ho,"px"),fontFamily:it,lineHeight:nn,padding:Lt},rowsLength:Gs,className:"lf-get-text-height"}),$s=Qe.height>Kh?Qe.height:Kh;$o&&($s=$o);var Nu=hn==="ellipsis";return Nu&&($s=Ot+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:Ho,height:$s,x:or-Ho/2,y:ir-$s/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:$s,width:Ho,padding:Lt}},Object(pe.g)("div",{className:Nu?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Nu?fa.join(""):"",style:Aj({},nt)},fa.map(function(Du){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Du)})))))}(t)}if(me>1){var Re=ie.map(function(nt,et){var Ot=(et-(me-1)/2)*(p+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:c+Ot},nt)});return Object(pe.g)("text",ee,Re)}return Object(pe.g)("text",ee,s)}}function xg(t){return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function Eg(){return Eg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function Tj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Z_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Z_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sg(t,e){return Sg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sg(t,e)}function Dj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sh(t);if(e){var c=Sh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Cj(this,n)}}function Cj(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ku(t)}function ku(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}function Bs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J_=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Sg(s,p)})(c,t);var e,n,r=Dj(c);function c(s){var p;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,c),Bs(ku(p=r.call(this)),"dragHandler",void 0),Bs(ku(p),"sumDeltaX",0),Bs(ku(p),"sumDeltaY",0),Bs(ku(p),"stepDrag",void 0),Bs(ku(p),"onDragging",function(b){var x=b.deltaX,P=b.deltaY,D=p.props,L=D.model,V=Tj(D.graphModel.transformModel.fixDeltaXY(x,P),2),ee=V[0],ie=V[1];L.moveText(ee,ie)}),Bs(ku(p),"dblClickHandler",function(){p.props.editable&&p.props.model.setElementState(_n.TEXT_EDIT)}),Bs(ku(p),"mouseDownHandle",function(b){var x=p.props,P=x.draggable,D=x.model,L=x.graphModel.editConfigModel.nodeTextDraggable;(P||L)&&(p.stepDrag.model=D,p.stepDrag.handleMouseDown(b))}),s.model;var g=s.draggable;return p.stepDrag=new jo({onDragging:p.onDragging,step:1,isStopPropagation:g}),p}return e=c,(n=[{key:"getShape",value:function(){var s=this.props,p=s.model,g=s.graphModel,b=p.text,x=g.editConfigModel,P=b.value,D=b.x,L=b.y,V=b.editable,ee=b.draggable,ie={x:D,y:L,className:"",value:P};V?ie.className="lf-element-text":ee||x.nodeTextDraggable?ie.className="lf-text-draggable":ie.className="lf-text-disabled";var me=p.getTextStyle();return Object(pe.g)(q_,Eg({},ie,me,{model:p}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Nj(e.prototype,n),c}(pe.a),Rj=ru(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,Q_=o(130);function jg(t){return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function Ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ag(t,e){return Ag=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ag(t,e)}function Lj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jh(t);if(e){var c=jh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return zj(this,n)}}function zj(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dl(t)}function dl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}function cp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bj=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Ag(s,p)})(c,t);var e,n,r=Lj(c);function c(s){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c),cp(dl(p=r.call(this,s)),"style",{}),cp(dl(p),"defaultAngle",void 0),cp(dl(p),"normal",void 0),cp(dl(p),"stepperDrag",void 0),cp(dl(p),"onDragging",function(g){var b,x=g.event,P=p.props,D=P.graphModel,L=P.nodeModel,V=P.eventCenter,ee=D.selectNodes,ie=L.x,me=L.y,ge=x.clientX,xe=x.clientY,Re=D.getPointByClient({x:ge,y:xe}).canvasOverlayPosition,nt=Re.x,et=Re.y,Ot=new wr(nt-ie,et-me),Qe=((b=p.normal)===null||b===void 0?void 0:b.angle(Ot))-p.defaultAngle,gt=new ju(-ie,-me).rotate(Qe).translate(ie,me).toString();L.transform=gt,L.rotate=Qe;var it=Object(Q_.map)(ee,function(sn){return sn.id});it.indexOf(L.id)===-1&&(it=[L.id]);var nn=Object(Q_.reduce)(it,function(sn,Lt){var hn=D.getNodeModelById(Lt);return sn[Lt]=hn==null?void 0:hn.getMoveDistance(0,0,!1),sn},{});it.forEach(function(sn){D.getNodeEdges(sn).forEach(function(Lt){if(nn[Lt.sourceNodeId]){var hn=D.getNodeModelById(Lt.sourceNodeId).anchors.find(function(ir){return ir.id===Lt.sourceAnchorId});Lt.updateStartPoint(hn)}if(nn[Lt.targetNodeId]){var or=D.getNodeModelById(Lt.targetNodeId).anchors.find(function(ir){return ir.id===Lt.targetAnchorId});Lt.updateEndPoint(or)}})}),V.emit(yt.NODE_ROTATE,{e:x,nodeModel:L})}),p.style=s.style,p.stepperDrag=new jo({onDragging:p.onDragging}),p}return e=c,(n=[{key:"render",value:function(){var s=this,p=this.props.nodeModel,g=p.x,b=p.y,x=g+p.width/2+20,P=b-p.height/2-20;return this.normal=new wr(1,0),this.defaultAngle=this.normal.angle(new wr(x-g,P-b)),p.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(D){s.stepperDrag.handleMouseDown(D)}},Object(pe.g)(rl,Pg({},this.style,{cx:x,cy:P}))))}}])&&Ij(e.prototype,n),c}(pe.a);function Mg(t){return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}var Fj=["className"];function Ph(){return Ph=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}function Uj(t,e){if(t==null)return{};var n,r,c=function(p,g){if(p==null)return{};var b,x,P={},D=Object.keys(p);for(x=0;x<D.length;x++)b=D[x],g.indexOf(b)>=0||(P[b]=p[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function Ah(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return e1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return e1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kg(t,e){return kg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kg(t,e)}function Wj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mh(t);if(e){var c=Mh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Gj(this,n)}}function Gj(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jr(t)}function jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mh(t)}function Ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ia=function(t){(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&kg(p,g)})(s,t);var e,n,r,c=Wj(s);function s(p){var g;(function(L,V){if(!(L instanceof V))throw new TypeError("Cannot call a class as a function")})(this,s),Ir(jr(g=c.call(this)),"t",void 0),Ir(jr(g),"moveOffset",void 0),Ir(jr(g),"stepDrag",void 0),Ir(jr(g),"contextMenuTime",void 0),Ir(jr(g),"mouseUpDrag",void 0),Ir(jr(g),"startTime",void 0),Ir(jr(g),"clickTimer",void 0),Ir(jr(g),"modelDisposer",void 0),Ir(jr(g),"onDragStart",function(L){var V=L.event,ee=V.clientX,ie=V.clientY,me=g.props,ge=me.model,xe=me.graphModel.getPointByClient({x:ee,y:ie}).canvasOverlayPosition,Re=xe.x,nt=xe.y;g.moveOffset={x:ge.x-Re,y:ge.y-nt}}),Ir(jr(g),"onDragging",function(L){var V=L.event,ee=g.props,ie=ee.model,me=ee.graphModel,ge=me.editConfigModel,xe=ge.stopMoveGraph,Re=ge.autoExpand,nt=me.transformModel,et=me.selectNodes,Ot=me.width,Qe=me.height,gt=me.gridSize;ie.isDragging=!0;var it=V.clientX,nn=V.clientY,sn=me.getPointByClient({x:it,y:nn}).canvasOverlayPosition,Lt=sn.x,hn=sn.y,or=Ah(nt.CanvasPointToHtmlPoint([Lt,hn]),2),ir=or[0],Yr=or[1];if(Lt+=g.moveOffset.x,hn+=g.moveOffset.y,Lt=Ji(Lt,gt),hn=Ji(hn,gt),Ot&&Qe){if(!Re||xe||!(ir<0||Yr<0||ir>Ot||Yr>Qe)){var $o=Ah(nt.CanvasPointToHtmlPoint([Lt-ie.width/2,hn-ie.height/2]),2),Ho=$o[0],fa=$o[1],Gs=Ah(nt.CanvasPointToHtmlPoint([Lt+ie.width/2,hn+ie.height/2]),2),Kh=Gs[0],$s=Gs[1],Nu=Math.max(gt,20),Du=[];Ho<0?Du=[Nu,0]:Kh>me.width?Du=[-Nu,0]:fa<0?Du=[0,Nu]:$s>me.height&&(Du=[0,-Nu]),g.t&&xh(g.t);var jA=new ju(-Lt,-hn).rotate(ie.rotate).translate(Lt,hn).toString();ie.transform=jA;var qh=et.map(function(Zh){return Zh.id});qh.indexOf(ie.id)===-1&&(qh=[ie.id]),Du.length>0&&!xe&&Re?g.t=H_(function(){var Zh=Ah(Du,2),R1=Zh[0],I1=Zh[1];nt.translate(R1,I1);var PA=-R1/nt.SCALE_X,AA=-I1/nt.SCALE_X;me.moveNodes(qh,PA,AA)}):me.moveNodes(qh,Lt-ie.x,hn-ie.y)}}else me.moveNode2Coordinate(ie.id,Lt,hn)}),Ir(jr(g),"onDragEnd",function(){g.t&&xh(g.t),g.props.model.isDragging=!1}),Ir(jr(g),"handleMouseUp",function(){var L=g.props.model;g.mouseUpDrag=L.isDragging}),Ir(jr(g),"handleClick",function(L){var V=g.mouseUpDrag===!1;if(g.startTime){var ee=g.props,ie=ee.model,me=ee.graphModel;if(V){var ge={data:ie.getData(),e:L,position:me.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},xe=L.button===2,Re=L.detail===2;if(!xe){var nt=me.editConfigModel,et=bs(L,nt);ge.isMultiple=et,ie.isSelected&&!Re&&et?(ge.isSelected=!1,ie.setSelected(!1)):(me.selectNodeById(ie.id,et),ge.isSelected=!0,g.toFront()),Re?(nt.nodeTextEdit&&ie.text.editable&&(ie.setSelected(!1),me.setElementStateById(ie.id,_n.TEXT_EDIT)),me.eventCenter.emit(yt.NODE_DBCLICK,ge)):(me.eventCenter.emit(yt.ELEMENT_CLICK,ge),me.eventCenter.emit(yt.NODE_CLICK,ge))}}}}),Ir(jr(g),"handleContextMenu",function(L){L.preventDefault();var V=g.props,ee=V.model,ie=V.graphModel,me=ee.getData(),ge=ie.getPointByClient({x:L.clientX,y:L.clientY});ie.setElementStateById(ee.id,_n.SHOW_MENU,ge.domOverlayPosition),ee.isSelected||ie.selectNodeById(ee.id),ie.eventCenter.emit(yt.NODE_CONTEXTMENU,{data:me,e:L,position:ge}),g.toFront()}),Ir(jr(g),"handleMouseDown",function(L){var V=g.props,ee=V.model,ie=V.graphModel;g.startTime=new Date().getTime(),ie.editConfigModel.adjustNodePosition&&ee.draggable&&g.stepDrag&&g.stepDrag.handleMouseDown(L)}),Ir(jr(g),"setHoverON",function(L){var V=g.props,ee=V.model,ie=V.graphModel;if(!ee.isHovered){var me=ee.getData();ee.setHovered(!0),ie.eventCenter.emit(yt.NODE_MOUSEENTER,{data:me,e:L})}}),Ir(jr(g),"setHoverOFF",function(L){var V=g.props,ee=V.model,ie=V.graphModel,me=ee.getData();ee.isHovered&&(ee.setHovered(!1),ie.eventCenter.emit(yt.NODE_MOUSELEAVE,{data:me,e:L}))}),Ir(jr(g),"onMouseOut",function(L){Rj&&g.setHoverOFF(L)});var b=p.graphModel,x=b.gridSize,P=b.eventCenter,D=p.model;return g.stepDrag=new jo({onDragStart:g.onDragStart,onDragging:g.onDragging,onDragEnd:g.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:P,model:D}),g.modelDisposer=Object(h.F)(function(){return g.props},function(L){L&&L.model&&g.stepDrag.setModel(L.model)}),g}return e=s,r=[{key:"getModel",value:function(p){return p}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(p){return null}},{key:"getAnchors",value:function(){var p=this,g=this.props,b=g.model,x=g.graphModel,P=b.isSelected,D=b.isHitable,L=b.isDragging,V=b.isShowAnchor;return D&&(P||V)&&!L?fc(b.anchors,function(ee,ie){var me=b.getAnchorLineStyle(ee),ge=b.getAnchorStyle(ee);return Object(pe.g)(Pj,{anchorData:ee,node:p,style:ge,edgeStyle:me,anchorIndex:ie,nodeModel:b,graphModel:x,setHoverOFF:p.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var p=this.props,g=p.model,b=p.graphModel,x=g.isSelected,P=g.isHitable,D=g.enableRotate,L=g.isHovered,V=g.getRotateControlStyle().style;if(P&&(x||L)&&D)return Object(pe.g)(Bj,{graphModel:b,nodeModel:g,eventCenter:b.eventCenter,style:V})}},{key:"getText",value:function(){var p=this.props,g=p.model,b=p.graphModel;if(g.state===_n.TEXT_EDIT)return"";if(g.text){var x=b.editConfigModel,P=!1;return(g.text.draggable||x.nodeTextDraggable)&&(P=!0),Object(pe.g)(J_,{editable:x.nodeTextEdit&&g.text.editable,model:g,graphModel:b,draggable:P})}}},{key:"getStateClassName",value:function(){var p=this.props.model,g=p.state,b=p.isDragging,x=p.isSelected,P="lf-node";switch(g){case _n.ALLOW_CONNECT:P+=" lf-node-allow";break;case _n.NOT_ALLOW_CONNECT:P+=" lf-node-not-allow";break;default:P+=" lf-node-default"}return b&&(P+=" lf-isDragging"),x&&(P+=" lf-node-selected"),P}},{key:"toFront",value:function(){var p=this.props,g=p.model,b=p.graphModel;g.autoToFront&&b.toFront(g.id)}},{key:"render",value:function(){var p,g=this.props,b=g.model,x=g.graphModel,P=x.editConfigModel,D=P.hideAnchors,L=P.adjustNodePosition,V=P.allowRotation,ee=x.gridSize,ie=x.transformModel.SCALE_X,me=b.isHitable,ge=b.draggable,xe=b.transform,Re=b.getOuterGAttributes(),nt=Re.className,et=nt===void 0?"":nt,Ot=Uj(Re,Fj),Qe=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",{transform:xe},this.getShape(),this.getText(),V&&this.getRotateControl()),!D&&this.getAnchors());return me?(L&&ge&&this.stepDrag.setStep(ee*ie),p=Object(pe.g)("g",Ph({className:"".concat(this.getStateClassName()," ").concat(et),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Ot),Qe)):p=Object(pe.g)("g",Ph({className:"".concat(this.getStateClassName()," ").concat(et)},Ot),Qe),p}}])&&t1(e.prototype,n),r&&t1(e,r),s}(pe.a);function Tg(t){return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function Ng(){return Ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function $j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dg(t,e){return Dg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dg(t,e)}function Xj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=kh(t);if(e){var c=kh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Vj(this,n)}}function Vj(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kh(t)}var Cg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Dg(s,p)})(c,t);var e,n,r=Xj(c);function c(){return $j(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(pe.g)(Pu,Ng({},p,{x:s.x,y:s.y,width:s.width,height:s.height,radius:s.radius}))}}])&&Hj(e.prototype,n),c}(Ia);function Rg(t){return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function Ig(){return Ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function Yj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e){return Lg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lg(t,e)}function qj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Th(t);if(e){var c=Th(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Zj(this,n)}}function Zj(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Th(t)}var zg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Lg(s,p)})(c,t);var e,n,r=qj(c);function c(){return Yj(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.r,x=s.getNodeStyle();return Object(pe.g)(rl,Ig({},x,{x:p,y:g,r:b}))}}])&&Kj(e.prototype,n),c}(Ia);function Bg(t){return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function Jj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return n1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return n1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r1(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(c){var s=Jj(c,2),p=s[0],g=s[1];Bg(g)!=="object"&&(r[p]=g)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(c){return c.join(",")}).join(" "),Object(pe.g)("polygon",r)}function Fg(t){return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function Ug(){return Ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function Qj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wg(t,e){return Wg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wg(t,e)}function tP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nh(t);if(e){var c=Nh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return nP(this,n)}}function nP(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nh(t)}var Gg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Wg(s,p)})(c,t);var e,n,r=tP(c);function c(){return Qj(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.width,x=s.height,P=s.points,D=s.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(p-b/2," ").concat(g-x/2,")")};return Object(pe.g)("g",L,Object(pe.g)(r1,Ug({},D,{points:P,x:p,y:g})))}}])&&eP(e.prototype,n),c}(Ia);function $g(t){return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function Hg(){return Hg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function rP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xg(t,e){return Xg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xg(t,e)}function iP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Dh(t);if(e){var c=Dh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return aP(this,n)}}function aP(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dh(t)}var Vg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Xg(s,p)})(c,t);var e,n,r=iP(c);function c(){return rP(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(r1,Hg({},p,{points:s.points,x:s.x,y:s.y})))}}])&&oP(e.prototype,n),c}(Ia);function Yg(t){return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function uP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return o1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sP(t){var e=t.x,n=e===void 0?0:e,r=t.y,c=r===void 0?0:r,s=t.rx,p=s===void 0?4:s,g=t.ry,b=g===void 0?4:g,x=t.className,P={cx:n,cy:c,rx:p,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var L=uP(D,2),V=L[0],ee=L[1];Yg(ee)!=="object"&&(P[V]=ee)}),P.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(pe.g)("ellipse",P)}function Kg(t){return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function qg(){return qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function cP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zg(t,e){return Zg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zg(t,e)}function fP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ch(t);if(e){var c=Ch(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return pP(this,n)}}function pP(t,e){if(e&&(Kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(t)}var Jg=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Zg(s,p)})(c,t);var e,n,r=fP(c);function c(){return cP(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,p=s.getNodeStyle();return Object(pe.g)(sP,qg({},p,{x:s.x,y:s.y,rx:s.rx,ry:s.ry}))}}])&&lP(e.prototype,n),c}(Ia);function Qg(t){return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function a1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){dP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function em(t,e){return em=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},em(t,e)}function vP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rh(t);if(e){var c=Rh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return gP(this,n)}}function gP(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rh(t)}var tm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&em(s,p)})(c,t);var e,n,r=vP(c);function c(){return hP(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,p=s.getTextStyle(),g=s.width,b=s.height,x=s.x,P=s.y,D=a1(a1({},p.background),{},{x,y:P-1,width:g,height:b});return Object(pe.g)(Pu,D)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&yP(e.prototype,n),c}(Ia);function nm(t){return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function rm(){return rm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(this,arguments)}function mP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function om(t,e){return om=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},om(t,e)}function _P(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ih(t);if(e){var c=Ih(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return OP(this,n)}}function OP(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lp(t)}function lp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ih(t)}function Lh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var im=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&om(s,p)})(c,t);var e,n,r=_P(c);function c(){var s;mP(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return Lh(lp(s=r.call.apply(r,[this].concat(g))),"ref",void 0),Lh(lp(s),"currentProperties",void 0),Lh(lp(s),"preProperties",void 0),Lh(lp(s),"setRef",function(x){s.ref=x}),s}return e=c,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(s){s.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var s=this.props.model,p=s.x,g=s.y,b=s.height,x=s.width,P=s.getNodeStyle();return this.currentProperties=JSON.stringify(s.properties),Object(pe.g)("foreignObject",rm({},P,{x:p-x/2,y:g-b/2,width:x,height:b,ref:this.setRef}))}}])&&bP(e.prototype,n),c}(Ia);function am(t){return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function um(){return um=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){lm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sm(t,e){return sm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sm(t,e)}function xP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zh(t);if(e){var c=zh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return EP(this,n)}}function EP(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cm(t)}function cm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zh(t)}function lm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var SP=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&sm(s,p)})(c,t);var e,n,r=xP(c);function c(s){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c),lm(cm(p=r.call(this,s)),"setHoverON",function(){p.setState({isHovered:!0})}),lm(cm(p),"setHoverOFF",function(){p.setState({isHovered:!1})}),p.state={isHovered:!1},p}return e=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,p=s.getTextStyle(),g=s.text,b=s.width,x=p.background||{};if(this.state.isHovered&&p.hover&&p.hover.background&&(x=Fs(Fs({},x),p.hover.background)),g&&g.value&&x.fill!=="transparent"){var P,D=p.fontSize,L=p.overflowMode,V=p.lineHeight,ee=p.wrapPadding,ie=p.textWidth,me=g.value,ge=g.x,xe=g.y,Re=String(me).split(/[\r\n]/g),nt=Re.length;if(L==="autoWrap"&&ie){var et=Dd({rows:Re,style:{fontSize:"".concat(D,"px"),width:"".concat(ie,"px"),lineHeight:V,padding:ee},rowsLength:nt,className:"lf-get-text-height"});P=Fs(Fs({},x),{},{x:ge-1,y:xe-1,width:ie,height:et})}else{Re&&Re.forEach(function(nn){Vf(nn)});var Ot=ws({rows:Re,fontSize:D,rowsLength:nt}),Qe=Ot.width,gt=Ot.height;if(L==="ellipsis"&&(Qe=ie||b,gt=D+2),typeof x.wrapPadding=="string"){var it=x.wrapPadding.split(",").filter(function(nn){return nn.trim()}).map(function(nn){return parseFloat(nn.trim())});it.length>0&&it.length<=4&&(it.length===1?it=[it[0],it[0],it[0],it[0]]:it.length===2?it=[it[0],it[1],it[0],it[1]]:it.length===3&&(it=[it[0],it[1],it[2],it[1]]),Qe+=it[1]+it[3],gt+=it[0]+it[2],ge+=(it[1]-it[3])/2,xe+=(it[2]-it[0])/2)}P=Fs(Fs({},x),{},{x:ge-1,y:xe-1,width:Qe,height:gt})}return Object(pe.g)(Pu,P)}}},{key:"getShape",value:function(){var s=this.props.model,p=s.text,g=p.value,b=p.x,x=p.y;if(g){var P=Fs({x:b,y:x,className:"lf-element-text",value:g},s.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)(q_,um({},P,{model:s})))}}}])&&wP(e.prototype,n),c}(J_);function fm(t){return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var ca,jP=["text","sourceAnchorId","targetAnchorId"];function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){Go(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PP(t,e){if(t==null)return{};var n,r,c=function(p,g){if(p==null)return{};var b,x,P={},D=Object.keys(p);for(x=0;x<D.length;x++)b=D[x],g.indexOf(b)>=0||(P[b]=p[b]);return P}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function AP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return c1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return c1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pm(t,e){return pm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pm(t,e)}function kP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bh(t);if(e){var c=Bh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return TP(this,n)}}function TP(t,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(t)}function Wo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(t)}function Go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ca||(ca={}));var l1=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&pm(s,p)})(c,t);var e,n,r=kP(c);function c(s){var p;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,c),Go(Wo(p=r.call(this)),"stepDragData",void 0),Go(Wo(p),"stepDrag",void 0),Go(Wo(p),"oldEdge",void 0),Go(Wo(p),"preTargetNode",void 0),Go(Wo(p),"targetRuleResults",void 0),Go(Wo(p),"sourceRuleResults",void 0),Go(Wo(p),"handleMouseDown",function(P){p.stepDrag&&p.stepDrag.handleMouseDown(P)}),Go(Wo(p),"onDragStart",function(){var P=p.props,D=P.x,L=P.y,V=P.edgeModel,ee=V.startPoint,ie=V.endPoint,me=V.pointsList;p.oldEdge={startPoint:ee,endPoint:ie,pointsList:me},p.setState({endX:D,endY:L,dragging:!0})}),Go(Wo(p),"onDragging",function(P){var D=P.deltaX,L=P.deltaY,V=p.state,ee=V.endX,ie=V.endY,me=p.props,ge=me.graphModel,xe=me.type,Re=ge.transformModel,nt=ge.editConfigModel,et=AP(Re.moveCanvasPointByHtml([ee,ie],D,L),2),Ot=et[0],Qe=et[1];p.setState({endX:Ot,endY:Qe,dragging:!0});var gt=p.props.edgeModel,it=Os({x:ee,y:ie},ge);if(it&&it.node&&p.isAllowAdjust(it).pass){var nn,sn=gt.startPoint,Lt=gt.endPoint,hn=gt.sourceNode,or=gt.targetNode;xe===ca.SOURCE?nn={startPoint:{x:it.anchor.x,y:it.anchor.y},endPoint:{x:Lt.x,y:Lt.y},sourceNode:it.node,targetNode:or}:xe===ca.TARGET&&(nn={startPoint:{x:sn.x,y:sn.y},endPoint:{x:it.anchor.x,y:it.anchor.y},sourceNode:hn,targetNode:it.node}),gt.updateAfterAdjustStartAndEnd(nn)}else xe===ca.SOURCE?gt.updateStartPoint({x:Ot,y:Qe}):xe===ca.TARGET&&gt.updateEndPoint({x:Ot,y:Qe});gt.text.value&&nt.adjustEdge&&gt.setText(Object.assign({},gt.text,gt.textPosition))}),Go(Wo(p),"onDragEnd",function(P){var D=P.event;try{var L;p.setState({dragging:!1});var V=p.props,ee=V.graphModel,ie=V.edgeModel,me=V.type,ge=p.state,xe=ge.endX,Re=ge.endY,nt=ge.dragging,et=Os({x:xe,y:Re},ee);if(!nt)return;var Ot,Qe=!1;if(et&&et.node){var gt=p.isAllowAdjust(et),it=gt.pass,nn=gt.msg,sn=gt.newTargetNode;if(it){var Lt=ie.getData(),hn=Lt.text,or=Lt.sourceAnchorId,ir=or===void 0?"":or,Yr=Lt.targetAnchorId;Ot=La(La({sourceAnchorId:ir,targetAnchorId:Yr===void 0?"":Yr},PP(Lt,jP)),{},{text:(hn==null?void 0:hn.value)||""}),me===ca.SOURCE?(Ot=La(La({},ee.edgeGenerator(ee.getNodeModelById(et.node.id).getData(),ee.getNodeModelById(ie.targetNodeId).getData(),Ot)),{},{sourceNodeId:et.node.id,sourceAnchorId:et.anchor.id,startPoint:{x:et.anchor.x,y:et.anchor.y},targetNodeId:ie.targetNodeId,endPoint:La({},ie.endPoint)}),ie.sourceNodeId===et.node.id&&ie.sourceAnchorId===et.anchor.id&&(Qe=!0)):me===ca.TARGET&&(Ot=La(La({},ee.edgeGenerator(ee.getNodeModelById(ie.sourceNodeId).getData(),ee.getNodeModelById(et.node.id).getData(),Ot)),{},{sourceNodeId:ie.sourceNodeId,startPoint:La({},ie.startPoint),targetNodeId:et.node.id,targetAnchorId:et.anchor.id,endPoint:{x:et.anchor.x,y:et.anchor.y}}),ie.targetNodeId===et.node.id&&ie.targetAnchorId===et.anchor.id&&(Qe=!0))}else{Qe=!0;var $o=sn.getData();ee.eventCenter.emit(yt.CONNECTION_NOT_ALLOWED,{data:$o,msg:nn})}}else Qe=!0;if(Qe)p.recoveryEdge();else{var Ho=ie.getData();ee.deleteEdgeById(ie.id);var fa=ee.addEdge(La({},Ot));ee.eventCenter.emit(yt.EDGE_EXCHANGE_NODE,{data:{newEdge:fa.getData(),oldEdge:Ho}})}(L=p.preTargetNode)===null||L===void 0||L.setElementState(_n.DEFAULT)}finally{p.props.graphModel.eventCenter.emit(yt.ADJUST_POINT_DRAGEND,{e:D,data:p.stepDragData})}}),Go(Wo(p),"recoveryEdge",function(){var P=p.props.edgeModel,D=p.oldEdge,L=D.startPoint,V=D.endPoint,ee=D.pointsList;P.updateStartPoint(L),P.updateEndPoint(V),P.modelType!==Jt.LINE_EDGE&&(P.pointsList=ee,P.initPoints())}),Go(Wo(p),"getAdjustPointStyle",function(){var P=p.props,D=P.graphModel.theme;return P.edgeModel,D.edgeAdjust}),p.state={dragging:!1,endX:0,endY:0},p.targetRuleResults=new Map,p.sourceRuleResults=new Map;var g=s.type,b=s.edgeModel,x=s.graphModel.eventCenter;return p.stepDragData={type:g,edgeData:b.getData()},p.stepDrag=new jo({onDragStart:p.onDragStart,onDragging:p.onDragging,onDragEnd:p.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:p.stepDragData}),p}return e=c,(n=[{key:"isAllowAdjust",value:function(s){var p=this.props,g=p.edgeModel,b=g.id,x=g.sourceNode,P=g.targetNode,D=g.sourceAnchorId,L=g.targetAnchorId,V=p.type,ee=null,ie=null,me=null,ge=null;if(V===ca.SOURCE?(ee=s.node,ie=P,me=s.anchor,ge=P.getAnchorInfo(L)):(ee=x,ie=s.node,ge=s.anchor,me=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==s.node&&this.preTargetNode.setElementState(_n.DEFAULT),this.preTargetNode=s.node,ge.id===me.id)return{pass:!1,msg:"",newTargetNode:ie};var xe="".concat(ee.id,"_").concat(ie.id,"_").concat(me.id,"_").concat(ge.id);if(!this.targetRuleResults.has(xe)){var Re=ee.isAllowConnectedAsSource(ie,me,ge,b),nt=ie.isAllowConnectedAsTarget(ee,me,ge,b);this.sourceRuleResults.set(xe,gu(Re)),this.targetRuleResults.set(xe,gu(nt))}var et=this.sourceRuleResults.get(xe),Ot=et.isAllPass,Qe=et.msg,gt=this.targetRuleResults.get(xe),it=gt.isAllPass,nn=gt.msg,sn=Ot&&it?_n.ALLOW_CONNECT:_n.NOT_ALLOW_CONNECT;return V===ca.SOURCE?ee.setElementState(sn):ie.setElementState(sn),{pass:Ot&&it,msg:nn||Qe,newTargetNode:ie}}},{key:"render",value:function(){var s=this.props,p=s.x,g=s.y,b=s.getAdjustPointShape,x=s.edgeModel,P=this.state.dragging;return Object(pe.g)("g",{pointerEvents:P?"none":"",onMouseDown:this.handleMouseDown},P?"":b(p,g,x))}}])&&MP(e.prototype,n),c}(pe.a);function dm(t){return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function fp(){return fp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function NP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return f1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hm(t,e){return hm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hm(t,e)}function RP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fh(t);if(e){var c=Fh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return IP(this,n)}}function IP(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zi(t)}function zi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fh(t)}function la(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pp=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&hm(s,p)})(c,t);var e,n,r=RP(c);function c(){var s;DP(this,c);for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return la(zi(s=r.call.apply(r,[this].concat(g))),"startTime",void 0),la(zi(s),"contextMenuTime",void 0),la(zi(s),"clickTimer",void 0),la(zi(s),"textRef",Object(pe.f)()),la(zi(s),"handleHover",function(x,P){var D=s.props,L=D.model,V=D.graphModel.eventCenter;L.setHovered(x);var ee=x?yt.EDGE_MOUSEENTER:yt.EDGE_MOUSELEAVE,ie=L.getData();V.emit(ee,{data:ie,e:P})}),la(zi(s),"setHoverON",function(x){s.props.model.isHovered||(s.textRef&&s.textRef.current&&s.textRef.current.setHoverON(),s.handleHover(!0,x))}),la(zi(s),"setHoverOFF",function(x){s.props.model.isHovered&&(s.textRef&&s.textRef.current&&s.textRef.current.setHoverOFF(),s.handleHover(!1,x))}),la(zi(s),"handleContextMenu",function(x){x.preventDefault(),s.contextMenuTime=new Date().getTime(),s.clickTimer&&clearTimeout(s.clickTimer);var P=s.props,D=P.model,L=P.graphModel,V=L.getPointByClient({x:x.clientX,y:x.clientY});L.setElementStateById(D.id,_n.SHOW_MENU,V.domOverlayPosition),s.toFront(),D.isSelected||L.selectEdgeById(D.id);var ee=D==null?void 0:D.getData();L.eventCenter.emit(yt.EDGE_CONTEXTMENU,{data:ee,e:x,position:V})}),la(zi(s),"handleMouseDown",function(x){x.stopPropagation(),s.startTime=new Date().getTime()}),la(zi(s),"handleMouseUp",function(x){if(s.startTime&&!(new Date().getTime()-s.startTime>200||x.button===2)){var P=x.detail===2,D=s.props,L=D.model,V=D.graphModel,ee=L==null?void 0:L.getData(),ie=V.getPointByClient({x:x.clientX,y:x.clientY});if(P){var me=V.editConfigModel,ge=V.textEditElement;if(ge&&ge.id===L.id&&V.setElementStateById(L.id,_n.DEFAULT),me.edgeTextEdit&&L.text.editable&&V.setElementStateById(L.id,_n.TEXT_EDIT),L.modelType===Jt.POLYLINE_EDGE){var xe=L,Re=V.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,nt=Re.x,et=Re.y,Ot=As({x:nt,y:et},xe.points);xe.dbClickPosition=Ot}V.eventCenter.emit(yt.EDGE_DBCLICK,{data:ee,e:x,position:ie})}else V.eventCenter.emit(yt.ELEMENT_CLICK,{data:ee,e:x,position:ie}),V.eventCenter.emit(yt.EDGE_CLICK,{data:ee,e:x,position:ie});var Qe=V.editConfigModel;V.selectEdgeById(L.id,bs(x,Qe)),s.toFront()}}),s}return e=c,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var s=this.props,p=s.model,g=s.graphModel;if(p.state===_n.TEXT_EDIT)return null;var b=!1,x=g.editConfigModel;return(p.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(pe.g)(SP,{ref:this.textRef,editable:x.edgeTextEdit&&p.text.editable,model:p,graphModel:g,draggable:b})}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=s.isSelected;return{start:p,end:g,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model;return[s.startPoint,s.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var s=this.props.model,p=s.id,g=s.getArrowStyle(),b=g.refY,x=b===void 0?0:b,P=g.refX,D=P===void 0?2:P,L=NP(this.getLastTwoPoints(),2),V=L[0],ee=L[1],ie="auto";return V!==null&&ee!==null&&(ie=Lf(If({x:ee.x-V.x,y:ee.y-V.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(p),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(p),refX:D,refY:x,overflow:"visible",orient:ie,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var s=this.props.model.getArrowStyle();return s.stroke,s.strokeWidth,s.offset,s.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var s=this.props.model.getArrowStyle(),p=s.stroke,g=s.strokeWidth,b=s.offset,x=s.verticalLength;return Object(pe.g)("path",{stroke:p,fill:p,strokeWidth:g,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(s,p,g){var b=g.getAdjustPointStyle();return Object(pe.g)(rl,fp({className:"lf-edge-adjust-point"},b,{x:s,y:p}))}},{key:"getAdjustPoints",value:function(){var s=this.props,p=s.model,g=s.graphModel,b=p.getAdjustStart(),x=p.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(l1,fp({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:g})),Object(pe.g)(l1,fp({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:g})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var s=this.props,p=s.graphModel,g=s.model;p.toFront(g.id)}},{key:"render",value:function(){var s=this.props,p=s.model,g=p.isSelected,b=p.isHitable,x=p.isShowAdjustPoint;return s.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",g&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&g?this.getAdjustPoints():"")}}])&&CP(e.prototype,n),c}(pe.a);function ym(t){return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function LP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return p1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return p1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dp=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=LP(n,2),c=r[0],s=r[1],p=ym(s);c!=="style"&&p==="object"||(e[c]=s)}),Object(pe.g)("path",e)};function vm(t){return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function gm(){return gm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function zP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mm(t,e){return mm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mm(t,e)}function FP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Uh(t);if(e){var c=Uh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return UP(this,n)}}function UP(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uh(t)}var bm=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&mm(s,p)})(c,t);var e,n,r=FP(c);function c(){return zP(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=s.isAnimation,x=s.arrowConfig,P=s.getEdgeStyle(),D=s.getEdgeAnimationStyle(),L=D.strokeDasharray,V=D.stroke,ee=D.strokeDashoffset,ie=D.animationName,me=D.animationDuration,ge=D.animationIterationCount,xe=D.animationTimingFunction,Re=D.animationDirection;return Object(pe.g)(tl,gm({},P,{x1:p.x,y1:p.y,x2:g.x,y2:g.y},x,b?{strokeDasharray:L,stroke:V,style:{strokeDashoffset:ee,animationName:ie,animationDuration:me,animationIterationCount:ge,animationTimingFunction:xe,animationDirection:Re}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model,p=s.startPoint,g=s.endPoint,b=Zd({start:p,end:g}),x=b.d,P=b.strokeWidth,D=b.fill,L=b.strokeDasharray,V=b.stroke;return Object(pe.g)(dp,{d:x,fill:D,strokeWidth:P,stroke:V,strokeDasharray:L})}}])&&BP(e.prototype,n),c}(pp);function _m(t){return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function WP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return d1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GP=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=WP(n,2),c=r[0],s=r[1];(c==="style"||_m(s)!=="object")&&(e[c]=s)}),Object(pe.g)("polyline",e)};function Om(t){return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wm(){return wm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function $P(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return y1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return y1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xm(t,e){return xm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xm(t,e)}function XP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gh(t);if(e){var c=Gh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return VP(this,n)}}function VP(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return za(t)}function za(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gh(t)}function Ba(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Em=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&xm(s,p)})(c,t);var e,n,r=XP(c);function c(){var s;return function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}(this,c),Ba(za(s=r.call(this)),"drag",void 0),Ba(za(s),"isDragging",void 0),Ba(za(s),"isShowAdjustPointTemp",void 0),Ba(za(s),"appendInfo",void 0),Ba(za(s),"onDragStart",function(){var p=s.props.model;p.dragAppendStart(),s.isShowAdjustPointTemp=p.isShowAdjustPoint,p.isShowAdjustPoint=!1}),Ba(za(s),"onDragging",function(p){var g=p.deltaX,b=p.deltaY,x=s.props,P=x.model,D=x.graphModel;s.isDragging=!0;var L=D.transformModel,V=D.editConfigModel,ee=$P(L.fixDeltaXY(g,b),2),ie=ee[0],me=ee[1],ge=P,xe=V.adjustEdgeMiddle;s.appendInfo=xe?ge.dragAppendSimple(s.appendInfo,{x:ie,y:me}):ge.dragAppend(s.appendInfo,{x:ie,y:me})}),Ba(za(s),"onDragEnd",function(){var p=s.props,g=p.model,b=p.graphModel.eventCenter,x=g;x.dragAppendEnd(),s.isDragging=!1,x.isShowAdjustPoint=s.isShowAdjustPointTemp,s.appendInfo=void 0,b.emit(yt.EDGE_ADJUST,{data:x.getData()})}),Ba(za(s),"beforeDragStart",function(p,g){g.dragAble&&s.drag.handleMouseDown(p),s.appendInfo=g}),s.drag=new jo({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd,isStopPropagation:!1}),s}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.points,g=s.isAnimation,b=s.arrowConfig,x=s.getEdgeStyle(),P=s.getEdgeAnimationStyle(),D=P.strokeDasharray,L=P.stroke,V=P.strokeDashoffset,ee=P.animationName,ie=P.animationDuration,me=P.animationIterationCount,ge=P.animationTimingFunction,xe=P.animationDirection;return Object(pe.g)(GP,wm({points:p},x,b,g?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:V,animationName:ee,animationDuration:ie,animationIterationCount:me,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=s.points,g=s.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:g},x=Ti(p);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var s=this.props.model.points,p=Ti(s);return p.length>=2?[p[p.length-2],p[p.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(s){var p,g=s.start,b=s.end;if(g.x===b.x&&g.y===b.y)p="";else{var x={start:g,end:b,offset:10,verticalLength:5},P=_u(Wh(Wh({},x),{},{type:"start"})),D=_u(Wh(Wh({},x),{},{type:"end"}));p="M".concat(P.leftX," ").concat(P.leftY,` 
      L`).concat(P.rightX," ").concat(P.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(s){var p=this.getAppendAttributes(s),g=p.d,b=p.strokeWidth,x=p.fill,P=p.strokeDasharray,D=p.stroke;return Object(pe.g)(dp,{d:g,fill:x,strokeWidth:b,stroke:D,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var s=this,p=this.props,g=p.model,b=p.graphModel,x=g.pointsList,P=g.draggable,D=[],L=x.length,V=function(ie){var me="lf-polyline-append",ge={start:{x:x[ie].x,y:x[ie].y},end:{x:x[ie+1].x,y:x[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},xe=Object(pe.g)("g",{className:me},s.getAppendShape(ge)),Re=b.editConfigModel,nt=Re.adjustEdge,et=Re.adjustEdgeMiddle;if(nt&&P){var Ot=ge.startIndex,Qe=ge.endIndex,gt=et&&(Ot===0||Qe===L-1);ge.dragAble=!gt,ge.start.x===ge.end.x?(ge.dragAble&&(me+="-ew-resize"),ge.direction=Nn.VERTICAL):ge.start.y===ge.end.y&&(ge.dragAble&&(me+="-ns-resize"),ge.direction=Nn.HORIZONTAL),xe=Object(pe.g)("g",{className:s.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(it){return s.beforeDragStart(it,ge)}},Object(pe.g)("g",{className:me},s.getAppendShape(ge)))}D.push(xe)},ee=0;ee<L-1;ee++)V(ee);return Object(pe.g)("g",null,D)}}])&&HP(e.prototype,n),c}(pp);function Sm(t){return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function YP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return v1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return v1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jm(){return jm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function KP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pm(t,e){return Pm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pm(t,e)}function ZP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=$h(t);if(e){var c=$h(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return JP(this,n)}}function JP(t,e){if(e&&(Sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$h(t)}var Am=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Pm(s,p)})(c,t);var e,n,r=ZP(c);function c(){return KP(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,p=s.getEdgeStyle(),g=s.path,b=s.isAnimation,x=s.arrowConfig,P=s.getEdgeAnimationStyle(),D=P.strokeDasharray,L=P.stroke,V=P.strokeDashoffset,ee=P.animationName,ie=P.animationDuration,me=P.animationIterationCount,ge=P.animationTimingFunction,xe=P.animationDirection;return Object(pe.g)(dp,jm({d:g},p,x,b?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:V,animationName:ee,animationDuration:ie,animationIterationCount:me,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model.path;return Object(pe.g)(dp,{d:s,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var s=this.props.model,p=this.state.hover,g=s.isSelected,b=s.getArrowStyle().offset,x=s.pointsList.map(function(D){return{x:D.x,y:D.y}}),P=YP(Kf(x,b),2);return{start:P[0],end:P[1],hover:p,isSelected:g}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model,p=s.getArrowStyle().offset,g=s.pointsList.map(function(b){return{x:b.x,y:b.y}});return Kf(g,p)}}])&&qP(e.prototype,n),c}(pp);function Mm(t){return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function QP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function km(t,e){return km=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},km(t,e)}function nA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hh(t);if(e){var c=Hh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return rA(this,n)}}function rA(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(t)}var oA=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&km(s,p)})(c,t);var e,n,r=nA(c);function c(){return eA(this,c),r.apply(this,arguments)}return e=c,n=[{key:"getArrowAttributes",value:function(){var s=this.props,p=s.arrowInfo,g=s.style,b=p.start,x=p.end,P={start:b,end:x,offset:g.offset,verticalLength:g.verticalLength,type:"end"},D=_u(P),L=D.leftX,V=D.leftY,ee=D.rightX,ie=D.rightY;return function(me){for(var ge=1;ge<arguments.length;ge++){var xe=arguments[ge]!=null?arguments[ge]:{};ge%2?g1(Object(xe),!0).forEach(function(Re){QP(me,Re,xe[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(xe)):g1(Object(xe)).forEach(function(Re){Object.defineProperty(me,Re,Object.getOwnPropertyDescriptor(xe,Re))})}return me}({d:"M".concat(L," ").concat(V," L").concat(x.x," ").concat(x.y," L").concat(ee," ").concat(ie," z")},g)}},{key:"getShape",value:function(){var s=this.getArrowAttributes(),p=s.d,g=s.strokeWidth,b=s.stroke,x=s.fill;return Object(pe.g)(dp,{d:p,fill:x,strokeWidth:g,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&tA(e.prototype,n),c}(pe.a),m1=function(t,e){return Ee(t,e)},iA=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Tm=function(){return ht.a.Date.now()},aA=Math.max,uA=Math.min,sA=function(t,e,n){var r,c,s,p,g,b,x=0,P=!1,D=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function V(Re){var nt=r,et=c;return r=c=void 0,x=Re,p=t.apply(et,nt)}function ee(Re){return x=Re,g=setTimeout(me,e),P?V(Re):p}function ie(Re){var nt=Re-b;return b===void 0||nt>=e||nt<0||D&&Re-x>=s}function me(){var Re=Tm();if(ie(Re))return ge(Re);g=setTimeout(me,function(nt){var et=e-(nt-b);return D?uA(et,s-(nt-x)):et}(Re))}function ge(Re){return g=void 0,L&&r?V(Re):(r=c=void 0,p)}function xe(){var Re=Tm(),nt=ie(Re);if(r=arguments,c=this,b=Re,nt){if(g===void 0)return ee(b);if(D)return clearTimeout(g),g=setTimeout(me,e),V(b)}return g===void 0&&(g=setTimeout(me,e)),p}return e=Nc(e)||0,Fn(n)&&(P=!!n.leading,s=(D="maxWait"in n)?aA(Nc(n.maxWait)||0,e):s,L="trailing"in n?!!n.trailing:L),xe.cancel=function(){g!==void 0&&clearTimeout(g),x=0,r=b=c=g=void 0},xe.flush=function(){return g===void 0?p:ge(Tm())},xe},cA=o(172);function lA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b1,_1,O1,fA=function(){function t(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),Tu(this,"undos",[]),Tu(this,"redos",[]),Tu(this,"callbacks",[]),Tu(this,"stopWatch",null),Tu(this,"curData",null),Tu(this,"maxSize",50),Tu(this,"waitTime",100),Tu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){m1(iA(this.undos),r)||(this.undos.push(r),m1(this.curData,r)||(this.redos=[]),this.eventCenter.emit(yt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var c=this.undos.pop();return this.curData=wn(c),c}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=wn(r),r}}},{key:"watch",value:function(r){var c=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(cA.a)(r,sA(function(){var s=r.modelToHistoryData();s&&c.add(s)},this.waitTime))}}])&&lA(e.prototype,n),t}();function Nm(t){return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function pA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||function(n,r){if(n){if(typeof n=="string")return w1(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return w1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){Ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dm(t,e){return Dm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dm(t,e)}function dA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xh(t);if(e){var c=Xh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return hA(this,n)}}function hA(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hl(t)}function hl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xh(t)}function Ws(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S1,j1,P1,Cm=Bi((O1=_1=function(t){(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&Dm(p,g)})(s,t);var e,n,r,c=dA(s);function s(){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),Ws(hl(p=c.call(this)),"ref",Object(pe.f)()),Ws(hl(p),"__prevText",{type:"",text:"",id:""}),Ws(hl(p),"keyupHandler",function(g){var b=p.props.graphModel.textEditElement;g.key==="Enter"&&g.altKey&&b.setElementState(0)}),Ws(hl(p),"inputHandler",function(g){var b=g.target.innerText,x=p.props.graphModel.textEditElement;p.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Ws(hl(p),"keydownHandler",function(g){g.stopPropagation()}),p.state={style:{left:0,top:0}},p}return e=s,r=[{key:"getDerivedStateFromProps",value:function(p){var g,b=p.graphModel,x=b.transformModel,P=b.theme,D=P.inputText,L=b.textEditElement;if(L){var V;if((V=L.text)===null||V===void 0||!V.value)if(L.BaseType===nr.EDGE){var ee=(L=L).text,ie=L.textPosition,me=ie.x,ge=ie.y;ee.x=me,ee.y=ge,L.setText(ee)}else L=L;var xe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(L.BaseType===nr.EDGE){var Re=P.edgeText,nt=Re.overflowMode,et=Re.lineHeight,Ot=Re.wrapPadding,Qe=Re.textWidth;Qe&&nt==="autoWrap"&&(g=Us(Us({},xe),{},{width:Qe,minWidth:Qe,lineHeight:et,padding:Ot}))}else if(L.BaseType===nr.NODE){var gt=P.nodeText,it=gt.overflowMode,nn=gt.lineHeight,sn=gt.wrapPadding,Lt=gt.textWidth,hn=L,or=hn.width,ir=hn.modelType,Yr=hn.textWidth||Lt||or;(ir!==Jt.TEXT_NODE&&it==="autoWrap"||ir===Jt.TEXT_NODE&&Lt)&&(g=Us(Us({},xe),{},{width:Yr,minWidth:Yr,lineHeight:nn,padding:sn}))}var $o=L.text,Ho=$o.x,fa=$o.y,Gs=pA(x.CanvasPointToHtmlPoint([Ho,fa]),2);return{style:Us(Us({left:Gs[0],top:Gs[1]},g),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var p=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var g=this.__prevText,b=g.text,x=g.id;p.updateText(x,b),p.eventCenter.emit(yt.TEXT_UPDATE,Us({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(p){if(window.getSelection!==void 0&&document.createRange!==void 0){var g=document.createRange();g.selectNodeContents(p),g.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(g)}}},{key:"render",value:function(){var p,g=this.props.graphModel.textEditElement,b=this.state.style;return g?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:g.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(p=g.text)===null||p===void 0?void 0:p.value):null}}])&&E1(e.prototype,n),r&&E1(e,r),s}(pe.a),Ws(_1,"toolName","textEdit"),b1=O1))||b1,yA=function(t){return t.modelType===Jt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,c=(n.x+r.x)/2,s=(n.y+r.y)/2,p=Math.abs(n.x-r.x)+10,g=Math.abs(n.y-r.y)+10;return{x:c-p/2,y:s-g/2,x1:c+p/2,y1:s+g/2}}(t):t.modelType===Jt.POLYLINE_EDGE?function(e){var n=e.points,r=Ti(n),c=Ma(r,8),s=c.x,p=c.y,g=c.width,b=c.height;return{x:s-g/2,y:p-b/2,x1:s+g/2,y1:p+b/2}}(t):t.modelType===Jt.BEZIER_EDGE?function(e){var n=e.path,r=js(n),c=Ma(r,8),s=c.x,p=c.y,g=c.width,b=c.height;return{x:s-g/2,y:p-b/2,x1:s+g/2,y1:p+b/2}}(t):void 0};function Rm(t){return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function A1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,p,g=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(g.push(s.value),!r||g.length!==r);b=!0);}catch(P){x=!0,p=P}finally{try{b||c.return==null||c.return()}finally{if(x)throw p}}return g}}(t,e)||M1(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vA(t){return function(e){if(Array.isArray(e))return Im(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||M1(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M1(t,e){if(t){if(typeof t=="string")return Im(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Im(t,e):void 0}}function Im(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lm(t,e){return Lm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lm(t,e)}function mA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Vh(t);if(e){var c=Vh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return bA(this,n)}}function bA(t,e){if(e&&(Rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yl(t)}function yl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vh(t)}function vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zm=Bi((P1=j1=function(t){(function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),p&&Lm(s,p)})(c,t);var e,n,r=mA(c);function c(s){var p;(function(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")})(this,c),vl(yl(p=r.call(this)),"stepDrag",void 0),vl(yl(p),"handleMouseDown",function(P){p.stepDrag.handleMouseDown(P)}),vl(yl(p),"handleWheelEvent",function(P){var D,L;P.preventDefault();var V=P.deltaX,ee=P.deltaY,ie=P.clientX,me=P.clientY,ge=P.ctrlKey,xe=new WheelEvent("wheel",{deltaX:V,deltaY:ee,clientX:ie,clientY:me,ctrlKey:ge});(D=p.props.logicFlow.container)===null||D===void 0||(L=D.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||L===void 0||L.dispatchEvent(xe)}),vl(yl(p),"onDragging",function(P){var D=P.deltaX,L=P.deltaY,V=p.props.graphModel,ee=V.getSelectElements(!0);V.moveNodes(ee.nodes.map(function(ie){return ie.id}),D,L)}),vl(yl(p),"handleContextMenu",function(P){P.preventDefault();var D=p.props,L=D.graphModel,V=D.graphModel,ee=V.eventCenter,ie=V.selectElements,me=L.getPointByClient({x:P.clientX,y:P.clientY}),ge={nodes:[],edges:[]};vA(ie.values()).forEach(function(xe){xe.BaseType===nr.NODE&&ge.nodes.push(xe.getData()),xe.BaseType===nr.EDGE&&ge.edges.push(xe.getData())}),ee.emit(yt.SELECTION_CONTEXTMENU,{data:ge,e:P,position:me})});var g=s.graphModel,b=g.gridSize,x=g.eventCenter;return p.stepDrag=new jo({onDragging:p.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),p}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel,p=s.selectElements,g=s.transformModel;if(!(p.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;p.forEach(function(ie){var me={x:0,y:0,x1:0,y1:0};ie.BaseType===nr.NODE&&(me=function(ge){var xe=ge.x,Re=ge.y,nt=ge.width,et=ge.height;return{x:xe-nt/2,y:Re-et/2,x1:xe+nt/2,y1:Re+et/2}}(ie)),ie.BaseType===nr.EDGE&&(me=yA(ie)),b=Math.min(b,me.x),x=Math.min(x,me.y),P=Math.max(P,me.x1),D=Math.max(D,me.y1)});var L=A1(g.CanvasPointToHtmlPoint([b,x]),2);b=L[0],x=L[1];var V=A1(g.CanvasPointToHtmlPoint([P,D]),2);P=V[0],D=V[1];var ee={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(P-b+20,"px"),height:"".concat(D-x+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:ee,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&gA(e.prototype,n),c}(pe.a),vl(j1,"toolName","multipleSelect"),S1=P1))||S1;function _A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var OA=function(){function t(r){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Yh(this,"tools",void 0),Yh(this,"components",void 0),Yh(this,"toolMap",new Map),Yh(this,"instance",void 0),this.instance=r,this.isDisabledTool(Cm.toolName)||this.registerTool(Cm.toolName,Cm),this.isDisabledTool(zm.toolName)||this.registerTool(zm.toolName,zm);var c=r.graphModel;c.eventCenter.on("".concat(yt.GRAPH_TRANSFORM,",").concat(yt.NODE_CLICK,",").concat(yt.BLANK_CLICK," "),function(){var s=c.textEditElement,p=c.editConfigModel,g=p.edgeTextEdit,b=p.nodeTextEdit;(g||b)&&s&&c.textEditElement.setElementState(_n.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,c){this.toolMap.set(r,c)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&_A(e.prototype,n),t}(),wA=o(173),xA=o.n(wA);function EA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k1=function(){function t(r){(function(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Bm(this,"mousetrap",void 0),Bm(this,"options",void 0),Bm(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var c=r.lf;this.target=c.container,this.mousetrap=new xA.a(this.target),r.keyboard.enabled&&!c.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,c=this.options.keyboard.shortcuts;if(c)if(An(c))c.forEach(function(b){var x=b.keys,P=b.callback,D=b.action;return r.on(x,P,D)});else{var s=c.keys,p=c.callback,g=c.action;this.on(s,p,g)}}},{key:"on",value:function(r,c,s){this.mousetrap.bind(this.getKeys(r),c,s)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,c){this.mousetrap.unbind(this.getKeys(r),c)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var c=this;return(Array.isArray(r)?r:[r]).map(function(s){return c.formatKey(s)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&EA(e.prototype,n),t}(),SA=k1,Fa=null;function T1(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function N1(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var gl=40,Fm=40;function Um(t){return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(r){er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wm=Symbol("plugin register by Logicflow.use"),Gm=function(){function t(c){var s,p,g=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),er(this,"container",void 0),er(this,"width",void 0),er(this,"height",void 0),er(this,"graphModel",void 0),er(this,"history",void 0),er(this,"viewMap",new Map),er(this,"tool",void 0),er(this,"keyboard",void 0),er(this,"dnd",void 0),er(this,"options",void 0),er(this,"snaplineModel",void 0),er(this,"components",[]),er(this,"plugins",void 0),er(this,"extension",{}),er(this,"adapterIn",void 0),er(this,"adapterOut",void 0),er(this,"getView",function(b){return g.viewMap.get(b)}),c=k0(c),this.options=c,this.container=this.initContainer(c.container),this.plugins=c.plugins,this.graphModel=new TE(hp({},c)),this.tool=new OA(this),this.history=new fA(this.graphModel.eventCenter),this.dnd=new AS({lf:this}),this.keyboard=new SA({lf:this,keyboard:c.keyboard}),c.snapline!==!1&&(this.snaplineModel=new $_(this.graphModel),s=this.graphModel.eventCenter,p=this.snaplineModel,s.on("node:mousemove",function(b){var x=b.data;p.setNodeSnapLine(x)}),s.on("node:mouseup",function(){p.clearSnapline()})),function(b,x){var P=b.keyboard,D=P.options.keyboard;P.on(["cmd + c","ctrl + c"],function(){if(Fm=gl,!D.enabled||x.textEditElement)return!0;var L=b.options.guards,V=x.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(V)||V.nodes.length===0&&V.edges.length===0?(Fa=null,!0):((Fa=V).nodes.forEach(function(ee){return T1(ee,gl)}),Fa.edges.forEach(function(ee){return N1(ee,gl)}),!1)}),P.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(Fa&&(Fa.nodes||Fa.edges)){b.clearSelectElements();var L=b.addElements(Fa,Fm);if(!L)return!0;L.nodes.forEach(function(V){return b.selectElementById(V.id,!0)}),L.edges.forEach(function(V){return b.selectElementById(V.id,!0)}),Fa.nodes.forEach(function(V){return T1(V,gl)}),Fa.edges.forEach(function(V){return N1(V,gl)}),Fm+=gl}return!1}),P.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(b.undo(),!1)}),P.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(b.redo(),!1)}),P.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var L=x.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(V){return b.deleteEdge(V.id)}),L.nodes.forEach(function(V){return b.deleteNode(V.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(c.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(c,s){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof c=="string"){var g={BaseEdge:pp,BaseEdgeModel:Af,BaseNode:Ia,BaseNodeModel:Ra,RectNode:Cg,RectNodeModel:fg,CircleNode:zg,CircleNodeModel:Xv,PolygonNode:Gg,PolygonNodeModel:ug,TextNode:tm,TextNodeModel:yg,LineEdge:bm,LineEdgeModel:Xc,DiamondNode:Vg,DiamondNodeModel:Zv,PolylineEdge:Em,PolylineEdgeModel:So,BezierEdge:Am,BezierEdgeModel:Fv,EllipseNode:Jg,EllipseNodeModel:tg,HtmlNode:im,HtmlNodeModel:mg,h:pe.g,type:c};this.viewMap.forEach(function(L){var V=L.extendKey;V&&(g[V]=L)}),this.graphModel.modelMap.forEach(function(L){var V=L.extendKey;V&&(g[V]=L)});var b=s(g),x=b.view,P=b.model,D=x;p&&!D.isObervered&&(D.isObervered=!0,D=pt(D)),this.setView(c,D),this.graphModel.setModel(c,P)}else this.registerElement(c)}},{key:"registerElement",value:function(c){var s=c.view;c.isObserverView===!1||s.isObervered||(s.isObervered=!0,s=pt(s)),this.setView(c.type,s),this.graphModel.setModel(c.type,c.model)}},{key:"batchRegister",value:function(){var c=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(p){c.registerElement(p)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Cg,model:fg,type:"rect"}),this.registerElement({type:"circle",view:zg,model:Xv}),this.registerElement({type:"polygon",view:Gg,model:ug}),this.registerElement({type:"line",view:bm,model:Xc}),this.registerElement({type:"polyline",view:Em,model:So}),this.registerElement({type:"bezier",view:Am,model:Fv}),this.registerElement({type:"text",view:tm,model:yg}),this.registerElement({type:"ellipse",view:Jg,model:tg}),this.registerElement({type:"diamond",view:Vg,model:Zv}),this.registerElement({type:"html",view:im,model:mg})}},{key:"selectElementById",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(c,s),!s&&p&&this.graphModel.toFront(c)}},{key:"focusOn",value:function(c){var s=this.graphModel.transformModel,p=c.coordinate,g=c.id;if(!p){var b=this.getNodeModelById(g);b&&(p=b.getData());var x=this.getEdgeModelById(g);x&&(p=x.textPosition)}var P=p,D=P.x,L=P.y;s.focusOn(D,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(c){this.graphModel.setTheme(c)}},{key:"resize",value:function(c,s){this.graphModel.resize(c,s),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(c){this.graphModel.setDefaultEdgeType(c)}},{key:"updateText",value:function(c,s){this.graphModel.updateText(c,s)}},{key:"deleteElement",value:function(c){var s,p,g,b=this.getModelById(c);return!!b&&(p=(g=(er(s={},nr.NODE,this.deleteNode),er(s,nr.EDGE,this.deleteEdge),s)[b.BaseType])===null||g===void 0?void 0:g.call(this,c))!==null&&p!==void 0&&p}},{key:"getModelById",value:function(c){return this.graphModel.getElement(c)}},{key:"getDataById",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getData()}},{key:"changeNodeType",value:function(c,s){this.graphModel.changeNodeType(c,s)}},{key:"changeEdgeType",value:function(c,s){this.graphModel.changeEdgeType(c,s)}},{key:"getNodeEdges",value:function(c){return this.graphModel.getNodeEdges(c)}},{key:"addNode",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt.NODE_ADD,p=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(c,s,p)}},{key:"deleteNode",value:function(c){var s=this.graphModel.getNodeModelById(c);if(!s)return!1;var p=s.getData(),g=this.options.guards,b=!g||!g.beforeDelete||g.beforeDelete(p);return b&&this.graphModel.deleteNode(c),b}},{key:"cloneNode",value:function(c){var s=this.graphModel.getNodeModelById(c).getData(),p=this.options.guards;if(!p||!p.beforeClone||p.beforeClone(s))return this.graphModel.cloneNode(c)}},{key:"changeNodeId",value:function(c,s){return this.graphModel.changeNodeId(c,s)}},{key:"getNodeModelById",value:function(c){return this.graphModel.getNodeModelById(c)}},{key:"getNodeDataById",value:function(c){var s;return(s=this.graphModel.getNodeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"addEdge",value:function(c){return this.graphModel.addEdge(c)}},{key:"deleteEdge",value:function(c){var s=this.options.guards,p=this.graphModel.edgesMap[c];if(!p)return!1;var g=p.model.getData(),b=!s||!s.beforeDelete||s.beforeDelete(g);return b&&this.graphModel.deleteEdgeById(c),b}},{key:"deleteEdgeByNodeId",value:function(c){var s=c.sourceNodeId,p=c.targetNodeId;s&&p?this.graphModel.deleteEdgeBySourceAndTarget(s,p):s?this.graphModel.deleteEdgeBySource(s):p&&this.graphModel.deleteEdgeByTarget(p)}},{key:"changeEdgeId",value:function(c,s){return this.graphModel.changeEdgeId(c,s)}},{key:"getEdgeModelById",value:function(c){var s;return(s=this.graphModel.edgesMap[c])===null||s===void 0?void 0:s.model}},{key:"getEdgeModels",value:function(c){var s=this.graphModel.edges,p=c.sourceNodeId,g=c.targetNodeId;if(p&&g){var b=[];return s.forEach(function(D){D.sourceNodeId===p&&D.targetNodeId===g&&b.push(D)}),b}if(p){var x=[];return s.forEach(function(D){D.sourceNodeId===p&&x.push(D)}),x}if(g){var P=[];return s.forEach(function(D){D.targetNodeId===g&&P.push(D)}),P}return[]}},{key:"getEdgeDataById",value:function(c){var s;return(s=this.getEdgeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"getNodeIncomingEdge",value:function(c){return this.graphModel.getNodeIncomingEdge(c)}},{key:"getNodeOutgoingEdge",value:function(c){return this.graphModel.getNodeOutgoingEdge(c)}},{key:"getNodeIncomingNode",value:function(c){return this.graphModel.getNodeIncomingNode(c)}},{key:"getNodeOutgoingNode",value:function(c){return this.graphModel.getNodeOutgoingNode(c)}},{key:"editText",value:function(c){this.graphModel.editText(c)}},{key:"setProperties",value:function(c,s){var p;(p=this.graphModel.getElement(c))===null||p===void 0||p.setProperties(Dr(s))}},{key:"deleteProperty",value:function(c,s){var p;(p=this.graphModel.getElement(c))===null||p===void 0||p.deleteProperty(s)}},{key:"getProperties",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getProperties()}},{key:"toFront",value:function(c){this.graphModel.toFront(c)}},{key:"setElementZIndex",value:function(c,s){return this.graphModel.setElementZIndex(c,s)}},{key:"addElements",value:function(c){for(var s=this,p=c.nodes,g=c.edges,b={},x={nodes:[],edges:[]},P=0;P<p.length;P++){var D=p[P],L=D.id,V=this.addNode(D);if(!V)return;L&&(b[L]=V.id),x.nodes.push(V)}return g.forEach(function(ee){var ie=ee.sourceNodeId,me=ee.targetNodeId;b[ie]&&(ie=b[ie]),b[me]&&(me=b[me]);var ge=s.graphModel.addEdge(hp(hp({},ee),{},{sourceNodeId:ie,targetNodeId:me}));x.edges.push(ge)}),x}},{key:"getAreaElement",value:function(c,s){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],g=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(c,s,p,g,b).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(c)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var c=this.graphModel.modelToGraphData();if(this.adapterOut){for(var s=arguments.length,p=new Array(s),g=0;g<s;g++)p[g]=arguments[g];return this.adapterOut.apply(this,[c].concat(p))}return c}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(c){var s=this.graphModel,p=s.editConfigModel,g=s.transformModel;p.updateEditConfig(c),(c==null?void 0:c.stopMoveGraph)!==void 0&&g.updateTranslateLimits(c.stopMoveGraph),c!=null&&c.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(c,s){return this.graphModel.getPointByClient({x:c,y:s})}},{key:"undo",value:function(){if(this.history.undoAble()){var c=Dr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"redo",value:function(){if(this.history.redoAble()){var c=Dr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"zoom",value:function(c,s){return this.graphModel.transformModel.zoom(c,s)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(c){this.graphModel.transformModel.setZoomMiniSize(c)}},{key:"setZoomMaxSize",value:function(c){this.graphModel.transformModel.setZoomMaxSize(c)}},{key:"getTransform",value:function(){var c=this.graphModel.transformModel;return{SCALE_X:c.SCALE_X,SCALE_Y:c.SCALE_Y,TRANSLATE_X:c.TRANSLATE_X,TRANSLATE_Y:c.TRANSLATE_Y}}},{key:"translate",value:function(c,s){this.graphModel.transformModel.translate(c,s)}},{key:"resetTranslate",value:function(){var c=this.graphModel.transformModel,s=c.TRANSLATE_X,p=c.TRANSLATE_Y;this.translate(-s,-p)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(c,s){s===void 0&&(s=c),this.graphModel.fitView(c,s)}},{key:"openEdgeAnimation",value:function(c){this.graphModel.openEdgeAnimation(c)}},{key:"closeEdgeAnimation",value:function(c){this.graphModel.closeEdgeAnimation(c)}},{key:"on",value:function(c,s){this.graphModel.eventCenter.on(c,s)}},{key:"off",value:function(c,s){this.graphModel.eventCenter.off(c,s)}},{key:"once",value:function(c,s){this.graphModel.eventCenter.once(c,s)}},{key:"emit",value:function(c,s){this.graphModel.eventCenter.emit(c,s)}},{key:"initContainer",value:function(c){var s=document.createElement("div");return s.style.position="relative",s.style.width="100%",s.style.height="100%",c.innerHTML="",c.appendChild(s),s}},{key:"installPlugins",value:function(){var c,s=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=(c=this.plugins)!==null&&c!==void 0?c:t.extensions;g.forEach(function(b){var x=null,P=null;b[Wm]?(x=b.extension,P=b.props):x=b;var D=x.pluginName||x.name;p.indexOf(D)===-1&&s.installPlugin(x,P)})}},{key:"installPlugin",value:function(c,s){if(Um(c)==="object"){var p=c.install,g=c.render;return p&&p.call(c,this,t),g&&this.components.push(g.bind(c)),void(this.extension[c.pluginName]=c)}var b=c,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:s});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(c,s){this.graphModel.updateAttributes(c,s)}},{key:"createFakerNode",value:function(c){var s=this.graphModel.modelMap.get(c.type);if(s){var p=new s(hp(hp({},c),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(p),p}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(c){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(c)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(c,s){this.viewMap.set(c,s)}},{key:"renderRawData",value:function(c){this.graphModel.graphDataToModel(Dr(c)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(jS,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(yt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(c=this.adapterIn(c)),this.renderRawData(c)}}],r=[{key:"use",value:function(c,s){var p,g,b=c.pluginName;b||(b=c.name);var x=(p=this.extensions.get(b))===null||p===void 0?void 0:p.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(er(g={},Wm,Wm),er(g,"extension",c),er(g,"props",s),g))}}],n&&C1(e.prototype,n),r&&C1(e,r),t}();function Bi(t){return pt(t)}er(Gm,"extensions",new Map),l.default=Gm}])})})(ub,ub.exports);var Ve=ub.exports;const mp=wM(Ve);var m4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},i.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},i}(),b4=(globalThis==null?void 0:globalThis._ids)||new m4;function Cl(){return b4.next()}var Jx=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(i){Jx(a,i);function a(u,l){var o=this;return u.id||(u.id="Event_"+Cl()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=i.call(this,u,l)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedTargetRules=function(){var u=i.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(l),u},a.extendKey="StartEventModel",a})(Ve.CircleNodeModel);(function(i){Jx(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.extendKey="StartEventNode",a})(Ve.CircleNode);var Qx=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),sy=function(){return sy=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},sy.apply(this,arguments)};(function(i){Qx(a,i);function a(u,l){var o=this;return u.id||(u.id="Event_"+Cl()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=i.call(this,u,l)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedSourceRules=function(){var u=i.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(l),u},a.extendKey="EndEventModel",a})(Ve.CircleNodeModel);(function(i){Qx(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var u=this.props.model,l=u.getNodeStyle(),o=u.x,d=u.y,h=u.r,m=i.prototype.getShape.call(this);return Ve.h("g",{},m,Ve.h("circle",sy(sy({},l),{cx:o,cy:d,r:h-5})))},a.extendKey="EndEventView",a})(Ve.CircleNode);var eE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Sp=function(){return Sp=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Sp.apply(this,arguments)};(function(i){eE(a,i);function a(u,l){var o=this;return u.id||(u.id="Gateway_"+Cl()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=i.call(this,u,l)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return a.extendKey="ExclusiveGatewayModel",a})(Ve.PolygonNodeModel);(function(i){eE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.points,v=u.getNodeStyle();return Ve.h("g",{transform:"matrix(1 0 0 1 "+(l-d/2)+" "+(o-h/2)+")"},Ve.h("polygon",Sp(Sp({},v),{x:l,y:o,points:m})),Ve.h("path",Sp({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},a.extendKey="ExclusiveGatewayNode",a})(Ve.PolygonNode);var tE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),cy=function(){return cy=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},cy.apply(this,arguments)};(function(i){tE(a,i);function a(u,l){var o=this;return u.id||(u.id="Activity_"+Cl()),o=i.call(this,u,l)||this,o}return a.extendKey="UserTaskModel",a})(Ve.RectNodeModel);(function(i){tE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.getNodeStyle();return Ve.h("svg",{x:l-d/2+5,y:o-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ve.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.radius,v=u.getNodeStyle();return Ve.h("g",{},[Ve.h("rect",cy(cy({},v),{x:l-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h})),this.getLabelShape()])},a.extendKey="UserTaskNode",a})(Ve.RectNode);var nE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),sb=function(){return sb=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},sb.apply(this,arguments)};(function(i){nE(a,i);function a(u,l){var o=this;return u.id||(u.id="Activity_"+Cl()),o=i.call(this,u,l)||this,o}return a.extendKey="ServiceTaskModel",a})(Ve.RectNodeModel);(function(i){nE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.getNodeStyle();return Ve.h("svg",{x:l-d/2+5,y:o-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ve.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.radius,v=u.getNodeStyle();return Ve.h("g",{},[Ve.h("rect",sb({x:l-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h},v)),this.getLabelShape()])},a.extendKey="ServiceTaskNode",a})(Ve.RectNode);var rE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(i){rE(a,i);function a(u,l){var o=this;return u.id||(u.id="Flow_"+Cl()),o=i.call(this,u,l)||this,o}return a.extendKey="SequenceFlowModel",a})(Ve.PolylineEdgeModel);(function(i){rE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.extendKey="SequenceFlowEdge",a})(Ve.PolylineEdge);var vO={width:40,height:40},gO={width:40,height:40},mO={width:40,height:40},bO={width:100,height:80},_O={width:100,height:80},_4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},i.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},i}(),O4=(globalThis==null?void 0:globalThis._ids)||new _4;function OO(){return O4.next()}function oE(i){return Object.prototype.toString.call(i)}function w4(i){return"  ".repeat(i)}function ly(i){var a=i;return oE(i)==="[object Object]"?(a={},Object.keys(i).forEach(function(u){var l=u;u.charAt(0)==="-"&&(l=u.substring(1)),a[l]=ly(i[u])})):Array.isArray(i)&&(a=[],i.forEach(function(u,l){a[l]=ly(u)})),a}function x4(i){var a=i;try{typeof a!="string"&&(a=JSON.parse(i))}catch{a=JSON.stringify(ly(i)).replace(/"/g,"'")}return a}var ml=`	
`;function ty(i,a,u){var l=w4(u),o="";if(a==="#text")return ml+l+i;if(a==="#cdata-section")return ml+l+"<![CDATA["+i+"]]>";if(a==="#comment")return ml+l+"<!--"+i+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+x4(i)+'"';if(Array.isArray(i))i.forEach(function(v){o+=ty(v,a,u+1)});else if(oE(i)==="[object Object]"){var d=Object.keys(i),h="",m="";o+=(u===0?"":ml+l)+"<"+a,d.forEach(function(v){v.charAt(0)==="-"?h+=ty(i[v],v,u+1):m+=ty(i[v],v,u+1)}),o+=h+(m!==""?">"+m+(ml+l)+"</"+a+">":" />")}else o+=ml+l+("<"+a+">"+i.toString()+"</"+a+">");return o}function E4(i){var a="";for(var u in i)a+=ty(i[u],u,0);return a}var go=function(){};go.ObjTree=function(){return this};go.ObjTree.VERSION="0.23";go.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;go.ObjTree.prototype.attr_prefix="-";go.ObjTree.prototype.parseXML=function(i){var a;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(i,"application/xml");if(!l)return;a=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(i),a=u.documentElement);if(a)return this.parseDOM(a)};go.ObjTree.prototype.parseHTTP=function(i,a,u){var l={};for(var o in a)l[o]=a[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var d=this,h=u,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=d.parseDOM(j.responseXML.documentElement)),h(S,j),m&&m(j)}}else l.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){l.uri=i;var E=new HTTP.Request(l);E&&(v=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(i,l);E&&(v=E.transport)}if(u)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};go.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(i);if(this.__force_array[i.nodeName]&&(u=[u]),i.nodeType!=11){var l={};l[i.nodeName]=u,u=l}return u}};go.ObjTree.prototype.parseElement=function(i){if(i.nodeType!=7){if(i.nodeType==3||i.nodeType==4||i.nodeType==8){var a=i.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:i.nodeValue}var u=null,l={};if(i.attributes&&i.attributes.length){u={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch{h=i.attributes[o].nodeValue}h&&(d=this.attr_prefix+d,typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var v=i.childNodes[o].nodeType;v==3||v==4||v==8||(m=!1)}if(m){u||(u="");for(var o=0;o<i.childNodes.length;o++)u+=i.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}}else u===null&&(u={});return u}};go.ObjTree.prototype.addNode=function(i,a,u,l){this.__force_array[a]?(u==1&&(i[a]=[]),i[a][i[a].length]=l):u==1?i[a]=l:u==2?i[a]=[i[a],l]:i[a][i[a].length]=l};go.ObjTree.prototype.writeXML=function(i){var a=this.hash_to_xml(null,i);return this.xmlDecl+a};go.ObjTree.prototype.hash_to_xml=function(i,a){var u=[],l=[];for(var o in a)if(a.hasOwnProperty(o)){var d=a[o];o.charAt(0)!=this.attr_prefix?typeof d>"u"||d==null?u[u.length]="<"+o+" />":typeof d=="object"&&d.constructor==Array?u[u.length]=this.array_to_xml(o,d):typeof d=="object"?u[u.length]=this.hash_to_xml(o,d):u[u.length]=this.scalar_to_xml(o,d):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=l.join(""),m=u.join("");return typeof i>"u"||i==null||(u.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};go.ObjTree.prototype.array_to_xml=function(i,a){for(var u=[],l=0;l<a.length;l++){var o=a[l];typeof o>"u"||o==null?u[u.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?u[u.length]=this.array_to_xml(i,o):typeof o=="object"?u[u.length]=this.hash_to_xml(i,o):u[u.length]=this.scalar_to_xml(i,o)}return u.join("")};go.ObjTree.prototype.scalar_to_xml=function(i,a){return i=="#text"?this.xml_escape(a):"<"+i+">"+this.xml_escape(a)+"</"+i+`>
`};go.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var S4=function(i){return new go.ObjTree().parseXML(i)},j4=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),cb=function(){return cb=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},cb.apply(this,arguments)},Ry=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},da;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow"})(da||(da={}));var iE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],wO=["properties","startPoint","endPoint","pointsList"];function xO(i){var a=i?wO.concat(i):wO;return function(u){function l(o){var d={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(h){return l(h)}):(Object.entries(o).forEach(function(h){var m=Ry(h,2),v=m[0],E=m[1];typeof E!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?d[v]=E:d["-"+v]=E:a.includes(v)?d["-"+v]=l(E):d[v]=l(E)}),d)}return l(u)}}function fy(i){var a={};return Object.entries(i).forEach(function(u){var l=Ry(u,2),o=l[0],d=l[1];o.indexOf("-")===0?a[o.substring(1)]=ly(d):typeof d=="string"?a[o]=d:Object.prototype.toString.call(d)==="[object Object]"?a[o]=fy(d):Array.isArray(d)?a[o]=d.map(function(h){return fy(h)}):a[o]=d}),a}function P4(i,a,u){var l=new Map;a.nodes.forEach(function(d){var h,m={"-id":d.id};if(!((h=d.text)===null||h===void 0)&&h.value&&(m["-name"]=d.text.value),d.properties){var v=xO(u)(d.properties);Object.assign(m,v)}l.set(d.id,m),i[d.type]?Array.isArray(i[d.type])?i[d.type].push(m):i[d.type]=[i[d.type],m]:i[d.type]=m});var o=a.edges.map(function(d){var h,m,v=l.get(d.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(d.id):v["bpmn:incoming"]=[v["bpmn:incoming"],d.id]:v["bpmn:incoming"]=d.id;var E={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((h=d.text)===null||h===void 0)&&h.value&&(E["-name"]=(m=d.text)===null||m===void 0?void 0:m.value),d.properties){var j=xO(u)(d.properties);Object.assign(E,j)}return E});a.edges.forEach(function(d){var h=l.get(d.sourceNodeId);h["bpmn:outgoing"]?Array.isArray(h["bpmn:outgoing"])?h["bpmn:outgoing"].push(d.id):h["bpmn:outgoing"]=[h["bpmn:outgoing"],d.id]:h["bpmn:outgoing"]=d.id}),i[da.FLOW]=o}function A4(i,a){i["bpmndi:BPMNEdge"]=a.edges.map(function(u){var l,o=u.id,d=u.pointsList.map(function(m){var v=m.x,E=m.y;return{"-x":v,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((l=u.text)===null||l===void 0)&&l.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=a.nodes.map(function(u){var l,o=u.id,d=100,h=80,m=u.x,v=u.y,E=Wu.shapeConfigMap.get(u.type);E&&(d=E.width,h=E.height),m-=d/2,v-=h/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":v,"-width":d,"-height":h}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}function M4(i){var a=[],u=[],l=i["bpmn:definitions"];if(l){var o=l["bpmn:process"];Object.keys(o).forEach(function(d){if(d.indexOf("bpmn:")===0){var h=o[d];if(d===da.FLOW){var m=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=T4(h,m)}else{var v=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];a=a.concat(k4(h,v,d))}}})}return{nodes:a,edges:u}}function k4(i,a,u){var l=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(a)?m=a.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=a;var v=EO(m,u,h);l.push(v)});else{var o=void 0;Array.isArray(a)?o=a.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=a;var d=EO(o,u,i);l.push(d)}return l}function EO(i,a,u){var l=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=u["-name"],h=Wu.shapeConfigMap.get(a);h&&(l+=h.width/2,o+=h.height/2);var m;Object.entries(u).forEach(function(S){var T=Ry(S,2),k=T[0],C=T[1];iE.indexOf(k)===-1&&(m||(m={}),m[k]=C)}),m&&(m=fy(m));var v;if(d&&(v={x:l,y:o,value:d},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=i["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(E["-x"])+Number(E["-width"])/2,v.y=Number(E["-y"])+Number(E["-height"])/2}var j={id:i["-bpmnElement"],type:a,x:l,y:o,properties:m};return v&&(j.text=v),j}function T4(i,a){var u=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(a)?d=a.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=a,u.push(SO(d,o))});else{var l=void 0;Array.isArray(a)?l=a.find(function(o){return o["-bpmnElement"]===i["-id"]}):l=a,u.push(SO(l,i))}return u}function SO(i,a){var u,l=a["-name"];if(l){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;l.split(`
`).forEach(function(v){d<v.length&&(d=v.length)}),u={value:l,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h;Object.entries(a).forEach(function(v){var E=Ry(v,2),j=E[0],S=E[1];iE.indexOf(j)===-1&&(h||(h={}),h[j]=S)}),h&&(h=fy(h));var m={id:a["-id"],type:da.FLOW,pointsList:i["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:h};return u&&(m.text=u),m}var Wu=function(){function i(a){var u=this,l=a.lf;this.adapterOut=function(o,d){var h=cb({},u.processAttributes);P4(h,o,d);var m={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};A4(m,o);var v=u.definitionAttributes;v["bpmn:process"]=h,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var E={"bpmn:definitions":v};return E},this.adapterIn=function(o){if(o)return M4(o)},l.adapterIn=function(o){return u.adapterIn(o)},l.adapterOut=function(o,d){return u.adapterOut(o,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+OO()},this.definitionAttributes={"-id":"Definitions_"+OO(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return i.prototype.setCustomShape=function(a,u){i.shapeConfigMap.set(a,u)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();Wu.shapeConfigMap.set(da.START,{width:vO.width,height:vO.height});Wu.shapeConfigMap.set(da.END,{width:gO.width,height:gO.height});Wu.shapeConfigMap.set(da.GATEWAY,{width:mO.width,height:mO.height});Wu.shapeConfigMap.set(da.SYSTEM,{width:bO.width,height:bO.height});Wu.shapeConfigMap.set(da.USER,{width:_O.width,height:_O.height});(function(i){j4(a,i);function a(u){var l=i.call(this,u)||this;l.adapterXmlIn=function(d){var h=S4(d);return l.adapterIn(h)},l.adapterXmlOut=function(d,h){var m=l.adapterOut(d,h);return E4(m)};var o=u.lf;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l}return a.pluginName="bpmnXmlAdapter",a})(Wu);var N4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},i.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},i}(),D4=(globalThis==null?void 0:globalThis._ids)||new N4;function C4(){return D4.next()}Ve.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Ve.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Ve.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Ve.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});Ve.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var Jb,xr,aE,Xs,jO,uE,lb,Qb,fb,pb,db={},sE=[],R4=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,e0=Array.isArray;function Cu(i,a){for(var u in a)i[u]=a[u];return i}function cE(i){var a=i.parentNode;a&&a.removeChild(i)}function jp(i,a,u){var l,o,d,h={};for(d in a)d=="key"?l=a[d]:d=="ref"?o=a[d]:h[d]=a[d];if(arguments.length>2&&(h.children=arguments.length>3?Jb.call(arguments,2):u),typeof i=="function"&&i.defaultProps!=null)for(d in i.defaultProps)h[d]===void 0&&(h[d]=i.defaultProps[d]);return ny(i,h,l,o,null)}function ny(i,a,u,l,o){var d={type:i,props:a,key:u,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++aE,__i:-1,__u:0};return o==null&&xr.vnode!=null&&xr.vnode(d),d}function t0(i){return i.children}function xl(i,a){this.props=i,this.context=a}function Ks(i,a){if(a==null)return i.__?Ks(i.__,i.__i+1):null;for(var u;a<i.__k.length;a++)if((u=i.__k[a])!=null&&u.__e!=null)return u.__e;return typeof i.type=="function"?Ks(i):null}function lE(i){var a,u;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,a=0;a<i.__k.length;a++)if((u=i.__k[a])!=null&&u.__e!=null){i.__e=i.__c.base=u.__e;break}return lE(i)}}function PO(i){(!i.__d&&(i.__d=!0)&&Xs.push(i)&&!py.__r++||jO!==xr.debounceRendering)&&((jO=xr.debounceRendering)||uE)(py)}function py(){var i,a,u,l,o,d,h,m;for(Xs.sort(lb);i=Xs.shift();)i.__d&&(a=Xs.length,l=void 0,d=(o=(u=i).__v).__e,h=[],m=[],u.__P&&((l=Cu({},o)).__v=o.__v+1,xr.vnode&&xr.vnode(l),dE(u.__P,l,o,u.__n,u.__P.namespaceURI,32&o.__u?[d]:null,h,d??Ks(o),!!(32&o.__u),m),l.__v=o.__v,l.__.__k[l.__i]=l,z4(h,l,m),l.__e!=d&&lE(l)),Xs.length>a&&Xs.sort(lb));py.__r=0}function fE(i,a,u,l,o,d,h,m,v,E,j){var S,T,k,C,N,I=l&&l.__k||sE,G=a.length;for(u.__d=v,I4(u,a,I),v=u.__d,S=0;S<G;S++)(k=u.__k[S])!=null&&typeof k!="boolean"&&typeof k!="function"&&(T=k.__i===-1?db:I[k.__i]||db,k.__i=S,dE(i,k,T,o,d,h,m,v,E,j),C=k.__e,k.ref&&T.ref!=k.ref&&(T.ref&&n0(T.ref,null,k),j.push(k.ref,k.__c||C,k)),N==null&&C!=null&&(N=C),65536&k.__u||T.__k===k.__k?v=pE(k,v,i):typeof k.type=="function"&&k.__d!==void 0?v=k.__d:C&&(v=C.nextSibling),k.__d=void 0,k.__u&=-196609);u.__d=v,u.__e=N}function I4(i,a,u){var l,o,d,h,m,v=a.length,E=u.length,j=E,S=0;for(i.__k=[],l=0;l<v;l++)h=l+S,(o=i.__k[l]=(o=a[l])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ny(null,o,null,null,null):e0(o)?ny(t0,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?ny(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=i,o.__b=i.__b+1,m=L4(o,u,h,j),o.__i=m,d=null,m!==-1&&(j--,(d=u[m])&&(d.__u|=131072)),d==null||d.__v===null?(m==-1&&S--,typeof o.type!="function"&&(o.__u|=65536)):m!==h&&(m==h-1?S--:m==h+1?S++:m>h?j>v-h?S+=m-h:S--:m<h&&(m==h-S?S-=m-h:S++),m!==l+S&&(o.__u|=65536))):(d=u[h])&&d.key==null&&d.__e&&!(131072&d.__u)&&(d.__e==i.__d&&(i.__d=Ks(d)),hb(d,d,!1),u[h]=null,j--);if(j)for(l=0;l<E;l++)(d=u[l])!=null&&!(131072&d.__u)&&(d.__e==i.__d&&(i.__d=Ks(d)),hb(d,d))}function pE(i,a,u){var l,o;if(typeof i.type=="function"){for(l=i.__k,o=0;l&&o<l.length;o++)l[o]&&(l[o].__=i,a=pE(l[o],a,u));return a}i.__e!=a&&(a&&i.type&&!u.contains(a)&&(a=Ks(i)),u.insertBefore(i.__e,a||null),a=i.__e);do a=a&&a.nextSibling;while(a!=null&&a.nodeType===8);return a}function L4(i,a,u,l){var o=i.key,d=i.type,h=u-1,m=u+1,v=a[u];if(v===null||v&&o==v.key&&d===v.type&&!(131072&v.__u))return u;if(l>(v!=null&&!(131072&v.__u)?1:0))for(;h>=0||m<a.length;){if(h>=0){if((v=a[h])&&!(131072&v.__u)&&o==v.key&&d===v.type)return h;h--}if(m<a.length){if((v=a[m])&&!(131072&v.__u)&&o==v.key&&d===v.type)return m;m++}}return-1}function AO(i,a,u){a[0]==="-"?i.setProperty(a,u??""):i[a]=u==null?"":typeof u!="number"||R4.test(a)?u:u+"px"}function Qh(i,a,u,l,o){var d;e:if(a==="style")if(typeof u=="string")i.style.cssText=u;else{if(typeof l=="string"&&(i.style.cssText=l=""),l)for(a in l)u&&a in u||AO(i.style,a,"");if(u)for(a in u)l&&u[a]===l[a]||AO(i.style,a,u[a])}else if(a[0]==="o"&&a[1]==="n")d=a!==(a=a.replace(/(PointerCapture)$|Capture$/i,"$1")),a=a.toLowerCase()in i||a==="onFocusOut"||a==="onFocusIn"?a.toLowerCase().slice(2):a.slice(2),i.l||(i.l={}),i.l[a+d]=u,u?l?u.u=l.u:(u.u=Qb,i.addEventListener(a,d?pb:fb,d)):i.removeEventListener(a,d?pb:fb,d);else{if(o=="http://www.w3.org/2000/svg")a=a.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(a!="width"&&a!="height"&&a!="href"&&a!="list"&&a!="form"&&a!="tabIndex"&&a!="download"&&a!="rowSpan"&&a!="colSpan"&&a!="role"&&a!="popover"&&a in i)try{i[a]=u??"";break e}catch{}typeof u=="function"||(u==null||u===!1&&a[4]!=="-"?i.removeAttribute(a):i.setAttribute(a,a=="popover"&&u==1?"":u))}}function MO(i){return function(a){if(this.l){var u=this.l[a.type+i];if(a.t==null)a.t=Qb++;else if(a.t<u.u)return;return u(xr.event?xr.event(a):a)}}}function dE(i,a,u,l,o,d,h,m,v,E){var j,S,T,k,C,N,I,G,W,K,re,oe,Z,J,H,F,X=a.type;if(a.constructor!==void 0)return null;128&u.__u&&(v=!!(32&u.__u),d=[m=a.__e=u.__e]),(j=xr.__b)&&j(a);e:if(typeof X=="function")try{if(G=a.props,W="prototype"in X&&X.prototype.render,K=(j=X.contextType)&&l[j.__c],re=j?K?K.props.value:j.__:l,u.__c?I=(S=a.__c=u.__c).__=S.__E:(W?a.__c=S=new X(G,re):(a.__c=S=new xl(G,re),S.constructor=X,S.render=F4),K&&K.sub(S),S.props=G,S.state||(S.state={}),S.context=re,S.__n=l,T=S.__d=!0,S.__h=[],S._sb=[]),W&&S.__s==null&&(S.__s=S.state),W&&X.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Cu({},S.__s)),Cu(S.__s,X.getDerivedStateFromProps(G,S.__s))),k=S.props,C=S.state,S.__v=a,T)W&&X.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),W&&S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(W&&X.getDerivedStateFromProps==null&&G!==k&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(G,re),!S.__e&&(S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(G,S.__s,re)===!1||a.__v===u.__v)){for(a.__v!==u.__v&&(S.props=G,S.state=S.__s,S.__d=!1),a.__e=u.__e,a.__k=u.__k,a.__k.forEach(function(Y){Y&&(Y.__=a)}),oe=0;oe<S._sb.length;oe++)S.__h.push(S._sb[oe]);S._sb=[],S.__h.length&&h.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(G,S.__s,re),W&&S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(k,C,N)})}if(S.context=re,S.props=G,S.__P=i,S.__e=!1,Z=xr.__r,J=0,W){for(S.state=S.__s,S.__d=!1,Z&&Z(a),j=S.render(S.props,S.state,S.context),H=0;H<S._sb.length;H++)S.__h.push(S._sb[H]);S._sb=[]}else do S.__d=!1,Z&&Z(a),j=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++J<25);S.state=S.__s,S.getChildContext!=null&&(l=Cu(Cu({},l),S.getChildContext())),W&&!T&&S.getSnapshotBeforeUpdate!=null&&(N=S.getSnapshotBeforeUpdate(k,C)),fE(i,e0(F=j!=null&&j.type===t0&&j.key==null?j.props.children:j)?F:[F],a,u,l,o,d,h,m,v,E),S.base=a.__e,a.__u&=-161,S.__h.length&&h.push(S),I&&(S.__E=S.__=null)}catch(Y){if(a.__v=null,v||d!=null){for(a.__u|=v?160:32;m&&m.nodeType===8&&m.nextSibling;)m=m.nextSibling;d[d.indexOf(m)]=null,a.__e=m}else a.__e=u.__e,a.__k=u.__k;xr.__e(Y,a,u)}else d==null&&a.__v===u.__v?(a.__k=u.__k,a.__e=u.__e):a.__e=B4(u.__e,a,u,l,o,d,h,v,E);(j=xr.diffed)&&j(a)}function z4(i,a,u){a.__d=void 0;for(var l=0;l<u.length;l++)n0(u[l],u[++l],u[++l]);xr.__c&&xr.__c(a,i),i.some(function(o){try{i=o.__h,o.__h=[],i.some(function(d){d.call(o)})}catch(d){xr.__e(d,o.__v)}})}function B4(i,a,u,l,o,d,h,m,v){var E,j,S,T,k,C,N,I=u.props,G=a.props,W=a.type;if(W==="svg"?o="http://www.w3.org/2000/svg":W==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),d!=null){for(E=0;E<d.length;E++)if((k=d[E])&&"setAttribute"in k==!!W&&(W?k.localName===W:k.nodeType===3)){i=k,d[E]=null;break}}if(i==null){if(W===null)return document.createTextNode(G);i=document.createElementNS(o,W,G.is&&G),d=null,m=!1}if(W===null)I===G||m&&i.data===G||(i.data=G);else{if(d=d&&Jb.call(i.childNodes),I=u.props||db,!m&&d!=null)for(I={},E=0;E<i.attributes.length;E++)I[(k=i.attributes[E]).name]=k.value;for(E in I)if(k=I[E],E!="children"){if(E=="dangerouslySetInnerHTML")S=k;else if(E!=="key"&&!(E in G)){if(E=="value"&&"defaultValue"in G||E=="checked"&&"defaultChecked"in G)continue;Qh(i,E,null,k,o)}}for(E in G)k=G[E],E=="children"?T=k:E=="dangerouslySetInnerHTML"?j=k:E=="value"?C=k:E=="checked"?N=k:E==="key"||m&&typeof k!="function"||I[E]===k||Qh(i,E,k,I[E],o);if(j)m||S&&(j.__html===S.__html||j.__html===i.innerHTML)||(i.innerHTML=j.__html),a.__k=[];else if(S&&(i.innerHTML=""),fE(i,e0(T)?T:[T],a,u,l,W==="foreignObject"?"http://www.w3.org/1999/xhtml":o,d,h,d?d[0]:u.__k&&Ks(u,0),m,v),d!=null)for(E=d.length;E--;)d[E]!=null&&cE(d[E]);m||(E="value",C!==void 0&&(C!==i[E]||W==="progress"&&!C||W==="option"&&C!==I[E])&&Qh(i,E,C,I[E],o),E="checked",N!==void 0&&N!==i[E]&&Qh(i,E,N,I[E],o))}return i}function n0(i,a,u){try{if(typeof i=="function"){var l=typeof i.__u=="function";l&&i.__u(),l&&a==null||(i.__u=i(a))}else i.current=a}catch(o){xr.__e(o,u)}}function hb(i,a,u){var l,o;if(xr.unmount&&xr.unmount(i),(l=i.ref)&&(l.current&&l.current!==i.__e||n0(l,null,a)),(l=i.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(d){xr.__e(d,a)}l.base=l.__P=null}if(l=i.__k)for(o=0;o<l.length;o++)l[o]&&hb(l[o],a,u||typeof i.type!="function");u||i.__e==null||cE(i.__e),i.__c=i.__=i.__e=i.__d=void 0}function F4(i,a,u){return this.constructor(i,u)}Jb=sE.slice,xr={__e:function(i,a,u,l){for(var o,d,h;a=a.__;)if((o=a.__c)&&!o.__)try{if((d=o.constructor)&&d.getDerivedStateFromError!=null&&(o.setState(d.getDerivedStateFromError(i)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(i,l||{}),h=o.__d),h)return o.__E=o}catch(m){i=m}throw i}},aE=0,xl.prototype.setState=function(i,a){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Cu({},this.state),typeof i=="function"&&(i=i(Cu({},u),this.props)),i&&Cu(u,i),i!=null&&this.__v&&(a&&this._sb.push(a),PO(this))},xl.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),PO(this))},xl.prototype.render=t0,Xs=[],uE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,lb=function(i,a){return i.__v.__b-a.__v.__b},py.__r=0,Qb=0,fb=MO(!1),pb=MO(!0);var Pp=function(){return Pp=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Pp.apply(this,arguments)};function r0(i){var a=i.x,u=i.y,l=i.width,o=i.height,d=i.radius,h=i.className,m=a-l/2,v=u-o/2,E=Pp(Pp({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},i),{x:m,y:v});return Ve.h("rect",Pp({},E))}r0.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var _l;(function(i){i.NODE="node",i.CIRCLE_NODE="circle-node",i.POLYGON_NODE="polygon-node",i.RECT_NODE="rect-node",i.HTML_NODE="html-node",i.TEXT_NODE="text-node",i.ELLIPSE_NODE="ellipse-node",i.DIAMOND_NODE="diamond-node",i.EDGE="edge",i.LINE_EDGE="line-edge",i.POLYLINE_EDGE="polyline-edge",i.BEZIER_EDGE="bezier-edge",i.GRAPH="graph"})(_l||(_l={}));var U4=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Vs=function(){return Vs=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Vs.apply(this,arguments)},W4=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},G4=Ve.LogicFlowUtil.StepDrag,$4=function(i){U4(a,i);function a(u){var l=i.call(this)||this;return l.updatePosition=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel,v=m.x,E=m.y;l.nodeModel.x=v+d/2,l.nodeModel.y=E+h/2,l.nodeModel.moveText(d/2,h/2)},l.getResize=function(o){var d=o.index,h=o.deltaX,m=o.deltaY,v=o.width,E=o.height,j=o.PCTResizeInfo,S=o.pct,T=S===void 0?1:S,k=o.freezeWidth,C=k===void 0?!1:k,N=o.freezeHeight,I=N===void 0?!1:N,G={width:v,height:E,deltaX:h,deltaY:m};if(j){var W=4,K=0,re=0;switch(d){case 0:re=(h*-1-m)/W;break;case 1:re=(h-m)/W;break;case 2:re=(h+m)/W;break;case 3:re=(h*-1+m)/W;break}re!==0&&(K=Math.round(re/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+K,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+K,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var oe=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),Z=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(d){case 0:h=v-oe,m=E-Z;break;case 1:h=oe-v,m=E-Z;break;case 2:h=oe-v,m=Z-E;break;case 3:h=v-oe,m=Z-E;break}return G.width=oe,G.height=Z,G.deltaX=h/T,G.deltaY=m/T,G}switch(d){case 0:G.width=C?v:v-h*T,G.height=I?E:E-m*T;break;case 1:G.width=C?v:v+h*T,G.height=I?E:E-m*T;break;case 2:G.width=C?v:v+h*T,G.height=I?E:E+m*T;break;case 3:G.width=C?v:v-h*T,G.height=I?E:E+m*T;break}return G},l.updateEdgePointByAnchors=function(){var o=l.nodeModel,d=o.id,h=o.anchors,m=l.getNodeEdges(d);m.sourceEdges.forEach(function(v){var E=h.find(function(j){return j.id===v.sourceAnchorId});v.updateStartPoint({x:E.x,y:E.y})}),m.targetEdges.forEach(function(v){var E=h.find(function(j){return j.id===v.targetAnchorId});v.updateEndPoint({x:E.x,y:E.y})})},l.updateRect=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel,v=m.id,E=m.x,j=m.y,S=m.width,T=m.height,k=m.radius,C=m.PCTResizeInfo,N=l.nodeModel,I=N.minWidth,G=N.minHeight,W=N.maxWidth,K=N.maxHeight,re=l.index,oe=I===W,Z=G===K,J=l.getResize({index:re,deltaX:d,deltaY:h,width:S,height:T,PCTResizeInfo:C,pct:1,freezeWidth:oe,freezeHeight:Z});if(J.width<I||J.width>W||J.height<G||J.height>K){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:oe?0:J.deltaX,deltaY:Z?0:J.deltaY}),l.nodeModel.width=J.width,l.nodeModel.height=J.height,l.nodeModel.setProperties({nodeSize:{width:J.width,height:J.height}}),l.getNodeEdges(v);var H={x:E,y:j,width:S,height:T,radius:k},F={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:k};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:H,afterNode:F})},l.updateEllipse=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel,v=m.id,E=m.rx,j=m.ry,S=m.x,T=m.y,k=m.PCTResizeInfo,C=l.index,N=l.nodeModel,I=N.minWidth,G=N.minHeight,W=N.maxWidth,K=N.maxHeight,re=I===W,oe=G===K,Z=E,J=j,H=l.getResize({index:C,deltaX:d,deltaY:h,width:Z,height:J,PCTResizeInfo:k,pct:1/2,freezeWidth:re,freezeHeight:oe});if(H.width<I/2||H.width>W/2||H.height<G/2||H.height>K/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:re?0:H.deltaX,deltaY:oe?0:H.deltaY}),l.nodeModel.rx=H.width,l.nodeModel.ry=H.height,l.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}}),l.getNodeEdges(v);var F={x:S,y:T},X={rx:H.width,ry:H.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:Vs(Vs({},F),{rx:E,ry:j}),afterNode:X})},l.updateDiamond=function(o){var d=o.deltaX,h=o.deltaY,m=l.nodeModel;m.id;var v=m.rx,E=m.ry,j=m.x,S=m.y,T=m.PCTResizeInfo,k=l.index,C=l.nodeModel,N=C.minWidth,I=C.minHeight,G=C.maxWidth,W=C.maxHeight,K=N===G,re=I===W,oe=v,Z=E,J=l.getResize({index:k,deltaX:d,deltaY:h,width:oe,height:Z,PCTResizeInfo:T,pct:1/2,freezeWidth:K,freezeHeight:re});if(J.width<N/2||J.width>G/2||J.height<I/2||J.height>W/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:K?0:J.deltaX,deltaY:re?0:J.deltaY}),l.nodeModel.rx=J.width,l.nodeModel.ry=J.height,l.nodeModel.setProperties({nodeSize:{rx:J.width,ry:J.height}});var H={x:j,y:S,rx:v,ry:E},F={rx:J.width,ry:J.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:H,afterNode:F})},l.eventEmit=function(o){var d=o.beforeNode,h=o.afterNode,m=l.nodeModel,v=m.id,E=m.modelType,j=m.type,S=Vs({id:v,modelType:E,type:j},d),T=Vs({id:v,modelType:E,type:j},h);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:S,newNodeSize:T})},l.onDragging=function(o){var d,h=o.deltaX,m=o.deltaY,v=l.graphModel.transformModel,E=l.nodeModel.modelType;d=W4(v.fixDeltaXY(h,m),2),h=d[0],m=d[1],E===_l.RECT_NODE||E===_l.HTML_NODE?l.updateRect({deltaX:h,deltaY:m}):E===_l.ELLIPSE_NODE?l.updateEllipse({deltaX:h,deltaY:m}):E===_l.DIAMOND_NODE&&l.updateDiamond({deltaX:h,deltaY:m})},l.onDragEnd=function(){var o=l.graphModel.gridSize,d=o===void 0?1:o,h=d*Math.round(l.nodeModel.x/d),m=d*Math.round(l.nodeModel.y/d);l.nodeModel.moveTo(h,m),l.updateEdgePointByAnchors()},l.index=u.index,l.nodeModel=u.model,l.graphModel=u.graphModel,l.state={},l.dragHandler=new G4({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return a.prototype.getNodeEdges=function(u){for(var l=this.graphModel,o=l.edges,d=[],h=[],m=0;m<o.length;m++){var v=o[m];v.sourceNodeId===u?d.push(v):o[m].targetNodeId===u&&h.push(v)}return{sourceEdges:d,targetEdges:h}},a.prototype.render=function(){var u=this.props,l=u.x,o=u.y,d=u.index,h=u.model,m=h.getControlPointStyle();return jp("g",{className:"lf-resize-control-"+d},jp(r0,Vs({className:"lf-node-control"},{x:l,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},a}(xl),H4=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),dy=function(){return dy=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},dy.apply(this,arguments)},Iy=function(i){H4(a,i);function a(){var u=i.call(this)||this;return u.state={},u}return a.prototype.getResizeControl=function(){var u=this.props,l=u.model,o=u.graphModel,d=l.x,h=l.y,m=l.width,v=l.height,E={minX:d-m/2,minY:h-v/2,maxX:d+m/2,maxY:h+v/2},j=E.minX,S=E.minY,T=E.maxX,k=E.maxY,C=[{x:j,y:S},{x:T,y:S},{x:T,y:k},{x:j,y:k}];return C.map(function(N,I){return jp($4,dy({index:I},N,{model:l,graphModel:o}))})},a.prototype.getGroupSolid=function(){var u=this.props.model,l=u.x,o=u.y,d=u.width,h=u.height,m=u.getResizeOutlineStyle();return jp(r0,dy({fill:"none"},m,{x:l,y:o,width:d,height:h}))},a.prototype.render=function(){return jp("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},a}(xl),hE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),X4=function(i){hE(a,i);function a(u,l){var o=i.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.resize=function(u,l){console.log(u,l)},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a}(Ve.RectNodeModel),V4=function(i){hE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ve.h(Iy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a}(Ve.RectNode),yE={type:"rect",view:V4,model:X4},vE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(i){vE(a,i);function a(u,l){var o=i.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Ve.EllipseNodeModel);(function(i){vE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ve.h(Iy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model,o=u.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),l.isSelected&&!o?this.getControlGroup():"")},a})(Ve.EllipseNode);var yb=function(){return yb=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},yb.apply(this,arguments)};function Y4(i){var a=i.fillOpacity,u=a===void 0?1:a,l=i.strokeWidth,o=l===void 0?1:l,d=i.strokeOpacity,h=d===void 0?1:d,m=i.fill,v=m===void 0?"transparent":m,E=i.stroke,j=E===void 0?"#000":E,S=i.points,T=i.className,k=T===void 0?"lf-basic-shape":T,C={fill:v,fillOpacity:u,strokeWidth:o,stroke:j,strokeOpacity:h,points:"",className:k};return C.points=S.map(function(N){return N.join(",")}).join(" "),Ve.h("polygon",yb({},C))}var gE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),vb=function(){return vb=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},vb.apply(this,arguments)};(function(i){gE(a,i);function a(u,l){var o=i.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Ve.DiamondNodeModel);(function(i){gE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ve.h(Iy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){var u=this.props.model,l=u.points,o=u.getNodeStyle();return Ve.h("g",null,Ve.h(Y4,vb({},o,{points:l})))},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a})(Ve.DiamondNode);var mE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(i){mE(a,i);function a(u,l){var o=i.call(this,u,l)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return a.prototype.initNodeData=function(u){i.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=i.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},a})(Ve.HtmlNodeModel);(function(i){mE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return Ve.h(Iy,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a})(Ve.HtmlNode);var bE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),hy=function(){return hy=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},hy.apply(this,arguments)},K4=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},q4=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(K4(arguments[a]));return i},kO=500,TO=300,Z4=-1e4;(function(i){bE(a,i);function a(){var u=i!==null&&i.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=kO,u.unfoldedHight=TO,u.childrenLastFoldStatus={},u}return a.prototype.initNodeData=function(u){var l=this;i.prototype.initNodeData.call(this,u);var o=[];Array.isArray(u.children)&&(o=u.children),this.children=new Set(o),this.width=kO,this.height=TO,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=Z4,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},a.prototype.getResizeOutlineStyle=function(){var u=i.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},a.prototype.foldGroup=function(u){var l=this;if(u!==this.isFolded){this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var h=l.graphModel.getElement(d),m=h.isFolded;if(h.isGroup&&!h.isFolded&&h.foldGroup(u),h.isGroup&&!u){var v=l.childrenLastFoldStatus[d];v!==void 0&&v!==h.isFolded&&h.foldGroup(v)}l.childrenLastFoldStatus[d]=m,h.visible=!u,o=o.concat(h.incoming.edges.concat(h.outgoing.edges))}),this.foldEdge(u,o)}},a.prototype.getAnchorStyle=function(u){var l=i.prototype.getAnchorStyle.call(this,u);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},a.prototype.foldEdge=function(u,l){var o=this;l.forEach(function(d,h){var m=d.id,v=d.sourceNodeId,E=d.targetNodeId,j=d.startPoint,S=d.endPoint,T=d.type,k=d.text,C=d.getProperties(),N={id:m+"__"+h,sourceNodeId:v,targetNodeId:E,startPoint:j,endPoint:S,type:T,properties:C,text:k==null?void 0:k.value};d.virtual&&o.graphModel.deleteEdgeById(d.id);var I=o.graphModel.group.getNodeGroup(E);I||(I=o.graphModel.getNodeModelById(E));var G=o.graphModel.group.getNodeGroup(v);G||(G=o.graphModel.getNodeModelById(v)),u&&d.visible!==!1&&(o.children.has(v)||o.id===v?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(I.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(N),d.visible=!1),!u&&d.visible===!1&&(I&&I.isGroup&&I.isFolded?(N.targetNodeId=I.id,N.endPoint=void 0,o.createVirtualEdge(N)):G&&G.isGroup&&G.isFolded?(N.sourceNodeId=G.id,N.startPoint=void 0,o.createVirtualEdge(N)):d.visible=!0)})},a.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var l=this.graphModel.addEdge(u);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},a.prototype.isInRange=function(u){var l=u.x1,o=u.y1,d=u.x2,h=u.y2;return l>=this.x-this.width/2&&d<=this.x+this.width/2&&o>=this.y-this.height/2&&h<=this.y+this.height/2},a.prototype.isAllowMoveTo=function(u){var l=u.x1,o=u.y1,d=u.x2,h=u.y2;return{x:l>=this.x-this.width/2&&d<=this.x+this.width/2,y:o>=this.y-this.height/2&&h<=this.y+this.height/2}},a.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},a.prototype.addChild=function(u){this.children.add(u),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},a.prototype.removeChild=function(u){this.children.delete(u),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},a.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},a.prototype.getData=function(){var u=this,l=i.prototype.getData.call(this);l.children=[],this.children.forEach(function(d){var h=u.graphModel.getNodeModelById(d);h&&!h.virtual&&l.children.push(d)});var o=l.properties;return delete o.groupAddable,delete o.isFolded,l},a.prototype.getHistoryData=function(){var u=i.prototype.getData.call(this);u.children=q4(this.children),u.isGroup=!0;var l=u.properties;return delete l.groupAddable,l.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},a.prototype.isAllowAppendIn=function(u){return!0},a.prototype.toBack=function(){this.zIndex--},a})(yE.model);(function(i){bE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props.model,l=u.resizable,o=u.properties;return l&&!o.isFolded?i.prototype.getControlGroup.call(this):null},a.prototype.getAddableShape=function(){var u=this.props.model,l=u.width,o=u.height,d=u.x,h=u.y,m=u.radius,v=u.properties;if(!v.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),S=l+E+8,T=o+E+8;return Ve.h("rect",hy(hy({},j),{width:S,height:T,x:d-S/2,y:h-T/2,rx:m,ry:m}))},a.prototype.getFoldIcon=function(){var u=this.props.model,l=u.x-u.width/2+5,o=u.y-u.height/2+5;if(!u.foldable)return null;var d=Ve.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" M"+(l+7)+","+(o+2)+" "+(l+7)+","+(o+10):"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" "});return Ve.h("g",{},[Ve.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),d])},a.prototype.getResizeShape=function(){return Ve.h("g",{},[this.getAddableShape(),i.prototype.getResizeShape.call(this),this.getFoldIcon()])},a})(yE.view);var NO=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Ap=function(){return Ap=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Ap.apply(this,arguments)};function J4(i){var a=function(l){NO(o,l);function o(d,h){var m=this;d.id||(d.id="Flow_"+C4());var v=Ap(Ap(Ap({},{}),d.properties),{isDefaultFlow:!1});return d.properties=v,m=l.call(this,d,h)||this,m}return o.extendKey="SequenceFlowModel",o}(Ve.PolylineEdgeModel),u=function(l){NO(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var d=this.props.model,h=d.properties.isDefaultFlow;return h?Ve.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Ve.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Ve.PolylineEdge);return{type:"bpmn:sequenceFlow",view:u,model:a}}J4();var DO={width:40,height:40},CO={width:40,height:40},RO={width:100,height:80},yy={width:100,height:80},IO={width:100,height:80},LO={width:100,height:80},zO={width:100,height:80},BO={width:100,height:80},FO={width:100,height:80},UO={width:100,height:80},mo=function(){};mo.ObjTree=function(){return this};mo.ObjTree.VERSION="0.23";mo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;mo.ObjTree.prototype.attr_prefix="-";mo.ObjTree.prototype.parseXML=function(i){var a;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(i,"application/xml");if(!l)return;a=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(i),a=u.documentElement);if(a){var o=this.parseDOM(a);return o}};mo.ObjTree.prototype.parseHTTP=function(i,a,u){var l={};for(var o in a)l[o]=a[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var d=this,h=u,m=l.onComplete;l.onComplete=function(j){var S;j&&j.responseXML&&j.responseXML.documentElement&&(S=d.parseDOM(j.responseXML.documentElement)),h(S,j),m&&m(j)}}else l.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){l.uri=i;var E=new HTTP.Request(l);E&&(v=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(i,l);E&&(v=E.transport)}if(u)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};mo.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(i);if(this.__force_array[i.nodeName]&&(u=[u]),i.nodeType!==11){var l={};l[i.nodeName]=u,u=l}return u}};mo.ObjTree.prototype.parseElement=function(i){if(i.nodeType!==7){if(i.nodeType===3||i.nodeType===4||i.nodeType===8){var a=i.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:i.nodeValue}var u=null,l={};if(i.attributes&&i.attributes.length){u={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch{h=i.attributes[o].nodeValue}h!=null&&(d=this.attr_prefix+d,typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;u&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var v=i.childNodes[o].nodeType;v===3||v===4||v===8||(m=!1)}if(m){u||(u="");for(var o=0;o<i.childNodes.length;o++)u+=i.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof l[d]>"u"&&(l[d]=0),l[d]++,this.addNode(u,d,l[d],h))}}}}else u===null&&(u={});return u}};mo.ObjTree.prototype.addNode=function(i,a,u,l){this.__force_array[a]?(u===1&&(i[a]=[]),i[a][i[a].length]=l):u===1?i[a]=l:u===2?i[a]=[i[a],l]:i[a][i[a].length]=l};mo.ObjTree.prototype.writeXML=function(i){var a=this.hash_to_xml(null,i);return this.xmlDecl+a};mo.ObjTree.prototype.hash_to_xml=function(i,a){var u=[],l=[];for(var o in a)if(a!=null&&a.hasOwnProperty(o)){var d=a[o];o.charAt(0)!==this.attr_prefix?typeof d>"u"||d==null?u[u.length]="<"+o+" />":typeof d=="object"&&d.constructor===Array?u[u.length]=this.array_to_xml(o,d):typeof d=="object"?u[u.length]=this.hash_to_xml(o,d):u[u.length]=this.scalar_to_xml(o,d):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=l.join(""),m=u.join("");return typeof i>"u"||i==null||(u.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};mo.ObjTree.prototype.array_to_xml=function(i,a){for(var u=[],l=0;l<a.length;l++){var o=a[l];typeof o>"u"||o==null?u[u.length]="<"+i+" />":typeof o=="object"&&o.constructor===Array?u[u.length]=this.array_to_xml(i,o):typeof o=="object"?u[u.length]=this.hash_to_xml(i,o):u[u.length]=this.scalar_to_xml(i,o)}return u.join("")};mo.ObjTree.prototype.scalar_to_xml=function(i,a){return i==="#text"?this.xml_escape(a):"<"+i+">"+this.xml_escape(a)+"</"+i+`>
`};mo.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Q4=function(i){return new mo.ObjTree().parseXML(i)};function _E(i){return Object.prototype.toString.call(i)}function WO(i){return"  ".repeat(i)}function vy(i){return _E(i)==="[object Object]"?Object.keys(i).reduce(function(a,u){var l=u;return u.charAt(0)==="-"&&(l=u.substring(1)),a[l]=vy(i[u]),a},{}):Array.isArray(i)?i.map(function(a){return vy(a)}):i}function eL(i){var a=i;try{typeof a!="string"&&(a=JSON.parse(i))}catch{a=JSON.stringify(vy(i)).replace(/"/g,"'")}return a}var GO=`	
`;function ry(i,a,u){var l=WO(u),o="",d=GO+l;if(a==="-json")return"";if(a==="#text")return d+i;if(a==="#cdata-section")return d+"<![CDATA["+i+"]]>";if(a==="#comment")return d+"<!--"+i+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+eL(i)+'"';if(Array.isArray(i))o+=i.map(function(E){return ry(E,a,u+1)}).join("");else if(_E(i)==="[object Object]"){var h=Object.keys(i),m="",v=i["-json"]?GO+WO(u+1)+i["-json"]:"";o+=(u===0?"":d)+"<"+a,h.forEach(function(E){E.charAt(0)==="-"?m+=ry(i[E],E,u+1):v+=ry(i[E],E,u+1)}),o+=m+(v!==""?">"+v+d+"</"+a+">":" />")}else o+=d+"<"+a+">"+i.toString()+"</"+a+">";return o}function tL(i){var a="";for(var u in i)a+=ry(i[u],u,0);return a}var nL=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),gb=function(){return gb=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},gb.apply(this,arguments)},$O=function(i,a){var u={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.indexOf(l)<0&&(u[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(i);o<l.length;o++)a.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(i,l[o])&&(u[l[o]]=i[l[o]]);return u},o0=function(i){var a=typeof Symbol=="function"&&Symbol.iterator,u=a&&i[a],l=0;if(u)return u.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},Rl=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},El=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(Rl(arguments[a]));return i},yo;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",i.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",i.BOUNDARY="bpmn:boundaryEvent",i.PARALLEL_GATEWAY="bpmn:parallelGateway",i.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",i.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow",i.SUBPROCESS="bpmn:subProcess"})(yo||(yo={}));var OE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],rL=["properties","startPoint","endPoint","pointsList"],gy={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},wE=function(i,a){var u=Object.keys(a||{});return u.forEach(function(l){if(i[l]){var o=a[l],d=o.in,h=o.out;d&&(i[l].in=d),h&&(i[l].out=h)}else i[l]=a[l]}),i},li={"bpmn:startEvent":{out:function(i){var a,u,l=i.properties;return((u=(a=li[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:intermediateCatchEvent":{out:function(i){var a,u,l=i.properties;return((u=(a=li[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:intermediateThrowEvent":{out:function(i){var a,u,l=i.properties;return((u=(a=li[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:boundaryEvent":{out:function(i){var a,u,l=i.properties;return((u=(a=li[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,i))||{}}},"bpmn:sequenceFlow":{out:function(i){var a=i.properties,u=a.expressionType,l=a.condition;return l?u==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(i){var a=i.properties,u=a.timerType,l=a.timerValue,o=a.definitionId,d=function(){return"<bpmn:"+u+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+u+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(u&&l?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(i,a){var u,l,o,d,h=i,m=a["-id"],v="",E="";try{for(var j=o0(Object.keys(a)),S=j.next();!S.done;S=j.next()){var T=S.value;T.includes("bpmn:")&&(o=Rl(T.split(":"),2),v=o[1],E=(d=a[T])===null||d===void 0?void 0:d["#text"])}}catch(k){u={error:k}}finally{try{S&&!S.done&&(l=j.return)&&l.call(j)}finally{if(u)throw u.error}}return{"-definitionId":m,"-definitionType":h,"-timerType":v,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(i,a){var u,l="",o="";return a["#cdata-section"]?(o="cdata",l=((u=/^\$\{(.*)\}$/g.exec(a["#cdata-section"]))===null||u===void 0?void 0:u[1])||""):a["#text"]&&(o="normal",l=a["#text"]),{"-condition":l,"-expressionType":o}}}};function oL(i){var a=i??{},u=a.retainedAttrsFields,l=a.excludeFields,o=a.transformer,d=new Set(El(rL,u||[])),h={in:new Set(El(gy.in,(l==null?void 0:l.in)||[])),out:new Set(El(gy.out,(l==null?void 0:l.out)||[]))};return li=wE(li,o),function(m){var v=m.nodes,E=m.edges;function j(S,T){var k,C,N;if((S==null?void 0:S.flag)!==1){var I;if((I=li[S.type])&&I.out){var G=I.out(S),W=Object.keys(G);W.length>0&&W.forEach(function(X){S[X]=G[X]})}S!=null&&S.children&&(S.children=S.children.map(function(X){var Y=v.find(function(Q){return Q.id===X})||E.find(function(Q){return Q.id===X});return Y||{}}));var K={};if(typeof S=="string")return S;if(Array.isArray(S))return S.map(function(X){return j(X,"")}).filter(function(X){return X!=null});try{for(var re=o0(Object.entries(S)),oe=re.next();!oe.done;oe=re.next()){var Z=Rl(oe.value,2),J=Z[0],H=Z[1];if(((N=H)===null||N===void 0?void 0:N.flag)===1)return;var F=[T,J].filter(function(X){return X}).join(".");h.out.has(F)||(typeof H!="object"?J.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(J)?K[J]=H:K["-"+J]=H:d.has(F)?K["-"+J]=j(H,F):K[J]=j(H,F))}}catch(X){k={error:X}}finally{try{oe&&!oe.done&&(C=re.return)&&C.call(re)}finally{if(k)throw k.error}}return K}}return j(m,"")}}function my(i){var a,u,l={};try{for(var o=o0(Object.entries(i)),d=o.next();!d.done;d=o.next()){var h=Rl(d.value,2),m=h[0],v=h[1];m.indexOf("-")===0?l[m.substring(1)]=vy(v):typeof v=="string"?l[m]=v:Object.prototype.toString.call(v)==="[object Object]"?l[m]=my(v):Array.isArray(v)?l[m]=v.map(function(E){return my(E)}):l[m]=v}}catch(E){a={error:E}}finally{try{d&&!d.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}return l}function iL(i,a,u){var l,o=new Map,d=oL(u)(a);d.nodes.forEach(function(m){var v=m["-id"],E=m["-type"],j=m.text,S=m.children,T=$O(m,["-id","-type","text","children"]),k={"-id":v};j!=null&&j["-value"]&&(k["-name"]=j["-value"]),T["-json"]&&(k["-json"]=T["-json"]),T["-properties"]&&Object.assign(k,T["-properties"]),S&&(k.children=S),i[E]||(i[E]=[]),i[E].push(k),o.set(v,k)});var h=d.edges.map(function(m){var v=m["-id"];m["-type"];var E=m["-sourceNodeId"],j=m["-targetNodeId"],S=m.text,T=$O(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),k=o.get(j);k["bpmn:incoming"]||(k["bpmn:incoming"]=[]),k["bpmn:incoming"].push(v);var C={"-id":v,"-sourceRef":E,"-targetRef":j};return S!=null&&S["-value"]&&(C["-name"]=S["-value"]),T["-json"]&&(C["-json"]=T["-json"]),T["-properties"]&&Object.assign(C,T["-properties"]),C});return a.edges.forEach(function(m){var v=m.sourceNodeId,E=m.id,j=o.get(v);j["bpmn:outgoing"]||(j["bpmn:outgoing"]=[]),j["bpmn:outgoing"].push(E)}),(l=i["bpmn:subProcess"])===null||l===void 0||l.forEach(function(m){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];m.children.forEach(function(N){var I,G=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(K){G[K]&&G[K].forEach(function(re){v[K].add(re)})});var W=(I=i[N["-type"]])===null||I===void 0?void 0:I.findIndex(function(K){return K["-id"]===N["-id"]});W>=0&&i[N["-type"]].splice(W,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(G)});var j=v["bpmn:incoming"],S=v["bpmn:outgoing"];S.forEach(function(N){j.has(N)&&E.push(N)});for(var T=function(N){var I=h.findIndex(function(G){return G["-id"]===E[N]});I>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(h[I]),h.splice(I,1)):N++,k=N},k,C=0;C<E.length;)T(C),C=k;delete m.children}),i[yo.FLOW]=h,i}function aL(i,a){i["bpmndi:BPMNEdge"]=a.edges.map(function(u){var l,o=u.id,d=u.pointsList.map(function(m){var v=m.x,E=m.y;return{"-x":v,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((l=u.text)===null||l===void 0)&&l.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=a.nodes.map(function(u){var l,o=u.id,d=100,h=80,m=u.x,v=u.y,E=ko.shapeConfigMap.get(u.type);E&&(d=E.width,h=E.height),m-=d/2,v-=h/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":v,"-width":d,"-height":h}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}var uL=["bpmn:incoming","bpmn:outgoing"];function sL(i,a){var u=[],l=[],o=new Map,d=a??{},h=d.transformer,m=d.excludeFields,v={in:new Set(El(gy.in,(m==null?void 0:m.in)||[])),out:new Set(El(gy.out,(m==null?void 0:m.out)||[]))};li=wE(li,h);var E=i["bpmn:definitions"];if(E){var j=E["bpmn:process"];(function(T,k){k.forEach(function(C){try{Object.keys(T).forEach(function(N){try{C(N)}catch(I){console.error(I)}})}catch(N){console.error(N)}})})(j,[function(T){function k(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(I){var G;I.indexOf("bpmn:")===0&&!uL.includes(I)&&(j[I]||(j[I]=[]),!Array.isArray(j[I])&&(j[I]=[j[I]]),Array.isArray(N[I])?(G=j[I]).push.apply(G,El(N[I])):j[I].push(N[I]),Array.isArray(N[I])?N[I].forEach(function(W){!I.includes("Flow")&&N["-children"].push(W["-id"])}):!I.includes("Flow")&&N["-children"].push(N[I]["-id"]),delete N[I])})}if(T==="bpmn:subProcess"){var C=j[T];Array.isArray(C)?C.forEach(function(N){T==="bpmn:subProcess"&&k(N)}):k(C)}},function(T){var k=function(N){Object.keys(N).forEach(function(I){var G,W;if(I.includes("bpmn:")){var K={};li[I]&&li[I].in?(K=(W=(G=li[I]).in)===null||W===void 0?void 0:W.call(G,I,U.cloneDeep(N[I])),delete N[I]):C(N[I]);var re=void 0;(re=Reflect.ownKeys(K)).length>0&&re.forEach(function(oe){Reflect.set(N,oe,K[oe])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(I){C(I)}):typeof N=="object"&&k(N)}C(j[T])},function(T){if(T.indexOf("bpmn:")===0){var k=j[T];if(T==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=lL(k,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(T==="bpmn:boundaryEvent"){var I=j[T],G=function(W){var K=W["-attachedToRef"],re=o.get(K);re["-boundaryEvents"]||(re["-boundaryEvents"]=[]),re["-boundaryEvents"].push(W["-id"])};Array.isArray(I)?I.forEach(function(W){G(W)}):G(I)}u=u.concat(cL(k,N,T))}}}])}var S=function(T,k,C){Object.keys(T).forEach(function(N){var I=C?C+"."+N:N;k.has(I)?delete T[N]:typeof T[N]=="object"&&S(T[N],k,I)})};return u.forEach(function(T){var k,C;if(!((k=a==null?void 0:a.mapping)===null||k===void 0)&&k.in){var N=(C=a==null?void 0:a.mapping)===null||C===void 0?void 0:C.in,I=T.type;N[I]&&(T.type=N[I])}S(T,v.in,"")}),l.forEach(function(T){var k,C;if(!((k=a==null?void 0:a.mapping)===null||k===void 0)&&k.in){var N=(C=a==null?void 0:a.mapping)===null||C===void 0?void 0:C.in,I=T.type;N[I]&&(T.type=N[I])}S(T,v.in,"")}),{nodes:u,edges:l}}function cL(i,a,u){var l=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(a)?m=a.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=a;var v=HO(m,u,h);l.push(v)});else{var o=void 0;Array.isArray(a)?o=a.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=a;var d=HO(o,u,i);l.push(d)}return l}function HO(i,a,u){var l=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=u["-children"],h=u["-name"],m=ko.shapeConfigMap.get(a);m&&(l+=m.width/2,o+=m.height/2);var v={};Object.entries(u).forEach(function(T){var k=Rl(T,2),C=k[0],N=k[1];OE.includes(C)||(v[C]=N)}),v=my(v);var E;if(h&&(E={x:l,y:o,value:h},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var j=i["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(j["-x"])+Number(j["-width"])/2,E.y=Number(j["-y"])+Number(j["-height"])/2}var S={id:i["-bpmnElement"],type:a,x:l,y:o,properties:v};return d&&(S.children=d),E&&(S.text=E),S}function lL(i,a){var u=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(a)?d=a.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=a,u.push(XO(d,o))});else{var l=void 0;Array.isArray(a)?l=a.find(function(o){return o["-bpmnElement"]===i["-id"]}):l=a,u.push(XO(l,i))}return u}function XO(i,a){var u,l=a["-name"];if(l){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;l.split(`
`).forEach(function(E){d<E.length&&(d=E.length)}),u={value:l,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h={};Object.entries(a).forEach(function(E){var j=Rl(E,2),S=j[0],T=j[1];OE.includes(S)||(h[S]=T)}),h=my(h);var m=i["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),v={id:a["-id"],type:yo.FLOW,pointsList:m,sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:h};return u&&(v.text=u),v}var ko=function(){function i(a){var u=this,l=a.lf;this.adapterOut=function(o,d){var h,m,v=gb({},u.processAttributes);iL(v,o,d);var E={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};aL(E,o);var j=u.definitionAttributes;j["bpmn:process"]=v,j["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var S={"bpmn:definitions":j};if(!((h=d==null?void 0:d.mapping)===null||h===void 0)&&h.out){var T=(m=d==null?void 0:d.mapping)===null||m===void 0?void 0:m.out,k=function(C){Array.isArray(C)&&C.forEach(function(N){return k(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var I;(I=T[N])?(C[I]=U.cloneDeep(C[N]),delete C[N],k(C[I])):k(C[N])})};k(S)}return S},this.adapterIn=function(o,d){if(o)return sL(o,d)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return i.prototype.setCustomShape=function(a,u){i.shapeConfigMap.set(a,u)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();ko.shapeConfigMap.set(yo.START,{width:DO.width,height:DO.height});ko.shapeConfigMap.set(yo.END,{width:CO.width,height:CO.height});ko.shapeConfigMap.set(yo.INTERMEDIATE_CATCH,{width:yy.width,height:yy.height});ko.shapeConfigMap.set(yo.INTERMEDIATE_THROW,{width:yy.width,height:yy.height});ko.shapeConfigMap.set(yo.BOUNDARY,{width:RO.width,height:RO.height});ko.shapeConfigMap.set(yo.PARALLEL_GATEWAY,{width:IO.width,height:IO.height});ko.shapeConfigMap.set(yo.INCLUSIVE_GATEWAY,{width:LO.width,height:LO.height});ko.shapeConfigMap.set(yo.EXCLUSIVE_GATEWAY,{width:zO.width,height:zO.height});ko.shapeConfigMap.set(yo.SYSTEM,{width:BO.width,height:BO.height});ko.shapeConfigMap.set(yo.USER,{width:FO.width,height:FO.height});ko.shapeConfigMap.set(yo.SUBPROCESS,{width:UO.width,height:UO.height});(function(i){nL(a,i);function a(u){var l=i.call(this,u)||this;l.adapterXmlIn=function(h){var m=Q4(h);return l.adapterIn(m,l.props)},l.adapterXmlOut=function(h){var m=l.adapterOut(h,l.props);return tL(m)};var o=u.lf,d=u.props;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l.props=d,l}return a.pluginName="BPMNAdapter",a})(ko);var VO;(function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"})(VO||(VO={}));var fL=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},pL=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(fL(arguments[a]));return i},dL=function(){function i(a){var u=this,l=a.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){u.lf.redo()}}],this.lf=l}return i.prototype.render=function(a,u){this.destroy();var l=this.getControlTool();this.toolEl=l,u.appendChild(l),this.domContainer=u},i.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},i.prototype.addItem=function(a){this.controlItems.push(a)},i.prototype.removeItem=function(a){var u=this.controlItems.findIndex(function(l){return l.key===a});return u==-1?null:this.controlItems.splice(u,1)[0]},i.prototype.getControlTool=function(){var a=this,u="lf-control-item",l="lf-control-item disabled",o=document.createElement("div"),d=[];return o.className="lf-control",this.controlItems.forEach(function(h){var m=document.createElement("div"),v=document.createElement("i"),E=document.createElement("span");switch(m.className=l,h.onClick&&(m.onclick=h.onClick.bind(null,a.lf)),h.onMouseEnter&&(m.onmouseenter=h.onMouseEnter.bind(null,a.lf)),h.onMouseLeave&&(m.onmouseleave=h.onMouseLeave.bind(null,a.lf)),v.className=h.iconClass,E.className="lf-control-text",E.title=h.title,E.innerText=h.text,m.append(v,E),h.text){case"上一步":a.lf.on("history:change",function(j){var S=j.data.undoAble;m.className=S?u:l});break;case"下一步":a.lf.on("history:change",function(j){var S=j.data.redoAble;m.className=S?u:l});break;default:m.className=u;break}d.push(m)}),o.append.apply(o,pL(d)),o},i.pluginName="control",i}(),hL=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},yL=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(hL(arguments[a]));return i},bp="lf:defaultNodeMenu",_p="lf:defaultEdgeMenu",Op="lf:defaultGraphMenu",YO="lf:defaultSelectionMenu",vL=function(){function i(a){var u=this,l=a.lf;this.lf=l;var o=l.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(d){u.setMenuConfig(d)},this.lf.addMenuConfig=function(d){u.addMenuConfig(d)},this.lf.setMenuByType=function(d){u.setMenuByType(d)})}return i.prototype.init=function(){var a=this,u=[{text:"删除",callback:function(d){a.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){a.lf.graphModel.editText(d.id)}},{text:"复制",callback:function(d){a.lf.cloneNode(d.id)}}];this.menuTypeMap.set(bp,u);var l=[{text:"删除",callback:function(d){a.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){a.lf.graphModel.editText(d.id)}}];this.menuTypeMap.set(_p,l),this.menuTypeMap.set(Op,[]);var o=[{text:"删除",callback:function(d){a.lf.clearSelectElements(),d.edges.forEach(function(h){return a.lf.deleteEdge(h.id)}),d.nodes.forEach(function(h){return a.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(YO,o)},i.prototype.render=function(a,u){var l=this;a.options.isSilentMode||(this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var d=o.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,v=h.domOverlayPosition,E=v.x,j=v.y,S=d.id,T=l.lf.graphModel.getNodeModelById(S),k=[],C=l.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:C?k=C:k=l.menuTypeMap.get(bp),l.__currentData=d,l.showMenu(E,j,k,{width:T.width,height:T.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,v=h.domOverlayPosition,E=v.x,j=v.y,S=d.id,T=l.lf.graphModel.getEdgeModelById(S),k=[],C=l.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:C?k=C:k=l.menuTypeMap.get(_p),l.__currentData=d,l.showMenu(E,j,k,{width:T.width,height:T.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var d=o.position,h=l.menuTypeMap.get(Op),m=d.domOverlayPosition,v=m.x,E=m.y;l.showMenu(v,E,h)}),this.lf.on("selection:contextmenu",function(o){var d=o.data,h=o.position,m=l.menuTypeMap.get(YO),v=h.domOverlayPosition,E=v.x,j=v.y;l.__currentData=d,l.showMenu(E,j,m)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"}))},i.prototype.destroy=function(){var a;(a=this===null||this===void 0?void 0:this.__container)===null||a===void 0||a.removeChild(this.__menuDOM),this.__menuDOM=null},i.prototype.showMenu=function(a,u,l,o){if(!(!l||!l.length)){var d=this.__menuDOM;if(d.innerHTML="",d.append.apply(d,yL(this.__getMenuDom(l))),!!d.children.length){if(d.style.display="block",!o){d.style.top=u+"px",d.style.left=a+"px";return}var h=o.width,m=o.height,v=o.clientX,E=o.clientY,j=this.lf.graphModel,S=d.offsetWidth,T=!0,k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=k-v,N=j.rootEl.getBoundingClientRect(),I=N.left+N.width;I<k&&(C=I-v),C<S&&(T=!1),T?d.style.left=a+"px":d.style.left=a-h+"px";var G=d.offsetHeight,W=!0,K=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,re=K-E,oe=N.top+N.height;oe<K&&(re=oe-E),re<G&&(W=!1),W?d.style.top=u+"px":d.style.top=u-m+"px"}}},i.prototype.setMenuByType=function(a){!a.type||!a.menu||this.menuTypeMap.set(a.type,a.menu)},i.prototype.__getMenuDom=function(a){var u=[];return a&&a.length>0&&a.forEach(function(l){var o=document.createElement("li");if(l.className?o.className="lf-menu-item "+l.className:o.className="lf-menu-item",l.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",o.appendChild(d)}var h=document.createElement("span");h.className="lf-menu-item-text",l.text&&(h.innerText=l.text),o.appendChild(h),o.onclickCallback=l.callback,u.push(o)}),u},i.prototype.setMenuConfig=function(a){a&&(a.nodeMenu!==void 0&&this.menuTypeMap.set(bp,a.nodeMenu?a.nodeMenu:[]),a.edgeMenu!==void 0&&this.menuTypeMap.set(_p,a.edgeMenu?a.edgeMenu:[]),a.graphMenu!==void 0&&this.menuTypeMap.set(Op,a.graphMenu?a.graphMenu:[]))},i.prototype.addMenuConfig=function(a){if(a){if(Array.isArray(a.nodeMenu)){var u=this.menuTypeMap.get(bp);this.menuTypeMap.set(bp,u.concat(a.nodeMenu))}if(Array.isArray(a.edgeMenu)){var u=this.menuTypeMap.get(_p);this.menuTypeMap.set(_p,u.concat(a.edgeMenu))}if(Array.isArray(a.graphMenu)){var u=this.menuTypeMap.get(Op);this.menuTypeMap.set(Op,u.concat(a.graphMenu))}}},i.prototype.changeMenuItem=function(a,u){if(a==="add")this.addMenuConfig(u);else if(a==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},i.pluginName="menu",i}(),gL=function(){function i(a){var u=this,l=a.lf;this.lf=l,this.lf.setPatternItems=function(o){u.setPatternItems(o)}}return i.prototype.render=function(a,u){var l=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){l.panelEl.appendChild(l.createDndItem(o))}),u.appendChild(this.panelEl),this.domContainer=u},i.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},i.prototype.setPatternItems=function(a){this.shapeList=a,this.domContainer&&this.render(this.lf,this.domContainer)},i.prototype.createDndItem=function(a){var u=this,l=document.createElement("div");l.className=a.className?"lf-dnd-item "+a.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",a.icon&&(o.style.backgroundImage="url("+a.icon+")"),l.appendChild(o),a.label){var d=document.createElement("div");d.innerText=a.label,d.className="lf-dnd-text",l.appendChild(d)}return a.disabled?(l.classList.add("disabled"),l.onmousedown=function(){a.callback&&a.callback(u.lf,u.domContainer)},l):(l.onmousedown=function(){a.type&&u.lf.dnd.startDrag({type:a.type,properties:a.properties,text:a.text}),a.callback&&a.callback(u.lf,u.domContainer)},l.ondblclick=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:h,data:a})},l.onclick=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:h,data:a})},l.oncontextmenu=function(h){u.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:h,data:a})},l)},i.pluginName="dndPanel",i}(),mL=function(){function i(a){var u=this,l=a.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(d){var h=u.lf.getPointByClient(d.clientX,d.clientY).domOverlayPosition,m=h.x,v=h.y;u.endPoint={x:m,y:v};var E=u.startPoint,j=E.x,S=E.y,T=u.wrapper.style,k=j,C=S,N=m-j,I=v-S;m<j&&(k=m,N=j-m),v<S&&(C=v,I=S-v),T.left=k+"px",T.top=C+"px",T.width=N+"px",T.height=I+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var d=u.startPoint,h=d.x,m=d.y,v=u.endPoint,E=v.x,j=v.y;if(!(Math.abs(E-h)<10&&Math.abs(j-m)<10)){var S=[Math.min(h,E),Math.min(m,j)],T=[Math.max(h,E),Math.max(m,j)],k=u.lf.graphModel.getAreaElement(S,T,u.isWholeEdge,u.isWholeNode,!0),C=u.lf.graphModel.group;k.forEach(function(N){(!C||!C.getNodeGroup(N.id))&&u.lf.selectElementById(N.id,!0)}),u.lf.emit("selection:selected",k)}},this.lf=l;var o=l.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,l.openSelectionSelect=function(){u.openSelectionSelect()},l.closeSelectionSelect=function(){u.closeSelectionSelect()}}return i.prototype.render=function(a,u){var l=this;this.__domContainer=u,a.on("blank:mousedown",function(o){var d=o.e,h=a.getEditConfig();if(!(!h.stopMoveGraph||l.__disabled)){var m=d.button===2;if(!m){var v=a.getPointByClient(d.clientX,d.clientY).domOverlayPosition,E=v.x,j=v.y;l.startPoint={x:E,y:j},l.endPoint={x:E,y:j};var S=document.createElement("div");S.className="lf-selection-select",S.oncontextmenu=function(k){k.preventDefault()},S.style.top=l.startPoint.y+"px",S.style.left=l.startPoint.x+"px",u.appendChild(S),l.wrapper=S,document.addEventListener("mousemove",l.__draw),document.addEventListener("mouseup",l.__drawOff)}}})},i.prototype.setSelectionSense=function(a,u){a===void 0&&(a=!0),u===void 0&&(u=!0),this.isWholeEdge=a,this.isWholeNode=u},i.prototype.openSelectionSelect=function(){var a=this.lf.getEditConfig().stopMoveGraph;a||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},i.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},i.prototype.open=function(){this.__disabled=!1},i.prototype.close=function(){this.__disabled=!0},i.pluginName="selectionSelect",i}(),xE=function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var d in o)o.hasOwnProperty(d)&&(l[d]=o[d])},i(a,u)};return function(a,u){i(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Ol=function(){return Ol=Object.assign||function(i){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i},Ol.apply(this,arguments)},Mp=function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l=u.call(i),o,d=[],h;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(h)throw h.error}}return d},bL={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function _L(i){for(var a=i,u=1;u<a.length-1;){var l=Mp(a[u-1],2),o=l[0],d=l[1],h=Mp(a[u],2),m=h[0],v=h[1],E=Mp(a[u+1],2),j=E[0],S=E[1];o===m&&m===j||d===v&&v===S?a.splice(u,1):u++}return a}function OL(i,a,u,l){var o=[i[0],i[1]],d=[i[0],i[1]];switch(u){case"tl":return a==="tr"?(o[1]+=l,d[0]+=l):a==="lb"&&(o[0]+=l,d[1]+=l),[o,d];case"tr":return a==="tl"?(o[1]+=l,d[0]-=l):a==="rb"&&(o[0]-=l,d[1]+=l),[o,d];case"bl":return a==="br"?(o[1]-=l,d[0]+=l):a==="lt"&&(o[0]+=l,d[1]-=l),[o,d];case"br":return a==="bl"?(o[1]-=l,d[0]-=l):a==="rt"&&(o[0]-=l,d[1]-=l),[o,d];default:return[]}}function wL(i,a,u,l){var o,d="",h="";i[0]===a[0]?d=i[1]>a[1]?"t":"b":i[1]===a[1]&&(d=i[0]>a[0]?"l":"r"),a[0]===u[0]?h=a[1]>u[1]?"t":"b":a[1]===u[1]&&(h=a[0]>u[0]?"l":"r");var m=Math.min(Math.hypot(a[0]-i[0],a[1]-i[1])/2,Math.hypot(u[0]-a[0],u[1]-a[1])/2,l)||1/5*l,v=""+d+h,E=bL[v]||"-",j="L "+i[0]+" "+i[1];if(E==="-")j+="L "+a[0]+" "+a[1]+" L "+u[0]+" "+u[1];else{var S=Mp(OL(a,v,E,m),2),T=S[0],k=S[1];T&&k&&(j+="L "+T[0]+" "+T[1]+" Q "+a[0]+" "+a[1]+" "+k[0]+" "+k[1],o=Mp(k,2),a[0]=o[0],a[1]=o[1])}return j}function xL(i,a){var u=0,l="";if(i.length===2)l+="M"+i[u][0]+" "+i[u++][1]+" L "+i[u][0]+" "+i[u][1];else{for(l+="M"+i[u][0]+" "+i[u++][1];u+1<i.length;){var o=i[u-1],d=i[u],h=i[u+++1];l+=wL(o,d,h,a)}l+="L "+i[u][0]+" "+i[u][1]}return l}(function(i){xE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getEdge=function(){var u=this.props.model,l=u.points,o=u.isAnimation,d=u.arrowConfig,h=u.radius,m=h===void 0?5:h,v=u.getEdgeStyle(),E=u.getEdgeAnimationStyle(),j=_L(l.split(" ").map(function(k){return k.split(",").map(function(C){return+C})})),S=xL(j,m),T=Ol(Ol(Ol({style:o?E:{}},v),d),{fill:"none"});return Ve.h("path",Ol({d:S},T))},a})(Ve.PolylineEdge);(function(i){xE(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a})(Ve.PolylineEdgeModel);class EL extends Ve.CircleNodeModel{initNodeData(a){super.initNodeData(a),this.r=20}}class SL extends Ve.CircleNode{}const jL={type:"start",model:EL,view:SL};class PL extends Ve.RectNodeModel{initNodeData(a){super.initNodeData(a),this.width=100,this.height=80,this.radius=5}getNodeStyle(){return super.getNodeStyle()}}class AL extends Ve.RectNode{}const ML={type:"between",model:PL,view:AL};class EE extends Ve.PolygonNodeModel{constructor(a,u){a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),super(a,u),this.points=[[25,0],[50,25],[25,50],[0,25]]}}yp(EE,"extendKey","SerialModel");class SE extends Ve.PolygonNode{getShape(){const{model:a}=this.props,{x:u,y:l,width:o,height:d,points:h}=a,m=a.getNodeStyle();return Ve.h("g",{transform:`matrix(1 0 0 1 ${u-o/2} ${l-d/2})`},Ve.h("polygon",{...m,x:u,y:l,points:h}),Ve.h("path",{d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",...m}))}}yp(SE,"extendKey","SerialNode");const kL={type:"serial",view:SE,model:EE};class jE extends Ve.PolygonNodeModel{constructor(a,u){a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),super(a,u),this.points=[[25,0],[50,25],[25,50],[0,25]]}}yp(jE,"extendKey","ParallelModel");class PE extends Ve.PolygonNode{getShape(){const{model:a}=this.props,{x:u,y:l,width:o,height:d,points:h}=a,m=a.getNodeStyle();return Ve.h("g",{transform:`matrix(1 0 0 1 ${u-o/2} ${l-d/2})`},Ve.h("polygon",{...m,x:u,y:l,points:h}),Ve.h("path",{d:"m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z",...m}))}}yp(PE,"extendKey","ParallelNode");const TL={type:"parallel",view:PE,model:jE};class NL extends Ve.CircleNodeModel{initNodeData(a){super.initNodeData(a),this.r=20}}class DL extends Ve.CircleNode{}const CL={type:"end",model:NL,view:DL};class RL extends Ve.PolylineEdgeModel{setAttributes(){this.offset=20}getEdgeStyle(){const a=super.getEdgeStyle(),{properties:u}=this;return u.isActived&&(a.strokeDasharray="4 4"),a}getData(){const a=super.getData();return a.sourceAnchorId=this.sourceAnchorId,a.targetAnchorId=this.targetAnchorId,a}}const IL={type:"skip",view:Ve.PolylineEdge,model:RL},LL=wp("i",{class:"el-icon-question"},null,-1),zL=Fu({name:"Start"}),BL=Object.assign(zL,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const l=gr(i.modelValue),o=a;return Lr(()=>l,d=>{d&&o("change",d)},{deep:!0}),l.value.listenerType&&(l.value.listenerType=l.value.listenerType.split(",")),(d,h)=>{const m=En("el-input"),v=En("el-form-item"),E=En("el-option"),j=En("el-select"),S=En("el-tooltip"),T=En("el-form");return zr(),Fi("div",null,[He(T,{ref:"formRef",model:We(l),"label-width":"120px",size:"small",disabled:i.disabled},{default:Pt(()=>[Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeCode"},()=>[He(v,{label:"节点编码"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=k=>We(l).nodeCode=k),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeName"},()=>[He(v,{label:"节点名称"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=k=>We(l).nodeName=k),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Kn(d.$slots,"form-item-task-listenerType",{model:We(l),field:"listenerType"},()=>[He(v,{label:"监听器类型"},{default:Pt(()=>[He(j,{modelValue:We(l).listenerType,"onUpdate:modelValue":h[2]||(h[2]=k=>We(l).listenerType=k),multiple:""},{default:Pt(()=>[He(E,{label:"任务创建",value:"create"}),He(E,{label:"任务开始办理",value:"start"}),He(E,{label:"分派监听器",value:"assignment"}),He(E,{label:"权限认证",value:"permission"}),He(E,{label:"任务完成",value:"finish"})]),_:1},8,["modelValue"])]),_:1})]),Kn(d.$slots,"form-item-task-listenerPath",{model:We(l),field:"listenerPath"},()=>[He(v,{label:"监听器路径",description:"输入监听器的路径，以@@分隔,顺序与监听器类型一致"},{default:Pt(()=>[He(m,{type:"textarea",modelValue:We(l).listenerPath,"onUpdate:modelValue":h[3]||(h[3]=k=>We(l).listenerPath=k),rows:"8"},null,8,["modelValue"]),He(S,{class:"item",effect:"dark",content:"输入监听器的路径，以@@分隔，顺序与监听器类型一致"},{default:Pt(()=>[LL]),_:1})]),_:1})])]),_:3},8,["model","disabled"])])}}}),FL=i=>(EM("data-v-ef9fe391"),i=i(),SM(),i),UL={class:"between"},WL={class:"flex-hc"},GL={class:"flex-hc"},$L={class:"flex-hc"},HL=FL(()=>wp("div",{class:"placeholder"},"票签比例范围：(0-100)的值",-1)),XL=Fu({name:"Between"}),VL=Object.assign(XL,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const{proxy:u}=yw(),l=i,o=gr(l.modelValue),d=gr(""),h=gr([]),m=xM({nodeRatio:[{required:!1,message:"请输入",trigger:"change"},{pattern:/^(?:[1-9]\d?|0\.\d{1,3}|[1-9]\d?\.\d{1,3})$/,message:"请输入(0, 100)的值，最多保留三位小数",trigger:["change","blur"]}]}),v=gr(!1),E=a;Lr(()=>o,N=>{N&&E("change",N)},{deep:!0});function j(){o.value.collaborativeWay!=="1"&&MM(o.value.permissionFlag.join(",")).then(N=>{d.value=N.data?N.data.map(I=>I.nickName).join(","):""})}function S(){o.value.permissionFlag&&(o.value.permissionFlag=o.value.permissionFlag.split(",")),o.value.listenerType&&(o.value.listenerType=o.value.listenerType.split(",")),AM().then(N=>{let I={label:"创建人",options:[{value:"warmFlowInitiator",label:"流程发起人"}]};h.value.push(I);let G={label:"角色",options:N.rows.map(W=>({value:"role:"+W.roleId,label:W.roleName}))};h.value.push(G),kM().then(W=>{let K={label:"用户",options:W.rows.map(re=>({value:re.userId,label:re.nickName}))};h.value.push(K),TM().then(re=>{let oe={label:"部门",options:re.data.map(Z=>({value:"dept:"+Z.deptId,label:Z.deptName}))};if(h.value.push(oe),l.disabled&&o.value.collaborativeWay==="1"){let Z=[];h.value.forEach(J=>{J.options.forEach(H=>{o.value.permissionFlag.includes(H.value)&&Z.push(H.label)})}),Z.value=Z.join(",")}})})})}function T(N){o.value.permissionFlag=[],o.value.nodeRatio=N==="1"?"0.000":N==="3"?"100.000":""}function k(){v.value=!0,u.$refs.userSelect.blur()}function C(N){o.value.permissionFlag=N.map(I=>I.userId)}return S(),l.disabled&&j(),(N,I)=>{const G=En("el-input"),W=En("el-form-item"),K=En("WarningFilled"),re=En("el-icon"),oe=En("el-tooltip"),Z=En("el-radio"),J=En("el-radio-group"),H=En("el-option"),F=En("el-option-group"),X=En("el-select"),Y=En("el-form"),Q=En("el-dialog");return zr(),Fi("div",UL,[He(Y,{ref:"formRef",model:We(o),"label-width":"120px",size:"small",rules:We(m),disabled:i.disabled},{default:Pt(()=>[Kn(N.$slots,"form-item-task-nodeCode",{model:We(o),field:"nodeCode"},()=>[He(W,{label:"节点编码"},{default:Pt(()=>[He(G,{modelValue:We(o).nodeCode,"onUpdate:modelValue":I[0]||(I[0]=ne=>We(o).nodeCode=ne),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})],!0),Kn(N.$slots,"form-item-task-nodeName",{model:We(o),field:"nodeName"},()=>[He(W,{label:"节点名称"},{default:Pt(()=>[He(G,{modelValue:We(o).nodeName,"onUpdate:modelValue":I[1]||(I[1]=ne=>We(o).nodeName=ne),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})],!0),Kn(N.$slots,"form-item-task-collaborativeWay",{model:We(o),field:"collaborativeWay"},()=>[He(W,{label:"协作方式"},{default:Pt(()=>[He(J,{modelValue:We(o).collaborativeWay,"onUpdate:modelValue":I[2]||(I[2]=ne=>We(o).collaborativeWay=ne),onChange:T},{default:Pt(()=>[He(Z,{label:"1"},{default:Pt(()=>[wp("span",WL,[vp(" 或签 "),He(oe,{class:"box-item",effect:"dark",content:"只需一个人审批"},{default:Pt(()=>[He(re,{size:14,class:"ml5"},{default:Pt(()=>[He(K)]),_:1})]),_:1})])]),_:1}),He(Z,{label:"2"},{default:Pt(()=>[wp("span",GL,[vp(" 票签 "),He(oe,{class:"box-item",effect:"dark",content:"部分办理人审批，只支持选择用户"},{default:Pt(()=>[He(re,{size:14,class:"ml5"},{default:Pt(()=>[He(K)]),_:1})]),_:1})])]),_:1}),He(Z,{label:"3"},{default:Pt(()=>[wp("span",$L,[vp(" 会签 "),He(oe,{class:"box-item",effect:"dark",content:"所有办理都需要审批，只支持选择用户"},{default:Pt(()=>[He(re,{size:14,class:"ml5"},{default:Pt(()=>[He(K)]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})],!0),We(o).collaborativeWay==="2"?Kn(N.$slots,"form-item-task-nodeRatio",{key:0,model:We(o),field:"nodeRatio"},()=>[He(W,{label:"票签占比",prop:"nodeRatio"},{default:Pt(()=>[He(G,{modelValue:We(o).nodeRatio,"onUpdate:modelValue":I[3]||(I[3]=ne=>We(o).nodeRatio=ne),type:"number",placeholder:"请输入"},null,8,["modelValue"]),HL]),_:1})],!0):xp("",!0),Kn(N.$slots,"form-item-task-permissionFlag",{model:We(o),field:"permissionFlag"},()=>[He(oe,{effect:"dark",content:We(d),visible:!i.disabled},{default:Pt(()=>[He(W,{label:"权限标识"},{default:Pt(()=>[We(o).collaborativeWay==="1"?(zr(),Hs(X,{key:0,modelValue:We(o).permissionFlag,"onUpdate:modelValue":I[4]||(I[4]=ne=>We(o).permissionFlag=ne),multiple:"","collapse-tags":"",disabled:i.disabled,clearable:!i.disabled,filterable:""},{default:Pt(()=>[(zr(!0),Fi($m,null,Ep(We(h),ne=>(zr(),Hs(F,{key:ne.label,label:ne.label,disabled:i.disabled},{default:Pt(()=>[(zr(!0),Fi($m,null,Ep(ne.options,Se=>(zr(),Hs(H,{key:Se.value,label:Se.label,value:Se.value},null,8,["label","value"]))),128))]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue","disabled","clearable"])):(zr(),Hs(X,{key:1,modelValue:We(o).permissionFlag,"onUpdate:modelValue":I[5]||(I[5]=ne=>We(o).permissionFlag=ne),multiple:"","collapse-tags":"",ref:"userSelect",disabled:i.disabled,clearable:!i.disabled,onFocus:k,"popper-class":"dialogSelect","popper-append-to-body":!1},{default:Pt(()=>[(zr(!0),Fi($m,null,Ep(We(o).permissionFlag,ne=>(zr(),Hs(H,{key:ne,label:ne,value:ne},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","clearable"]))]),_:1})]),_:1},8,["content","visible"])],!0),Kn(N.$slots,"form-item-task-skipAnyNode",{model:We(o),field:"skipAnyNode"},()=>[He(W,{label:"是否可以跳转任意节点"},{default:Pt(()=>[He(J,{modelValue:We(o).skipAnyNode,"onUpdate:modelValue":I[6]||(I[6]=ne=>We(o).skipAnyNode=ne)},{default:Pt(()=>[He(Z,{label:"N"},{default:Pt(()=>[vp("否")]),_:1}),He(Z,{label:"Y"},{default:Pt(()=>[vp("是")]),_:1})]),_:1},8,["modelValue"])]),_:1})],!0),Kn(N.$slots,"form-item-task-listenerType",{model:We(o),field:"listenerType"},()=>[He(W,{label:"监听器类型"},{default:Pt(()=>[He(X,{modelValue:We(o).listenerType,"onUpdate:modelValue":I[7]||(I[7]=ne=>We(o).listenerType=ne),multiple:""},{default:Pt(()=>[He(H,{label:"任务创建",value:"create"}),He(H,{label:"任务开始办理",value:"start"}),He(H,{label:"分派监听器",value:"assignment"}),He(H,{label:"权限认证",value:"permission"}),He(H,{label:"任务完成",value:"finish"})]),_:1},8,["modelValue"])]),_:1})],!0),Kn(N.$slots,"form-item-task-listenerPath",{model:We(o),field:"listenerPath"},()=>[He(W,{label:"监听器路径",description:"输入监听器的路径，以@@分隔,顺序与监听器类型一致"},{default:Pt(()=>[He(G,{type:"textarea",modelValue:We(o).listenerPath,"onUpdate:modelValue":I[8]||(I[8]=ne=>We(o).listenerPath=ne),rows:"8"},null,8,["modelValue"]),He(oe,{class:"box-item",effect:"dark",content:"输入监听器的路径，以@@分隔，顺序与监听器类型一致"},{default:Pt(()=>[He(re,{size:14,class:"mt5"},{default:Pt(()=>[He(K)]),_:1})]),_:1})]),_:1})],!0),Kn(N.$slots,"form-item-task-formCustom",{model:We(o),field:"formCustom"},()=>[He(W,{label:"审批表单是否自定义"},{default:Pt(()=>[He(X,{modelValue:We(o).formCustom,"onUpdate:modelValue":I[9]||(I[9]=ne=>We(o).formCustom=ne)},{default:Pt(()=>[He(H,{label:"使用流程表单",value:""}),He(H,{label:"节点表单路径",value:"N"})]),_:1},8,["modelValue"])]),_:1})],!0),We(o).formCustom==="N"?Kn(N.$slots,"form-item-task-formPath",{key:1,model:We(o),field:"formPath"},()=>[He(W,{label:"审批表单路径"},{default:Pt(()=>[He(G,{modelValue:We(o).formPath,"onUpdate:modelValue":I[10]||(I[10]=ne=>We(o).formPath=ne)},null,8,["modelValue"])]),_:1})],!0):xp("",!0)]),_:3},8,["model","rules","disabled"]),We(v)?(zr(),Hs(Q,{key:0,title:"用户选择",modelValue:We(v),"onUpdate:modelValue":I[13]||(I[13]=ne=>kp(v)?v.value=ne:null),width:"80%","append-to-body":""},{default:Pt(()=>[He(We(NM),{selectUser:We(o).permissionFlag,"onUpdate:selectUser":I[11]||(I[11]=ne=>We(o).permissionFlag=ne),userVisible:We(v),"onUpdate:userVisible":I[12]||(I[12]=ne=>kp(v)?v.value=ne:null),onHandleUserSelect:C},null,8,["selectUser","userVisible"])]),_:1},8,["modelValue"])):xp("",!0)])}}}),YL=xb(VL,[["__scopeId","data-v-ef9fe391"]]),KL=Fu({name:"Serial"}),qL=Object.assign(KL,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const l=gr(i.modelValue),o=a;return Lr(()=>l,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=En("el-input"),v=En("el-form-item"),E=En("el-form");return zr(),Fi("div",null,[He(E,{ref:"formRef",model:We(l),"label-width":"120px",size:"small",disabled:i.disabled},{default:Pt(()=>[Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeCode"},()=>[He(v,{label:"节点编码"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=j=>We(l).nodeCode=j),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeName"},()=>[He(v,{label:"节点名称"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=j=>We(l).nodeName=j),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),ZL=Fu({name:"Parallel"}),JL=Object.assign(ZL,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const l=gr(i.modelValue),o=a;return Lr(()=>l,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=En("el-input"),v=En("el-form-item"),E=En("el-form");return zr(),Fi("div",null,[He(E,{ref:"formRef",model:We(l),"label-width":"120px",size:"small",disabled:i.disabled},{default:Pt(()=>[Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeCode"},()=>[He(v,{label:"节点编码"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=j=>We(l).nodeCode=j),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeName"},()=>[He(v,{label:"节点名称"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=j=>We(l).nodeName=j),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),QL=Fu({name:"End"}),e5=Object.assign(QL,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:a}){const l=gr(i.modelValue),o=a;return Lr(()=>l,d=>{d&&o("change",d)},{deep:!0}),(d,h)=>{const m=En("el-input"),v=En("el-form-item"),E=En("el-form");return zr(),Fi("div",null,[He(E,{ref:"formRef",model:We(l),"label-width":"120px",size:"small",disabled:i.disabled},{default:Pt(()=>[Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeCode"},()=>[He(v,{label:"节点编码"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeCode,"onUpdate:modelValue":h[0]||(h[0]=j=>We(l).nodeCode=j),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})]),Kn(d.$slots,"form-item-task-name",{model:We(l),field:"nodeName"},()=>[He(v,{label:"节点名称"},{default:Pt(()=>[He(m,{modelValue:We(l).nodeName,"onUpdate:modelValue":h[1]||(h[1]=j=>We(l).nodeName=j),disabled:i.disabled},null,8,["modelValue","disabled"])]),_:1})])]),_:3},8,["model","disabled"])])}}}),t5=Fu({name:"Skip"}),n5=Object.assign(t5,{props:{modelValue:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1},skipConditionShow:{type:Boolean,default:!0}},emits:["change"],setup(i,{emit:a}){const l=gr(i.modelValue),o=a;return Lr(()=>l,d=>{d.value.skipCondition="@@"+(d.value.conditionType?d.value.conditionType:"")+"@@|"+(d.value.condition?d.value.condition:"")+"@@"+(d.value.conditionType?d.value.conditionType:"")+"@@"+(d.value.conditionValue?d.value.conditionValue:""),d&&o("change",d)},{deep:!0}),(d,h)=>{const m=En("el-input"),v=En("el-form-item"),E=En("el-option"),j=En("el-select"),S=En("el-form");return zr(),Fi("div",null,[He(S,{ref:"formRef",model:We(l),"label-width":"120px",size:"small",disabled:i.disabled},{default:Pt(()=>[i.skipConditionShow?Kn(d.$slots,"form-item-task-skipName",{key:0,model:We(l),field:"skipName"},()=>[He(v,{label:"跳转名称"},{default:Pt(()=>[He(m,{modelValue:We(l).skipName,"onUpdate:modelValue":h[0]||(h[0]=T=>We(l).skipName=T),placeholder:"跳转名称"},null,8,["modelValue"])]),_:1})]):xp("",!0),Kn(d.$slots,"form-item-task-skipType",{model:We(l),field:"skipType"},()=>[He(v,{label:"跳转类型"},{default:Pt(()=>[He(j,{modelValue:We(l).skipType,"onUpdate:modelValue":h[1]||(h[1]=T=>We(l).skipType=T)},{default:Pt(()=>[He(E,{sel:"",label:"审批通过",value:"PASS"}),He(E,{label:"退回",value:"REJECT"})]),_:1},8,["modelValue"])]),_:1})]),i.skipConditionShow?Kn(d.$slots,"form-item-task-skipCondition",{key:1,model:We(l),field:"skipCondition"},()=>[He(v,{label:"跳转条件"},{default:Pt(()=>[He(m,{modelValue:We(l).condition,"onUpdate:modelValue":h[2]||(h[2]=T=>We(l).condition=T),placeholder:"条件名",style:{width:"25%"}},null,8,["modelValue"]),He(j,{modelValue:We(l).conditionType,"onUpdate:modelValue":h[3]||(h[3]=T=>We(l).conditionType=T),placeholder:"请选择条件方式",style:{width:"40%","margin-left":"5px"}},{default:Pt(()=>[He(E,{label:"大于",value:"gt"}),He(E,{label:"大于等于",value:"ge"}),He(E,{label:"等于",value:"eq"}),He(E,{label:"不等于",value:"ne"}),He(E,{label:"小于",value:"lt"}),He(E,{label:"小于等于",value:"le"}),He(E,{label:"包含",value:"like"}),He(E,{label:"不包含",value:"notNike"})]),_:1},8,["modelValue"]),He(m,{modelValue:We(l).conditionValue,"onUpdate:modelValue":h[4]||(h[4]=T=>We(l).conditionValue=T),placeholder:"条件值",style:{width:"25%","margin-left":"5px"}},null,8,["modelValue"])]),_:1})]):xp("",!0)]),_:3},8,["model","disabled"])])}}}),r5=Fu({name:"Definition"}),o5=Object.assign(r5,{props:{value:{type:Object,default(){return{}}},node:{type:Object,default(){return{}}},lf:{type:Object,default(){return null}},disabled:{type:Boolean,default:!1},skipConditionShow:{type:Boolean,default:!0}},setup(i,{expose:a}){const u={start:BL,between:YL,serial:qL,parallel:JL,end:e5,skip:n5},l=i,o=gr(!1),d=gr({}),h=gr(void 0),m=z1(()=>l.node&&l.node.type==="skip"?"设置边属性":l.node&&l.node.type==="serial"?"设置串行网关属性":l.node&&l.node.type==="parallel"?"设置并行网关属性":l.node&&l.node.type==="start"?"设置开始属性":l.node&&l.node.type==="end"?"设置结束属性":"设置中间属性"),v=z1(()=>{if(!(!l.node||!l.node.type))return u[l.node.type]});Lr(()=>l.node,S=>{if(S)if(h.value=S.id,S.type==="skip"){let T=S.properties.skipCondition,k=T?T.split("@@|"):[],C=k&&k.length>0?k[1]:[];d.value={nodeType:S.type,skipType:S.properties.skipType,skipName:S.properties.skipName,skipCondition:T,condition:C&&C.length>0?C.split("@@")[0]:"",conditionType:C&&C.length>0?C.split("@@")[1]:"",conditionValue:C&&C.length>0?C.split("@@")[2]:""}}else{let T=S.properties.nodeRatio||"";S.properties.collaborativeWay=T==="0.000"?"1":T==="100.000"?"3":T?"2":"1",S.properties.formCustom=JSON.stringify(S.properties)==="{}"?"N":S.properties.formCustom||"",d.value={nodeType:S.type,nodeCode:S.id,nodeName:S.text instanceof Object?S.text.value:S.text,...S.properties}}}),Lr(()=>d.value.nodeCode,(S,T)=>{S&&T&&(["skip"].includes(l.node.type)?l.lf.getEdgeModelById(S)||l.lf.changeEdgeId(T,S):l.lf.getNodeModelById(S)||l.lf.changeNodeId(T,S),h.value=S)}),Lr(()=>d.value.skipType,S=>{l.lf.setProperties(h.value,{skipType:S})}),Lr(()=>d.value.nodeName,S=>{l.lf.updateText(h.value,S),l.lf.setProperties(h.value,{nodeName:S})}),Lr(()=>d.value.permissionFlag,S=>{l.lf.setProperties(h.value,{permissionFlag:Array.isArray(S)?S.join(","):S})}),Lr(()=>d.value.skipAnyNode,S=>{l.lf.setProperties(h.value,{skipAnyNode:S})}),Lr(()=>d.value.listenerType,S=>{Array.isArray(S)||(S=[S]);let T=S.join(",");l.lf.setProperties(h.value,{listenerType:T})}),Lr(()=>d.value.listenerPath,S=>{l.lf.setProperties(h.value,{listenerPath:S})}),Lr(()=>d.value.formCustom,S=>{l.lf.setProperties(h.value,{formCustom:S||""})}),Lr(()=>d.value.formPath,S=>{l.lf.setProperties(h.value,{formPath:S})}),Lr(()=>d.value.skipName,S=>{["skip"].includes(l.node.type)&&(l.lf.updateText(h.value,S),l.lf.setProperties(h.value,{skipName:S}))}),Lr(()=>d.value.skipCondition,S=>{l.lf.setProperties(h.value,{skipCondition:S})});function E(){o.value=!0}function j(){o.value=!1}return a({show:E,handleClose:j}),(S,T)=>{const k=En("el-drawer");return zr(),Fi("div",null,[He(k,{ref:"drawerRef",title:We(m),"destroy-on-close":"",modelValue:We(o),"onUpdate:modelValue":T[1]||(T[1]=C=>kp(o)?o.value=C:null),direction:"rtl","append-to-body":!0,"before-close":j},{default:Pt(()=>[(zr(),Hs(jM(We(v)),{modelValue:We(d),"onUpdate:modelValue":T[0]||(T[0]=C=>kp(d)?d.value=C:null),disabled:i.disabled,skipConditionShow:i.skipConditionShow},vw({_:2},[Ep(S.$slots,(C,N)=>({name:N,fn:Pt(I=>[Kn(S.$slots,N,gw(mw(I||{})),void 0,!0)])}))]),1032,["modelValue","disabled","skipConditionShow"]))]),_:3},8,["title","modelValue"])])}}}),i5=xb(o5,[["__scopeId","data-v-589f4a98"]]),a5=i=>{let a=null;return window.DOMParser?a=new DOMParser().parseFromString(i,"text/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i)),a},u5=["start","between","serial","parallel","end"],AE=["flowCode","flowName","version","fromCustom","fromPath"],ME=["nodeType","nodeCode","nodeName","coordinate","nodeRatio","permissionFlag","skipAnyNode","listenerType","listenerPath","formCustom","formPath"],s5=["skipName","skipType","coordinate","skipCondition"],c5=i=>{const a={nodes:[],edges:[]},l=a5(i).getElementsByTagName("definition");if(!l.length)return a;let o=null;AE.forEach(T=>{o=l[0].getAttribute(T),o&&(a[T]=o)});let d=null,h=null,m={};if(d=l[0].getElementsByTagName("node"),d.length)for(var v=0,E=d.length;v<E;v++){h=d[v],m={text:{},properties:{}},ME.forEach(N=>{if(o=h.getAttribute(N),o)if(N==="nodeType")m.type=o;else if(N==="nodeCode")m.id=o;else if(N==="coordinate"){const I=o.split("|"),G=I[0].split(",");if(m.x=parseInt(G[0]),m.y=parseInt(G[1]),I.length===2){const W=I[1].split(",");m.text.x=parseInt(W[0]),m.text.y=parseInt(W[1])}}else N==="nodeName"?m.text.value=o:m.properties[N]=o}),a.nodes.push(m);let T=null,k=null,C={};T=h.getElementsByTagName("skip");for(var j=0,S=T.length;j<S;j++){k=T[j],C={text:{},properties:{}},C.id=k.getAttribute("id"),C.type="skip",C.sourceNodeId=m.id,C.targetNodeId=k.textContent,C.text={value:k.getAttribute("skipName")},C.properties.skipCondition=k.getAttribute("skipCondition"),C.properties.skipName=k.getAttribute("skipName"),C.properties.skipType=k.getAttribute("skipType");const N=k.getAttribute("expr");N&&(C.properties.expr=N);const I=k.getAttribute("coordinate");if(I){const G=I.split("|");if(C.pointsList=[],G[0].split(";").forEach(W=>{const K=W.split(",");C.pointsList.push({x:parseInt(K[0]),y:parseInt(K[1])})}),C.startPoint=C.pointsList[0],C.endPoint=C.pointsList[C.pointsList.length-1],G.length>1){let W=G[1].split(",");C.text.x=parseInt(W[0]),C.text.y=parseInt(W[1])}}a.edges.push(C)}}return a},l5=i=>{let a="";const u={flowCode:i.flowCode,flowName:i.flowName,version:i.version,fromCustom:i.fromCustom,fromPath:i.fromPath},l=()=>i.nodes.find(j=>j.type==="start"),o=j=>i.edges.filter(S=>S.sourceNodeId===j).map(S=>i.nodes.find(T=>T.id===S.targetNodeId)),d=j=>i.edges.filter(S=>S.sourceNodeId===j).map(S=>{let T="";for(let k=0;k<S.pointsList.length;k++)T=T+parseInt(S.pointsList[k].x)+","+parseInt(S.pointsList[k].y),k!==S.pointsList.length-1&&(T=T+";");return S.text&&(T=T+"|"+parseInt(S.text.x)+","+parseInt(S.text.y)),{skipType:S.properties.skipType,skipCondition:S.properties.skipCondition,skipName:S.properties.skipName,textContent:S.targetNodeId,coordinate:T}}),h=j=>{let S="";return j.text&&(S="|"+j.text.x+","+j.text.y),{nodeType:j.type,nodeCode:j.id,nodeName:j.text instanceof String||j.text===void 0?j.text:j.text.value,permissionFlag:j.properties.permissionFlag,skipAnyNode:j.properties.skipAnyNode,listenerType:j.properties.listenerType,listenerPath:j.properties.listenerPath,coordinate:j.x+","+j.y+S,skip:d(j.id)}},m=j=>(j=j.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),j),v=j=>{const S=j.type;u[S+"_"+j.id]||(u[S+"_"+j.id]=h(j),o(j.id).forEach(k=>{v(k)}))},E=l();return E?(v(E),a=`<?xml version="1.0" encoding="UTF-8"?>
`,a+="<definition",Object.keys(u).forEach(j=>{const S=u[j];AE.includes(j)&&S&&(a+=" "+j+'="'+m(S)+'"')}),a+=`>
`,Object.keys(u).forEach(j=>{const S=u[j];let T=j.split("_")[0];u5.includes(T)&&(a+="	<node",Object.keys(S).forEach(k=>{ME.includes(k)&&S[k]&&(a+=" "+k+'="'+m(S[k])+'"')}),a+=`>
	`,S.skip&&S.skip.forEach(k=>{a+="	<skip",Object.keys(k).forEach(C=>{s5.includes(C)&&k[C]&&(a+=" "+C+'="'+m(k[C])+'"')}),a+=">",a+=k.textContent+`</skip>
`}),a+=`	</node>
`)}),a+="</definition>",a):""},f5={class:"container",ref:"container"},p5=Fu({name:"Design"}),d5=Object.assign(p5,{setup(i){const{proxy:a}=yw(),u=gr(null),l=gr(null),o=gr(null),d=gr(!1),h=gr({}),m=gr({}),v=gr({}),E=gr(""),j=gr(!0);function S(){l.value=a.$route.params&&a.$route.params.id,a.$route.query.disabled==="true"&&(d.value=!0)}PM(()=>{I(),u.value=new mp({container:a.$refs.container,grid:!0}),N(),T(),k(),C(),G(),l.value&&DM(l.value).then(K=>{E.value=K.data,E.value&&(v.value=c5(E.value),u.value.render(v.value))})});function T(){u.value.extension.dndPanel.setPatternItems([{type:"start",text:"开始",label:"开始节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"between",text:"中间节点",label:"中间节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node",properties:{}},{type:"serial",text:"",label:"互斥网关",properties:{},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"parallel",text:"",label:"并行网关",properties:{},icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAuMTQxOTM3MjU1ODU5Mzc1IiBoZWlnaHQ9IjIwLjE0MTkzNzI1NTg1OTM3NSIgdmlld0JveD0iMCAwIDIwLjE0MTkzNzI1NTg1OTM3NSAyMC4xNDE5MzcyNTU4NTkzNzUiIGZpbGw9Im5vbmUiPg0KPHBhdGggZD0iTTE5LjI2MzMgNy45NDk2N0wxMi4xOTIzIDAuODc4NjY5QzExLjAyMDcgLTAuMjkyODkyIDkuMTIxMjMgLTAuMjkyODkyIDcuOTQ5NjcgMC44Nzg2NjlMMC44Nzg2NyA3Ljk0OTY3Qy0wLjI5Mjg5MiA5LjEyMTIzIC0wLjI5Mjg5MiAxMS4wMjA3IDAuODc4NjcgMTIuMTkyM0w3Ljk0OTY3IDE5LjI2MzNDOS4xMjEyMyAyMC40MzQ4IDExLjAyMDcgMjAuNDM0OCAxMi4xOTIzIDE5LjI2MzNMMTkuMjYzMyAxMi4xOTIzQzIwLjQzNDggMTEuMDIwNyAyMC40MzQ4IDkuMTIxMjMgMTkuMjYzMyA3Ljk0OTY3Wk05LjM2Mzg3IDIuMjkyODdDOS43NTQzOSAxLjkwMjM1IDEwLjM4NzUgMS45MDIzNSAxMC43NzgxIDIuMjkyODdMMTcuODQ5MSA5LjM2Mzg3QzE4LjIzOTYgOS43NTQzOSAxOC4yMzk2IDEwLjM4NzUgMTcuODQ5MSAxMC43NzgxTDEwLjc3ODEgMTcuODQ5MUMxMC4zODc1IDE4LjIzOTYgOS43NTQzOSAxOC4yMzk2IDkuMzYzODcgMTcuODQ5MUwyLjI5Mjg3IDEwLjc3ODFDMS45MDIzNSAxMC4zODc1IDEuOTAyMzUgOS43NTQzOSAyLjI5Mjg3IDkuMzYzODdMOS4zNjM4NyAyLjI5Mjg3Wk05LjI0OTk3IDkuMDQ5OTdMOS4yNDk5NyA2LjQ5OTk2QzkuMjQ5OTcgNS45NDc2OCA5LjY5NzY4IDUuNDk5OTYgMTAuMjUgNS40OTk5NkMxMC44MDIzIDUuNDk5OTYgMTEuMjUgNS45NDc2OCAxMS4yNSA2LjQ5OTk2TDExLjI1IDkuMDQ5OTdMMTMuNDYgOS4wNDk5N0MxNC4wMTIzIDkuMDQ5OTcgMTQuNDYgOS40OTc2OCAxNC40NiAxMC4wNUMxNC40NiAxMC42MDIzIDE0LjAxMjMgMTEuMDUgMTMuNDYgMTEuMDVMMTEuMjUgMTEuMDVMMTEuMjUgMTMuMjVDMTEuMjUgMTMuODAyMyAxMC44MDIzIDE0LjI1IDEwLjI1IDE0LjI1QzkuNjk3NjggMTQuMjUgOS4yNDk5NyAxMy44MDIzIDkuMjQ5OTcgMTMuMjVMOS4yNDk5NyAxMS4wNUw2LjcwOTk3IDExLjA1QzYuMTU3NjggMTEuMDUgNS43MDk5NyAxMC42MDIzIDUuNzA5OTcgMTAuMDVDNS43MDk5NyA5LjQ5NzY4IDYuMTU3NjggOS4wNDk5NyA2LjcwOTk3IDkuMDQ5OTdMOS4yNDk5NyA5LjA0OTk3WiIgZmlsbC1ydWxlPSJldmVub2RkIiAgZmlsbD0iIzI5ODZGRiIgPg0KPC9wYXRoPg0KPC9zdmc+DQo="},{type:"end",text:"结束",label:"结束节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}])}function k(){d.value||(u.value.extension.control.addItem({iconClass:"lf-control-clear",title:"clear",text:"清空",onClick:(K,re)=>{K.clearData()}}),u.value.extension.control.addItem({iconClass:"lf-control-save",title:"",text:"保存",onClick:(K,re)=>{let oe=K.getGraphData();v.value.nodes=oe.nodes,v.value.edges=oe.edges,console.log("value.value:",v.value);let Z=l5(v.value);console.log("xmlString.value:",Z);let J={xmlString:Z,id:l.value};CM(J).then(H=>{a.$modal.msgSuccess("保存成功"),H.code===200&&W()})}}))}function C(){u.value.extension.menu.addMenuConfig({nodeMenu:[{text:"属性",callback(K){alert(`
          节点id：${K.id}
          节点类型：${K.type}
          节点坐标：(x: ${K.x}, y: ${K.y})
          文本坐标：(x: ${K.text.x}, y: ${K.text.y})`)}}],edgeMenu:[{text:"属性",callback(K){alert(`
          边id：${K.id}
          边类型：${K.type}
          边坐标：(x: ${K.x}, y: ${K.y})
          文本坐标：(x: ${K.text.x}, y: ${K.text.y})
          源节点id：${K.sourceNodeId}
          目标节点id：${K.targetNodeId}`)}}]})}function N(){u.value.register(jL),u.value.register(ML),u.value.register(kL),u.value.register(TL),u.value.register(CL),u.value.register(IL)}function I(){mp.use(gL),mp.use(mL),mp.use(dL),mp.use(vL)}function G(){const{eventCenter:K}=u.value.graphModel;K.on("node:click",re=>{o.value=re.data,a.$nextTick(()=>{m.value.show()})}),K.on("edge:click",re=>{o.value=re.data;const oe=u.value.getNodeModelById(o.value.sourceNodeId);j.value=oe.type==="serial",a.$nextTick(()=>{m.value.show(oe.nodeType==="serial")})}),K.on("edge:add",re=>{u.value.changeEdgeType(re.data.id,"skip"),u.value.setProperties(re.data.id,{skipType:"PASS"})}),K.on("blank:click",()=>{o.value=null,a.$nextTick(()=>{m.value.handleClose()})})}function W(){const K={path:"/flow/definition",query:{t:Date.now(),pageNum:a.$route.query.pageNum}};a.$tab.closeOpenPage(K)}return S(),(K,re)=>(zr(),Fi("div",f5,[He(i5,{ref_key:"propertySettingRef",ref:m,node:We(o),modelValue:We(h),"onUpdate:modelValue":re[0]||(re[0]=oe=>kp(h)?h.value=oe:null),lf:We(u),disabled:We(d),skipConditionShow:We(j)},vw({_:2},[Ep(K.$slots,(oe,Z)=>({name:Z,fn:Pt(J=>[Kn(K.$slots,Z,gw(mw(J||{})),void 0,!0)])}))]),1032,["node","modelValue","lf","disabled","skipConditionShow"])],512))}}),O5=xb(d5,[["__scopeId","data-v-59093779"]]);export{O5 as default};
